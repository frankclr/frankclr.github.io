<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <script>if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode)) window.location.href="https://support.dmeng.net/upgrade-your-browser.html?referrer="+encodeURIComponent(window.location.href); </script>
    
    
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Regular.woff2" as="font">
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Bold.woff2" as="font">
    
    
    
        <link rel="shortcut icon" href="/icons/favicon.ico">
    

    
    
        
<link rel="stylesheet" href="/css/mdui.min.v1.0.0.css">

    
    
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/iconfont.css">


    
    

    
        <script data-ad-client="ca-" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    












          


    
    
    <title>
        
            Log4j2使用 | Frank&#39;s Blog
        
    </title>
    
    
<meta name="generator" content="Hexo 7.3.0"></head>
<body class="mdui-drawer-body-left mdui-appbar-with-toolbar mdui-theme-primary-teal mdui-theme-accent-blue">
  
  <header class="mdui-appbar mdui-appbar-fixed">
  <div id="toolbar" class="mdui-toolbar mdui-color-theme">
    <button class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#sidebar', swipe: true}"><i class="iconfont icon-menu"></i></button>
    <a href="/" class="mdui-typo-headline">Frank&#39;s Blog</a>
    <a href="/" class="header-subtitle mdui-typo-headline">仅仅记录自己的学习笔记，见证自己的学习轨迹！</a>
    <div class="mdui-toolbar-spacer"></div>
    <button class="mdui-btn mdui-btn-icon" mdui-dialog="{target: '#search'}" mdui-tooltip="{content: 'search'}"><i class="iconfont icon-search"></i></button>
  </div>
</header>

<div class="mdui-dialog" id="search">
  
    <div class="search-form">
      <input type="search" class="search-form-input" placeholder="请输入关键字" onfocus="listenSearchFunc()">
    </div>
    <div class="search-result" data-resource="/search.xml"></div>
  
</div>

  <aside id="sidebar" class="mdui-drawer">
    <div class="mdui-tab" mdui-tab>
        <a href="#sidebar-tab1" id="sidebartab" class="mdui-ripple mdui-tab-active">Overview</a>
        <a href="#sidebar-tab2" id="sidebartab" class="mdui-ripple">About</a>
    </div>

    
    <div id="sidebar-tab1" class="mdui-p-a-1">
        <div class="mdui-list">
            
                
                <a href="/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-home"></i>
                    </div>
                    <div class="mdui-list-item-content">Home</div>
                </a>
            
                
                <a href="/tags/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-bookmark"></i>
                    </div>
                    <div class="mdui-list-item-content">Tags</div>
                </a>
            
                
                <a href="/categories/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-folder"></i>
                    </div>
                    <div class="mdui-list-item-content">Categories</div>
                </a>
            
                
                <a href="/archives/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-archive"></i>
                    </div>
                    <div class="mdui-list-item-content">Archives</div>
                </a>
            
                
                <a href="/tools/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-tools"></i>
                    </div>
                    <div class="mdui-list-item-content">工具箱</div>
                </a>
            
                
                <a href="/about/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-user"></i>
                    </div>
                    <div class="mdui-list-item-content">About</div>
                </a>
            
            <div class="mdui-list-item mdui-ripple">
                <div class="mdui-list-item-icon">
                    <i class="iconfont icon-moon"></i>
                </div>
                <div class="mdui-list-item-content">Night Mode</div>
                <label class="mdui-switch" id="darkmode">
                  <input type="checkbox" id="nightmode_switch"/>
                  <i class="mdui-switch-icon"></i>
                </label>
            </div>           
        </div>
    </div>

    
    <div id="sidebar-tab2" class="mdui-p-a-1">
        <div class="sidebar-overview">
            <div class="sidebar-avatar">
                
                    <img src="/icons/avatar.gif"/>
                
            </div>
            <div class="sidebar-author-name">Frank</div>
            <div class="sidebar-description"></div>
        </div>
        <div class="sidebar-links">
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-mail"></i></span>
                    <a href="mailto:xxx@xxx.com" class="mdui-chip-title">E-Mail</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-github"></i></span>
                    <a target="_blank" rel="noopener" href="https://your.url" class="mdui-chip-title">GitHub</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-steam"></i></span>
                    <a target="_blank" rel="noopener" href="https://your.url" class="mdui-chip-title">Steam</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-weibo"></i></span>
                    <a target="_blank" rel="noopener" href="https://your.url" class="mdui-chip-title">Weibo</a>
                </div>
            
        </div>
        <ul class="mdui-list" mdui-collapse="{accordion: true}">
            <li class="mdui-collapse-item">
                <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-link"></i>
                    </div>
                    <div class="mdui-list-item-content">Links</div>
                    <div class="mdui-collapse-item-arrow">
                        <i class="mdui-list-item-icon iconfont icon-angle-down"></i>
                    </div>
                </div>
                <ul id="linksList" class="mdui-collapse-item-body mdui-list mdui-list-dense">
                    
                        <a target="_blank" rel="noopener" href="https://garybear.cn/hexo-theme-meadow/" class="mdui-list-item mdui-ripple">
                            Meadow说明文档
                        </a>
                    
                </ul>
            </li>
        </ul>
    </div>

    <div class="mdui-divider"></div>
    
    
</aside>
  
  <main id="main-contain" class="mdui-container mdui-m-t-5">
    <article id="article" class="mdui-card mdui-p-b-2 mdui-m-b-5">
  <header class="mdui-card-media">
    
    
      <div class="post-header"> 
  <a class="post-header-title" href="/2025/03/10/Log4j2%E4%BD%BF%E7%94%A8/">Log4j2使用</a>
  <div class="post-header-meta">
    <span>
      <span class="iconfont icon-calendar"></span>
      Posted on:&nbsp;2025-03-10
    </span>
    <span>
      <span class="iconfont icon-calendar-check"></span>
      Edited on:&nbsp;2025-03-10
    </span>
    <span>
      <span class="iconfont icon-folder"></span>
      In:&nbsp;<a class="category-link" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a>
    </span>
    
      <span>
        <span class="iconfont icon-eye"></span>
        Views:&nbsp;
        <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
      </span>
    
  </div>
</div>   
    



    
    
    <div class="mdui-card-menu">
    
      <button class="mdui-btn mdui-btn-icon mdui-text-color-teal" mdui-menu="{target: '#share_menu', align: 'right'}"><i class="iconfont icon-share"></i></button>
      <ul class="mdui-menu" id="share_menu">
        <li class="mdui-menu-item">
          <a href="http://service.weibo.com/share/share.php?appkey=&title=Log4j2使用&url=https://tanxishan.github.io/2025/03/10/Log4j2%E4%BD%BF%E7%94%A8/&pic=https://tanxishan.github.io/null&searchPic=false&style=simple" target="_blank" class="mdui-ripple">Share to Weibo</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://twitter.com/intent/tweet?text=Log4j2使用&url=https://tanxishan.github.io/2025/03/10/Log4j2%E4%BD%BF%E7%94%A8/&via=Frank" target="_blank" class="mdui-ripple">Share to Twitter</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://www.facebook.com/sharer/sharer.php?u=https://tanxishan.github.io/2025/03/10/Log4j2%E4%BD%BF%E7%94%A8/" target="_blank" class="mdui-ripple">Share to Facebook</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://plus.google.com/share?url=https://tanxishan.github.io/2025/03/10/Log4j2%E4%BD%BF%E7%94%A8/" target="_blank" class="mdui-ripple">Share to Google+</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://tanxishan.github.io/2025/03/10/Log4j2%E4%BD%BF%E7%94%A8/&title=Log4j2使用" target="_blank" class="mdui-ripple">Share to LinkedIn</a>
        </li>
        <li class="mdui-menu-item">
          <a href="http://connect.qq.com/widget/shareqq/index.html?site=Frank&#39;s Blog&title=Log4j2使用&summary=&pics=https://tanxishan.github.io/null&url=https://tanxishan.github.io/2025/03/10/Log4j2%E4%BD%BF%E7%94%A8/" target="_blank" class="mdui-ripple">Share to QQ</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://telegram.me/share/url?url=https://tanxishan.github.io/2025/03/10/Log4j2%E4%BD%BF%E7%94%A8/&text=Log4j2使用" target="_blank" class="mdui-ripple">Share to Telegram</a>
        </li>
      </ul>
    
  </div>
  </header>
  
  
  
  
  <div class="post-tags">
    
      <i class="iconfont icon-tag">
        <a rel="tag" href = /tags/Java/ >Java</a>
      </i>
    
  </div>

  
  <div class="mdui-card-content mdui-typo mdui-p-x-4">
    <p>[TOC]</p>
<p>转自 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/antLaddie/p/15904895.html">一文带你彻底掌握 Log4j2</a><br><a target="_blank" rel="noopener" href="https://logging.apache.org/log4j/2.12.x/manual/architecture.html">官方 Architecture</a></p>
<h2 id="配置文件类型及加载顺序"><a href="#配置文件类型及加载顺序" class="headerlink" title="配置文件类型及加载顺序"></a>配置文件类型及加载顺序</h2><h3 id="Log4j2-配置文件的四种方式"><a href="#Log4j2-配置文件的四种方式" class="headerlink" title="Log4j2 配置文件的四种方式"></a><code>Log4j2</code> 配置文件的四种方式</h3><ol>
<li>通过 XML、JSON、YAML 或者 properties 格式的配置文件；</li>
<li>通过创建一个 ConfigurationFactory 和 Configuration 接口的实现</li>
<li>调用 Configuration 接口暴露的方法来在默认配置的基础上添加其他组件</li>
<li>通过在内部 Logger 类上调用方法</li>
</ol>
<p>Log4j2 包含 4 种 ConfigurationFactory 的实现，分别适用于 JSON、YAML、properties 和 XML 配置文件。</p>
<h3 id="在-Log4j2-启动时可以按照以下顺序自动加载配置文件"><a href="#在-Log4j2-启动时可以按照以下顺序自动加载配置文件" class="headerlink" title="在 Log4j2 启动时可以按照以下顺序自动加载配置文件"></a>在 <code>Log4j2</code> 启动时可以按照以下顺序自动加载配置文件</h3><ol>
<li>查找 <code>log4j.configurationFile</code> 系统属性所指定的配置文件名，若该系统属性值存在，就尝试使用相应文件扩展名的 <code>ConfigurationFactory</code><br>来加载指定的配置文件。通过在代码中调用 <code>System.setProperties(&quot;log4j.configurationFile&quot;,&quot;FILE_PATH&quot;)</code> 或者<br>将 <code>-Dlog4jconfigurationFile=file://C:/configuration.xml</code>参数传递给 JVM</li>
<li>若没找到，则<code>properties ConfigurationFactory</code>就在<code>classpath</code>中寻找 <code>log4j2-test.properties</code> 配置文件</li>
<li>若没找到，则<code>YAML ConfigurationFactory</code>就在 <code>classpath</code> 中寻找<code>log4j2-test.yaml</code> 或 <code>log4j2-test.yml</code>配置文件</li>
<li>若没找到，则<code>JSON ConfigurationFactory</code>就在 <code>classpath</code> 中寻找 <code>log4j2-test.json</code> 或 <code>log4j2-test.jsn</code> 配置文件</li>
<li>若没找到，则<code>XML ConfigurationFactory</code> 就在 <code>classpath</code> 中寻找<code>log4j2-test.xml</code>配置文件</li>
<li><strong>若没找到测试配置文件</strong>，则<code>properties ConfigurationFactory</code>就在 <code>classpath</code> 中寻找<code>log4j2.properties</code>配置文件</li>
<li>若没找到，则<code>YAML ConfigurationFactory</code>就在 <code>classpath</code> 中寻找 <code>log4j2.yaml</code> 或 <code>log4j2.yml</code> 配置文件</li>
<li>若没找到，则<code>JSON ConfigurationFactory</code>就在 <code>classpath</code> 中寻找 <code>log4j2.json</code> 或 <code>log4j2.jsn</code> 配置文件</li>
<li>若没找到，则<code>XML ConfigurationFactory</code> 就在 <code>classpath</code> 中寻找 <code>log4j2.xml</code> 配置文件 (生产环境常用)</li>
<li>如果上面的配置文件都没有找到，就使用默认的 <code>DefaultConfiguration</code> 配置</li>
</ol>
<h2 id="Configuration元素配置"><a href="#Configuration元素配置" class="headerlink" title="Configuration元素配置"></a><code>Configuration</code>元素配置</h2><p>Configuration 元素可以使用以下属性</p>
<ul>
<li><code>advertiser</code>： 可选的 <code>Advertiser</code> 插件名，用来通知个别 <code>FileAppender</code>或 <code>SocketAppender</code> 的配置。目前唯一可用 <code>Advertiser</code> 名为<code>multicastdns</code></li>
<li><code>dest</code>：<code>err</code> （将输出到 <code>stderr</code> 上）或一个文件路径或一个<code>URL</code>；</li>
<li><code>monitorInterval</code>： 检查配置文件是否有更新的间隔秒数；</li>
<li><code>name</code>： 配置的名称；</li>
<li><code>packages</code>： 逗号分隔的用于搜索插件的包名列表。插件只会被每个类加载器加载一次，所以仅重新配置该项不会生效；</li>
<li><code>schema</code>： 为类加载器定位<code>XML Schema</code>位置以验证配置。仅当<code>strict</code>属性设置为<code>true</code>时该属性才有效，如果不设置该属性，则不会验证<code>Schema</code></li>
<li><code>shutdownHook</code>： 设置当 <code>JVM</code> 关闭时 <code>log4j</code> 是否也自动关闭。默认是启用的，也可以设置该属性为 <code>disable</code> 来禁用该关闭钩子；</li>
<li><code>shutdownTimeout</code>： 设置当 <code>JVM</code> 关闭后 <code>Appender</code> 和后台任务超时多少毫秒才关闭。默认为<code>0</code>，表示每个<code>Appender</code>使用其默认的超时，不等待后台任务。<br>这仅是个提示，而不能保证关闭进程不会花费更长的时间。将该值设置过小可能增加日志事件在还未输出到最终位置之前就丢失的风险。<br>如果 <code>shutdownHook</code> 属性未设置，那么将不会使用该属性；</li>
<li><code>status</code>： 应该打印到控制台的内部 <code>Log4j</code> 日志事件的级别，可设置的值有 <code>trace</code>、<code>debug</code>、<code>info</code>、<code>warn</code>、<code>error</code> 和 <code>fatal</code>，<code>Log4j</code> 将会打印出内部初始化等事件的详细信息（在发现配置文件之后）。设置该属性为 <code>trace</code> 是查找 <code>Log4j</code> 故障的第一手工具。也可以通过设置 <code>log4j2.debug</code> 系统属性来输出 <code>Log4j</code> 内部日志，包括配置文件加载前的内部日志（从 <code>log4j 2.9</code> 开始）</li>
<li><code>strict</code>： 使用严格的 <code>XML</code> 格式， <code>JSON</code> 格式的配置文件不支持该属性</li>
<li><code>verbose</code>： 加载插件时是否显示诊断信息</li>
</ul>
<h2 id="Appenders配置"><a href="#Appenders配置" class="headerlink" title="Appenders配置"></a><code>Appenders</code>配置</h2><p><code>Log4j</code>使用<code>Appender</code>将日志事件数据写到各种目标位置（目前可以为控制台、文件、多种数据库 <code>API</code>、远程套接字服务器、<code>Apache Flume</code>、<code>JMS</code>、远程 <code>UNIX Syslog daemon</code>）。</p>
<p>在大多数情况下，<code>Appender</code>将格式化事件的责任委托给<code>Layout</code>。一些<code>Appender</code>包装其它<code>Appender</code>，以便它们可以修改<code>LogEvent</code>、处理<code>Appender</code>中的失败、根据高级筛选条件将事件路由到下级<code>Appender</code>，或者提供不直接格式化事件的类似功能。</p>
<p><code>Appender</code>可以通过特定的<code>Appender</code>插件名或<code>appender</code>元素（带有指定<code>Appender</code>插件名的<code>type</code>属性）来配置。另外每个<code>Appender</code>都必须要有一个<code>name</code>属性，用来指定一个去别区其它<code>Appender</code>的唯一标识，该标识的值在<code>Logger</code>中通过<code>AppenderRef</code>来引用，从而将该<code>Appender</code>配置到该 <code>Logger</code> 中。</p>
<p>每个<code>Appender</code>都必须实现<code>Appender</code>接口，多数<code>Appender</code>都扩展自<code>AbstractAppender</code>，该抽象类添加了<code>Lifecycle</code>和<code>Filterable</code>支持。<code>Lifecycle</code>可以对日志组件在配置加载后进行初始化和在关闭时进行清理等操作。<code>Filterable</code>可以让日志组件绑定用于处理日志事件的过滤器。代表不同目标位置的各种<code>Appender</code>也具有其功能所需的其他属性和子元素。这里选择常用的<code>Appender</code>加以介绍。</p>
<h3 id="1-ConsoleAppender控制台输出"><a href="#1-ConsoleAppender控制台输出" class="headerlink" title="1. ConsoleAppender控制台输出"></a>1. <code>ConsoleAppender</code>控制台输出</h3><p><code>ConsoleAppender</code>会将输出写入<code>System.out</code>（默认目标位置）或 <code>System.err</code> 中。必须提供一个 <code>Layout</code> 来格式化<code>LogEvent</code></p>
<p>参数名（类型）：介绍说明</p>
<ul>
<li><code>filter（Filter）</code>： 指定一个过滤器来决定是否将日志事件传递给<code>Appender</code>处理。可以指定为一个<code>CompositeFilter</code>来使用多个过滤器。</li>
<li><code>layout（Layout）</code>： 指定格式化<code>LogEvent</code>的<code>Layout</code>。如果没有指定<code>Layout</code>，则默认使用 <code>%m%n</code> 格式。</li>
<li><code>follow（boolean）</code>： 在配置好之后，是否可以通过 <code>System.setOut</code> 或 <code>System.setErr</code>来重新指定输出位置为 <code>System.out</code>或 <code>System.err</code>。 不能在 <code>Windows</code> 下用于 <code>Jansi</code>，也不能和<code>direct</code>属性一起使用。</li>
<li><code>direct（boolean）</code>： 绕开<code>java.lang.System.out/.err</code>直接写入<code>java.io.FileDescriptor</code>。当输出重定向到文件或其他目标时可以节约 10 倍的性能消耗。不能在<code>Windows</code>下用于 <code>Jansi</code>，也性不能和 <code>follow</code> 属性一起使用。在多线程应用中，输出不会遵循 <code>java.lang.System.setOut()/.setErr()</code> ，而是可能会和其他输出纠缠在一起输出到 <code>java.lang.System.out/.err</code>。该属性是 <code>2.6.2</code> 版本新增的，目前仅在<code>Linux</code>和<code>Windows</code>下的<code>Oracle JVM</code>环境中测试过。</li>
<li><code>name（String）</code>： 必选的 <code>Appender</code> 的名称，表示区别于其他 <code>Appender</code> 的唯一标识。</li>
<li><code>ignoreExceptions（boolean）</code>： 默认为 <code>true</code>，表示当输出事件时出现的异常将会被内部记录而忽略。 当设置为 <code>false</code> 时，则会将异常传播给调用者。 当将该 <code>Appender</code> 包装成 <code>FailoverAppender</code> 时，必须设置为 <code>false</code>。</li>
<li><code>target（String）</code>： <code>SYSTEM_OUT</code> 或 <code>SYSTEM_ERR</code>。默认为 <code>SYSTEM_OUT</code>。</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Configuration</span> <span class="attr">status</span>=<span class="string">&quot;error&quot;</span> <span class="attr">monitorInterval</span>=<span class="string">&quot;30&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;myPattern&quot;</span> <span class="attr">value</span>=<span class="string">&quot;%d&#123;HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Appenders</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">&quot;ConsoleAppend&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_ERR&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;$&#123;myPattern&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Appenders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Loggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Root</span> <span class="attr">level</span>=<span class="string">&quot;WARN&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;ConsoleAppend&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>日志输出</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">16:42:41.556 [main] FATAL cn.xw.Log4j2Demo -  严重错误，一般造成系统崩溃并终止运行</span><br><span class="line">16:42:41.559 [main] ERROR cn.xw.Log4j2Demo -  错误信息，不会影响系统运行</span><br><span class="line">16:42:41.559 [main] WARN  cn.xw.Log4j2Demo -  警告信息，可能会发生问题</span><br></pre></td></tr></table></figure>

<h3 id="2-RollingFileAppender-文件输出"><a href="#2-RollingFileAppender-文件输出" class="headerlink" title="2. RollingFileAppender 文件输出"></a>2. <code>RollingFileAppender</code> 文件输出</h3><p><code>RollingFileAppender</code> 会将输出到 <code>fileName</code> 参数指定的文件中，且需要指定 <code>TriggeringPolicy</code> 和 <code>RolloverStrategy</code>。其中 <code>TriggeringPolicy</code> 决定是否生成新的日志文件，<code>RolloverStrategy</code> 决定如何生成新的日志文件。如果没有配置 <code>RolloverStrategy</code>，则会使用 <code>DefaultRolloverStrategy</code>。从<code>Log4j 2.5</code>开始，可以在 <code>DefaultRolloverStrategy</code> 中配置一个自定义的删除动作。从 <code>Log4j2.8</code>开始，如果没有指定文件名，则会使用 <code>DirectWriteRolloverStrategy</code> 来代替 <code>DefaultRolloverStrategy</code>。从 <code>Log4j 2.9</code> 开始，可以在 <code>DefaultRolloverStrategy</code> 中配置一个自定义的 <code>POSIX</code> 文件属性查看动作，如果没有定义该动作，则将会使用从 <code>RollingFileAppender</code> 继承的<code>POSIX</code>。**_<code>RollingFileAppender</code> 不支持文件锁_**。</p>
<p>参数名（类型）：介绍说明</p>
<ul>
<li><code>append（boolean）</code>： 当为 <code>true</code>（默认）时，日志记录将会添加到文件末尾。设置为 <code>false</code> 时，日志记录写入文件之前会清空文件。</li>
<li><code>bufferedIO（boolean）</code>： 当为 <code>true</code>（默认）时，日志记录将会写入一个缓冲区，当缓冲区满或设置了 <code>immediateFlush</code>，日志记录才会写入磁盘中。 该属性不能使用文件锁。缓冲 <code>I/O</code> 能够显著提高性能，即使启用了 <code>immediateFlush</code>。</li>
<li><code>immediateFlush（boolean）</code>： 当为 <code>true</code>（默认）时，每次写入都会跟随一次 <code>flush</code> 。这将保证数据写入磁盘，但会影响性能。仅当使用异步 <code>Logger</code> 的 <code>Appender</code> 时设置每次写入都进行 <code>flush</code> 才有用。异步的 <code>Logger</code> 和 <code>Appender</code> 会在一批次的日志事件末尾自动 <code>flush</code> ，即使该属性设置为 <code>false</code> ，这种方式也可以保证数据写入磁盘，但是更有效率。</li>
<li><code>bufferSize（int）</code>： 当 <code>bufferedIO</code> 为 <code>true</code> 时，该属性用来设置缓冲区的大小，默认为 <code>8192</code> 字节。</li>
<li><code>createOnDemand（boolean）</code>： <code>Appender</code> 是按需（<code>on-demand</code>）创建文件的。仅当日志事件通过所有过滤器并到达 <code>Appender</code> 时，该 <code>Appender</code> 才会创建文件。默认为 <code>false</code>。</li>
<li><code>filter（Filter）</code>： 指定一个过滤器来决定是否将日志事件传递给 <code>Appender</code> 处理。可以指定为一个 <code>CompositeFilter</code> 来使用多个过滤器。</li>
<li><code>fileName（String）</code>： 设置写入日志记录的文件名。如果该文件或其父目录不存在，则会自动创建。</li>
<li><code>filePattern（String）</code>： 归档日志文件的文件名模式（<code>pattern</code>）。该模式依赖于所用的 <code>RolloverPolicy</code> 。<code>DefaultRolloverPolicy</code> 可以接受兼容<br><code>SimpleDateFormat</code> 的日期&#x2F;时间或表示一个整数的计数器的 <code>%i</code> 。该模式也支持运行时插入值（<code>interpolation</code>），故任何 <code>Lookup</code>（比如 <code>DateLookup</code>）都可以包含该模式。</li>
<li><code>layout（Layout）</code>： 指定格式化 <code>LogEvent</code> 的 <code>Layout</code> 。如果没有指定 <code>Layout</code> ，则默认使用 <code>%m%n</code> 格式。</li>
<li><code>name（String）</code>： 必选的 <code>Appender</code> 的名称，表示区别于其他 <code>Appender</code> 的唯一标识。</li>
<li><code>policy（TriggeringPolicy）</code>： 设置确定是否创建文件的规则（<code>policy</code>）。</li>
<li><code>strategy（RolloverStrategy）</code>： 设置确定归档文件的文件名和位置的策略（<code>strategy</code>）。</li>
<li><code>ignoreExceptions（boolean）</code>： 默认为 <code>true</code> ，表示当输出事件时出现的异常将会被内部记录而忽略。 当设置为 <code>false</code> 时，则会将异常传播给调用者。当将该 <code>Appender</code> 包装成 <code>FailoverAppender</code> 时，必须设置为 <code>false</code>。</li>
<li><code>filePermissions（String）</code>： 设置每当创建文件时所用的 <code>POSIX</code> 格式的文件属性权限。底层文件系统应该支持 <code>POSIX</code> 格式的文件属性视图。 比如： <code>rw-------</code> 或 <code>rw-rw-rw-</code> 等。</li>
<li><code>fileOwner（String）</code>： 指定每次创建文件的属主。由于权限原因，可能不允许更改文件属主，这时会抛出 <code>IOException</code> 。仅当有效的目标用户 <code>ID</code> 和文件的用户 <code>ID</code> 相同，或目标用户 <code>ID</code> 具有修改文件属主的权限（如果 <code>_POSIX_CHOWN_RESTRICTED</code> 在日志文件路径下有效）时才会处理。底层文件系统应该支持 <code>owner</code> 文件属性视图。</li>
<li><code>fileGroup（String）</code>： 指定每次创建文件的属组。底层文件系统应该支持 <code>POSIX</code> 格式的文件属性视图。</li>
</ul>
<h4 id="组合触发规则"><a href="#组合触发规则" class="headerlink" title="组合触发规则"></a>组合触发规则</h4><p><code>CompositeTriggeringPolicy</code> 组合了多个触发规则（<code>policy</code>），如果配置的任意规则返回 <code>true</code> 时，<br>则 <code>CompositeTriggeringPolicy</code> 也返回 <code>true</code>，也发生了触发。<code>CompositeTriggeringPolicy</code> 通过将其规则包装进 <code>Policies</code> 元素即可配置。</p>
<p>下面 <code>XML</code> 片段定义了一个日志滚动规则：当 <code>JVM</code> 启动时、日志文件大小达到 20MB 且当前日期不再匹配日志开始日期时就滚动日志</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 打印到日志文件上并拆分归档 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Appenders</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">RollingFile</span> <span class="attr">name</span>=<span class="string">&quot;rollingFile&quot;</span> <span class="attr">fileName</span>=<span class="string">&quot;$&#123;dir_url&#125;/rollFileLog.log&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">filePattern</span>=<span class="string">&quot;$&#123;dir_url&#125;/$$&#123;date:yyyy_MM_dd&#125;/appLog_%d&#123;yyyy_MM_dd_HH_mm_ss&#125;_%i.log.gz&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;[%-5level] %d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %m%n&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">OnStartupTriggeringPolicy</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">&quot;2MB&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--当前日志文件夹下的归档的文件个数，此时为2个文件，超出则覆盖之前文件，默认7--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">DefaultRolloverStrategy</span> <span class="attr">max</span>=<span class="string">&quot;4&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">RollingFile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Appenders</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>启动触发规则： <code>OnStartupTriggeringPolicy</code> 在日志文件比当前 <code>JVM</code> 启动时间较早时进行日志滚动，同时遵循下面的 <code>minSize</code>属性规则。 <code>OnStartupTriggeringPolicy</code> 属性如下表所示：<br><code>minSize（long）</code>： 日志文件滚动的最小字节。大小为 <code>0</code> 表示不管文件大小为多少字节都滚动。默认值 <code>1</code> 将阻止对空文件进行滚动。</li>
<li>基于文件大小的触发规则： <code>SizeBasedTriggeringPolicy</code> 在文件字节达到指定的大小时进行日志滚动。文件大小可以使用<code>KB</code>、<code>MB</code>、<code>GB</code>等后缀</li>
<li>基于时间的触发规则：<code>TimeBasedTriggeringPolicy</code> 只要<strong>日期&#x2F;时间</strong>模式（<code>pattern</code>）不再应用于当前文件时就进行日志滚动。这种规则通过 <code>interval</code> 和 <code>modulate</code> 属性来配置。<br><code>TimeBasedTriggeringPolicy</code> 属性如下表所示：<ul>
<li><code>interval（integer）</code>：基于日期&#x2F;时间模式中的最小的时间单位多久滚动一次。例如，<code>filePattern</code> 参数中使用使用小时作为最小的时间单位时（比如 <code>/appData/logs/myApp/$$&#123;date:yyyy-MM-dd&#125;/myApp-%d&#123;yyyy-MM-dd HH&#125;-%i.log</code>），该参数值为 <code>4</code>，则表示每 <code>4</code> 小时滚动一次。默认值为 <code>1</code> 。</li>
<li><code>modulate（boolean）</code>：是否调整 <code>interval</code> 属性值，以便下次滚动发生在 <code>interval</code> 边界处。例如，如果时间单位为小时，当前时间为早上 <code>3</code> 点，间隔为 <code>4</code> 小时，则第一次滚动将发生在早上 <code>4</code> 点时（而不是早上 <code>7</code>点），后续滚动将发生在 早上 <code>8</code> 点、中午 <code>12</code> 点、下午 <code>4</code> 点等时刻。</li>
<li><code>maxRandomDelay（integer）</code>：滚动操作随机延迟的最长秒数。默认 <code>0</code> 表示无延迟。该设置在有多个应用同时滚动日志的服务器上很有用，可以扩宽滚动日志的的负载时间范围，避免某一个时刻由于滚动日志造成高 <code>I/O</code> 压力。</li>
</ul>
</li>
<li><code>Cron</code> 触发规则：<code>CronTriggeringPolicy</code> 基于 <code>cron</code> 表达式来滚动日志。<code>CronTriggeringPolicy</code> 属性如下表所示：<ul>
<li><code>schedule（String）</code>：和 <code>Quartz</code> 调度器一样的 <code>cron</code> 表达式。参考 <code>CronExpression</code> 来查看关于该表达式的详细描述。</li>
<li><code>evaluateOnStartup（boolean）</code>：在启动时，该 <code>cron</code> 表达式将基于文件的上次修改时间戳来求值。</li>
</ul>
</li>
</ul>
<h5 id="滚动策略"><a href="#滚动策略" class="headerlink" title="滚动策略"></a>滚动策略</h5><h5 id="默认滚动规则"><a href="#默认滚动规则" class="headerlink" title="默认滚动规则"></a>默认滚动规则</h5><p><code>DefaultRolloverStrategy</code> 使用一种基于时间和固定窗口（<code>fixed window</code>，窗口在这里的意思大致是对数量的限制，参考 <code>TCP</code> 中的 <code>Window Scale</code> 概念）的组合策略。如果配置了时间模式，那么将会使用时间间隔来计算用于 <code>filePattern</code> 参数值的时间。如果文件模式还包含了一个整数替换符，那么在时间模式的匹配结果改变之前，该整数值将会在每次滚动时递增。以 <code>.gz</code>、<code>.zip</code>、<code>.bz2</code>、<code>deflate</code>、<code>pack200</code> 或 <code>xz</code>，则最终归档文件将以后缀对应的格式进行压缩。<code>bzip2</code>、<code>Deflate</code>、<code>Pack200</code> 和 <code>XZ</code> 需要 <code>Apache Commons compress</code>。另外，<code>XZ</code> 需要 <code>XZ for Java</code>。</p>
<p><code>DefaultRolloverStrategy</code> 参数如下表所示：</p>
<ul>
<li><code>fileIndex（String）</code>：如果设置为 <code>max</code>（默认），则具有更大索引的文件比具有更小索引的文件内容更新。如果设置为 <code>min</code>，文件将重命名且计数器将遵循前面介绍的 <code>Fixed Window</code> 策略。</li>
<li><code>min（Integer）</code>：计数器的最小值，默认为 <code>1</code>。</li>
<li><code>max（Integer）</code>：计数器的最大值。一旦计数器达到了最大值，最早的归档将会在每次滚动时被删除。默认值为 <code>7</code>。</li>
<li><code>compressionLevel（Integer）</code>：设置压缩级别，<code>0 - 9</code>。<code>0 = none</code>，<code>1 = best speed</code>，<code>9 = best compression</code>。仅应用于 <code>ZIP</code> 文件。</li>
<li><code>tempCompressedFilePattern（String）</code>：压缩时归档文件的文件名模式。</li>
</ul>
<p>默认的滚动策略支持三种递增计数器。为了演示 <code>Fixed Window</code> 策略是如何工作的，这里假定 <code>min</code> 属设置为 <code>1</code>，<code>max</code> 属性设置为 <code>3</code>，文件名为 <code>foo.log</code>，文件名模式为 <code>foo-%i.log</code><br><code>0~4</code>：滚动数<br><code>foo.log</code>：当前目标文件<br><code>foo-1.log</code>, <code>foo-2.log</code>, <code>foo-3.log</code> 归档文件</p>
<p>0 foo.log -<br>所有日志都写入初始文件。<br>1 foo.log foo-1.log<br>第一次滚动时，foo.log 文件重命名为 foo-1.log，创建一个新的 foo.log 文件来开始写入日志<br>2 foo.log foo-1.log, foo-2.log<br>第二次滚动时，foo-1.log 文件重命名为 foo-2.log，foo.log 文件重命名为 foo-1.log，创建一个新的 foo.log 文件来开始写入日志<br>3 foo.log foo-1.log, foo-2.log, foo-3.log<br>第三次滚动时，foo-2.log 文件重命名为 foo-3.log，foo-1.log 文件重命名为 foo-2.log，创建一个新的 foo.log 文件来开始写入日志<br>4 foo.log foo-1.log, foo-2.log, foo-3.log<br>在第四次以及后续的滚动时，foo-3.log 会被删除，foo-2.log 重命名为 foo-3.log，foo-1.log 重命名为 foo-2.log，<br>创建一个新的 foo.log 文件来开始写入日志。<br>作为对比，<code>fileIndex</code> 属性设置为 <code>max</code>，而所有其他设置和上面都一样。<br>0 foo.log -<br>所有日志都写入初始文件。<br>1 foo.log foo-1.log<br>第一次滚动时，foo.log 文件重命名为 foo-1.log，创建一个新的 foo.log 文件来开始写入日志。<br>2 foo.log foo-1.log, foo-2.log<br>第二次滚动时，foo.log 文件重命名为 foo-2.log，创建一个新的 foo.log 文件来开始写入日志。<br>3 foo.log foo-1.log, foo-2.log, foo-3.log<br>第二次滚动时，foo.log 文件重命名为 foo-3.log，创建一个新的 foo.log 文件来开始写入日志。<br>4 foo.log foo-1.log, foo-2.log, foo-3.log<br>在第四次以及后续的滚动时，foo-1.log 会被删除，foo-2.log 重命名为 foo-1.log，foo-3.log<br>重命名为 foo-2.log，创建一个新的 foo.log 文件来开始写入日志。可以将 max 属性设置为一个很大的值来避免重名批量文件。<br>上面两种方式都有可能导致批量重命名日志文件，但自 2.8 版本开始，如果 fileIndex 属性设置为 nomax，则 min 和 max 属性值都将会被忽略，文件编号将每次递增 1，每次滚动都会递增到更大的值，且有最大文件编号的限制。</p>
<h5 id="直接滚动规则"><a href="#直接滚动规则" class="headerlink" title="直接滚动规则"></a>直接滚动规则</h5><p><code>DirectWriteRolloverStrategy</code> 将日志事件直接写入 <code>filePattern</code> 参数值表示的文件。该策略不进行文件重命名。如果基于大小的触发规则要在特定时间段内写入多个文件，这些文件编号将从1开始持续递增，直到出现基于时间的滚动。</p>

  </div>
  <!--文末结束语-->
  
    <div style="text-align:center;color: #ccc;font-size:24px;"> --- The End --- </div>
  
  <!--页脚广告-->
  
  <div class="mdui-divider"></div>
  
  <nav>
    
      <a rel="prev" class="post-nav-item mdui-float-left" href="/2025/03/15/%E5%A4%9A%E7%89%88%E6%9C%ACJar/">
        <i class="iconfont icon-angle-left"></i>
        <span>多版本Jar</span>
      </a>
    
    
      <a rel="next" class="post-nav-item mdui-float-right" href="/2025/03/04/Docker%E8%BF%90%E8%A1%8CNexus/">
        <span>Docker运行Nexus</span>
        <i class="iconfont icon-angle-right"></i>
      </a>
    
  </nav>
</article>




  <div class="toc-button"  style="z-index: 100;">
    <button class="mdui-fab mdui-ripple mdui-color-teal" mdui-menu="{target: '#toc'}"><i class="iconfont icon-list"></i></button>
    <ul class="mdui-menu" id="toc">
      <li class="mdui-menu-item">
        <a href="/2025/03/10/Log4j2%E4%BD%BF%E7%94%A8/" id="toc-header" class="mdui-ripple">Table of Contents</a>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E5%8F%8A%E5%8A%A0%E8%BD%BD%E9%A1%BA%E5%BA%8F"><span class="toc-number">1.</span> <span class="toc-text">配置文件类型及加载顺序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Log4j2-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">1.1.</span> <span class="toc-text">Log4j2 配置文件的四种方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8-Log4j2-%E5%90%AF%E5%8A%A8%E6%97%B6%E5%8F%AF%E4%BB%A5%E6%8C%89%E7%85%A7%E4%BB%A5%E4%B8%8B%E9%A1%BA%E5%BA%8F%E8%87%AA%E5%8A%A8%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.</span> <span class="toc-text">在 Log4j2 启动时可以按照以下顺序自动加载配置文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Configuration%E5%85%83%E7%B4%A0%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text">Configuration元素配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Appenders%E9%85%8D%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text">Appenders配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-ConsoleAppender%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA"><span class="toc-number">3.1.</span> <span class="toc-text">1. ConsoleAppender控制台输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-RollingFileAppender-%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA"><span class="toc-number">3.2.</span> <span class="toc-text">2. RollingFileAppender 文件输出</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E8%A7%A6%E5%8F%91%E8%A7%84%E5%88%99"><span class="toc-number">3.2.1.</span> <span class="toc-text">组合触发规则</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BB%9A%E5%8A%A8%E7%AD%96%E7%95%A5"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">滚动策略</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%BB%9A%E5%8A%A8%E8%A7%84%E5%88%99"><span class="toc-number">3.2.1.2.</span> <span class="toc-text">默认滚动规则</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E6%BB%9A%E5%8A%A8%E8%A7%84%E5%88%99"><span class="toc-number">3.2.1.3.</span> <span class="toc-text">直接滚动规则</span></a></li></ol></li></ol></li></ol></li></ol>
      </li>
    </ul>
  </div>



  </main>
  <footer id="footer" class="mdui-text-center mdui-m-t-5 mdui-p-b-2 mdui-p-t-4 mdui-color-theme">
  <div class="mdui-container">
    <div class="mdui-row">
      
      <span>
        &copy; 2024 - 2025 
        
        Frank
      </span>
    </div>
    <div class="mdui-row">
      
    </div>
    <div class="mdui-row">
      
        <div class="mdui-col-xs-6 mdui-text-right">
          <span id="busuanzi_container_site_uv" style="display: none;"> <span class="iconfont icon-user"></span>Total Visitors <span id="busuanzi_value_site_uv"></span></span>
        </div>
        <div class="mdui-col-xs-6 mdui-text-left">
          <span id="busuanzi_container_site_pv" style="display: none;"> <span class="iconfont icon-eye"></span>Total Views <span id="busuanzi_value_site_pv"></span></span>
        </div>
      
    </div>
 </div>
</footer>
  
  <button id="gotop" class="mdui-fab mdui-fab-fixed mdui-fab-hide mdui-ripple mdui-color-teal" style="z-index:100;"><i class="iconfont icon-arrowup"></i></button>
  
  

    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({
        startOnLoad: true,
        theme: "default"
    });</script>




    
<script src="/js/mdui.min.v1.0.0.js"></script>




<script src="/js/meadow.js"></script>

</body>
</html >