<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>FreeBSDä½¿ç”¨</title>
    <url>/2025/02/15/FreeBSD%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>åˆ‡æ¢å›½å†…æº</p>
<p><a href="https://book.bsdcn.org/di-3-zhang-bao-guan-li-qi-ji-freebsd-geng-xin-yu-sheng-ji/di-3.2-jie-freebsd-huan-yuan-fang-shi">FreeBSD æ¢æºæ–¹å¼</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frank@freebsd:~ % su</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mkdir</span> -p /usr/local/etc/pkg/repos</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vi /usr/local/etc/pkg/repos/ustc.conf</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ustc: &#123;</span><br><span class="line">  url: &quot;http://mirrors.ustc.edu.cn/freebsd-pkg/$&#123;ABI&#125;/quarterly&quot;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">FreeBSD: &#123; enabled: no &#125;</span><br></pre></td></tr></table></figure>

<p>NJU å’Œ 163 å‡åŒæ­¥è‡ª USTC è€Œé FreeBSD ç›´æ¥ä¸Šæ¸¸ã€‚</p>
<p>å®‰è£…é…ç½®sudo</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pkg install  <span class="built_in">sudo</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">visudo</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">%wheel ALL=(ALL:ALL) NOPASSWD: ALL</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">frank@freebsd:~ % sudo pkg install zsh curl git</span><br><span class="line">frank@freebsd:~ % zsh</span><br><span class="line">frank@freebsd:~ % export all_proxy=http://192.168.1.3:10810</span><br><span class="line">frank@freebsd:~ % sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®ä¸­æ–‡</p>
<p>ä¸åŒçš„shellè¦æ”¹ä¸åŒçš„é…ç½®æ–‡ä»¶</p>
<p>é»˜è®¤ tcsh ç»ˆç«¯ï¼š</p>
<p>åªéœ€åœ¨ <code>~/.cshrc</code> æ–‡ä»¶æ·»åŠ ä»¥ä¸‹å‡ è¡Œå³å¯ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">setenv LANG         zh_CN.UTF-8</span><br><span class="line">setenv LC_CTYPE     zh_CN.UTF-8</span><br><span class="line">setenv LC_ALL       zh_CN.UTF-8</span><br></pre></td></tr></table></figure>

<p>bash&#x2F;zshç»ˆç«¯ï¼š</p>
<p>ä¸ºäº†æ”¯æŒä¸­æ–‡æ˜¾ç¤ºï¼Œå¯ä»¥åœ¨ <code>~/.zshrc</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export LANG=zh_CN.UTF-8</span><br><span class="line">export LC_CTYPE=zh_CN.UTF-8</span><br><span class="line">export LC_ALL=zh_CN.UTF-8</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>FreeBSD</tag>
      </tags>
  </entry>
  <entry>
    <title>IDEAä½¿ç”¨WSLç¯å¢ƒçš„Mavenæ„å»º</title>
    <url>/2025/02/21/IDEA%E4%BD%BF%E7%94%A8WSL%E7%8E%AF%E5%A2%83%E7%9A%84Maven%E6%9E%84%E5%BB%BA/</url>
    <content><![CDATA[<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£… JDK</span></span><br><span class="line">sdk install java  21.0.6-librca</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£… maven</span></span><br><span class="line">sdk install maven 3.9.9</span><br><span class="line">cp /mnt/c/User/FRANK/.m2/settings.xml ~/.m2/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…arthas</span></span><br><span class="line">curl -O https://arthas.aliyun.com/arthas-boot.jar</span><br></pre></td></tr></table></figure>

<p>è®¾ç½® IDEA çš„æ„å»ºå·¥å…· Maven çš„ä¸»è·¯å¾„ä¸º <code>\\wsl.localhost\Debian\home\frank\.sdkman\candidates\maven\3.9.9</code>,ä¸èƒ½è®¾ç½®ä¸º Linux çš„é“¾æ¥æ¥ç›®å½• <code>\\wsl.localhost\Debian\home\frank\.sdkman\candidates\maven\current</code><br><strong>ä¼¼ä¹ç¬¬ä¸€æ¬¡è®¾ç½®åéœ€è¦é‡å¯IDEAæ‰èƒ½æ­£å¸¸ä½¿ç”¨</strong></p>
<p>æ„å»º</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">/home/frank/.sdkman/candidates/maven/3.9.9/bin/mvn -Dmaven.ext.class.path=/mnt/d/Java/IdeaIU/plugins/maven/lib/maven-event-listener.jar -DskipTests=true clean --errors -T 6</span><br><span class="line">[INFO] Error stacktraces are turned on.</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œ Java ç¨‹åº</p>
<p>åœ¨<code>pom.xml</code>æ·»åŠ </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;build&gt;</span><br><span class="line">    &lt;plugins&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">            &lt;!-- &lt;version&gt;3.1.0&lt;/version&gt; --&gt;</span><br><span class="line">            &lt;configuration&gt;</span><br><span class="line">                &lt;mainClass&gt;org.frank.Main&lt;/mainClass&gt;</span><br><span class="line">            &lt;/configuration&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">    &lt;/plugins&gt;</span><br><span class="line">&lt;/build&gt;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ<code>mvn package</code>åï¼Œ<code>æ’ä»¶</code> â€“&gt; <code>exec</code> â€“&gt; <code>exec:java</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">/home/frank/.sdkman/candidates/maven/3.9.9/bin/mvn -Dmaven.ext.class.path=/mnt/d/Java/IdeaIU/plugins/maven/lib/maven-event-listener.jar -DskipTests=true org.codehaus.mojo:exec-maven-plugin:3.5.0:java --errors -T 6</span><br><span class="line">[INFO] Error stacktraces are turned on.</span><br><span class="line">[INFO] Scanning for projects...</span><br></pre></td></tr></table></figure>

<p>IDEAåœ¨<code>Main.java</code>è¿è¡Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">/home/frank/.sdkman/candidates/java/21.0.6-librca/bin/java -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /home/frank/java/design-pattern/dp01-singleton/target/classes org.frank.Main</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>IDEAè¿è¡ŒåŒæ ·ä»£ç å¤šæ¬¡åæŒ‚èµ·</title>
    <url>/2025/02/22/IDEA%E8%BF%90%E8%A1%8C%E5%90%8C%E6%A0%B7%E4%BB%A3%E7%A0%81%E5%A4%9A%E6%AC%A1%E5%90%8E%E6%8C%82%E8%B5%B7/</url>
    <content><![CDATA[<p>IDEA åœ¨è¿è¡ŒåŒæ ·çš„ä»£ç å¤šæ¬¡(11-20æ¬¡)åï¼Œ<code>è¿è¡Œ</code> æŒ‰é’®ä¸€ç›´æŒ‚èµ·, å¯ä»¥è®¾ç½® <code>Main Menu</code> â€“&gt; <code>Help</code> â€“&gt; <code>Find Action</code>(å¿«æ·é”®<code>Ctrl + Shift + A</code>) â€“&gt; <code>è¾“å…¥ &quot;Registry...&quot;</code> â€“&gt; <code>ç¦ç”¨&quot;profiler.widget.in.run.console&quot;</code></p>
<p><a href="https://youtrack.jetbrains.com/issue/IDEA-363384/IDE-hangs-after-running-same-Java-code-several-times-Run-button-shows-a-spinner-forever">IDE hangs after running same Java code several times; Run button shows a spinner forever</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>LMDEå®‰è£…xrdp</title>
    <url>/2025/02/19/LMDE%E5%AE%89%E8%A3%85xrdp/</url>
    <content><![CDATA[<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install xrdp xorgxrdp -y</span><br><span class="line">echo env -u SESSION_MANAGER -u DBUS_SESSION_BUS_ADDRESS cinnamon-session&gt;~/.xsession</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>WSLä½¿ç”¨</title>
    <url>/2025/02/20/WSL%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>BUGå¤ªå¤šï¼Œæ…ç”¨â€”å¯¹äºè¿™ç§æ›´æ–°å¿«çš„è½¯ä»¶ï¼Œä½¿ç”¨å®ƒæˆç†Ÿçš„åŠŸèƒ½ï¼Œä¸è¦æŠ˜è…¾ï¼Œå¤ªæµªè´¹æ—¶é—´ï¼Œé™¤éè¦å¼€å‘å®ƒ.</p>
<h2 id="å¯ç”¨WSL"><a href="#å¯ç”¨WSL" class="headerlink" title="å¯ç”¨WSL"></a>å¯ç”¨WSL</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</span><br><span class="line">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</span><br></pre></td></tr></table></figure>

<h2 id="WSLé…ç½®"><a href="#WSLé…ç½®" class="headerlink" title="WSLé…ç½®"></a>WSLé…ç½®</h2><p>å…¨å±€é…ç½® <code>%UserProfile%\.wslconfig</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[wsl2]</span><br><span class="line">memory=12GB</span><br><span class="line">networkingMode=mirrored</span><br><span class="line"></span><br><span class="line">[experimental]</span><br><span class="line">autoMemoryReclaim=gradual</span><br></pre></td></tr></table></figure>

<p>æ¯ä¸ªå®ä¾‹çš„ <code>/etc/wsl.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># è®¾ç½®ç™»é™†é»˜è®¤ç”¨æˆ·</span><br><span class="line">[user]</span><br><span class="line">default = DemoUser</span><br></pre></td></tr></table></figure>

<h2 id="wsl-åŸºæœ¬å‘½ä»¤"><a href="#wsl-åŸºæœ¬å‘½ä»¤" class="headerlink" title="wsl åŸºæœ¬å‘½ä»¤"></a><code>wsl</code> åŸºæœ¬å‘½ä»¤</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ›´æ–°è¾ƒå¿«ï¼Œå¦‚æœå¾ˆä¹…ä¸ç”¨ï¼Œä¹Ÿè®¸æ²¡æœ‰çš„åŠŸèƒ½éƒ½æœ‰äº†</span></span><br><span class="line">wsl --help</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—å‡ºå¯ç”¨çš„ Linux å‘è¡Œç‰ˆ</span></span><br><span class="line">wsl --list --online</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ›´æ”¹é»˜è®¤å®‰è£…çš„ Linux å‘è¡Œç‰ˆ</span></span><br><span class="line">wsl --install -d &lt;Distribution Name&gt; --location &lt;Location&gt;</span><br><span class="line">wsl --install -d Debian --location D:\VM\WSL\Debian\</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ›´æ–° WSL</span></span><br><span class="line">wsl --update</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ£€æŸ¥ WSL çŠ¶æ€</span></span><br><span class="line">wsl --status</span><br><span class="line">wsl --manage &lt;Distro&gt; &lt;Options...&gt;</span><br><span class="line">        æ›´æ”¹å‘è¡Œç‰ˆç‰¹å®šé€‰é¡¹ã€‚</span><br><span class="line">        é€‰é¡¹:</span><br><span class="line">            --move &lt;Location&gt;</span><br><span class="line">                å°†åˆ†å‘ç‰ˆç§»åˆ°æ–°ä½ç½®ã€‚</span><br><span class="line">            --set-default-user &lt;Username&gt;</span><br><span class="line">                è®¾ç½®åˆ†å‘ç‰ˆçš„é»˜è®¤ç”¨æˆ·ã€‚</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…³é—­ 8ç§’è§„åˆ™</span></span><br><span class="line">wsl --shutdown</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯¼å‡ºåˆ†å‘ç‰ˆ</span></span><br><span class="line">wsl --export &lt;Distribution Name&gt; &lt;FileName&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> å°†æŒ‡å®šçš„ tar æ–‡ä»¶ä½œä¸ºæ–°åˆ†å‘ç‰ˆå¯¼å…¥ï¼Œå¯¼å…¥åˆ†å‘ç‰ˆ InstallLocation åªèƒ½æ˜¯æ–‡ä»¶å¤¹è·¯å¾„</span></span><br><span class="line">wsl --import &lt;Distribution Name&gt; &lt;InstallLocation&gt; &lt;FileName&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡è£…ç³»ç»Ÿåï¼Œç”¨è¿™ä¸ªå¯¼å…¥å·²æœ‰çš„ WSL å®ä¾‹</span></span><br><span class="line">wsl --import-in-place Debian &quot;D:\VM\WSL\Debian\ext4.vhdx&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ³¨é”€æˆ–å¸è½½ Linux å‘è¡Œç‰ˆ</span></span><br><span class="line">wsl --unregister &lt;DistributionName&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Debiané…ç½®"><a href="#Debiané…ç½®" class="headerlink" title="Debiané…ç½®"></a>Debiané…ç½®</h2><p>åœ¨ <code>Debian</code> ä¸­ï¼Œæ–‡ä»¶åå’Œç›®å½•åŒºä»ç„¶åˆ†å¤§å°å†™<br><code>Debian</code> è®¿é—® <code>Windows</code> çš„ä¸»æ–‡ä»¶å¤¹è·¯å¾„æ˜¯ <code>/mnt/c/Users/username</code><br><code>Windows</code> è®¿é—® <code>Debian</code> çš„ä¸»æ–‡ä»¶å¤¹çš„è·¯å¾„æ˜¯<code>\\wsl$\Debian\home\username</code></p>
<p>ä¸ºäº†æ¡¥æ¥ <code>Windows</code> å’Œ <code>WSL</code> ä¸Šè¿è¡Œçš„ <code>Linux</code> åˆ†å‘ç‰ˆæœ¬ï¼Œåˆ›å»ºäº†ç¯å¢ƒå˜é‡ <code>WSLENV</code>ã€‚<br>åœ¨ <code>Windows</code> ä¸ <code>WSL</code> ä¹‹é—´å…±äº« <code>WSLENV</code> ç¯å¢ƒå˜é‡ï¼Œ<code>Windows</code> å’Œ <code>Linux</code> å·¥å…·å’Œå‘½ä»¤ä¾¿å¯äº’æ¢ä½¿ç”¨ã€‚<br>ä½†åœ¨ <code>Debian</code> ä¸­ï¼Œ<code>Windows</code> å·¥å…·å¿…é¡»åŒ…å«æ–‡ä»¶æ‰©å±•åï¼ŒåŒ¹é…æ–‡ä»¶å¤§å°å†™ï¼Œå¹¶ä¸”å¯æ‰§è¡Œã€‚</p>
<p><code>WSLENV</code> å˜é‡çš„å±æ€§ï¼š</p>
<ol>
<li>å®ƒæ˜¯å…±äº«çš„ï¼›å®ƒåŒæ—¶åœ¨ <code>Windows</code> å’Œ <code>WSL</code> ç¯å¢ƒä¸­å­˜åœ¨ã€‚</li>
<li>å®ƒæ˜¯è¦åœ¨ <code>Windows</code> ä¸ <code>WSL</code> ä¹‹é—´å…±äº«çš„ç¯å¢ƒå˜é‡åˆ—è¡¨ã€‚</li>
<li>å®ƒå¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡çš„æ ¼å¼ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨ <code>Windows</code> å’Œ <code>WSL</code> ä¸­æ­£å¸¸è¿è¡Œã€‚</li>
<li>å®ƒå¯ä»¥å¸®åŠ© <code>WSL</code> å’Œ <code>Win32</code> ä¹‹é—´çš„æµã€‚</li>
</ol>
<p><code>WSLENV</code> æ ‡å¿—</p>
<p><code>WSLENV</code> ä¸­æœ‰å››ä¸ªæ ‡å¿—å¯ä»¥å½±å“è¯¥ç¯å¢ƒå˜é‡çš„è½¬æ¢æ–¹å¼ã€‚å¯æŒ‰éœ€ç»„åˆæ ‡å¿—ã€‚</p>
<ol>
<li><code>/p</code> - åœ¨ <code>WSL/Linux</code> æ ·å¼è·¯å¾„ä¸ <code>Win32</code> è·¯å¾„ä¹‹é—´è½¬æ¢è·¯å¾„ã€‚</li>
<li><code>/l</code> - æŒ‡ç¤ºç¯å¢ƒå˜é‡æ˜¯è·¯å¾„åˆ—è¡¨ã€‚</li>
<li><code>/u</code> - æŒ‡ç¤ºä»…å½“ä» <code>Win32</code> è¿è¡Œ <code>WSL</code> æ—¶ï¼Œæ‰åº”åŒ…å«æ­¤ç¯å¢ƒå˜é‡ã€‚</li>
<li><code>/w</code> - æŒ‡ç¤ºä»…å½“ä» <code>WSL</code> è¿è¡Œ <code>Win32</code> æ—¶ï¼Œæ‰åº”åŒ…å«æ­¤ç¯å¢ƒå˜é‡ã€‚</li>
</ol>
<p><a href="https://learn.microsoft.com/zh-cn/windows/wsl/filesystems">è·¨ Windows å’Œ Linux æ–‡ä»¶ç³»ç»Ÿå·¥ä½œ</a><br><a href="https://devblogs.microsoft.com/commandline/share-environment-vars-between-wsl-and-windows/">Share Environment Vars between WSL and Windows</a></p>
<p>åœ¨ <code>.bashrc</code> æˆ– <code>Windows</code> ç”¨æˆ·ç¯å¢ƒå˜é‡ä¸­è®¾ç½® <code>WSLENV</code>ã€‚</p>
<ul>
<li><input disabled="" type="checkbox"> æˆªè‡³ 2025-02-21 å®˜æ–¹ç¤ºä¾‹æµ‹è¯•å…¨éƒ¨å¤±è´¥ï¼Œ</li>
</ul>
<p>åªèƒ½åœ¨æŠŠ<code>Windows</code>å¯¹åº”çš„ç›®å½•åŠ å…¥åˆ°<code>PATH</code>ä¸­ï¼Œæ‰å¯ä»¥åœ¨ <code>WSL</code> ä¸­è®¿é—® <code>Windows</code> åº”ç”¨ç¨‹åº</p>
<h3 id="ä½¿ç”¨å›½å†…æº"><a href="#ä½¿ç”¨å›½å†…æº" class="headerlink" title="ä½¿ç”¨å›½å†…æº"></a>ä½¿ç”¨å›½å†…æº</h3><p>ä½¿ç”¨<a href="https://developer.aliyun.com/mirror/debian">é˜¿é‡Œæº</a> æˆ–è€… <a href="https://mirrors.tuna.tsinghua.edu.cn/help/debian/">æ¸…åæº</a></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">Types:</span> <span class="string">deb</span></span><br><span class="line"><span class="attr">URIs:</span> <span class="string">https://mirrors.aliyun.com/debian/</span></span><br><span class="line"><span class="attr">Suites:</span> <span class="string">bookworm</span></span><br><span class="line"><span class="attr">Components:</span> <span class="string">main</span> <span class="string">contrib</span> <span class="string">non-free</span> <span class="string">non-free-firmware</span></span><br><span class="line"><span class="attr">Architectures:</span> <span class="string">amd64</span></span><br><span class="line"><span class="attr">Signed-By:</span> <span class="string">/usr/share/keyrings/debian-archive-keyring.gpg</span></span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…è½¯ä»¶"><a href="#å®‰è£…è½¯ä»¶" class="headerlink" title="å®‰è£…è½¯ä»¶"></a>å®‰è£…è½¯ä»¶</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Debian é»˜è®¤httpæºï¼Œéœ€è¦åˆ‡æ¢åˆ°å›½å†…æºï¼Œè€Œå›½å†…æºä½¿ç”¨çš„æ˜¯https</span></span><br><span class="line">sudo apt -o Acquire::http::Proxy::deb=&quot;https://mirrors.tuna.tsinghua.edu.cn/debian&quot; install ca-certificates</span><br><span class="line">sudo apt update</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">bash çš„å‘½ä»¤è¡¥å…¨, ä½†ä½¿ç”¨ <span class="built_in">sudo</span> ä»ç„¶å¯èƒ½å‘½ä»¤ä¸è¡¥å…¨ï¼Œè§åé¢è®¾ç½®</span></span><br><span class="line">sudo apt-get install bash-completion</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Git éœ€è¦åœ¨è¦ä½¿ç”¨å®ƒçš„æ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸Šå®‰è£…</span></span><br><span class="line">sudo apt install git</span><br></pre></td></tr></table></figure>

<p><code>bash</code>å…¨å±€é…ç½®<code>/etc/bash.bashrc</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å¤„ç† `sudo` å‘½ä»¤ä¸è¡¥å…¨ï¼Œç¼–è¾‘`/etc/bash.bashrc`</span><br><span class="line">if [ -f /etc/bash_completion ]; then</span><br><span class="line">        . /etc/bash_completion</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><p>åˆ›å»ºç¯å¢ƒå˜é‡é…ç½® <code>~/.myconfig/mypath.sh</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">export PATH=&quot;$PATH:/your/custom/path&quot;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œå‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">chmod +x ~/.myconfig/mypath.sh</span><br><span class="line">sudo ln -s /home/username/.myconfig/mypath.sh /etc/profile.d/mypath.sh</span><br><span class="line">source /etc/profile.d/mypath.sh</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…-man-æ‰‹å†Œ"><a href="#å®‰è£…-man-æ‰‹å†Œ" class="headerlink" title="å®‰è£… man æ‰‹å†Œ"></a>å®‰è£… <code>man</code> æ‰‹å†Œ</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">manpages åŸºç¡€å‘½ä»¤æ‰‹å†Œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">manpages-dev æ›´è¯¦ç»†çš„æ‰‹å†Œï¼ˆæ¯”å¦‚ C å‡½æ•°ã€ç³»ç»Ÿè°ƒç”¨ç­‰ï¼‰</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">manpages-posix å„ç§å‘½ä»¤çš„æ‰‹å†Œï¼ˆå¦‚å‘½ä»¤è¡Œå·¥å…·ã€åº“ç­‰ï¼‰</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">manpages-x11 å›¾å½¢åŒ–ç¨‹åºæ‰‹å†Œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">git-man ç‰¹å®šè½¯ä»¶çš„æ‰‹å†Œ</span></span><br><span class="line">sudo apt install man-db manpages manpages-dev manpages-posix</span><br></pre></td></tr></table></figure>

<h2 id="å‹ç¼©WSLé•œåƒ"><a href="#å‹ç¼©WSLé•œåƒ" class="headerlink" title="å‹ç¼©WSLé•œåƒ"></a>å‹ç¼©WSLé•œåƒ</h2><p>ç®¡ç†å‘˜æ‰§è¡Œ<code>PowerShell</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰“å¼€å·¥å…·</span></span><br><span class="line">diskpart</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€‰æ‹©é•œåƒ</span></span><br><span class="line">select vdisk file=&quot;D:\vm\wsl\ext4.vhdx&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç»‘å®šé•œåƒ</span></span><br><span class="line">attach vdisk readonly</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‹ç¼©</span></span><br><span class="line">compact vdisk</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¸è½½é•œåƒ</span></span><br><span class="line">detach vdisk</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>

<h3 id="WSL-å¼€æœºå¯åŠ¨"><a href="#WSL-å¼€æœºå¯åŠ¨" class="headerlink" title="WSL å¼€æœºå¯åŠ¨"></a>WSL å¼€æœºå¯åŠ¨</h3><ol>
<li><p>WSL æ“ä½œ</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">WSL2ä¸­åˆ›å»ºæ‰§è¡Œè„šæœ¬</span></span><br><span class="line">sudo vim /etc/init.wsl</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç»™äºˆè„šæœ¬æ‰§è¡Œæƒé™</span></span><br><span class="line">sudo chmod +x /etc/init.wsl</span><br></pre></td></tr></table></figure>

 <figure class="highlight shell"><figcaption><span>/etc/init.wsl</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /bin/sh</span></span><br><span class="line">/etc/init.d/ssh start</span><br></pre></td></tr></table></figure>
</li>
<li><p>Windowsæ“ä½œ</p>
</li>
</ol>
<p>åˆ›å»ºè„šæœ¬ <code>linux-start.vbs</code> â€“&gt; ç§»åŠ¨åˆ°Windowså¼€æœºå¯åŠ¨é¡¹(<code>Win+R</code>â€”&gt;<code>shell:startup</code>)</p>
<figure class="highlight vb"><figcaption><span>linux-start.vbs</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">Set</span> ws = WScript.CreateObject(<span class="string">&quot;WScript.Shell&quot;</span>)</span><br><span class="line">ws.run <span class="string">&quot;wsl -d ubuntu -u root /etc/init.wsl&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="IDEAç¦ç”¨WSL"><a href="#IDEAç¦ç”¨WSL" class="headerlink" title="IDEAç¦ç”¨WSL"></a>IDEAç¦ç”¨WSL</h3><ol>
<li><code>idea.properties</code> è®¾ç½® <code>wsl.p9.support.disabled=true</code> çš„ä½œç”¨<ul>
<li>ä»…ä»…ç¦ç”¨å¯¹ WSL çš„ P9 æ–‡ä»¶ç³»ç»ŸæŒ‚è½½æ”¯æŒï¼ˆä¹Ÿå°±æ˜¯ä¼˜åŒ–çš„æŒ‚è½½æ–¹å¼ï¼‰</li>
<li>ä¸ä¼šé˜»æ­¢ IntelliJ è‡ªåŠ¨æ£€æµ‹ WSL å¹¶æç¤ºä½  â€œWSL detectedâ€ã€â€æ‰“å¼€ WSL ç›®å½•â€ã€â€WSL toolchainâ€ ç­‰åŠŸèƒ½ã€‚</li>
<li>ä¹Ÿä¸ä¼šç¦ç”¨åœ¨é¡¹ç›® SDKã€ç»ˆç«¯æˆ–è¿è¡Œé…ç½®ä¸­ä½¿ç”¨ WSLã€‚</li>
</ul>
</li>
<li><code>idea.vmoptions</code> æ·»åŠ <code>-Dide.wsl.enable=false</code><ul>
<li>ä¼šå½»åº•å…³é—­ IntelliJ å¯¹ WSL çš„æ„ŸçŸ¥åŠŸèƒ½ã€‚æ‰€æœ‰ WSL Toolchain &#x2F; è‡ªåŠ¨ WSL SDK &#x2F; ç»ˆç«¯è·¯å¾„æ£€æµ‹ ç­‰éƒ½å°†è¢«å…³é—­ã€‚</li>
</ul>
</li>
<li>åˆ é™¤ <code>.wslconfig</code> é‡Œçš„æ³¨å†Œé¡¹ï¼ˆå·²å¸è½½ WSL å¯ä»¥å¿½ç•¥ï¼‰<ul>
<li>å¦‚æœä½ å·²å¸è½½ WSLï¼Œä½† IntelliJ ä»æç¤º WSLï¼Œå¯èƒ½æ˜¯æ³¨å†Œè¡¨ä¸­æ®‹ç•™äº†é…ç½®ã€‚ä½ å¯ä»¥åˆ é™¤ï¼š</li>
<li><code>%USERPROFILE%\.wslconfig</code></li>
<li>æˆ–æ¸…ç†ä»¥ä¸‹è·¯å¾„ä¸­ IntelliJ çš„ç¼“å­˜ï¼š<ol>
<li><code>%USERPROFILE%\.cache\JetBrains\</code></li>
<li><code>%USERPROFILE%\AppData\Roaming\JetBrains\</code></li>
</ol>
</li>
</ul>
</li>
</ol>
<h2 id="å½»åº•å¸è½½WSL"><a href="#å½»åº•å¸è½½WSL" class="headerlink" title="å½»åº•å¸è½½WSL"></a>å½»åº•å¸è½½WSL</h2><p>æ–°ç‰ˆ<code>è®¾ç½®</code> â€“&gt; <code>åº”ç”¨</code> â€“&gt; åˆ é™¤å®‰è£…çš„ Linux ç‰ˆæœ¬</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç®¡ç†å‘˜è¿è¡Œ</span></span><br><span class="line">Get-AppxPackage MicrosoftCorporationII.WindowsSubsystemForLinux | Remove-AppxPackage</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>ç³»ç»Ÿ</tag>
        <tag>Debian</tag>
        <tag>WSL</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸ä¼šæ‰“å¼€æœªå‘½åæ¨¡å—çš„é”™è¯¯</title>
    <url>/2025/02/18/%E4%B8%8D%E4%BC%9A%E6%89%93%E5%BC%80%E6%9C%AA%E5%91%BD%E5%90%8D%E6%A8%A1%E5%9D%97%E7%9A%84%E9%94%99%E8%AF%AF/</url>
    <content><![CDATA[<p>é”™è¯¯ä¿¡æ¯:</p>
<p><code>java.lang.reflect.InaccessibleObjectException: Unable to make field static final java.lang.invoke.MethodHandles$Lookup java.lang.invoke.MethodHandles$Lookup.IMPL_LOOKUP accessible: module java.base does not &quot;opens java.lang.invoke&quot; to unnamed module</code></p>
<h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>JDK 9åŠä»¥ä¸Šç‰ˆæœ¬ä¸­å¼•å…¥Java Platform Module Systemå¼ºåˆ¶æ‰§è¡Œå°è£…è¾¹ç•Œï¼Œå¹¶ä¸”åªå…è®¸æ˜ç¡®å¯¼å‡ºçš„åŒ…è¿›è¡Œè®¿é—®ï¼Œé»˜è®¤æƒ…å†µä¸‹ <code>java.lang</code> å’Œå…¶ä»–ä¸€äº›æ ¸å¿ƒåŒ…éƒ½ä¸ä¼šå‘ <code>unnamed</code> æ¨¡å—å¼€æ”¾ï¼Œæ‰€ä»¥åœ¨JDK 11ã€JDK 17ã€JDK 21ç¯å¢ƒä¸‹æœ‰è¿™ä¸ªé—®é¢˜ã€‚</p>
<ul>
<li>å®ç°<a href="https://openjdk.org/projects/jigsaw/spec/">Java Platform Module System (JSR 376)</a></li>
<li>å®ç°<a href="https://openjdk.org/jeps/261">JEP 261: Module System</a></li>
<li>è§£é‡Š<a href="https://nipafx.dev/java-modules-reflection-vs-encapsulation/">Reflection vs Encapsulation</a></li>
</ul>
<h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>å°†æ²¡å¼€æ”¾çš„æ¨¡å—å¼ºåˆ¶å¯¹å¤–å¼€æ”¾ã€‚æœ‰ä¸¤ä¸ªå‚æ•°é€‰é¡¹ï¼š</p>
<ol>
<li><code>--add-exports</code> å¯¼å‡ºåŒ…ï¼Œæ„å‘³ç€å…¶ä¸­çš„æ‰€æœ‰å…¬å…±ç±»å‹å’Œæˆå‘˜éƒ½å¯ä»¥åœ¨ç¼–è¯‘å’Œè¿è¡Œæ—¶è®¿é—®ã€‚</li>
<li><code>--add-opens</code> æ‰“å¼€åŒ…ï¼Œæ„å‘³ç€å…¶ä¸­çš„æ‰€æœ‰ç±»å‹å’Œæˆå‘˜ï¼ˆä¸ä»…æ˜¯å…¬å…±ç±»å‹ï¼‰éƒ½å¯ä»¥åœ¨è¿è¡Œæ—¶è®¿é—®ã€‚</li>
</ol>
<p>ä¸¤è€…çš„åŒºåˆ«åœ¨äº <code>--add-opens</code> å¼€æ”¾çš„æ›´åŠ å½»åº•ï¼Œä¸ä»… public ç±»å‹ã€å˜é‡åŠæ–¹æ³•å¯ä»¥è®¿é—®ï¼Œå°±è¿é <code>public</code> å…ƒç´ ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨ <code>setAccessible(true)</code> åä¹Ÿå¯ä»¥è®¿é—®ã€‚ç®€å•èµ·è§ï¼Œç›´æ¥ä½¿ç”¨ <code>--add-opens</code> å³å¯ã€‚ç›¸å…³çš„å‚æ•°åœ¨å¼‚å¸¸ä¸­ä¼šæé†’å‡ºæ¥ã€‚è®¾ç½®ç¯å¢ƒå˜é‡<code>JDK_JAVA_OPTIONS</code>æˆ–æ·»åŠ ç›¸åº”çš„ VM Option å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--add-opens=java.base/java.lang=ALL-UNNAMED</span><br><span class="line">--add-opens=java.base/java.lang.invoke=ALL-UNNAMED</span><br><span class="line">--add-opens=java.base/java.lang.reflect=ALL-UNNAMED</span><br><span class="line">--add-opens=java.base/java.net=ALL-UNNAMED</span><br><span class="line">--add-opens=java.base/sun.net.www.protocol.http=ALL-UNNAMED</span><br><span class="line">--add-opens=java.base/sun.net.www.protocol.https=ALL-UNNAMED</span><br><span class="line">--add-opens=java.base/sun.util.calendar=ALL-UNNAMED</span><br><span class="line">--add-opens=jdk.zipfs/jdk.nio.zipfs=ALL-UNNAMED</span><br></pre></td></tr></table></figure>

<p><a href="https://liferay.dev/blogs/-/blogs/jdk-17-jdk-21-solving-module-does-not-opens-to-unnamed-module">JDK-17&#x2F;JDK-21: Solving The Error module does not opens to unnamed moduleâ€¦</a><br><a href="https://www.diguage.com/post/upgrade-to-openjdk21/">OpenJDK 21 å‡çº§æŒ‡å—</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Hyper-Vç®¡ç†å™¨æ˜¾ç¤ºçš„å†…å­˜å’Œè™šæ‹ŸæœºæŸ¥çœ‹çš„å†…å­˜ä¸ä¸€è‡´é—®é¢˜</title>
    <url>/2025/04/19/Hyper-V%E7%AE%A1%E7%90%86%E5%99%A8%E6%98%BE%E7%A4%BA%E7%9A%84%E5%86%85%E5%AD%98%E5%92%8C%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%9F%A5%E7%9C%8B%E7%9A%84%E5%86%85%E5%AD%98%E4%B8%8D%E4%B8%80%E8%87%B4%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="ä¸€ã€é—®é¢˜ç°è±¡æ€»ç»“"><a href="#ä¸€ã€é—®é¢˜ç°è±¡æ€»ç»“" class="headerlink" title="ä¸€ã€é—®é¢˜ç°è±¡æ€»ç»“"></a>ä¸€ã€é—®é¢˜ç°è±¡æ€»ç»“</h2><ul>
<li>Hyper-V ç®¡ç†å™¨æ˜¾ç¤ºå†…å­˜å ç”¨ï¼š12 GB</li>
<li>Debian 12 ç³»ç»Ÿå†…éƒ¨ï¼ˆhtopï¼‰çœ‹åˆ°å†…å­˜æ€»é‡ï¼šçº¦ 893 MB</li>
<li>ä½¿ç”¨äº† åŠ¨æ€å†…å­˜é…ç½®ï¼š1 GB ~ 12 GB</li>
</ul>
<h2 id="äºŒã€åŸå› è§£æ"><a href="#äºŒã€åŸå› è§£æ" class="headerlink" title="äºŒã€åŸå› è§£æ"></a>äºŒã€åŸå› è§£æ</h2><ol>
<li>Hyper-V çš„åŠ¨æ€å†…å­˜æœºåˆ¶<br>Hyper-V çš„åŠ¨æ€å†…å­˜æŠ€æœ¯ä¼šæ ¹æ®è™šæ‹Ÿæœºçš„å®é™…éœ€æ±‚åŠ¨æ€åœ°ï¼š</li>
</ol>
<ul>
<li><p>åˆ†é…æˆ–å›æ”¶ä¸»æœºå†…å­˜ï¼›</p>
</li>
<li><p>å®ƒä¸ä¼šé©¬ä¸Šå‘Šè¯‰ Guest OSï¼ˆè¿™é‡Œæ˜¯ Debianï¼‰å®Œæ•´çš„å¯ç”¨æœ€å¤§å†…å­˜ï¼›</p>
</li>
<li><p>Guest OS å¯åŠ¨æ—¶ï¼Œä»…çœ‹åˆ°â€œå¯åŠ¨åˆ†é…çš„åˆå§‹å†…å­˜â€ï¼ˆå¦‚ä½ é…ç½®çš„æ˜¯åˆå§‹ 1 GBï¼‰ï¼›</p>
</li>
<li><p>Hyper-V ä¼šåœ¨åå° é€æ˜å¢åŠ å†…å­˜é¡µï¼Œä½† Guest OS å¹¶ä¸ç›´æ¥æ›´æ–° total memory çš„æ•°å­—ã€‚</p>
</li>
<li><p>â¤ æ¢å¥è¯è¯´ï¼š<br>Hyper-V åˆ†é…äº†æ›´å¤šå†…å­˜ï¼Œä½† Linux é»˜è®¤å¹¶ä¸æ›´æ–° &#x2F;proc&#x2F;meminfo æˆ– htop æ˜¾ç¤ºçš„ æ€»å†…å­˜å€¼ï¼Œå› ä¸ºï¼š</p>
<ul>
<li>Linux åªè®¤å¯åŠ¨æ—¶çš„ e820 BIOS å†…å­˜æ˜ å°„ï¼›</li>
<li>çƒ­æ·»åŠ å†…å­˜åï¼ŒLinux å†…æ ¸é»˜è®¤ä¸åˆ·æ–° total RAMï¼ˆé™¤éæ”¯æŒ memory hotplug å¹¶å¯ç”¨ memhp_default_state&#x3D;onlineï¼‰ã€‚</li>
</ul>
</li>
</ul>
<ol>
<li>ä¸ºä»€ä¹ˆ htop æ˜¾ç¤ºåªæœ‰ 893 MBï¼Ÿ<br>è¿™æ˜¯å¯åŠ¨æ—¶åˆå§‹å†…å­˜ï¼ˆå¯èƒ½ç•¥ä½äº 1Gï¼‰ï¼Œå¹¶æœªåæ˜  Hyper-V åç»­å¢åŠ çš„å†…å­˜ã€‚</li>
</ol>
<h2 id="ä¸‰ã€å¦‚ä½•éªŒè¯æ˜¯å¦çœŸçš„å†…å­˜å¢åŠ ï¼Ÿ"><a href="#ä¸‰ã€å¦‚ä½•éªŒè¯æ˜¯å¦çœŸçš„å†…å­˜å¢åŠ ï¼Ÿ" class="headerlink" title="ä¸‰ã€å¦‚ä½•éªŒè¯æ˜¯å¦çœŸçš„å†…å­˜å¢åŠ ï¼Ÿ"></a>ä¸‰ã€å¦‚ä½•éªŒè¯æ˜¯å¦çœŸçš„å†…å­˜å¢åŠ ï¼Ÿ</h2><p>ç”¨ä»¥ä¸‹å‘½ä»¤ç¡®è®¤ç³»ç»Ÿæ˜¯å¦æ”¶åˆ°äº† Hyper-V åˆ†é…çš„é¢å¤–å†…å­˜ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -r . /sys/devices/system/memory/*/state</span><br></pre></td></tr></table></figure>

<p>å¦‚æœçœ‹åˆ° <code>/sys/devices/system/memory/memory*/state</code> ä¸­æœ‰ å¤šä¸ª <code>memory block</code>ï¼Œå¹¶ä¸”çŠ¶æ€æ˜¯ <code>online</code>ï¼Œè¯´æ˜å†…å­˜ç¡®å®è¢«æ·»åŠ ï¼Œä½†å¯èƒ½æœªè¢«æ­£ç¡®ç»Ÿè®¡ã€‚</p>
<h2 id="å››ã€æ€ä¹ˆè®©-Linux-è¯†åˆ«è¿™äº›æ–°å†…å­˜ï¼Ÿ"><a href="#å››ã€æ€ä¹ˆè®©-Linux-è¯†åˆ«è¿™äº›æ–°å†…å­˜ï¼Ÿ" class="headerlink" title="å››ã€æ€ä¹ˆè®© Linux è¯†åˆ«è¿™äº›æ–°å†…å­˜ï¼Ÿ"></a>å››ã€æ€ä¹ˆè®© Linux è¯†åˆ«è¿™äº›æ–°å†…å­˜ï¼Ÿ</h2><p>å°è¯•ä»¥ä¸‹æ–¹æ³•è®© Linux æ­£ç¡®è¯†åˆ«å¢åŠ çš„å†…å­˜ï¼š</p>
<h3 id="æ–¹æ³•ä¸€ï¼šå¼€æœºå‚æ•°æ·»åŠ è‡ªåŠ¨ä¸Šçº¿çƒ­æ’å†…å­˜"><a href="#æ–¹æ³•ä¸€ï¼šå¼€æœºå‚æ•°æ·»åŠ è‡ªåŠ¨ä¸Šçº¿çƒ­æ’å†…å­˜" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå¼€æœºå‚æ•°æ·»åŠ è‡ªåŠ¨ä¸Šçº¿çƒ­æ’å†…å­˜"></a>æ–¹æ³•ä¸€ï¼šå¼€æœºå‚æ•°æ·»åŠ è‡ªåŠ¨ä¸Šçº¿çƒ­æ’å†…å­˜</h3><p>ç¼–è¾‘ <code>/etc/default/grub</code> é…ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=<span class="string">&quot;quiet splash memhp_default_state=online&quot;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åæ›´æ–° grub å¹¶é‡å¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> update-grub</span><br><span class="line"><span class="built_in">sudo</span> reboot</span><br></pre></td></tr></table></figure>

<h3 id="æ–¹æ³•äºŒï¼šæ‰‹åŠ¨ä¸Šçº¿çƒ­æ’å†…å­˜"><a href="#æ–¹æ³•äºŒï¼šæ‰‹åŠ¨ä¸Šçº¿çƒ­æ’å†…å­˜" class="headerlink" title="æ–¹æ³•äºŒï¼šæ‰‹åŠ¨ä¸Šçº¿çƒ­æ’å†…å­˜"></a>æ–¹æ³•äºŒï¼šæ‰‹åŠ¨ä¸Šçº¿çƒ­æ’å†…å­˜</h3><p>åœ¨ç³»ç»Ÿè¿è¡Œåï¼Œå¯ä»¥æ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> block <span class="keyword">in</span> /sys/devices/system/memory/memory*/state; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> online | <span class="built_in">sudo</span> <span class="built_in">tee</span> <span class="variable">$block</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åå†æ‰§è¡Œ <code>free -h</code> æˆ– <code>htop</code> çœ‹æ˜¯å¦æ›´æ–°ã€‚</p>
<h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><p>Hyper-V æ˜¾ç¤ºä½¿ç”¨äº† 12 GBï¼Œä½† Linux åªçœ‹åˆ° 893 MB Hyper-V åŠ¨æ€åˆ†é…äº†æ›´å¤šå†…å­˜ï¼Œä½† Linux æ²¡è‡ªåŠ¨è¯†åˆ« å¯ç”¨å†…å­˜çƒ­æ’æ‹”è‡ªåŠ¨ä¸Šçº¿ï¼Œæˆ–æ‰‹åŠ¨ä¸Šçº¿ memory block</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>SSHè¿æ¥Dockerä¸­çš„MySQL</title>
    <url>/2025/04/23/SSH%E8%BF%9E%E6%8E%A5Docker%E4%B8%AD%E7%9A%84MySQL/</url>
    <content><![CDATA[<h2 id="ğŸ³ğŸ’»-SSH-è¿æ¥-Docker-ä¸­çš„-MySQL-å®¹å™¨-â€”-é€ŸæŸ¥è¡¨"><a href="#ğŸ³ğŸ’»-SSH-è¿æ¥-Docker-ä¸­çš„-MySQL-å®¹å™¨-â€”-é€ŸæŸ¥è¡¨" class="headerlink" title="ğŸ³ğŸ’» SSH è¿æ¥ Docker ä¸­çš„ MySQL å®¹å™¨ â€” é€ŸæŸ¥è¡¨"></a>ğŸ³ğŸ’» SSH è¿æ¥ Docker ä¸­çš„ MySQL å®¹å™¨ â€” é€ŸæŸ¥è¡¨</h2><table>
<thead>
<tr>
<th>æ–¹å¼</th>
<th>å‘½ä»¤</th>
<th>æ˜¯å¦æ¨è</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>âœ… ä¸€æ¬¡ç™»å½•</td>
<td><code>ssh user@host -t &quot;sudo docker exec -it mysql mysql -uroot -p&quot;</code></td>
<td>â­â­â­</td>
<td>æˆåŠŸç‡é«˜ï¼Œé€‚åˆå¿«é€Ÿè¿æ¥ï¼ˆæ³¨æ„ <code>-t</code> ä½ç½®ï¼ï¼‰</td>
</tr>
<tr>
<td>âœ… æœ€æ¨èï¼ˆç¨³ï¼ï¼‰</td>
<td><code>ssh -t user@host &quot;sudo docker exec -it mysql bash&quot;</code><br>ï¼ˆç„¶åå®¹å™¨å†…æ‰‹åŠ¨ <code>mysql -uroot -p</code>ï¼‰</td>
<td>â­â­â­â­</td>
<td>ç¨³å®šã€å®‰å…¨ã€é€‚é…æ€§å¼ºï¼Œé€‚åˆæ‰€æœ‰æƒ…å†µ</td>
</tr>
<tr>
<td>ğŸš€ å¿«é€Ÿæ‰§è¡Œ SQL</td>
<td><code>ssh user@host &quot;docker exec -i mysql mysql -uroot -pä½ çš„å¯†ç  -e &#39;SHOW DATABASES;&#39;&quot;</code></td>
<td>â­â­</td>
<td>è‡ªåŠ¨åŒ–è„šæœ¬ã€æ‰¹å¤„ç†æ—¶ç”¨ï¼›æ˜æ–‡å¯†ç âš ï¸</td>
</tr>
<tr>
<td>âœ… æ­£ç»Ÿæ–¹æ³•ï¼ˆæ¨èï¼‰</td>
<td>SSH éš§é“ + æœ¬åœ°å®¢æˆ·ç«¯<br>1. <code>ssh -L 3307:127.0.0.1:3306 user@host</code><br>2. æœ¬åœ°è¿æ¥ <code>mysql -h 127.0.0.1 -P 3307 -uroot -p</code></td>
<td>â­â­â­â­</td>
<td>å®‰å…¨ã€ç¨³å®šã€å…¼å®¹å›¾å½¢å·¥å…·</td>
</tr>
<tr>
<td>ğŸš« å®¹æ˜“å¡æ­»çš„å†™æ³•</td>
<td><code>ssh user@host &quot;docker exec -it mysql mysql -uroot -p&quot;</code></td>
<td>âŒ</td>
<td>æ²¡æœ‰ <code>-t</code>ï¼Œä¼šå¡ä½æˆ– stdin æ— æ•ˆ</td>
</tr>
<tr>
<td>ğŸš« æ˜æ–‡å¯†ç ï¼ˆä»…æµ‹è¯•ï¼‰</td>
<td><code>ssh user@host &quot;docker exec -i mysql mysql -uroot -pä½ çš„å¯†ç &quot;</code></td>
<td>âŒ</td>
<td>å¯†ç æš´éœ²åœ¨å‘½ä»¤è¡Œä¸­ï¼Œå±é™©</td>
</tr>
</tbody></table>
<hr>
<h3 id="ğŸ§ -å°è´´å£«"><a href="#ğŸ§ -å°è´´å£«" class="headerlink" title="ğŸ§  å°è´´å£«"></a>ğŸ§  å°è´´å£«</h3><ul>
<li><code>-t</code>ï¼šè¯·æ±‚ä¼ªç»ˆç«¯ï¼Œ<strong>å¿…é¡»æœ‰æ‰èƒ½å®‰å…¨äº¤äº’</strong></li>
<li><code>-i</code>ï¼šä¿æŒæ ‡å‡†è¾“å…¥ï¼Œä¸ç„¶ <code>mysql</code> æ¥æ”¶ä¸åˆ°ä½ é”®ç›˜è¾“å…¥</li>
<li>å¤šå±‚ SSH &#x2F; è·³æ¿æœºï¼Ÿå¯ä»¥åŠ  <code>-tt</code> å¼ºåˆ¶ tty</li>
</ul>
<hr>
<h3 id="ğŸ› -æ¨èåˆ«åï¼ˆAliasï¼‰"><a href="#ğŸ› -æ¨èåˆ«åï¼ˆAliasï¼‰" class="headerlink" title="ğŸ›  æ¨èåˆ«åï¼ˆAliasï¼‰"></a>ğŸ›  æ¨èåˆ«åï¼ˆAliasï¼‰</h3><p>å†™åˆ° <code>~/.bashrc</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">alias</span> mysql-remote=<span class="string">&#x27;ssh -t user@host &quot;sudo docker exec -it mysql bash&quot;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹æ¬¡åªéœ€è¦ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql-remote</span><br><span class="line"><span class="comment"># ç„¶åå®¹å™¨é‡Œ mysql -uroot -p</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerè¿è¡ŒNexus</title>
    <url>/2025/03/04/Docker%E8%BF%90%E8%A1%8CNexus/</url>
    <content><![CDATA[<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> /data/nexus</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span>  <span class="built_in">chown</span> -R 200 /data/nexus</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> docker run -d \</span></span><br><span class="line"><span class="language-bash">--name nexus \</span></span><br><span class="line"><span class="language-bash">--restart=always \</span></span><br><span class="line"><span class="language-bash">-p 18081:8081 \</span></span><br><span class="line"><span class="language-bash">-e INSTALL4J_ADD_VM_PARAMS=<span class="string">&quot;-Xms32m -Xmx1024m -XX:MaxDirectMemorySize=1024m&quot;</span> \</span></span><br><span class="line"><span class="language-bash">--env-file ~/.docker/proxy \</span></span><br><span class="line"><span class="language-bash">-v /data/nexus:/nexus-data \</span></span><br><span class="line"><span class="language-bash">sonatype/nexus3</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šä»£ç†è®¾ç½®é€šè¿‡<code>~/.docker/config.json</code>è®¾ç½®æ— æ•ˆ</p>
<p>è®¿é—®åœ°å€ <code>http://ip:8081/nexus</code><br>é»˜è®¤è´¦æˆ·&#x2F;å¯†ç : admin &#x2F; admin123</p>
<p><a href="https://hub.docker.com/r/sonatype/nexus3">sonatype&#x2F;nexus3</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Eclipseç³»è½¯ä»¶è®¾ç½®JavaHome</title>
    <url>/2025/03/28/Eclipse%E7%B3%BB%E8%BD%AF%E4%BB%B6%E8%AE%BE%E7%BD%AEJavaHome/</url>
    <content><![CDATA[<p>ä¸€èˆ¬åœ¨å¯æ‰§è¡Œæ–‡ä»¶(å¦‚<code>MemoryAnalyzer.exe</code>)å¯¹åº”çš„é…ç½®æ–‡ä»¶(<code>MemoryAnalyzer.ini</code>)ä¸­çš„<code>-vmargs</code>å‚æ•°å‰æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œä¸”â€œè¦æ¢è¡Œâ€</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">-vm</span><br><span class="line">/path/to/java/home/bin</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Java9åè·å–åŠ è½½çš„Jarè·¯å¾„</title>
    <url>/2025/03/29/Java9%E5%90%8E%E8%8E%B7%E5%8F%96%E5%8A%A0%E8%BD%BD%E7%9A%84Jar%E8%B7%AF%E5%BE%84/</url>
    <content><![CDATA[<p>JDK9åï¼Œç”±äºæ¨¡å—åŒ–ï¼Œè¦æƒ³è·å–å¯åŠ¨åŠ è½½çš„ Jar åŒ…çš„è·¯å¾„ï¼Œåªæœ‰ä½¿ç”¨ä»£ç†æœºåˆ¶å®ç°ï¼Œå…ˆåˆ¶ä½œä»£ç† <code>agent.jar</code>ï¼Œç„¶ååœ¨æ‰§è¡Œç›®æ ‡<code>jar</code>æ—¶ï¼ŒåŠ è½½<code>agent.jar</code>ã€‚å…·ä½“æ–¹æ³•å¦‚ä¸‹</p>
<p>æ·»åŠ ä»£ç†ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.instrument.Instrumentation;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.security.CodeSource;</span><br><span class="line"><span class="keyword">import</span> java.security.ProtectionDomain;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BootstrapAgent</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">premain</span><span class="params">(String args, Instrumentation inst)</span> &#123;</span><br><span class="line">        Set&lt;String&gt; paths = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        Class&lt;?&gt;[] classes = inst.getAllLoadedClasses();</span><br><span class="line">        <span class="keyword">for</span> (Class&lt;?&gt; clazz : classes) &#123;</span><br><span class="line">            <span class="type">ProtectionDomain</span> <span class="variable">domain</span> <span class="operator">=</span> clazz.getProtectionDomain();</span><br><span class="line">            <span class="keyword">if</span> (domain != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="type">CodeSource</span> <span class="variable">source</span> <span class="operator">=</span> domain.getCodeSource();</span><br><span class="line">                <span class="keyword">if</span> (source != <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="type">URL</span> <span class="variable">location</span> <span class="operator">=</span> source.getLocation();</span><br><span class="line">                    paths.add(location.toString());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bootstrap ClassPath JARs:&quot;</span>);</span><br><span class="line">        paths.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ <code>MANIFEST.MF</code>ï¼Œ<strong>æ³¨æ„æœ€åè¦ç©ºä¸€è¡Œ</strong></p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">Manifest-Version: 1.0</span><br><span class="line">Premain-Class: BootstrapAgent</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">javac BootstrapAgent.java</span><br><span class="line">jar cmf MANIFEST.MF agent.jar BootstrapAgent.class</span><br><span class="line">java -javaagent:agent.jar -jar YourApplication.jar</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæœ‰åŒ…åï¼Œè¦å¯¹åº”; æ‰“åŒ… <code>agent.jar</code>çš„æ—¶å€™è¦åˆ°åŒ…çš„æ ¹ç›®å½•å»è¿è¡Œç¨‹åºï¼Œä»¥ä½¿<code>agent.jar</code>é‡Œé¢çš„ç›®å½•ç»“æ„ä¸åŒ…åä¸€è‡´ï¼Œå¦åˆ™å®¹æ˜“å‡ºç°<code>ClassNotFoundException</code></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaè·å–å½“å‰è¿è¡Œçš„æ–¹æ³•åç§°</title>
    <url>/2025/03/15/Java%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E8%BF%90%E8%A1%8C%E7%9A%84%E6%96%B9%E6%B3%95%E5%90%8D%E7%A7%B0/</url>
    <content><![CDATA[<p>åœ¨ Java ä¸­ï¼Œè·å–å½“å‰æ­£åœ¨è¿è¡Œçš„æ–¹æ³•åç§°å¯ä»¥é€šè¿‡ Thread ç±»ä¸­çš„å †æ ˆä¿¡æ¯æ¥å®ç°ã€‚å…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ <code>Thread.currentThread().getStackTrace()</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        printCurrentMethodName();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printCurrentMethodName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> Thread.currentThread().getStackTrace()[<span class="number">1</span>].getMethodName();</span><br><span class="line">        System.out.println(<span class="string">&quot;å½“å‰æ–¹æ³•åç§°: &quot;</span> + methodName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•è§£é‡Šï¼š<br><code>Thread.currentThread()</code>ï¼šè·å–å½“å‰çº¿ç¨‹ã€‚<br><code>getStackTrace()</code>ï¼šè·å–å½“å‰çº¿ç¨‹çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯ã€‚<br><code>getStackTrace()[1]</code>ï¼šç´¢å¼• <code>[0]</code> æ˜¯ <code>getStackTrace</code> æ–¹æ³•æœ¬èº«ï¼Œç´¢å¼• <code>[1]</code> æ˜¯å½“å‰æ–¹æ³•ã€‚<br><code>getMethodName()</code>ï¼šè·å–æ–¹æ³•åç§°ã€‚</p>
<p>æ–¹æ³•äºŒï¼šä½¿ç”¨ <code>new Exception().getStackTrace()</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        printCurrentMethodName();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printCurrentMethodName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Exception</span>().getStackTrace()[<span class="number">0</span>].getMethodName();</span><br><span class="line">        System.out.println(<span class="string">&quot;å½“å‰æ–¹æ³•åç§°: &quot;</span> + methodName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>âš ï¸ æ³¨æ„ï¼šæ­¤æ–¹æ³•æ€§èƒ½ç•¥ä½ï¼Œå› ä¸ºåˆ›å»ºäº†ä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ã€‚</p>
<p>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ <code>StackWalker</code>ï¼ˆJava 9+ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.StackWalker;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        printCurrentMethodName();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printCurrentMethodName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> StackWalker.getInstance()</span><br><span class="line">                                       .walk(frames -&gt; frames.skip(<span class="number">1</span>).findFirst().get().getMethodName());</span><br><span class="line">        System.out.println(<span class="string">&quot;å½“å‰æ–¹æ³•åç§°: &quot;</span> + methodName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¼˜åŠ¿ï¼š<br>æ›´é«˜æ•ˆï¼Œä¸”æ›´åŠ çµæ´»ã€‚<br>é€‚ç”¨äº Java 9 åŠä»¥ä¸Šç‰ˆæœ¬ã€‚<br>å“ªä¸ªæ–¹æ³•æ›´å¥½ï¼Ÿ<br>å¦‚æœè¿½æ±‚æ€§èƒ½ï¼Œå»ºè®®ä½¿ç”¨ StackWalkerï¼ˆJava 9+ï¼‰ã€‚<br>å¯¹äºç®€å•çš„è°ƒè¯•æˆ–å…¼å®¹æ€§éœ€æ±‚ï¼ŒThread.currentThread().getStackTrace() æ›´æ–¹ä¾¿ã€‚</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Log4j2ä½¿ç”¨</title>
    <url>/2025/03/10/Log4j2%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>[TOC]</p>
<p>è½¬è‡ª <a href="https://www.cnblogs.com/antLaddie/p/15904895.html">ä¸€æ–‡å¸¦ä½ å½»åº•æŒæ¡ Log4j2</a><br><a href="https://logging.apache.org/log4j/2.12.x/manual/architecture.html">å®˜æ–¹ Architecture</a></p>
<h2 id="é…ç½®æ–‡ä»¶ç±»å‹åŠåŠ è½½é¡ºåº"><a href="#é…ç½®æ–‡ä»¶ç±»å‹åŠåŠ è½½é¡ºåº" class="headerlink" title="é…ç½®æ–‡ä»¶ç±»å‹åŠåŠ è½½é¡ºåº"></a>é…ç½®æ–‡ä»¶ç±»å‹åŠåŠ è½½é¡ºåº</h2><h3 id="Log4j2-é…ç½®æ–‡ä»¶çš„å››ç§æ–¹å¼"><a href="#Log4j2-é…ç½®æ–‡ä»¶çš„å››ç§æ–¹å¼" class="headerlink" title="Log4j2 é…ç½®æ–‡ä»¶çš„å››ç§æ–¹å¼"></a><code>Log4j2</code> é…ç½®æ–‡ä»¶çš„å››ç§æ–¹å¼</h3><ol>
<li>é€šè¿‡ XMLã€JSONã€YAML æˆ–è€… properties æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼›</li>
<li>é€šè¿‡åˆ›å»ºä¸€ä¸ª ConfigurationFactory å’Œ Configuration æ¥å£çš„å®ç°</li>
<li>è°ƒç”¨ Configuration æ¥å£æš´éœ²çš„æ–¹æ³•æ¥åœ¨é»˜è®¤é…ç½®çš„åŸºç¡€ä¸Šæ·»åŠ å…¶ä»–ç»„ä»¶</li>
<li>é€šè¿‡åœ¨å†…éƒ¨ Logger ç±»ä¸Šè°ƒç”¨æ–¹æ³•</li>
</ol>
<p>Log4j2 åŒ…å« 4 ç§ ConfigurationFactory çš„å®ç°ï¼Œåˆ†åˆ«é€‚ç”¨äº JSONã€YAMLã€properties å’Œ XML é…ç½®æ–‡ä»¶ã€‚</p>
<h3 id="åœ¨-Log4j2-å¯åŠ¨æ—¶å¯ä»¥æŒ‰ç…§ä»¥ä¸‹é¡ºåºè‡ªåŠ¨åŠ è½½é…ç½®æ–‡ä»¶"><a href="#åœ¨-Log4j2-å¯åŠ¨æ—¶å¯ä»¥æŒ‰ç…§ä»¥ä¸‹é¡ºåºè‡ªåŠ¨åŠ è½½é…ç½®æ–‡ä»¶" class="headerlink" title="åœ¨ Log4j2 å¯åŠ¨æ—¶å¯ä»¥æŒ‰ç…§ä»¥ä¸‹é¡ºåºè‡ªåŠ¨åŠ è½½é…ç½®æ–‡ä»¶"></a>åœ¨ <code>Log4j2</code> å¯åŠ¨æ—¶å¯ä»¥æŒ‰ç…§ä»¥ä¸‹é¡ºåºè‡ªåŠ¨åŠ è½½é…ç½®æ–‡ä»¶</h3><ol>
<li>æŸ¥æ‰¾ <code>log4j.configurationFile</code> ç³»ç»Ÿå±æ€§æ‰€æŒ‡å®šçš„é…ç½®æ–‡ä»¶åï¼Œè‹¥è¯¥ç³»ç»Ÿå±æ€§å€¼å­˜åœ¨ï¼Œå°±å°è¯•ä½¿ç”¨ç›¸åº”æ–‡ä»¶æ‰©å±•åçš„ <code>ConfigurationFactory</code><br>æ¥åŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶ã€‚é€šè¿‡åœ¨ä»£ç ä¸­è°ƒç”¨ <code>System.setProperties(&quot;log4j.configurationFile&quot;,&quot;FILE_PATH&quot;)</code> æˆ–è€…<br>å°† <code>-Dlog4jconfigurationFile=file://C:/configuration.xml</code>å‚æ•°ä¼ é€’ç»™ JVM</li>
<li>è‹¥æ²¡æ‰¾åˆ°ï¼Œåˆ™<code>properties ConfigurationFactory</code>å°±åœ¨<code>classpath</code>ä¸­å¯»æ‰¾ <code>log4j2-test.properties</code> é…ç½®æ–‡ä»¶</li>
<li>è‹¥æ²¡æ‰¾åˆ°ï¼Œåˆ™<code>YAML ConfigurationFactory</code>å°±åœ¨ <code>classpath</code> ä¸­å¯»æ‰¾<code>log4j2-test.yaml</code> æˆ– <code>log4j2-test.yml</code>é…ç½®æ–‡ä»¶</li>
<li>è‹¥æ²¡æ‰¾åˆ°ï¼Œåˆ™<code>JSON ConfigurationFactory</code>å°±åœ¨ <code>classpath</code> ä¸­å¯»æ‰¾ <code>log4j2-test.json</code> æˆ– <code>log4j2-test.jsn</code> é…ç½®æ–‡ä»¶</li>
<li>è‹¥æ²¡æ‰¾åˆ°ï¼Œåˆ™<code>XML ConfigurationFactory</code> å°±åœ¨ <code>classpath</code> ä¸­å¯»æ‰¾<code>log4j2-test.xml</code>é…ç½®æ–‡ä»¶</li>
<li><strong>è‹¥æ²¡æ‰¾åˆ°æµ‹è¯•é…ç½®æ–‡ä»¶</strong>ï¼Œåˆ™<code>properties ConfigurationFactory</code>å°±åœ¨ <code>classpath</code> ä¸­å¯»æ‰¾<code>log4j2.properties</code>é…ç½®æ–‡ä»¶</li>
<li>è‹¥æ²¡æ‰¾åˆ°ï¼Œåˆ™<code>YAML ConfigurationFactory</code>å°±åœ¨ <code>classpath</code> ä¸­å¯»æ‰¾ <code>log4j2.yaml</code> æˆ– <code>log4j2.yml</code> é…ç½®æ–‡ä»¶</li>
<li>è‹¥æ²¡æ‰¾åˆ°ï¼Œåˆ™<code>JSON ConfigurationFactory</code>å°±åœ¨ <code>classpath</code> ä¸­å¯»æ‰¾ <code>log4j2.json</code> æˆ– <code>log4j2.jsn</code> é…ç½®æ–‡ä»¶</li>
<li>è‹¥æ²¡æ‰¾åˆ°ï¼Œåˆ™<code>XML ConfigurationFactory</code> å°±åœ¨ <code>classpath</code> ä¸­å¯»æ‰¾ <code>log4j2.xml</code> é…ç½®æ–‡ä»¶ (ç”Ÿäº§ç¯å¢ƒå¸¸ç”¨)</li>
<li>å¦‚æœä¸Šé¢çš„é…ç½®æ–‡ä»¶éƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä½¿ç”¨é»˜è®¤çš„ <code>DefaultConfiguration</code> é…ç½®</li>
</ol>
<h2 id="Configurationå…ƒç´ é…ç½®"><a href="#Configurationå…ƒç´ é…ç½®" class="headerlink" title="Configurationå…ƒç´ é…ç½®"></a><code>Configuration</code>å…ƒç´ é…ç½®</h2><p>Configuration å…ƒç´ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å±æ€§</p>
<ul>
<li><code>advertiser</code>ï¼š å¯é€‰çš„ <code>Advertiser</code> æ’ä»¶åï¼Œç”¨æ¥é€šçŸ¥ä¸ªåˆ« <code>FileAppender</code>æˆ– <code>SocketAppender</code> çš„é…ç½®ã€‚ç›®å‰å”¯ä¸€å¯ç”¨ <code>Advertiser</code> åä¸º<code>multicastdns</code></li>
<li><code>dest</code>ï¼š<code>err</code> ï¼ˆå°†è¾“å‡ºåˆ° <code>stderr</code> ä¸Šï¼‰æˆ–ä¸€ä¸ªæ–‡ä»¶è·¯å¾„æˆ–ä¸€ä¸ª<code>URL</code>ï¼›</li>
<li><code>monitorInterval</code>ï¼š æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰æ›´æ–°çš„é—´éš”ç§’æ•°ï¼›</li>
<li><code>name</code>ï¼š é…ç½®çš„åç§°ï¼›</li>
<li><code>packages</code>ï¼š é€—å·åˆ†éš”çš„ç”¨äºæœç´¢æ’ä»¶çš„åŒ…ååˆ—è¡¨ã€‚æ’ä»¶åªä¼šè¢«æ¯ä¸ªç±»åŠ è½½å™¨åŠ è½½ä¸€æ¬¡ï¼Œæ‰€ä»¥ä»…é‡æ–°é…ç½®è¯¥é¡¹ä¸ä¼šç”Ÿæ•ˆï¼›</li>
<li><code>schema</code>ï¼š ä¸ºç±»åŠ è½½å™¨å®šä½<code>XML Schema</code>ä½ç½®ä»¥éªŒè¯é…ç½®ã€‚ä»…å½“<code>strict</code>å±æ€§è®¾ç½®ä¸º<code>true</code>æ—¶è¯¥å±æ€§æ‰æœ‰æ•ˆï¼Œå¦‚æœä¸è®¾ç½®è¯¥å±æ€§ï¼Œåˆ™ä¸ä¼šéªŒè¯<code>Schema</code></li>
<li><code>shutdownHook</code>ï¼š è®¾ç½®å½“ <code>JVM</code> å…³é—­æ—¶ <code>log4j</code> æ˜¯å¦ä¹Ÿè‡ªåŠ¨å…³é—­ã€‚é»˜è®¤æ˜¯å¯ç”¨çš„ï¼Œä¹Ÿå¯ä»¥è®¾ç½®è¯¥å±æ€§ä¸º <code>disable</code> æ¥ç¦ç”¨è¯¥å…³é—­é’©å­ï¼›</li>
<li><code>shutdownTimeout</code>ï¼š è®¾ç½®å½“ <code>JVM</code> å…³é—­å <code>Appender</code> å’Œåå°ä»»åŠ¡è¶…æ—¶å¤šå°‘æ¯«ç§’æ‰å…³é—­ã€‚é»˜è®¤ä¸º<code>0</code>ï¼Œè¡¨ç¤ºæ¯ä¸ª<code>Appender</code>ä½¿ç”¨å…¶é»˜è®¤çš„è¶…æ—¶ï¼Œä¸ç­‰å¾…åå°ä»»åŠ¡ã€‚<br>è¿™ä»…æ˜¯ä¸ªæç¤ºï¼Œè€Œä¸èƒ½ä¿è¯å…³é—­è¿›ç¨‹ä¸ä¼šèŠ±è´¹æ›´é•¿çš„æ—¶é—´ã€‚å°†è¯¥å€¼è®¾ç½®è¿‡å°å¯èƒ½å¢åŠ æ—¥å¿—äº‹ä»¶åœ¨è¿˜æœªè¾“å‡ºåˆ°æœ€ç»ˆä½ç½®ä¹‹å‰å°±ä¸¢å¤±çš„é£é™©ã€‚<br>å¦‚æœ <code>shutdownHook</code> å±æ€§æœªè®¾ç½®ï¼Œé‚£ä¹ˆå°†ä¸ä¼šä½¿ç”¨è¯¥å±æ€§ï¼›</li>
<li><code>status</code>ï¼š åº”è¯¥æ‰“å°åˆ°æ§åˆ¶å°çš„å†…éƒ¨ <code>Log4j</code> æ—¥å¿—äº‹ä»¶çš„çº§åˆ«ï¼Œå¯è®¾ç½®çš„å€¼æœ‰ <code>trace</code>ã€<code>debug</code>ã€<code>info</code>ã€<code>warn</code>ã€<code>error</code> å’Œ <code>fatal</code>ï¼Œ<code>Log4j</code> å°†ä¼šæ‰“å°å‡ºå†…éƒ¨åˆå§‹åŒ–ç­‰äº‹ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼ˆåœ¨å‘ç°é…ç½®æ–‡ä»¶ä¹‹åï¼‰ã€‚è®¾ç½®è¯¥å±æ€§ä¸º <code>trace</code> æ˜¯æŸ¥æ‰¾ <code>Log4j</code> æ•…éšœçš„ç¬¬ä¸€æ‰‹å·¥å…·ã€‚ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½® <code>log4j2.debug</code> ç³»ç»Ÿå±æ€§æ¥è¾“å‡º <code>Log4j</code> å†…éƒ¨æ—¥å¿—ï¼ŒåŒ…æ‹¬é…ç½®æ–‡ä»¶åŠ è½½å‰çš„å†…éƒ¨æ—¥å¿—ï¼ˆä» <code>log4j 2.9</code> å¼€å§‹ï¼‰</li>
<li><code>strict</code>ï¼š ä½¿ç”¨ä¸¥æ ¼çš„ <code>XML</code> æ ¼å¼ï¼Œ <code>JSON</code> æ ¼å¼çš„é…ç½®æ–‡ä»¶ä¸æ”¯æŒè¯¥å±æ€§</li>
<li><code>verbose</code>ï¼š åŠ è½½æ’ä»¶æ—¶æ˜¯å¦æ˜¾ç¤ºè¯Šæ–­ä¿¡æ¯</li>
</ul>
<h2 id="Appendersé…ç½®"><a href="#Appendersé…ç½®" class="headerlink" title="Appendersé…ç½®"></a><code>Appenders</code>é…ç½®</h2><p><code>Log4j</code>ä½¿ç”¨<code>Appender</code>å°†æ—¥å¿—äº‹ä»¶æ•°æ®å†™åˆ°å„ç§ç›®æ ‡ä½ç½®ï¼ˆç›®å‰å¯ä»¥ä¸ºæ§åˆ¶å°ã€æ–‡ä»¶ã€å¤šç§æ•°æ®åº“ <code>API</code>ã€è¿œç¨‹å¥—æ¥å­—æœåŠ¡å™¨ã€<code>Apache Flume</code>ã€<code>JMS</code>ã€è¿œç¨‹ <code>UNIX Syslog daemon</code>ï¼‰ã€‚</p>
<p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ<code>Appender</code>å°†æ ¼å¼åŒ–äº‹ä»¶çš„è´£ä»»å§”æ‰˜ç»™<code>Layout</code>ã€‚ä¸€äº›<code>Appender</code>åŒ…è£…å…¶å®ƒ<code>Appender</code>ï¼Œä»¥ä¾¿å®ƒä»¬å¯ä»¥ä¿®æ”¹<code>LogEvent</code>ã€å¤„ç†<code>Appender</code>ä¸­çš„å¤±è´¥ã€æ ¹æ®é«˜çº§ç­›é€‰æ¡ä»¶å°†äº‹ä»¶è·¯ç”±åˆ°ä¸‹çº§<code>Appender</code>ï¼Œæˆ–è€…æä¾›ä¸ç›´æ¥æ ¼å¼åŒ–äº‹ä»¶çš„ç±»ä¼¼åŠŸèƒ½ã€‚</p>
<p><code>Appender</code>å¯ä»¥é€šè¿‡ç‰¹å®šçš„<code>Appender</code>æ’ä»¶åæˆ–<code>appender</code>å…ƒç´ ï¼ˆå¸¦æœ‰æŒ‡å®š<code>Appender</code>æ’ä»¶åçš„<code>type</code>å±æ€§ï¼‰æ¥é…ç½®ã€‚å¦å¤–æ¯ä¸ª<code>Appender</code>éƒ½å¿…é¡»è¦æœ‰ä¸€ä¸ª<code>name</code>å±æ€§ï¼Œç”¨æ¥æŒ‡å®šä¸€ä¸ªå»åˆ«åŒºå…¶å®ƒ<code>Appender</code>çš„å”¯ä¸€æ ‡è¯†ï¼Œè¯¥æ ‡è¯†çš„å€¼åœ¨<code>Logger</code>ä¸­é€šè¿‡<code>AppenderRef</code>æ¥å¼•ç”¨ï¼Œä»è€Œå°†è¯¥<code>Appender</code>é…ç½®åˆ°è¯¥ <code>Logger</code> ä¸­ã€‚</p>
<p>æ¯ä¸ª<code>Appender</code>éƒ½å¿…é¡»å®ç°<code>Appender</code>æ¥å£ï¼Œå¤šæ•°<code>Appender</code>éƒ½æ‰©å±•è‡ª<code>AbstractAppender</code>ï¼Œè¯¥æŠ½è±¡ç±»æ·»åŠ äº†<code>Lifecycle</code>å’Œ<code>Filterable</code>æ”¯æŒã€‚<code>Lifecycle</code>å¯ä»¥å¯¹æ—¥å¿—ç»„ä»¶åœ¨é…ç½®åŠ è½½åè¿›è¡Œåˆå§‹åŒ–å’Œåœ¨å…³é—­æ—¶è¿›è¡Œæ¸…ç†ç­‰æ“ä½œã€‚<code>Filterable</code>å¯ä»¥è®©æ—¥å¿—ç»„ä»¶ç»‘å®šç”¨äºå¤„ç†æ—¥å¿—äº‹ä»¶çš„è¿‡æ»¤å™¨ã€‚ä»£è¡¨ä¸åŒç›®æ ‡ä½ç½®çš„å„ç§<code>Appender</code>ä¹Ÿå…·æœ‰å…¶åŠŸèƒ½æ‰€éœ€çš„å…¶ä»–å±æ€§å’Œå­å…ƒç´ ã€‚è¿™é‡Œé€‰æ‹©å¸¸ç”¨çš„<code>Appender</code>åŠ ä»¥ä»‹ç»ã€‚</p>
<h3 id="1-ConsoleAppenderæ§åˆ¶å°è¾“å‡º"><a href="#1-ConsoleAppenderæ§åˆ¶å°è¾“å‡º" class="headerlink" title="1. ConsoleAppenderæ§åˆ¶å°è¾“å‡º"></a>1. <code>ConsoleAppender</code>æ§åˆ¶å°è¾“å‡º</h3><p><code>ConsoleAppender</code>ä¼šå°†è¾“å‡ºå†™å…¥<code>System.out</code>ï¼ˆé»˜è®¤ç›®æ ‡ä½ç½®ï¼‰æˆ– <code>System.err</code> ä¸­ã€‚å¿…é¡»æä¾›ä¸€ä¸ª <code>Layout</code> æ¥æ ¼å¼åŒ–<code>LogEvent</code></p>
<p>å‚æ•°åï¼ˆç±»å‹ï¼‰ï¼šä»‹ç»è¯´æ˜</p>
<ul>
<li><code>filterï¼ˆFilterï¼‰</code>ï¼š æŒ‡å®šä¸€ä¸ªè¿‡æ»¤å™¨æ¥å†³å®šæ˜¯å¦å°†æ—¥å¿—äº‹ä»¶ä¼ é€’ç»™<code>Appender</code>å¤„ç†ã€‚å¯ä»¥æŒ‡å®šä¸ºä¸€ä¸ª<code>CompositeFilter</code>æ¥ä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨ã€‚</li>
<li><code>layoutï¼ˆLayoutï¼‰</code>ï¼š æŒ‡å®šæ ¼å¼åŒ–<code>LogEvent</code>çš„<code>Layout</code>ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š<code>Layout</code>ï¼Œåˆ™é»˜è®¤ä½¿ç”¨ <code>%m%n</code> æ ¼å¼ã€‚</li>
<li><code>followï¼ˆbooleanï¼‰</code>ï¼š åœ¨é…ç½®å¥½ä¹‹åï¼Œæ˜¯å¦å¯ä»¥é€šè¿‡ <code>System.setOut</code> æˆ– <code>System.setErr</code>æ¥é‡æ–°æŒ‡å®šè¾“å‡ºä½ç½®ä¸º <code>System.out</code>æˆ– <code>System.err</code>ã€‚ ä¸èƒ½åœ¨ <code>Windows</code> ä¸‹ç”¨äº <code>Jansi</code>ï¼Œä¹Ÿä¸èƒ½å’Œ<code>direct</code>å±æ€§ä¸€èµ·ä½¿ç”¨ã€‚</li>
<li><code>directï¼ˆbooleanï¼‰</code>ï¼š ç»•å¼€<code>java.lang.System.out/.err</code>ç›´æ¥å†™å…¥<code>java.io.FileDescriptor</code>ã€‚å½“è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶æˆ–å…¶ä»–ç›®æ ‡æ—¶å¯ä»¥èŠ‚çº¦ 10 å€çš„æ€§èƒ½æ¶ˆè€—ã€‚ä¸èƒ½åœ¨<code>Windows</code>ä¸‹ç”¨äº <code>Jansi</code>ï¼Œä¹Ÿæ€§ä¸èƒ½å’Œ <code>follow</code> å±æ€§ä¸€èµ·ä½¿ç”¨ã€‚åœ¨å¤šçº¿ç¨‹åº”ç”¨ä¸­ï¼Œè¾“å‡ºä¸ä¼šéµå¾ª <code>java.lang.System.setOut()/.setErr()</code> ï¼Œè€Œæ˜¯å¯èƒ½ä¼šå’Œå…¶ä»–è¾“å‡ºçº ç¼ åœ¨ä¸€èµ·è¾“å‡ºåˆ° <code>java.lang.System.out/.err</code>ã€‚è¯¥å±æ€§æ˜¯ <code>2.6.2</code> ç‰ˆæœ¬æ–°å¢çš„ï¼Œç›®å‰ä»…åœ¨<code>Linux</code>å’Œ<code>Windows</code>ä¸‹çš„<code>Oracle JVM</code>ç¯å¢ƒä¸­æµ‹è¯•è¿‡ã€‚</li>
<li><code>nameï¼ˆStringï¼‰</code>ï¼š å¿…é€‰çš„ <code>Appender</code> çš„åç§°ï¼Œè¡¨ç¤ºåŒºåˆ«äºå…¶ä»– <code>Appender</code> çš„å”¯ä¸€æ ‡è¯†ã€‚</li>
<li><code>ignoreExceptionsï¼ˆbooleanï¼‰</code>ï¼š é»˜è®¤ä¸º <code>true</code>ï¼Œè¡¨ç¤ºå½“è¾“å‡ºäº‹ä»¶æ—¶å‡ºç°çš„å¼‚å¸¸å°†ä¼šè¢«å†…éƒ¨è®°å½•è€Œå¿½ç•¥ã€‚ å½“è®¾ç½®ä¸º <code>false</code> æ—¶ï¼Œåˆ™ä¼šå°†å¼‚å¸¸ä¼ æ’­ç»™è°ƒç”¨è€…ã€‚ å½“å°†è¯¥ <code>Appender</code> åŒ…è£…æˆ <code>FailoverAppender</code> æ—¶ï¼Œå¿…é¡»è®¾ç½®ä¸º <code>false</code>ã€‚</li>
<li><code>targetï¼ˆStringï¼‰</code>ï¼š <code>SYSTEM_OUT</code> æˆ– <code>SYSTEM_ERR</code>ã€‚é»˜è®¤ä¸º <code>SYSTEM_OUT</code>ã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Configuration</span> <span class="attr">status</span>=<span class="string">&quot;error&quot;</span> <span class="attr">monitorInterval</span>=<span class="string">&quot;30&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;myPattern&quot;</span> <span class="attr">value</span>=<span class="string">&quot;%d&#123;HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Appenders</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">&quot;ConsoleAppend&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_ERR&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;$&#123;myPattern&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Appenders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Loggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Root</span> <span class="attr">level</span>=<span class="string">&quot;WARN&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;ConsoleAppend&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ—¥å¿—è¾“å‡º</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">16:42:41.556 [main] FATAL cn.xw.Log4j2Demo -  ä¸¥é‡é”™è¯¯ï¼Œä¸€èˆ¬é€ æˆç³»ç»Ÿå´©æºƒå¹¶ç»ˆæ­¢è¿è¡Œ</span><br><span class="line">16:42:41.559 [main] ERROR cn.xw.Log4j2Demo -  é”™è¯¯ä¿¡æ¯ï¼Œä¸ä¼šå½±å“ç³»ç»Ÿè¿è¡Œ</span><br><span class="line">16:42:41.559 [main] WARN  cn.xw.Log4j2Demo -  è­¦å‘Šä¿¡æ¯ï¼Œå¯èƒ½ä¼šå‘ç”Ÿé—®é¢˜</span><br></pre></td></tr></table></figure>

<h3 id="2-RollingFileAppender-æ–‡ä»¶è¾“å‡º"><a href="#2-RollingFileAppender-æ–‡ä»¶è¾“å‡º" class="headerlink" title="2. RollingFileAppender æ–‡ä»¶è¾“å‡º"></a>2. <code>RollingFileAppender</code> æ–‡ä»¶è¾“å‡º</h3><p><code>RollingFileAppender</code> ä¼šå°†è¾“å‡ºåˆ° <code>fileName</code> å‚æ•°æŒ‡å®šçš„æ–‡ä»¶ä¸­ï¼Œä¸”éœ€è¦æŒ‡å®š <code>TriggeringPolicy</code> å’Œ <code>RolloverStrategy</code>ã€‚å…¶ä¸­ <code>TriggeringPolicy</code> å†³å®šæ˜¯å¦ç”Ÿæˆæ–°çš„æ—¥å¿—æ–‡ä»¶ï¼Œ<code>RolloverStrategy</code> å†³å®šå¦‚ä½•ç”Ÿæˆæ–°çš„æ—¥å¿—æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰é…ç½® <code>RolloverStrategy</code>ï¼Œåˆ™ä¼šä½¿ç”¨ <code>DefaultRolloverStrategy</code>ã€‚ä»<code>Log4j 2.5</code>å¼€å§‹ï¼Œå¯ä»¥åœ¨ <code>DefaultRolloverStrategy</code> ä¸­é…ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„åˆ é™¤åŠ¨ä½œã€‚ä» <code>Log4j2.8</code>å¼€å§‹ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šæ–‡ä»¶åï¼Œåˆ™ä¼šä½¿ç”¨ <code>DirectWriteRolloverStrategy</code> æ¥ä»£æ›¿ <code>DefaultRolloverStrategy</code>ã€‚ä» <code>Log4j 2.9</code> å¼€å§‹ï¼Œå¯ä»¥åœ¨ <code>DefaultRolloverStrategy</code> ä¸­é…ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>POSIX</code> æ–‡ä»¶å±æ€§æŸ¥çœ‹åŠ¨ä½œï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰è¯¥åŠ¨ä½œï¼Œåˆ™å°†ä¼šä½¿ç”¨ä» <code>RollingFileAppender</code> ç»§æ‰¿çš„<code>POSIX</code>ã€‚**_<code>RollingFileAppender</code> ä¸æ”¯æŒæ–‡ä»¶é”_**ã€‚</p>
<p>å‚æ•°åï¼ˆç±»å‹ï¼‰ï¼šä»‹ç»è¯´æ˜</p>
<ul>
<li><code>appendï¼ˆbooleanï¼‰</code>ï¼š å½“ä¸º <code>true</code>ï¼ˆé»˜è®¤ï¼‰æ—¶ï¼Œæ—¥å¿—è®°å½•å°†ä¼šæ·»åŠ åˆ°æ–‡ä»¶æœ«å°¾ã€‚è®¾ç½®ä¸º <code>false</code> æ—¶ï¼Œæ—¥å¿—è®°å½•å†™å…¥æ–‡ä»¶ä¹‹å‰ä¼šæ¸…ç©ºæ–‡ä»¶ã€‚</li>
<li><code>bufferedIOï¼ˆbooleanï¼‰</code>ï¼š å½“ä¸º <code>true</code>ï¼ˆé»˜è®¤ï¼‰æ—¶ï¼Œæ—¥å¿—è®°å½•å°†ä¼šå†™å…¥ä¸€ä¸ªç¼“å†²åŒºï¼Œå½“ç¼“å†²åŒºæ»¡æˆ–è®¾ç½®äº† <code>immediateFlush</code>ï¼Œæ—¥å¿—è®°å½•æ‰ä¼šå†™å…¥ç£ç›˜ä¸­ã€‚ è¯¥å±æ€§ä¸èƒ½ä½¿ç”¨æ–‡ä»¶é”ã€‚ç¼“å†² <code>I/O</code> èƒ½å¤Ÿæ˜¾è‘—æé«˜æ€§èƒ½ï¼Œå³ä½¿å¯ç”¨äº† <code>immediateFlush</code>ã€‚</li>
<li><code>immediateFlushï¼ˆbooleanï¼‰</code>ï¼š å½“ä¸º <code>true</code>ï¼ˆé»˜è®¤ï¼‰æ—¶ï¼Œæ¯æ¬¡å†™å…¥éƒ½ä¼šè·Ÿéšä¸€æ¬¡ <code>flush</code> ã€‚è¿™å°†ä¿è¯æ•°æ®å†™å…¥ç£ç›˜ï¼Œä½†ä¼šå½±å“æ€§èƒ½ã€‚ä»…å½“ä½¿ç”¨å¼‚æ­¥ <code>Logger</code> çš„ <code>Appender</code> æ—¶è®¾ç½®æ¯æ¬¡å†™å…¥éƒ½è¿›è¡Œ <code>flush</code> æ‰æœ‰ç”¨ã€‚å¼‚æ­¥çš„ <code>Logger</code> å’Œ <code>Appender</code> ä¼šåœ¨ä¸€æ‰¹æ¬¡çš„æ—¥å¿—äº‹ä»¶æœ«å°¾è‡ªåŠ¨ <code>flush</code> ï¼Œå³ä½¿è¯¥å±æ€§è®¾ç½®ä¸º <code>false</code> ï¼Œè¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥ä¿è¯æ•°æ®å†™å…¥ç£ç›˜ï¼Œä½†æ˜¯æ›´æœ‰æ•ˆç‡ã€‚</li>
<li><code>bufferSizeï¼ˆintï¼‰</code>ï¼š å½“ <code>bufferedIO</code> ä¸º <code>true</code> æ—¶ï¼Œè¯¥å±æ€§ç”¨æ¥è®¾ç½®ç¼“å†²åŒºçš„å¤§å°ï¼Œé»˜è®¤ä¸º <code>8192</code> å­—èŠ‚ã€‚</li>
<li><code>createOnDemandï¼ˆbooleanï¼‰</code>ï¼š <code>Appender</code> æ˜¯æŒ‰éœ€ï¼ˆ<code>on-demand</code>ï¼‰åˆ›å»ºæ–‡ä»¶çš„ã€‚ä»…å½“æ—¥å¿—äº‹ä»¶é€šè¿‡æ‰€æœ‰è¿‡æ»¤å™¨å¹¶åˆ°è¾¾ <code>Appender</code> æ—¶ï¼Œè¯¥ <code>Appender</code> æ‰ä¼šåˆ›å»ºæ–‡ä»¶ã€‚é»˜è®¤ä¸º <code>false</code>ã€‚</li>
<li><code>filterï¼ˆFilterï¼‰</code>ï¼š æŒ‡å®šä¸€ä¸ªè¿‡æ»¤å™¨æ¥å†³å®šæ˜¯å¦å°†æ—¥å¿—äº‹ä»¶ä¼ é€’ç»™ <code>Appender</code> å¤„ç†ã€‚å¯ä»¥æŒ‡å®šä¸ºä¸€ä¸ª <code>CompositeFilter</code> æ¥ä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨ã€‚</li>
<li><code>fileNameï¼ˆStringï¼‰</code>ï¼š è®¾ç½®å†™å…¥æ—¥å¿—è®°å½•çš„æ–‡ä»¶åã€‚å¦‚æœè¯¥æ–‡ä»¶æˆ–å…¶çˆ¶ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ›å»ºã€‚</li>
<li><code>filePatternï¼ˆStringï¼‰</code>ï¼š å½’æ¡£æ—¥å¿—æ–‡ä»¶çš„æ–‡ä»¶åæ¨¡å¼ï¼ˆ<code>pattern</code>ï¼‰ã€‚è¯¥æ¨¡å¼ä¾èµ–äºæ‰€ç”¨çš„ <code>RolloverPolicy</code> ã€‚<code>DefaultRolloverPolicy</code> å¯ä»¥æ¥å—å…¼å®¹<br><code>SimpleDateFormat</code> çš„æ—¥æœŸ&#x2F;æ—¶é—´æˆ–è¡¨ç¤ºä¸€ä¸ªæ•´æ•°çš„è®¡æ•°å™¨çš„ <code>%i</code> ã€‚è¯¥æ¨¡å¼ä¹Ÿæ”¯æŒè¿è¡Œæ—¶æ’å…¥å€¼ï¼ˆ<code>interpolation</code>ï¼‰ï¼Œæ•…ä»»ä½• <code>Lookup</code>ï¼ˆæ¯”å¦‚ <code>DateLookup</code>ï¼‰éƒ½å¯ä»¥åŒ…å«è¯¥æ¨¡å¼ã€‚</li>
<li><code>layoutï¼ˆLayoutï¼‰</code>ï¼š æŒ‡å®šæ ¼å¼åŒ– <code>LogEvent</code> çš„ <code>Layout</code> ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š <code>Layout</code> ï¼Œåˆ™é»˜è®¤ä½¿ç”¨ <code>%m%n</code> æ ¼å¼ã€‚</li>
<li><code>nameï¼ˆStringï¼‰</code>ï¼š å¿…é€‰çš„ <code>Appender</code> çš„åç§°ï¼Œè¡¨ç¤ºåŒºåˆ«äºå…¶ä»– <code>Appender</code> çš„å”¯ä¸€æ ‡è¯†ã€‚</li>
<li><code>policyï¼ˆTriggeringPolicyï¼‰</code>ï¼š è®¾ç½®ç¡®å®šæ˜¯å¦åˆ›å»ºæ–‡ä»¶çš„è§„åˆ™ï¼ˆ<code>policy</code>ï¼‰ã€‚</li>
<li><code>strategyï¼ˆRolloverStrategyï¼‰</code>ï¼š è®¾ç½®ç¡®å®šå½’æ¡£æ–‡ä»¶çš„æ–‡ä»¶åå’Œä½ç½®çš„ç­–ç•¥ï¼ˆ<code>strategy</code>ï¼‰ã€‚</li>
<li><code>ignoreExceptionsï¼ˆbooleanï¼‰</code>ï¼š é»˜è®¤ä¸º <code>true</code> ï¼Œè¡¨ç¤ºå½“è¾“å‡ºäº‹ä»¶æ—¶å‡ºç°çš„å¼‚å¸¸å°†ä¼šè¢«å†…éƒ¨è®°å½•è€Œå¿½ç•¥ã€‚ å½“è®¾ç½®ä¸º <code>false</code> æ—¶ï¼Œåˆ™ä¼šå°†å¼‚å¸¸ä¼ æ’­ç»™è°ƒç”¨è€…ã€‚å½“å°†è¯¥ <code>Appender</code> åŒ…è£…æˆ <code>FailoverAppender</code> æ—¶ï¼Œå¿…é¡»è®¾ç½®ä¸º <code>false</code>ã€‚</li>
<li><code>filePermissionsï¼ˆStringï¼‰</code>ï¼š è®¾ç½®æ¯å½“åˆ›å»ºæ–‡ä»¶æ—¶æ‰€ç”¨çš„ <code>POSIX</code> æ ¼å¼çš„æ–‡ä»¶å±æ€§æƒé™ã€‚åº•å±‚æ–‡ä»¶ç³»ç»Ÿåº”è¯¥æ”¯æŒ <code>POSIX</code> æ ¼å¼çš„æ–‡ä»¶å±æ€§è§†å›¾ã€‚ æ¯”å¦‚ï¼š <code>rw-------</code> æˆ– <code>rw-rw-rw-</code> ç­‰ã€‚</li>
<li><code>fileOwnerï¼ˆStringï¼‰</code>ï¼š æŒ‡å®šæ¯æ¬¡åˆ›å»ºæ–‡ä»¶çš„å±ä¸»ã€‚ç”±äºæƒé™åŸå› ï¼Œå¯èƒ½ä¸å…è®¸æ›´æ”¹æ–‡ä»¶å±ä¸»ï¼Œè¿™æ—¶ä¼šæŠ›å‡º <code>IOException</code> ã€‚ä»…å½“æœ‰æ•ˆçš„ç›®æ ‡ç”¨æˆ· <code>ID</code> å’Œæ–‡ä»¶çš„ç”¨æˆ· <code>ID</code> ç›¸åŒï¼Œæˆ–ç›®æ ‡ç”¨æˆ· <code>ID</code> å…·æœ‰ä¿®æ”¹æ–‡ä»¶å±ä¸»çš„æƒé™ï¼ˆå¦‚æœ <code>_POSIX_CHOWN_RESTRICTED</code> åœ¨æ—¥å¿—æ–‡ä»¶è·¯å¾„ä¸‹æœ‰æ•ˆï¼‰æ—¶æ‰ä¼šå¤„ç†ã€‚åº•å±‚æ–‡ä»¶ç³»ç»Ÿåº”è¯¥æ”¯æŒ <code>owner</code> æ–‡ä»¶å±æ€§è§†å›¾ã€‚</li>
<li><code>fileGroupï¼ˆStringï¼‰</code>ï¼š æŒ‡å®šæ¯æ¬¡åˆ›å»ºæ–‡ä»¶çš„å±ç»„ã€‚åº•å±‚æ–‡ä»¶ç³»ç»Ÿåº”è¯¥æ”¯æŒ <code>POSIX</code> æ ¼å¼çš„æ–‡ä»¶å±æ€§è§†å›¾ã€‚</li>
</ul>
<h4 id="ç»„åˆè§¦å‘è§„åˆ™"><a href="#ç»„åˆè§¦å‘è§„åˆ™" class="headerlink" title="ç»„åˆè§¦å‘è§„åˆ™"></a>ç»„åˆè§¦å‘è§„åˆ™</h4><p><code>CompositeTriggeringPolicy</code> ç»„åˆäº†å¤šä¸ªè§¦å‘è§„åˆ™ï¼ˆ<code>policy</code>ï¼‰ï¼Œå¦‚æœé…ç½®çš„ä»»æ„è§„åˆ™è¿”å› <code>true</code> æ—¶ï¼Œ<br>åˆ™ <code>CompositeTriggeringPolicy</code> ä¹Ÿè¿”å› <code>true</code>ï¼Œä¹Ÿå‘ç”Ÿäº†è§¦å‘ã€‚<code>CompositeTriggeringPolicy</code> é€šè¿‡å°†å…¶è§„åˆ™åŒ…è£…è¿› <code>Policies</code> å…ƒç´ å³å¯é…ç½®ã€‚</p>
<p>ä¸‹é¢ <code>XML</code> ç‰‡æ®µå®šä¹‰äº†ä¸€ä¸ªæ—¥å¿—æ»šåŠ¨è§„åˆ™ï¼šå½“ <code>JVM</code> å¯åŠ¨æ—¶ã€æ—¥å¿—æ–‡ä»¶å¤§å°è¾¾åˆ° 20MB ä¸”å½“å‰æ—¥æœŸä¸å†åŒ¹é…æ—¥å¿—å¼€å§‹æ—¥æœŸæ—¶å°±æ»šåŠ¨æ—¥å¿—</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ‰“å°åˆ°æ—¥å¿—æ–‡ä»¶ä¸Šå¹¶æ‹†åˆ†å½’æ¡£ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Appenders</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">RollingFile</span> <span class="attr">name</span>=<span class="string">&quot;rollingFile&quot;</span> <span class="attr">fileName</span>=<span class="string">&quot;$&#123;dir_url&#125;/rollFileLog.log&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">filePattern</span>=<span class="string">&quot;$&#123;dir_url&#125;/$$&#123;date:yyyy_MM_dd&#125;/appLog_%d&#123;yyyy_MM_dd_HH_mm_ss&#125;_%i.log.gz&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;[%-5level] %d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %m%n&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">OnStartupTriggeringPolicy</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">&quot;2MB&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å½“å‰æ—¥å¿—æ–‡ä»¶å¤¹ä¸‹çš„å½’æ¡£çš„æ–‡ä»¶ä¸ªæ•°ï¼Œæ­¤æ—¶ä¸º2ä¸ªæ–‡ä»¶ï¼Œè¶…å‡ºåˆ™è¦†ç›–ä¹‹å‰æ–‡ä»¶ï¼Œé»˜è®¤7--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">DefaultRolloverStrategy</span> <span class="attr">max</span>=<span class="string">&quot;4&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">RollingFile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Appenders</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å¯åŠ¨è§¦å‘è§„åˆ™ï¼š <code>OnStartupTriggeringPolicy</code> åœ¨æ—¥å¿—æ–‡ä»¶æ¯”å½“å‰ <code>JVM</code> å¯åŠ¨æ—¶é—´è¾ƒæ—©æ—¶è¿›è¡Œæ—¥å¿—æ»šåŠ¨ï¼ŒåŒæ—¶éµå¾ªä¸‹é¢çš„ <code>minSize</code>å±æ€§è§„åˆ™ã€‚ <code>OnStartupTriggeringPolicy</code> å±æ€§å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š<br><code>minSizeï¼ˆlongï¼‰</code>ï¼š æ—¥å¿—æ–‡ä»¶æ»šåŠ¨çš„æœ€å°å­—èŠ‚ã€‚å¤§å°ä¸º <code>0</code> è¡¨ç¤ºä¸ç®¡æ–‡ä»¶å¤§å°ä¸ºå¤šå°‘å­—èŠ‚éƒ½æ»šåŠ¨ã€‚é»˜è®¤å€¼ <code>1</code> å°†é˜»æ­¢å¯¹ç©ºæ–‡ä»¶è¿›è¡Œæ»šåŠ¨ã€‚</li>
<li>åŸºäºæ–‡ä»¶å¤§å°çš„è§¦å‘è§„åˆ™ï¼š <code>SizeBasedTriggeringPolicy</code> åœ¨æ–‡ä»¶å­—èŠ‚è¾¾åˆ°æŒ‡å®šçš„å¤§å°æ—¶è¿›è¡Œæ—¥å¿—æ»šåŠ¨ã€‚æ–‡ä»¶å¤§å°å¯ä»¥ä½¿ç”¨<code>KB</code>ã€<code>MB</code>ã€<code>GB</code>ç­‰åç¼€</li>
<li>åŸºäºæ—¶é—´çš„è§¦å‘è§„åˆ™ï¼š<code>TimeBasedTriggeringPolicy</code> åªè¦<strong>æ—¥æœŸ&#x2F;æ—¶é—´</strong>æ¨¡å¼ï¼ˆ<code>pattern</code>ï¼‰ä¸å†åº”ç”¨äºå½“å‰æ–‡ä»¶æ—¶å°±è¿›è¡Œæ—¥å¿—æ»šåŠ¨ã€‚è¿™ç§è§„åˆ™é€šè¿‡ <code>interval</code> å’Œ <code>modulate</code> å±æ€§æ¥é…ç½®ã€‚<br><code>TimeBasedTriggeringPolicy</code> å±æ€§å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š<ul>
<li><code>intervalï¼ˆintegerï¼‰</code>ï¼šåŸºäºæ—¥æœŸ&#x2F;æ—¶é—´æ¨¡å¼ä¸­çš„æœ€å°çš„æ—¶é—´å•ä½å¤šä¹…æ»šåŠ¨ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>filePattern</code> å‚æ•°ä¸­ä½¿ç”¨ä½¿ç”¨å°æ—¶ä½œä¸ºæœ€å°çš„æ—¶é—´å•ä½æ—¶ï¼ˆæ¯”å¦‚ <code>/appData/logs/myApp/$$&#123;date:yyyy-MM-dd&#125;/myApp-%d&#123;yyyy-MM-dd HH&#125;-%i.log</code>ï¼‰ï¼Œè¯¥å‚æ•°å€¼ä¸º <code>4</code>ï¼Œåˆ™è¡¨ç¤ºæ¯ <code>4</code> å°æ—¶æ»šåŠ¨ä¸€æ¬¡ã€‚é»˜è®¤å€¼ä¸º <code>1</code> ã€‚</li>
<li><code>modulateï¼ˆbooleanï¼‰</code>ï¼šæ˜¯å¦è°ƒæ•´ <code>interval</code> å±æ€§å€¼ï¼Œä»¥ä¾¿ä¸‹æ¬¡æ»šåŠ¨å‘ç”Ÿåœ¨ <code>interval</code> è¾¹ç•Œå¤„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ—¶é—´å•ä½ä¸ºå°æ—¶ï¼Œå½“å‰æ—¶é—´ä¸ºæ—©ä¸Š <code>3</code> ç‚¹ï¼Œé—´éš”ä¸º <code>4</code> å°æ—¶ï¼Œåˆ™ç¬¬ä¸€æ¬¡æ»šåŠ¨å°†å‘ç”Ÿåœ¨æ—©ä¸Š <code>4</code> ç‚¹æ—¶ï¼ˆè€Œä¸æ˜¯æ—©ä¸Š <code>7</code>ç‚¹ï¼‰ï¼Œåç»­æ»šåŠ¨å°†å‘ç”Ÿåœ¨ æ—©ä¸Š <code>8</code> ç‚¹ã€ä¸­åˆ <code>12</code> ç‚¹ã€ä¸‹åˆ <code>4</code> ç‚¹ç­‰æ—¶åˆ»ã€‚</li>
<li><code>maxRandomDelayï¼ˆintegerï¼‰</code>ï¼šæ»šåŠ¨æ“ä½œéšæœºå»¶è¿Ÿçš„æœ€é•¿ç§’æ•°ã€‚é»˜è®¤ <code>0</code> è¡¨ç¤ºæ— å»¶è¿Ÿã€‚è¯¥è®¾ç½®åœ¨æœ‰å¤šä¸ªåº”ç”¨åŒæ—¶æ»šåŠ¨æ—¥å¿—çš„æœåŠ¡å™¨ä¸Šå¾ˆæœ‰ç”¨ï¼Œå¯ä»¥æ‰©å®½æ»šåŠ¨æ—¥å¿—çš„çš„è´Ÿè½½æ—¶é—´èŒƒå›´ï¼Œé¿å…æŸä¸€ä¸ªæ—¶åˆ»ç”±äºæ»šåŠ¨æ—¥å¿—é€ æˆé«˜ <code>I/O</code> å‹åŠ›ã€‚</li>
</ul>
</li>
<li><code>Cron</code> è§¦å‘è§„åˆ™ï¼š<code>CronTriggeringPolicy</code> åŸºäº <code>cron</code> è¡¨è¾¾å¼æ¥æ»šåŠ¨æ—¥å¿—ã€‚<code>CronTriggeringPolicy</code> å±æ€§å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š<ul>
<li><code>scheduleï¼ˆStringï¼‰</code>ï¼šå’Œ <code>Quartz</code> è°ƒåº¦å™¨ä¸€æ ·çš„ <code>cron</code> è¡¨è¾¾å¼ã€‚å‚è€ƒ <code>CronExpression</code> æ¥æŸ¥çœ‹å…³äºè¯¥è¡¨è¾¾å¼çš„è¯¦ç»†æè¿°ã€‚</li>
<li><code>evaluateOnStartupï¼ˆbooleanï¼‰</code>ï¼šåœ¨å¯åŠ¨æ—¶ï¼Œè¯¥ <code>cron</code> è¡¨è¾¾å¼å°†åŸºäºæ–‡ä»¶çš„ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´æˆ³æ¥æ±‚å€¼ã€‚</li>
</ul>
</li>
</ul>
<h5 id="æ»šåŠ¨ç­–ç•¥"><a href="#æ»šåŠ¨ç­–ç•¥" class="headerlink" title="æ»šåŠ¨ç­–ç•¥"></a>æ»šåŠ¨ç­–ç•¥</h5><h5 id="é»˜è®¤æ»šåŠ¨è§„åˆ™"><a href="#é»˜è®¤æ»šåŠ¨è§„åˆ™" class="headerlink" title="é»˜è®¤æ»šåŠ¨è§„åˆ™"></a>é»˜è®¤æ»šåŠ¨è§„åˆ™</h5><p><code>DefaultRolloverStrategy</code> ä½¿ç”¨ä¸€ç§åŸºäºæ—¶é—´å’Œå›ºå®šçª—å£ï¼ˆ<code>fixed window</code>ï¼Œçª—å£åœ¨è¿™é‡Œçš„æ„æ€å¤§è‡´æ˜¯å¯¹æ•°é‡çš„é™åˆ¶ï¼Œå‚è€ƒ <code>TCP</code> ä¸­çš„ <code>Window Scale</code> æ¦‚å¿µï¼‰çš„ç»„åˆç­–ç•¥ã€‚å¦‚æœé…ç½®äº†æ—¶é—´æ¨¡å¼ï¼Œé‚£ä¹ˆå°†ä¼šä½¿ç”¨æ—¶é—´é—´éš”æ¥è®¡ç®—ç”¨äº <code>filePattern</code> å‚æ•°å€¼çš„æ—¶é—´ã€‚å¦‚æœæ–‡ä»¶æ¨¡å¼è¿˜åŒ…å«äº†ä¸€ä¸ªæ•´æ•°æ›¿æ¢ç¬¦ï¼Œé‚£ä¹ˆåœ¨æ—¶é—´æ¨¡å¼çš„åŒ¹é…ç»“æœæ”¹å˜ä¹‹å‰ï¼Œè¯¥æ•´æ•°å€¼å°†ä¼šåœ¨æ¯æ¬¡æ»šåŠ¨æ—¶é€’å¢ã€‚ä»¥ <code>.gz</code>ã€<code>.zip</code>ã€<code>.bz2</code>ã€<code>deflate</code>ã€<code>pack200</code> æˆ– <code>xz</code>ï¼Œåˆ™æœ€ç»ˆå½’æ¡£æ–‡ä»¶å°†ä»¥åç¼€å¯¹åº”çš„æ ¼å¼è¿›è¡Œå‹ç¼©ã€‚<code>bzip2</code>ã€<code>Deflate</code>ã€<code>Pack200</code> å’Œ <code>XZ</code> éœ€è¦ <code>Apache Commons compress</code>ã€‚å¦å¤–ï¼Œ<code>XZ</code> éœ€è¦ <code>XZ for Java</code>ã€‚</p>
<p><code>DefaultRolloverStrategy</code> å‚æ•°å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<ul>
<li><code>fileIndexï¼ˆStringï¼‰</code>ï¼šå¦‚æœè®¾ç½®ä¸º <code>max</code>ï¼ˆé»˜è®¤ï¼‰ï¼Œåˆ™å…·æœ‰æ›´å¤§ç´¢å¼•çš„æ–‡ä»¶æ¯”å…·æœ‰æ›´å°ç´¢å¼•çš„æ–‡ä»¶å†…å®¹æ›´æ–°ã€‚å¦‚æœè®¾ç½®ä¸º <code>min</code>ï¼Œæ–‡ä»¶å°†é‡å‘½åä¸”è®¡æ•°å™¨å°†éµå¾ªå‰é¢ä»‹ç»çš„ <code>Fixed Window</code> ç­–ç•¥ã€‚</li>
<li><code>minï¼ˆIntegerï¼‰</code>ï¼šè®¡æ•°å™¨çš„æœ€å°å€¼ï¼Œé»˜è®¤ä¸º <code>1</code>ã€‚</li>
<li><code>maxï¼ˆIntegerï¼‰</code>ï¼šè®¡æ•°å™¨çš„æœ€å¤§å€¼ã€‚ä¸€æ—¦è®¡æ•°å™¨è¾¾åˆ°äº†æœ€å¤§å€¼ï¼Œæœ€æ—©çš„å½’æ¡£å°†ä¼šåœ¨æ¯æ¬¡æ»šåŠ¨æ—¶è¢«åˆ é™¤ã€‚é»˜è®¤å€¼ä¸º <code>7</code>ã€‚</li>
<li><code>compressionLevelï¼ˆIntegerï¼‰</code>ï¼šè®¾ç½®å‹ç¼©çº§åˆ«ï¼Œ<code>0 - 9</code>ã€‚<code>0 = none</code>ï¼Œ<code>1 = best speed</code>ï¼Œ<code>9 = best compression</code>ã€‚ä»…åº”ç”¨äº <code>ZIP</code> æ–‡ä»¶ã€‚</li>
<li><code>tempCompressedFilePatternï¼ˆStringï¼‰</code>ï¼šå‹ç¼©æ—¶å½’æ¡£æ–‡ä»¶çš„æ–‡ä»¶åæ¨¡å¼ã€‚</li>
</ul>
<p>é»˜è®¤çš„æ»šåŠ¨ç­–ç•¥æ”¯æŒä¸‰ç§é€’å¢è®¡æ•°å™¨ã€‚ä¸ºäº†æ¼”ç¤º <code>Fixed Window</code> ç­–ç•¥æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè¿™é‡Œå‡å®š <code>min</code> å±è®¾ç½®ä¸º <code>1</code>ï¼Œ<code>max</code> å±æ€§è®¾ç½®ä¸º <code>3</code>ï¼Œæ–‡ä»¶åä¸º <code>foo.log</code>ï¼Œæ–‡ä»¶åæ¨¡å¼ä¸º <code>foo-%i.log</code><br><code>0~4</code>ï¼šæ»šåŠ¨æ•°<br><code>foo.log</code>ï¼šå½“å‰ç›®æ ‡æ–‡ä»¶<br><code>foo-1.log</code>, <code>foo-2.log</code>, <code>foo-3.log</code> å½’æ¡£æ–‡ä»¶</p>
<p>0 foo.log -<br>æ‰€æœ‰æ—¥å¿—éƒ½å†™å…¥åˆå§‹æ–‡ä»¶ã€‚<br>1 foo.log foo-1.log<br>ç¬¬ä¸€æ¬¡æ»šåŠ¨æ—¶ï¼Œfoo.log æ–‡ä»¶é‡å‘½åä¸º foo-1.logï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ foo.log æ–‡ä»¶æ¥å¼€å§‹å†™å…¥æ—¥å¿—<br>2 foo.log foo-1.log, foo-2.log<br>ç¬¬äºŒæ¬¡æ»šåŠ¨æ—¶ï¼Œfoo-1.log æ–‡ä»¶é‡å‘½åä¸º foo-2.logï¼Œfoo.log æ–‡ä»¶é‡å‘½åä¸º foo-1.logï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ foo.log æ–‡ä»¶æ¥å¼€å§‹å†™å…¥æ—¥å¿—<br>3 foo.log foo-1.log, foo-2.log, foo-3.log<br>ç¬¬ä¸‰æ¬¡æ»šåŠ¨æ—¶ï¼Œfoo-2.log æ–‡ä»¶é‡å‘½åä¸º foo-3.logï¼Œfoo-1.log æ–‡ä»¶é‡å‘½åä¸º foo-2.logï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ foo.log æ–‡ä»¶æ¥å¼€å§‹å†™å…¥æ—¥å¿—<br>4 foo.log foo-1.log, foo-2.log, foo-3.log<br>åœ¨ç¬¬å››æ¬¡ä»¥åŠåç»­çš„æ»šåŠ¨æ—¶ï¼Œfoo-3.log ä¼šè¢«åˆ é™¤ï¼Œfoo-2.log é‡å‘½åä¸º foo-3.logï¼Œfoo-1.log é‡å‘½åä¸º foo-2.logï¼Œ<br>åˆ›å»ºä¸€ä¸ªæ–°çš„ foo.log æ–‡ä»¶æ¥å¼€å§‹å†™å…¥æ—¥å¿—ã€‚<br>ä½œä¸ºå¯¹æ¯”ï¼Œ<code>fileIndex</code> å±æ€§è®¾ç½®ä¸º <code>max</code>ï¼Œè€Œæ‰€æœ‰å…¶ä»–è®¾ç½®å’Œä¸Šé¢éƒ½ä¸€æ ·ã€‚<br>0 foo.log -<br>æ‰€æœ‰æ—¥å¿—éƒ½å†™å…¥åˆå§‹æ–‡ä»¶ã€‚<br>1 foo.log foo-1.log<br>ç¬¬ä¸€æ¬¡æ»šåŠ¨æ—¶ï¼Œfoo.log æ–‡ä»¶é‡å‘½åä¸º foo-1.logï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ foo.log æ–‡ä»¶æ¥å¼€å§‹å†™å…¥æ—¥å¿—ã€‚<br>2 foo.log foo-1.log, foo-2.log<br>ç¬¬äºŒæ¬¡æ»šåŠ¨æ—¶ï¼Œfoo.log æ–‡ä»¶é‡å‘½åä¸º foo-2.logï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ foo.log æ–‡ä»¶æ¥å¼€å§‹å†™å…¥æ—¥å¿—ã€‚<br>3 foo.log foo-1.log, foo-2.log, foo-3.log<br>ç¬¬äºŒæ¬¡æ»šåŠ¨æ—¶ï¼Œfoo.log æ–‡ä»¶é‡å‘½åä¸º foo-3.logï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ foo.log æ–‡ä»¶æ¥å¼€å§‹å†™å…¥æ—¥å¿—ã€‚<br>4 foo.log foo-1.log, foo-2.log, foo-3.log<br>åœ¨ç¬¬å››æ¬¡ä»¥åŠåç»­çš„æ»šåŠ¨æ—¶ï¼Œfoo-1.log ä¼šè¢«åˆ é™¤ï¼Œfoo-2.log é‡å‘½åä¸º foo-1.logï¼Œfoo-3.log<br>é‡å‘½åä¸º foo-2.logï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ foo.log æ–‡ä»¶æ¥å¼€å§‹å†™å…¥æ—¥å¿—ã€‚å¯ä»¥å°† max å±æ€§è®¾ç½®ä¸ºä¸€ä¸ªå¾ˆå¤§çš„å€¼æ¥é¿å…é‡åæ‰¹é‡æ–‡ä»¶ã€‚<br>ä¸Šé¢ä¸¤ç§æ–¹å¼éƒ½æœ‰å¯èƒ½å¯¼è‡´æ‰¹é‡é‡å‘½åæ—¥å¿—æ–‡ä»¶ï¼Œä½†è‡ª 2.8 ç‰ˆæœ¬å¼€å§‹ï¼Œå¦‚æœ fileIndex å±æ€§è®¾ç½®ä¸º nomaxï¼Œåˆ™ min å’Œ max å±æ€§å€¼éƒ½å°†ä¼šè¢«å¿½ç•¥ï¼Œæ–‡ä»¶ç¼–å·å°†æ¯æ¬¡é€’å¢ 1ï¼Œæ¯æ¬¡æ»šåŠ¨éƒ½ä¼šé€’å¢åˆ°æ›´å¤§çš„å€¼ï¼Œä¸”æœ‰æœ€å¤§æ–‡ä»¶ç¼–å·çš„é™åˆ¶ã€‚</p>
<h5 id="ç›´æ¥æ»šåŠ¨è§„åˆ™"><a href="#ç›´æ¥æ»šåŠ¨è§„åˆ™" class="headerlink" title="ç›´æ¥æ»šåŠ¨è§„åˆ™"></a>ç›´æ¥æ»šåŠ¨è§„åˆ™</h5><p><code>DirectWriteRolloverStrategy</code> å°†æ—¥å¿—äº‹ä»¶ç›´æ¥å†™å…¥ <code>filePattern</code> å‚æ•°å€¼è¡¨ç¤ºçš„æ–‡ä»¶ã€‚è¯¥ç­–ç•¥ä¸è¿›è¡Œæ–‡ä»¶é‡å‘½åã€‚å¦‚æœåŸºäºå¤§å°çš„è§¦å‘è§„åˆ™è¦åœ¨ç‰¹å®šæ—¶é—´æ®µå†…å†™å…¥å¤šä¸ªæ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ç¼–å·å°†ä»1å¼€å§‹æŒç»­é€’å¢ï¼Œç›´åˆ°å‡ºç°åŸºäºæ—¶é—´çš„æ»šåŠ¨ã€‚</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨SSHç™»é™†gitæœåŠ¡å™¨</title>
    <url>/2025/03/16/%E4%BD%BF%E7%94%A8SSH%E7%99%BB%E9%99%86git%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<p>ç”Ÿæˆ ssh_key</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">ssh<span class="literal">-keygen</span> <span class="literal">-t</span> rsa <span class="operator">-f</span> <span class="string">&quot;.\.ssh\github&quot;</span> <span class="literal">-C</span> <span class="string">&quot;email&quot;</span></span><br><span class="line"><span class="comment"># Visual Studio ç™»å½•</span></span><br><span class="line">ssh<span class="literal">-keygen</span> <span class="literal">-m</span> pem <span class="literal">-t</span> ecdsa <span class="operator">-f</span> &lt;key<span class="literal">-name</span>&gt;</span><br></pre></td></tr></table></figure>

<p>Visual Studio ä½¿ç”¨å¯†é’¥è¿œç¨‹ç™»å½•ï¼ŒåŠ å¯†æ–¹æ³•æœ‰<a href="https://learn.microsoft.com/zh-cn/cpp/linux/connect-to-your-remote-linux-computer?view=msvc-170#supported-ssh-algorithms">é™åˆ¶</a></p>
<p>ç¼–è¾‘<code>~\.ssh\config</code>,é…ç½®ssh</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">Host</span> <span class="string">github.com</span></span><br><span class="line">  <span class="attr">HostName</span> <span class="string">github.com</span></span><br><span class="line">  <span class="attr">User</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">IdentityFile</span> <span class="string">~/.ssh/github</span></span><br></pre></td></tr></table></figure>

<p>å°†ç”Ÿæˆçš„ <code>github.pub</code> å†…å®¹æ·»åŠ åˆ° github ç½‘ç«™çš„ ssh è®¾ç½®é‡Œã€‚å¦‚æœæ˜¯ç™»å½•Debian ç­‰ Linux ç³»ç»Ÿï¼Œéœ€è¦å°† <code>github.pub</code> å†…å®¹æ·»åŠ åˆ° <code>~/.ssh/authorized_keys</code> æ–‡ä»¶ä¸­ã€‚</p>
<p>è¦æ³¨æ„<code>Host</code>å’Œ<code>HostName</code>è®¾ç½®ï¼š</p>
<ul>
<li><p><code>HostName</code>åªèƒ½æ˜¯ç½‘ç«™çš„åŸŸå,å¦‚æœ<code>github.com</code></p>
</li>
<li><p><code>Host</code>ä¸€èˆ¬ä¹Ÿè®¾ç½®ä¸ºç½‘ç«™åŸŸåï¼Œå¦‚<code>github.com</code>,è¿™æ ·åœ¨gitæ“ä½œçš„æ—¶å€™ï¼Œèƒ½ä¸å®˜æ–¹ç»™çš„ <code>ssh</code>åœ°å€(å¦‚<code>git@github.com:username/repo.git</code>)ä¿æŒä¸€è‡´ï¼Œæ–¹ä¾¿ã€‚<br>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è®¾ç½®ï¼Œå¦‚è®¾ç½®ä¸º<code>github</code>æˆ–è€…<code>1.github.com</code>,ä½†è¿™ä¸ªæ—¶å€™ï¼Œå®˜æ–¹ç»™çš„<code>ssh</code>åœ°å€</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">git@github.com</span>:<span class="string">username/repo.git</span></span><br></pre></td></tr></table></figure>

<p>éœ€è¦è°ƒæ•´ä¸º</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">git@github</span>:<span class="string">username/repo.git</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>ssh -T</code>éªŒè¯çš„æ—¶å€™ï¼Œä¹Ÿè¦ä½¿ç”¨<code>Host</code>çš„è®¾ç½®<code>github</code>è¿›è¡ŒéªŒè¯ã€‚</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">ssh <span class="literal">-T</span> git@github</span><br></pre></td></tr></table></figure></li>
</ul>
<p>æµ‹è¯•</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">ssh <span class="literal">-T</span> git@github.com</span><br></pre></td></tr></table></figure>

<p>å¯¹äºé‡è£…ç³»ç»Ÿåï¼Œå¯èƒ½å‡ºç°çš„é”™è¯¯</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">PS</span> F:\&gt; ssh <span class="literal">-T</span> git@gitee.com</span><br><span class="line">Bad permissions. <span class="keyword">Try</span> removing permissions <span class="keyword">for</span> user: BUILTIN\\Users (S<span class="literal">-1-5-32-545</span>) on file C:/Users/xxxx/.ssh/gitee.</span><br><span class="line"><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span></span><br><span class="line"><span class="selector-tag">@</span>         WARNING: UNPROTECTED PRIVATE KEY FILE!          <span class="selector-tag">@</span></span><br><span class="line"><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span><span class="selector-tag">@</span></span><br><span class="line">Permissions <span class="keyword">for</span> <span class="string">&#x27;C:\\Users\\xxxx/.ssh/gitee&#x27;</span> are too open.</span><br><span class="line">It is required that your private key files are NOT accessible by others.</span><br><span class="line">This private key will be ignored.</span><br><span class="line">Load key <span class="string">&quot;C:\\Users\\xxxx/.ssh/gitee&quot;</span>: bad permissions</span><br><span class="line">git@gitee.com: Permission denied (publickey).</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®å¤</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> C:\Users\someone\.ssh</span><br><span class="line"><span class="comment"># é‡ç½®æƒé™</span></span><br><span class="line">icacls gitee /reset</span><br><span class="line"><span class="comment"># ç§»é™¤ç»§æ‰¿çš„æƒé™</span></span><br><span class="line">icacls gitee /inheritance:<span class="built_in">r</span></span><br><span class="line"><span class="comment"># åªæˆäºˆå½“å‰ç”¨æˆ·è¯»å–æƒé™ï¼ˆReadï¼‰</span></span><br><span class="line">icacls gitee /grant:<span class="built_in">r</span> <span class="string">&quot;%USERNAME%:R&quot;</span></span><br><span class="line"><span class="comment"># éªŒè¯å½“å‰æƒé™ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">icacls gitee</span><br></pre></td></tr></table></figure>

<p>è¡¥å……è¯´æ˜</p>
<ol>
<li>Windows ä¸Š BUILTIN\Users æ˜¯ä¸€ä¸ªç”¨æˆ·ç»„ï¼Œé»˜è®¤åŒ…å«æ‰€æœ‰æœ¬åœ°ç”¨æˆ·ã€‚å¦‚æœ SSH ç§é’¥å¯¹è¿™ä¸ªç»„å¼€æ”¾ï¼ŒOpenSSH ä¼šè®¤ä¸ºä¸å®‰å…¨ï¼Œä»è€ŒæŠ¥é”™ã€‚</li>
<li>åœ¨ Linux&#x2F;macOS ä¸ŠåŒç±»é”™è¯¯é€šå¸¸è¡¨ç°ä¸º Permissions 0644 for â€˜xxxâ€™ are too openï¼Œè§£å†³æ–¹æ³•æ˜¯ chmod 600 your_keyã€‚</li>
<li>ssh è®¾ç½®ä»£ç†éº»çƒ¦ï¼Œ<strong>å¯¹äº github å°±ä½¿ç”¨httpåè®®è¿›è¡Œæ“ä½œ</strong></li>
</ol>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ¶ä½œUç›˜Linuxç³»ç»Ÿ</title>
    <url>/2025/03/03/%E5%88%B6%E4%BD%9CU%E7%9B%98Linux%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<p>æ³¨æ„ä¸¤ç‚¹:</p>
<ol>
<li>åœ¨ç»™Uç›˜åˆ†åŒºçš„æ—¶å€™ï¼Œä¸€å®šè¦åˆ†ä¸€ä¸ª<code>EFI</code>åˆ†åŒº</li>
<li>åˆ¶ä½œå¥½åï¼Œè¿›å…¥ç³»ç»Ÿï¼Œç¡®è®¤å¯åŠ¨æ–‡ä»¶æœ‰å®‰è£…åˆ°Uç›˜çš„<code>EFI</code>åˆ†åŒº</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo grub-install --removable --recheck --efi-directory=/boot/efi</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>å–æ¶ˆBitLockeræ­£åœ¨ç­‰å¾…æ¿€æ´»çŠ¶æ€</title>
    <url>/2025/03/03/%E5%8F%96%E6%B6%88BitLocker%E6%AD%A3%E5%9C%A8%E7%AD%89%E5%BE%85%E6%BF%80%E6%B4%BB%E7%8A%B6%E6%80%81/</url>
    <content><![CDATA[<p>ç®¡ç†å‘˜è¿è¡Œ<code>Powershell</code></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ ¹æ®åˆ†åŒºæ–‡ä»¶çš„å¤šå°‘ï¼Œéœ€è¦çš„æ—¶é—´ä¼šæœ‰æ‰€ä¸ä¸€æ ·ï¼Œä¸€èˆ¬10åˆ†é’Ÿå†…å®Œæˆ</span></span><br><span class="line">manage<span class="literal">-bde</span> <span class="literal">-off</span> c: </span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤šç‰ˆæœ¬Jar</title>
    <url>/2025/03/15/%E5%A4%9A%E7%89%88%E6%9C%ACJar/</url>
    <content><![CDATA[<h2 id="Java-çš„ç‰ˆæœ¬å…¼å®¹æ€§"><a href="#Java-çš„ç‰ˆæœ¬å…¼å®¹æ€§" class="headerlink" title="Java çš„ç‰ˆæœ¬å…¼å®¹æ€§"></a>Java çš„ç‰ˆæœ¬å…¼å®¹æ€§</h2><p>Java çš„ç‰ˆæœ¬å…¼å®¹æ€§ä¸»è¦ä½“ç°åœ¨ä¸¤ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>å‘åå…¼å®¹ï¼ˆBackward Compatibilityï¼‰ï¼šæ–°ç‰ˆæœ¬çš„ Java è¿è¡Œç¯å¢ƒ (JRE) èƒ½è¿è¡Œç”¨æ—§ç‰ˆæœ¬ç¼–è¯‘çš„ä»£ç ã€‚è¿™æ˜¯ Java æœ€é‡è¦çš„å…¼å®¹æ€§ç‰¹æ€§ä¹‹ä¸€ï¼Œç¡®ä¿æ—§ç¨‹åºåœ¨æ–°å¹³å°ä¸Šä»ç„¶èƒ½å¤Ÿè¿è¡Œã€‚è¦æ³¨æ„ï¼šå¦‚æœæ—§ä»£ç ä½¿ç”¨äº†å·²åºŸå¼ƒæˆ–ç§»é™¤çš„ APIï¼Œä¼šæœ‰å…¼å®¹æ€§é—®é¢˜ã€‚</li>
<li>å‘å‰å…¼å®¹ï¼ˆForward Compatibilityï¼‰ï¼šæ—§ç‰ˆæœ¬çš„ Java è¿è¡Œç¯å¢ƒé€šå¸¸æ— æ³•è¿è¡Œæ–°ç‰ˆæœ¬ç¼–è¯‘çš„ä»£ç ï¼Œé™¤éåœ¨ç¼–è¯‘æ—¶åšç‰¹æ®Šå¤„ç†ã€‚</li>
</ul>
<h3 id="å½±å“å…¼å®¹æ€§çš„å› ç´ "><a href="#å½±å“å…¼å®¹æ€§çš„å› ç´ " class="headerlink" title="å½±å“å…¼å®¹æ€§çš„å› ç´ "></a>å½±å“å…¼å®¹æ€§çš„å› ç´ </h3><ol>
<li>åºŸå¼ƒå’Œç§»é™¤çš„ API<br>  æŸäº›æ—§ API åœ¨æ–°ç‰ˆæœ¬ä¸­è¢«åºŸå¼ƒç”šè‡³ç§»é™¤ï¼Œå¯èƒ½å¯¼è‡´ä¸å…¼å®¹ã€‚<br>  ä¾‹å¦‚ï¼Œ<code>javax.xml.bind</code> åœ¨ Java 9 è¢«æ ‡è®°ä¸ºåºŸå¼ƒï¼Œå¹¶åœ¨ Java 11 ä¸­è¢«ç§»é™¤ã€‚</li>
<li>å†…éƒ¨ API çš„é™åˆ¶<br>  ä¾‹å¦‚ï¼Œ<code>sun.misc.Unsafe</code> åœ¨æ—©æœŸç‰ˆæœ¬ä¸­å¸¸è¢«ä½¿ç”¨ï¼Œä½†åœ¨æ–°ç‰ˆæœ¬ä¸­å—é™åˆ¶ã€‚</li>
<li>æ¨¡å—ç³»ç»Ÿ<br>  ä» Java 9 å¼€å§‹å¼•å…¥äº†æ¨¡å—ç³»ç»Ÿï¼ŒæŸäº›å†…éƒ¨ API é»˜è®¤ä¸å¯è®¿é—®ã€‚</li>
<li>JVM å‚æ•°å’Œè¡Œä¸ºå˜åŒ–<br>  æŸäº› JVM å‚æ•°å¯èƒ½åœ¨æ–°ç‰ˆæœ¬ä¸­è¢«åºŸå¼ƒæˆ–æ›´æ”¹ã€‚</li>
</ol>
<h3 id="ä¿æŒå…¼å®¹æ€§çš„æœ€ä½³å®è·µ"><a href="#ä¿æŒå…¼å®¹æ€§çš„æœ€ä½³å®è·µ" class="headerlink" title="ä¿æŒå…¼å®¹æ€§çš„æœ€ä½³å®è·µ"></a>ä¿æŒå…¼å®¹æ€§çš„æœ€ä½³å®è·µ</h3><ol>
<li><p>ä½¿ç”¨ <code>--release</code> ç¼–è¯‘ï¼Œç¡®ä¿ä¸ä¼šè¯¯ç”¨é«˜ç‰ˆæœ¬ APIã€‚</p>
</li>
<li><p>é¿å…ä½¿ç”¨å†…éƒ¨ APIï¼Œæ¯”å¦‚ <code>sun.misc.*</code>ã€‚</p>
</li>
<li><p>æŸ¥çœ‹ JDK çš„å‘å¸ƒè¯´æ˜ï¼Œå…³æ³¨åºŸå¼ƒå’Œç§»é™¤çš„ APIã€‚</p>
</li>
<li><p>ä½¿ç”¨å¤šç‰ˆæœ¬ JARï¼ˆMulti-Release JARsï¼‰ï¼š<br>  æ”¯æŒåœ¨ä¸€ä¸ª JAR ä¸­åŒ…å«å¤šä¸ªç‰ˆæœ¬çš„ç±»æ–‡ä»¶ã€‚<br>  ç¤ºä¾‹ï¼š</p>
 <figure class="highlight vbnet"><table><tr><td class="code"><pre><span class="line">META-INF/versions/<span class="number">9</span>/...</span><br><span class="line">META-INF/versions/<span class="number">11</span>/...</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡ªåŠ¨åŒ–æµ‹è¯•ï¼š<br>  åœ¨ä¸åŒ JDK ç‰ˆæœ¬ä¸‹æµ‹è¯•ï¼Œç¡®ä¿å‘åå…¼å®¹ã€‚</p>
</li>
</ol>
<h2 id="å¤šç‰ˆæœ¬-JAR"><a href="#å¤šç‰ˆæœ¬-JAR" class="headerlink" title="å¤šç‰ˆæœ¬ JAR"></a>å¤šç‰ˆæœ¬ JAR</h2><p>å¤šç‰ˆæœ¬ JARï¼ˆMulti-Release JARï¼Œç®€ç§° MRJARï¼‰æ˜¯ä¸€ç§å…è®¸åœ¨åŒä¸€ä¸ª JAR æ–‡ä»¶ä¸­ï¼ŒåŒ…å«é’ˆå¯¹ä¸åŒ Java ç‰ˆæœ¬çš„ç±»æ–‡ä»¶çš„æœºåˆ¶ã€‚è¿™æ ·å¯ä»¥åœ¨é«˜ç‰ˆæœ¬ Java ä¸­ä½¿ç”¨æ–°ç‰¹æ€§ï¼ŒåŒæ—¶ä¿æŒå¯¹ä½ç‰ˆæœ¬ Java çš„å…¼å®¹æ€§ã€‚</p>
<h3 id="å¤šç‰ˆæœ¬-JAR-çš„ç›®å½•ç»“æ„"><a href="#å¤šç‰ˆæœ¬-JAR-çš„ç›®å½•ç»“æ„" class="headerlink" title="å¤šç‰ˆæœ¬ JAR çš„ç›®å½•ç»“æ„"></a>å¤šç‰ˆæœ¬ JAR çš„ç›®å½•ç»“æ„</h3><figure class="highlight vbnet"><table><tr><td class="code"><pre><span class="line">my-library.jar</span><br><span class="line">â”œâ”€â”€ META-INF/</span><br><span class="line">â”‚   â”œâ”€â”€ MANIFEST.MF</span><br><span class="line">â”‚   â””â”€â”€ versions/</span><br><span class="line">â”‚       â”œâ”€â”€ <span class="number">11</span>/</span><br><span class="line">â”‚       â”‚   â””â”€â”€ com/example/<span class="keyword">MyClass</span>.<span class="keyword">class</span></span><br><span class="line">â”‚       â””â”€â”€ <span class="number">17</span>/</span><br><span class="line">â”‚           â””â”€â”€ com/example/<span class="keyword">MyClass</span>.<span class="keyword">class</span></span><br><span class="line">â””â”€â”€ com/</span><br><span class="line">    â””â”€â”€ example/</span><br><span class="line">        â””â”€â”€ <span class="keyword">MyClass</span>.<span class="keyword">class</span>  (Java <span class="number">8</span> ç‰ˆæœ¬)</span><br></pre></td></tr></table></figure>

<ol>
<li>æ ¹ç›®å½•ä¸‹çš„ç±»ï¼šä¸º Java 8 åŠä»¥ä¸‹ç‰ˆæœ¬æä¾›çš„é»˜è®¤å®ç°ã€‚</li>
<li><code>META-INF/versions/11/</code>ï¼šä¸º Java 11 åŠä»¥ä¸Šç‰ˆæœ¬æä¾›çš„ç±»ã€‚</li>
<li><code>META-INF/versions/17/</code>ï¼šä¸º Java 17 åŠä»¥ä¸Šç‰ˆæœ¬æä¾›çš„ç±»ã€‚</li>
</ol>
<h3 id="ç¼–å†™ä»£ç "><a href="#ç¼–å†™ä»£ç " class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h3><h4 id="ç¼–å†™-Java-8"><a href="#ç¼–å†™-Java-8" class="headerlink" title="ç¼–å†™ Java 8"></a>ç¼–å†™ Java 8</h4><p><code>src/main/java/org/frank/MyService.java</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> org.frank;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    String <span class="title function_">getVersion</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    String <span class="title function_">getCommonData</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>src/main/java/org/frank/BaseService.java</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> org.frank;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">BaseService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCommonData</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;common data for All Version Support&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>src/main/java/org/frank/MyServiceImpl.java</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> org.frank;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">BaseService</span> <span class="keyword">implements</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getVersion</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Java 8 Version Support All&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¼–å†™-Java-11"><a href="#ç¼–å†™-Java-11" class="headerlink" title="ç¼–å†™ Java 11"></a>ç¼–å†™ Java 11</h4><p><code>src/main/java11/org/frank/MyServiceImpl.java</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> org.frank;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Optional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">BaseService</span> <span class="keyword">implements</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getVersion</span><span class="params">()</span> &#123;</span><br><span class="line">        Optional&lt;String&gt; version = Optional.of(<span class="string">&quot;Java 11 version with Optional&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> version.orElse(<span class="string">&quot;Unknown version&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¼–å†™-Java-17"><a href="#ç¼–å†™-Java-17" class="headerlink" title="ç¼–å†™ Java 17"></a>ç¼–å†™ Java 17</h4><p><code>src/main/java17/org/frank/MyServiceImpl.java</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> org.frank;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">BaseService</span> <span class="keyword">implements</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getVersion</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">version</span> <span class="operator">=</span> <span class="string">&quot;Java 17 version with isBlank&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> version.isBlank() ? <span class="string">&quot;Unknown&quot;</span> : version;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¼–å†™-Java-21"><a href="#ç¼–å†™-Java-21" class="headerlink" title="ç¼–å†™ Java 21"></a>ç¼–å†™ Java 21</h4><p><code>src/main/java21/org/frank/MyServiceImpl.java</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> org.frank;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">BaseService</span> <span class="keyword">implements</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getVersion</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">version</span> <span class="operator">=</span> <span class="string">&quot;Java 21 version with isBlank&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> version.isBlank() ? <span class="string">&quot;Unknown&quot;</span> : version;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¼–è¯‘ä»£ç "><a href="#ç¼–è¯‘ä»£ç " class="headerlink" title="ç¼–è¯‘ä»£ç "></a>ç¼–è¯‘ä»£ç </h3><h4 id="åˆ†åˆ«ç¼–è¯‘å„ç‰ˆæœ¬"><a href="#åˆ†åˆ«ç¼–è¯‘å„ç‰ˆæœ¬" class="headerlink" title="åˆ†åˆ«ç¼–è¯‘å„ç‰ˆæœ¬"></a>åˆ†åˆ«ç¼–è¯‘å„ç‰ˆæœ¬</h4><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">jabba use system@<span class="number">8</span></span><br><span class="line">java <span class="literal">-version</span></span><br><span class="line">javac <span class="literal">-d</span> .\out\java8\ .\src\main\java\org\frank\*.java </span><br><span class="line">jabba use system@<span class="number">11</span></span><br><span class="line">java <span class="literal">-version</span></span><br><span class="line">javac  <span class="literal">--release</span> <span class="number">11</span>  <span class="literal">-d</span> .\out\java11\ .\src\main\java11\org\frank\*.java .   \src\main\java\org\frank\BaseService.java .\src\main\java\org\frank\MyService.java</span><br><span class="line">jabba use system@<span class="number">17</span></span><br><span class="line">java <span class="literal">-version</span></span><br><span class="line">javac  <span class="literal">--release</span> <span class="number">17</span>  <span class="literal">-d</span> .\out\java17\ .\src\main\java17\org\frank\*.java .   \src\main\java\org\frank\BaseService.java .\src\main\java\org\frank\MyService.java</span><br><span class="line">jabba use system@<span class="number">21</span></span><br><span class="line">java <span class="literal">-version</span></span><br><span class="line">javac  <span class="literal">--release</span> <span class="number">21</span> <span class="literal">-d</span> .\out\java21\ .\src\main\java21\org\frank\*.java .  \src\main\java\org\frank\BaseService.java .\src\main\java\org\frank\MyService.java</span><br></pre></td></tr></table></figure>

<h4 id="ç»Ÿä¸€æ‰“åŒ…"><a href="#ç»Ÿä¸€æ‰“åŒ…" class="headerlink" title="ç»Ÿä¸€æ‰“åŒ…"></a>ç»Ÿä¸€æ‰“åŒ…</h4><p>ç°åœ¨ç¼–è¯‘çš„ Java 11,Java 17,Java 21 çš„ç»“æœä¸­åŒ…å«é‡å¤çš„<code>MyService.class</code>,<code>BaseService.class</code>,æŠŠå®ƒä»¬åˆ é™¤ï¼Œç„¶åæ‰“åŒ… <code>jar</code></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">jar <span class="literal">--create</span> <span class="literal">--file</span> multi<span class="literal">-release-demo</span>.jar `</span><br><span class="line">    <span class="literal">--main-class</span> org.frank.MyServiceImpl  `</span><br><span class="line">    <span class="literal">-C</span> out/java8 . `</span><br><span class="line">    <span class="literal">--release</span> <span class="number">11</span> <span class="literal">-C</span> out/java11 . `</span><br><span class="line">    <span class="literal">--release</span> <span class="number">17</span> <span class="literal">-C</span> out/java17 . `</span><br><span class="line">    <span class="literal">--release</span> <span class="number">21</span> <span class="literal">-C</span> out/java21 .</span><br></pre></td></tr></table></figure>

<h3 id="éªŒè¯å¤šç‰ˆæœ¬æ”¯æŒ"><a href="#éªŒè¯å¤šç‰ˆæœ¬æ”¯æŒ" class="headerlink" title="éªŒè¯å¤šç‰ˆæœ¬æ”¯æŒ"></a>éªŒè¯å¤šç‰ˆæœ¬æ”¯æŒ</h3><p>ç°åœ¨å¤šç‰ˆæœ¬ Jar å°±æ‰“åŒ…å¥½äº†ï¼Œå¯ä»¥ç”¨æ”¯æŒçš„ç‰ˆæœ¬éªŒè¯äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyService</span> <span class="variable">myService</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyServiceImpl</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">version</span> <span class="operator">=</span> myService.getVersion();</span><br><span class="line">        System.out.println(version);</span><br><span class="line">        <span class="type">String</span> <span class="variable">commonData</span> <span class="operator">=</span> myService.getCommonData();</span><br><span class="line">        System.out.println(commonData);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ†åˆ«ä½¿ç”¨ JDK 8, JDK 11, JDK 17, JDK21æµ‹è¯•</p>
 <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># JDK 8</span></span><br><span class="line">Java <span class="number">8</span> Version Support All</span><br><span class="line">common <span class="keyword">data</span> <span class="keyword">for</span> All Version Support</span><br><span class="line"><span class="comment"># JDK 11</span></span><br><span class="line">Java <span class="number">11</span> version with Optional</span><br><span class="line">common <span class="keyword">data</span> <span class="keyword">for</span> All Version Support</span><br><span class="line"><span class="comment"># JDK 17</span></span><br><span class="line">Java <span class="number">17</span> version with isBlank</span><br><span class="line">common <span class="keyword">data</span> <span class="keyword">for</span> All Version Support</span><br><span class="line"><span class="comment"># JDK 21</span></span><br><span class="line">Java <span class="number">21</span> version with isBlank</span><br><span class="line">common <span class="keyword">data</span> <span class="keyword">for</span> All Version Support</span><br></pre></td></tr></table></figure>

<ul>
<li><input disabled="" type="checkbox"> IntelliJ IDEA æ€ä¹ˆæ”¯æŒï¼Ÿ</li>
</ul>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Debian åå°æœåŠ¡çš„è¿è¡Œæ–¹å¼</title>
    <url>/2025/08/18/Debian-%E5%90%8E%E5%8F%B0%E6%9C%8D%E5%8A%A1%E7%9A%84%E8%BF%90%E8%A1%8C%E6%96%B9%E5%BC%8F/</url>
    <content><![CDATA[<p>åœ¨ Debian é‡Œï¼Œä¸€ä¸ªæœåŠ¡å¯èƒ½ç”±ä¸åŒçš„æ–¹å¼è¿è¡Œï¼Œä¸æ˜¯æ‰€æœ‰æœåŠ¡éƒ½ä¸€å®šæŒ‚åœ¨ systemd ä¸‹ã€‚</p>
<h2 id="åˆ¤æ–­æ˜¯å¦ä»¥-systemd-ç®¡ç†"><a href="#åˆ¤æ–­æ˜¯å¦ä»¥-systemd-ç®¡ç†" class="headerlink" title="åˆ¤æ–­æ˜¯å¦ä»¥ systemd ç®¡ç†"></a>åˆ¤æ–­æ˜¯å¦ä»¥ systemd ç®¡ç†</h2><h3 id="systemctl-æŸ¥è¯¢"><a href="#systemctl-æŸ¥è¯¢" class="headerlink" title="systemctl æŸ¥è¯¢"></a>systemctl æŸ¥è¯¢</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl status &lt;service-name&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœæœ‰è¾“å‡ºå¹¶æ˜¾ç¤º <code>Loaded</code>ã€<code>Active</code> ç­‰ä¿¡æ¯ï¼Œå°±è¯´æ˜è¯¥æœåŠ¡æ˜¯ systemd ç®¡ç†çš„ã€‚</li>
<li>å¦‚æœæç¤º <code>Unit not found</code>ï¼Œå¯èƒ½ä¸æ˜¯ <code>systemd</code> ç®¡ç†çš„ï¼ˆæˆ–è€…æœåŠ¡åä¸å¯¹ï¼‰ã€‚</li>
</ul>
<h3 id="ps-æŸ¥çœ‹è¿›ç¨‹æ ‘"><a href="#ps-æŸ¥çœ‹è¿›ç¨‹æ ‘" class="headerlink" title="ps æŸ¥çœ‹è¿›ç¨‹æ ‘"></a>ps æŸ¥çœ‹è¿›ç¨‹æ ‘</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ps -o pid,ppid,cmd -p $(pidof &lt;è¿›ç¨‹å&gt;)</span><br></pre></td></tr></table></figure>

<p>çœ‹ PPIDï¼ˆçˆ¶è¿›ç¨‹ IDï¼‰æ˜¯ä¸æ˜¯ systemd (PID 1)</p>
<ul>
<li>å¦‚æœæ˜¯ï¼Œé‚£å®ƒæ˜¯ systemd å¯åŠ¨çš„ã€‚ä¾‹ï¼šsshd çš„ PPID&#x3D;1 â†’ systemd ç®¡ç†;</li>
<li>å¦‚æœ PPID æ˜¯ init.d è„šæœ¬æˆ– shellï¼Œé‚£å°±æ˜¯å…¶å®ƒæ–¹å¼ã€‚</li>
</ul>
<h3 id="journalctl-æ—¥å¿—"><a href="#journalctl-æ—¥å¿—" class="headerlink" title="journalctl æ—¥å¿—"></a>journalctl æ—¥å¿—</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">journalctl -u &lt;æœåŠ¡å&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>èƒ½æŸ¥åˆ°æ—¥å¿— â†’ systemd ç®¡ç†ã€‚</li>
<li>æŸ¥ä¸åˆ° â†’ å¯èƒ½ä¸æ˜¯ã€‚</li>
</ul>
<h2 id="Debian-ä¸Šçš„æœåŠ¡è¿è¡Œæ–¹å¼"><a href="#Debian-ä¸Šçš„æœåŠ¡è¿è¡Œæ–¹å¼" class="headerlink" title="Debian ä¸Šçš„æœåŠ¡è¿è¡Œæ–¹å¼"></a>Debian ä¸Šçš„æœåŠ¡è¿è¡Œæ–¹å¼</h2><ol>
<li><p><code>systemd</code></p>
</li>
<li><p>System V init è„šæœ¬ (<code>/etc/init.d/</code>)<br>ä¼ ç»Ÿæ–¹å¼ï¼ŒDebian æ—©æœŸä¸€ç›´ç”¨è¿™ä¸ªã€‚<br>å¯åŠ¨æ–¹æ³•ï¼š<br><code>/etc/init.d/&lt;æœåŠ¡å&gt; start|stop|restart|status</code><br>ç°åœ¨ <code>systemd</code> ä¼šå…¼å®¹æ‰§è¡Œè¿™äº›è„šæœ¬ï¼Œä½†ä¸æ˜¯åŸç”Ÿ <code>systemd unit</code>ã€‚</p>
</li>
<li><p>Supervisorã€PM2 ç­‰è¿›ç¨‹ç®¡ç†å™¨<br> ç”¨æ¥å®ˆæŠ¤æŸäº›åº”ç”¨ï¼ˆç‰¹åˆ«æ˜¯ Pythonã€Node.jsã€Go å†™çš„æœåŠ¡ï¼‰ã€‚<br> å¸¸ç”¨å‘½ä»¤ï¼š</p>
<ul>
<li><code>supervisorctl status</code></li>
<li><code>pm2 list</code></li>
</ul>
</li>
<li><p>ç›´æ¥ <code>nohup</code>&#x2F;<code>screen</code>&#x2F;<code>tmux</code> èµ·çš„åå°è¿›ç¨‹<br>æ²¡æœ‰ç»Ÿä¸€çš„ç®¡ç†ï¼Œè‡ªå·±ç”¨ ps -ef | grep xxx æ‰¾ã€‚<br>å¸¸è§ï¼š</p>
<ul>
<li><code>nohup ./app &amp;</code></li>
<li><code>disown</code></li>
</ul>
</li>
<li><p><code>cron</code> å¯åŠ¨çš„å®šæ—¶ä»»åŠ¡<br>åœ¨ <code>/etc/cron.*</code> æˆ– <code>crontab -e</code> é‡Œã€‚<br>é€‚åˆå‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¸æ˜¯çœŸæ­£çš„â€œæœåŠ¡â€ã€‚</p>
</li>
<li><p><code>docker</code> &#x2F; <code>containerd</code> é‡Œè¿è¡Œçš„æœåŠ¡<br>å®¹å™¨åŒ–åœºæ™¯ä¸‹ï¼ŒæœåŠ¡ä¸å½’ç³»ç»Ÿ <code>init</code> ç®¡ç†ï¼Œè€Œæ˜¯å®¹å™¨ <code>runtime</code> ç®¡ç†ã€‚<br>æŸ¥æ–¹æ³•ï¼š</p>
<ul>
<li><code>docker ps</code></li>
<li><code>sudo ctr containers list</code></li>
</ul>
</li>
</ol>
<h2 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h2><ul>
<li>ç³»ç»Ÿçº§æœåŠ¡ï¼ˆnginxã€sshdã€mysqlï¼‰ â†’ ç”¨ <code>systemd</code> ç®¡ç†ã€‚</li>
<li>åº”ç”¨çº§å®ˆæŠ¤è¿›ç¨‹ï¼ˆè‡ªå†™è„šæœ¬ã€Python&#x2F;Node appï¼‰ â†’ å»ºè®®å†™æˆ <code>systemd unit</code>ï¼Œåˆ«ç”¨ <code>nohup</code> ä¹±æ”¾åå°ï¼Œæ–¹ä¾¿ç»Ÿä¸€ç®¡ç†å’Œæ—¥å¿—æ”¶é›†ã€‚</li>
</ul>
<p><code>systemd unit</code> ç¤ºä¾‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/systemd/system/myapp.service</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ·æ–° systemd</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨</span></span><br><span class="line">sudo systemctl start myapp</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœæ­¢</span></span><br><span class="line">sudo systemctl stop myapp</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹çŠ¶æ€</span></span><br><span class="line">systemctl status myapp</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¼€æœºè‡ªå¯</span></span><br><span class="line">sudo systemctl enable myapp</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line">journalctl -u myapp -f</span><br></pre></td></tr></table></figure>

<p><code>myapp.service</code> å†…å®¹</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=My Custom App Service</span><br><span class="line"><span class="attr">After</span>=network.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="comment"># è¿è¡Œè„šæœ¬</span></span><br><span class="line"><span class="attr">ExecStart</span>=/usr/local/bin/myapp.sh</span><br><span class="line"><span class="comment"># å·¥ä½œç›®å½•ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="attr">WorkingDirectory</span>=/usr/local/bin</span><br><span class="line"><span class="comment"># æŒ‚æ‰æ—¶è‡ªåŠ¨é‡å¯</span></span><br><span class="line"><span class="attr">Restart</span>=always</span><br><span class="line"><span class="comment"># æ—¥å¿—è¾“å‡ºåˆ° journald</span></span><br><span class="line"><span class="attr">StandardOutput</span>=journal</span><br><span class="line"><span class="attr">StandardError</span>=journal</span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœè„šæœ¬éœ€è¦ ç¯å¢ƒå˜é‡ï¼Œéå¿…é¡»</span></span><br><span class="line"><span class="attr">Environment</span>=<span class="string">&quot;JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœéœ€è¦ç”¨ é root ç”¨æˆ·è¿è¡Œ</span></span><br><span class="line"><span class="attr">User</span>=debian</span><br><span class="line"><span class="attr">Group</span>=debian</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitåˆå¹¶æœ€è¿‘å¤šä¸ªæäº¤</title>
    <url>/2025/08/15/Git%E5%90%88%E5%B9%B6%E6%9C%80%E8%BF%91%E5%A4%9A%E4%B8%AA%E6%8F%90%E4%BA%A4/</url>
    <content><![CDATA[<h2 id="ä¸€æ¬¡"><a href="#ä¸€æ¬¡" class="headerlink" title="ä¸€æ¬¡"></a>ä¸€æ¬¡</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1. ä¿®æ”¹æŸä¸ªæ–‡ä»¶</span></span><br><span class="line">git add somefile.txt</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2. ä¸æ”¹æäº¤ä¿¡æ¯</span></span><br><span class="line">git commit --amend --no-edit</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3. æ”¹æäº¤ä¿¡æ¯</span></span><br><span class="line">git commit --amend -m &quot;ä¿®æ­£åçš„æäº¤ä¿¡æ¯&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4. è¿›å…¥ vi æ¨¡å¼ï¼Œç¼–è¾‘æœ€åä¸€æ¬¡æäº¤çš„ä¿¡æ¯</span></span><br><span class="line">git commit --amend</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4. å¦‚æœ commit å·²ç»æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œä¿®æ­£æäº¤ä¼šæ”¹å˜ commit IDï¼Œæ¨é€æ—¶éœ€è¦ --force-with-lease</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨å¤šäººåä½œä¸­ï¼Œé™¤éç¡®è®¤åˆ«äººæ²¡æœ‰åŸºäºè¯¥ commit å¼€å‘ï¼Œå¦åˆ™ä¸è¦éšæ„ amend å·²æ¨é€çš„æäº¤</span></span><br><span class="line">git push --force-with-lease</span><br></pre></td></tr></table></figure>

<h2 id="å¤šæ¬¡"><a href="#å¤šæ¬¡" class="headerlink" title="å¤šæ¬¡"></a>å¤šæ¬¡</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å›åˆ°è¦é‡æ–°æäº¤çš„åˆ†æ”¯</span></span><br><span class="line">git checkout update-branch</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¼€å§‹äº¤äº’å¼ rebaseï¼Œå›é€€ 2 ä¸ªæäº¤</span></span><br><span class="line">git rebase -i HEAD~2</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨ vi ç¼–è¾‘å™¨ä¸­å‡ºç°æœ€è¿‘å‡ æ¬¡æäº¤çš„ä¿¡æ¯ï¼Œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åªä¿ç•™ä¸€ä¸ªåˆé€‚çš„æ ‡é¢˜ã€‚ä¸éœ€è¦çš„æäº¤ä¿¡æ¯ï¼ŒæŠŠ pick æ›´æ”¹ä¸º squash(æˆ–ç®€å†™ä¸º s)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿å­˜ï¼Œé€€å‡º</span></span><br><span class="line">pick abc123 ç¬¬ä¸€æ¬¡æäº¤ä¿¡æ¯</span><br><span class="line">pick def456 ç¬¬äºŒæ¬¡æäº¤ä¿¡æ¯</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœè¿™ä¸ªåˆ†æ”¯ä»¥å‰æ¨é€è¿‡ï¼Œéœ€è¦å¼ºæ¨</span></span><br><span class="line">git push --force-with-lease</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Haproxyä»‹ç»</title>
    <url>/2025/08/19/Haproxy%E4%BB%8B%E7%BB%8D/</url>
    <content><![CDATA[<h2 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h2><ul>
<li>Nginx</li>
<li>LVS</li>
<li>Apache</li>
<li>Haproxy</li>
</ul>
<h2 id="Haproxy"><a href="#Haproxy" class="headerlink" title="Haproxy"></a>Haproxy</h2><p>haproxy,ä¸»è¦æ˜¯åšè´Ÿè½½å‡è¡¡çš„7å±‚,ä¹Ÿå¯ä»¥åš4å±‚è´Ÿè½½å‡è¡¡</p>
<ul>
<li>è´Ÿè½½å‡è¡¡æ˜¯é€šè¿‡OSIåè®®å¯¹åº”çš„</li>
<li>7å±‚è´Ÿè½½å‡è¡¡:ç”¨çš„7å±‚httpåè®®,<br>(apacheä¹Ÿå¯ä»¥åš7å±‚è´Ÿè½½å‡è¡¡,ä½†æ˜¯å¾ˆéº»çƒ¦,å®é™…å·¥ä½œä¸­æ²¡æœ‰äººç”¨)</li>
<li>4å±‚è´Ÿè½½å‡è¡¡:ç”¨çš„æ˜¯tcpåè®®åŠ ç«¯å£å·åšçš„è´Ÿè½½å‡è¡¡</li>
</ul>
<p>ha-proxyæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„è´Ÿè½½å‡è¡¡è½¯ä»¶ã€‚å› ä¸ºå…¶ä¸“æ³¨äºè´Ÿè½½å‡è¡¡è¿™ä¸€äº›äº‹æƒ…,å› æ­¤ä¸nginxæ¯”èµ·æ¥åœ¨è´Ÿè½½å‡è¡¡è¿™ä»¶äº‹æƒ…ä¸Šåšæ›´å¥½,æ›´ä¸“ä¸šã€‚</p>
<p>ha-proxyä½œä¸ºç›®å‰æµè¡Œçš„è´Ÿè½½å‡è¡¡è½¯ä»¶,å¿…é¡»æœ‰å…¶å‡ºè‰²çš„ä¸€é¢ã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸‹ha-proxyç›¸å¯¹LVS,Nginxç­‰è´Ÿè½½å‡è¡¡è½¯ä»¶çš„ä¼˜ç‚¹ã€‚</p>
<ul>
<li>æ”¯æŒtcp&#x2F;httpä¸¤ç§åè®®å±‚çš„è´Ÿè½½å‡è¡¡,ä½¿å¾—å…¶è´Ÿè½½å‡è¡¡åŠŸèƒ½éå¸¸ä¸°å¯Œã€‚</li>
<li>æ”¯æŒ8ç§å·¦å³çš„è´Ÿè½½å‡è¡¡ç®—æ³•,å°¤å…¶æ˜¯åœ¨httpæ¨¡å¼æ—¶,æœ‰è®¸å¤šéå¸¸å®åœ¨çš„è´Ÿè½½å‡è¡¡ç®—æ³•,é€‚ç”¨å„ç§éœ€æ±‚ã€‚</li>
<li>æ€§èƒ½éå¸¸ä¼˜ç§€,åŸºäºäº‹ä»¶é©±åŠ¨çš„é“¾æ¥å¤„ç†æ¨¡å¼åŠå•è¿›ç¨‹å¤„ç†æ¨¡å¼(å’ŒNginxç±»ä¼¼)è®©å…¶æ€§èƒ½å“è¶Šã€‚</li>
<li>æ‹¥æœ‰ä¸€ä¸ªåŠŸèƒ½å‡ºè‰²çš„ç›‘æ§é¡µé¢,å®æ—¶äº†è§£ç³»ç»Ÿçš„å½“å‰çŠ¶å†µã€‚</li>
<li>åŠŸèƒ½å¼ºå¤§çš„ACLæ”¯æŒ,ç»™ç”¨æˆ·æå¤§çš„æ–¹ä¾¿ã€‚</li>
</ul>
<figure class="highlight ini"><figcaption><span>haproxy.cfg</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…¨å±€é…ç½®</span></span><br><span class="line">global</span><br><span class="line">  <span class="comment"># æ—¥å¿—é…ç½®</span></span><br><span class="line">  log 127.0.0.1 local3 info</span><br><span class="line">  <span class="comment"># æœ€å¤§è¿æ¥é™åˆ¶(ä¼˜å…ˆçº§ä½)</span></span><br><span class="line">  maxconn 4096</span><br><span class="line">    <span class="comment"># è¿è¡Œçš„ç”¨æˆ·å’Œç»„</span></span><br><span class="line">    user nobody</span><br><span class="line">    group nobody</span><br><span class="line"></span><br><span class="line">  <span class="comment">#å®ˆæŠ¤è¿›ç¨‹è¿è¡Œ</span></span><br><span class="line">  daemon</span><br><span class="line">  <span class="comment"># haproxyè¿›ç¨‹æ•°</span></span><br><span class="line">  nbproc 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># é’ˆå¯¹(listenå’Œbackendå—è¿›è¡Œè®¾ç½®æ²¡å¦‚æœå—ä¸­æ²¡è®¾ç½®,åˆ™ä½¿ç”¨é»˜è®¤è®¾ç½®)é»˜è®¤é…ç½®</span></span><br><span class="line">defaults</span><br><span class="line">  <span class="comment"># æ—¥å¿—ä½¿ç”¨å…¨å±€é…ç½®</span></span><br><span class="line">  log global</span><br><span class="line">  <span class="comment"># æ¨¡å¼7å±‚LB</span></span><br><span class="line">  mode http</span><br><span class="line">  <span class="comment"># æœ€å¤§è¿æ¥æ•°(ä¼˜å…ˆçº§ä¸­)</span></span><br><span class="line">  maxconn 2048</span><br><span class="line">  <span class="comment"># å¥åº·æ£€æŸ¥ã€‚3æ¬¡è¿æ¥å¤±è´¥å°±è®¤ä¸ºæœåŠ¡ä¸å¯ç”¨</span></span><br><span class="line">  retries 3</span><br><span class="line">  <span class="comment"># æœåŠ¡ä¸å¯ç”¨åçš„æ“ä½œ,é‡å®šå‘åˆ°å…¶ä»–å¥åº·æœåŠ¡å™¨</span></span><br><span class="line">  option redispatch</span><br><span class="line">  <span class="comment"># webé¡µé¢çŠ¶æ€æ¨¡å—åŠŸèƒ½å¼€å¯</span></span><br><span class="line">  stats uri /haproxy</span><br><span class="line">  <span class="comment"># çŠ¶æ€æ¨¡å—è®¤è¯(ç”¨æˆ·åqianfengå¯†ç 123)</span></span><br><span class="line">  stats auth qianfeng:123</span><br><span class="line">  <span class="comment"># å®šä¹‰haproxyå°†å®¢æˆ·ç«¯ !!! è¯·æ±‚ !!! è½¬å‘è‡³åç«¯æœåŠ¡å™¨,æ‰€ç­‰å¾…çš„è¶…æ—¶æ—¶é•¿</span></span><br><span class="line">  contimeout 5000</span><br><span class="line">  <span class="comment"># haproxyä½œä¸ºå®¢æˆ·,å’Œåç«¯æœåŠ¡å™¨ä¹‹é—´ !!! ç©ºé—²è¿æ¥ !!! çš„è¶…æ—¶æ—¶é—´,åˆ°æ—¶å€™å‘é€finæŒ‡ä»¤</span></span><br><span class="line">  clitimeout 50000</span><br><span class="line">  <span class="comment"># haproxyä½œä¸ºæœåŠ¡å™¨,å’Œç”¨æˆ·ä¹‹é—´ç©ºé—²è¿æ¥çš„è¶…æ—¶æ—¶é—´,åˆ°æ—¶å€™å‘é€finæŒ‡ä»¤</span></span><br><span class="line">  srvtimeout 50000</span><br><span class="line">  <span class="comment">#timeout connect 5000</span></span><br><span class="line">  <span class="comment">#timeout client 50000</span></span><br><span class="line">  <span class="comment">#timeout server 50000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‰ç«¯é…ç½®å—ã€‚é¢å¯¹ç”¨æˆ·ä¾§</span></span><br><span class="line">frontend http-in</span><br><span class="line">  <span class="comment"># é¢å¯¹ç”¨æˆ·ç›‘å¬åœ°å€å’Œç«¯å£</span></span><br><span class="line">  bind 0.0.0.0:80</span><br><span class="line">  <span class="comment"># httpæ¨¡å¼çš„LB</span></span><br><span class="line">  mode http</span><br><span class="line">   <span class="comment"># æ—¥å¿—ä½¿ç”¨å…¨å±€é…ç½®</span></span><br><span class="line">  log global</span><br><span class="line">  <span class="comment">#é»˜è®¤æ—¥å¿—æ ¼å¼éå¸¸ç®€é™‹,ä»…åŒ…æ‹¬æºåœ°å€ã€ç›®æ ‡åœ°å€å’Œå®ä¾‹åç§°,</span></span><br><span class="line">  <span class="comment">#è€Œâ€œoption httplogå‚æ•°å°†ä¼šä½¿å¾—æ—¥å¿—æ ¼å¼å˜å¾—ä¸°å¯Œè®¸å¤š,</span></span><br><span class="line">  <span class="comment">#å…¶é€šå¸¸åŒ…æ‹¬ä½†ä¸é™äºHTTPè¯·æ±‚ã€è¿æ¥è®¡æ—¶å™¨ã€ä¼šè¯çŠ¶æ€ã€è¿æ¥æ•°ã€æ•è·çš„é¦–éƒ¨åŠcookieã€&quot;frontend&quot;ã€&quot;backend&quot;åŠæœåŠ¡å™¨åç§°,å½“ç„¶ä¹ŸåŒ…æ‹¬æºåœ°å€å’Œç«¯å£å·ç­‰ã€‚</span></span><br><span class="line">  option httplog</span><br><span class="line">  <span class="comment"># æ¯æ¬¡è¯·æ±‚å®Œæ¯•å,å…³é—­httpé€šé“</span></span><br><span class="line">  option httpclose</span><br><span class="line">  <span class="comment"># 1.è®¿é—®æ§åˆ¶åˆ—è¡¨åç§°htmlã€‚è§„åˆ™è¦æ±‚è®¿é—®ä»¥htmlç»“å°¾çš„urlæ—¶</span></span><br><span class="line">  acl html url_reg -i \.html$</span><br><span class="line">  <span class="comment"># 2.å¦‚æœæ»¡è¶³acl htmlè§„åˆ™,åˆ™æ¨é€ç»™åç«¯æœåŠ¡å™¨ html-server</span></span><br><span class="line">  use_backend html-server if html</span><br><span class="line">  <span class="comment"># 3:é»˜è®¤çš„åç«¯æœåŠ¡å™¨æ˜¯ html-server</span></span><br><span class="line">  default_backend html-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># åç«¯æœåŠ¡å™¨åç§°ä¸º html-server</span></span><br><span class="line">backend html-server</span><br><span class="line">  <span class="comment"># æ¨¡å¼ä¸º7å±‚ä»£ç†</span></span><br><span class="line">  mode http</span><br><span class="line">  <span class="comment"># è½®å¾ª(rr)</span></span><br><span class="line">  balance roundrobin</span><br><span class="line">  <span class="comment"># å…è®¸ç”¨httpåè®®æ£€æŸ¥serverçš„å¥åº·</span></span><br><span class="line">  option httpchk GET/index.html</span><br><span class="line">  <span class="comment"># è½®è¯¢çš„åŒæ—¶,æ ¹æ®æ’å…¥çš„cookie SERVERID çš„å€¼æ¥åšä¼šè¯ä¿æŒ,</span></span><br><span class="line">  <span class="comment"># å°†ç›¸åŒçš„ç”¨æˆ·è¯·æ±‚,è½¬å‘ç»™ç›¸åŒçš„çœŸå®æœåŠ¡å™¨ã€‚</span></span><br><span class="line">  cookie SERVERID insert indirect nocache</span><br><span class="line">  <span class="comment"># cookie 3 æœåŠ¡å™¨ID,</span></span><br><span class="line">  <span class="comment"># é¿å… rr ç®—æ³•å°†å®¢æˆ·æœºè¯·æ±‚è½¬å‘ç»™å…¶ä»–æœåŠ¡å™¨,å¯¹åç«¯æœåŠ¡å™¨çš„å¥åº·çŠ¶å†µæ£€æŸ¥é—´éš”ä¸º2000æ¯«ç§’,</span></span><br><span class="line">  <span class="comment"># è¿ç»­2æ¬¡å¥åº·æ£€æŸ¥æˆåŠŸ,åˆ™è®¤ä¸ºæ˜¯æœ‰æ•ˆçš„,è¿ç»­5æ¬¡å¥åº·æ£€æŸ¥å¤±è´¥,åˆ™è®¤ä¸ºæœåŠ¡å™¨å®•æœº</span></span><br><span class="line">  server html-A web1:80 weight 1 cookie 3 check inter 2000 rise 2 fall 5</span><br><span class="line">  server html-B web2:80 weight 1 cookie 4 check inter 2000 rise 2 fall 5</span><br></pre></td></tr></table></figure>

<p>é«˜å¯ç”¨å¯ä»¥è‡ªå·±å®ç°ï¼Œä¹Ÿå¯ä½¿ç”¨ <code>keepalived</code> ç»„ä»¶</p>
<h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><ul>
<li>roundrobin<br>åŸºäºæƒé‡è¿›è¡Œè½®è¯¢,åœ¨æœåŠ¡å™¨çš„å¤„ç†æ—¶é—´ä¿æŒå‡åŒ€åˆ†å¸ƒæ—¶,è¿™æ˜¯æœ€å¹³è¡¡,æœ€å…¬å¹³çš„ç®—æ³•.æ­¤ç®—æ³•æ˜¯åŠ¨æ€çš„,è¿™è¡¨ç¤ºå…¶æƒé‡å¯ä»¥åœ¨è¿è¡Œæ—¶è¿›è¡Œè°ƒæ•´.ä¸è¿‡åœ¨è®¾è®¡ä¸Š,æ¯ä¸ªåç«¯æœåŠ¡å™¨ä»…èƒ½æœ€å¤šæ¥å—4128ä¸ªè¿æ¥</li>
<li>static-rr<br>åŸºäºæƒé‡è¿›è¡Œè½®å«,ä¸roundrobinç±»ä¼¼,ä½†æ˜¯ä¸ºé™æ€æ–¹æ³•,åœ¨è¿è¡Œæ—¶è°ƒæ•´å…¶æœåŠ¡å™¨æƒé‡ä¸ä¼šç”Ÿæ•ˆ.ä¸è¿‡,å…¶åœ¨åç«¯æœåŠ¡å™¨è¿æ¥æ•°ä¸Šæ²¡æœ‰é™åˆ¶</li>
<li>leastconn<br>æ–°çš„è¿æ¥è¯·æ±‚è¢«æ´¾å‘è‡³å…·æœ‰æœ€å°‘è¿æ¥æ•°ç›®çš„åç«¯æœåŠ¡å™¨.</li>
<li>source<br>å°†è¯·æ±‚çš„æºåœ°å€è¿›è¡Œhashè¿ç®—,å¹¶ç”±åç«¯æœåŠ¡å™¨çš„æƒé‡æ€»æ•°ç›¸é™¤åæ´¾å‘è‡³æŸåŒ¹é…çš„æœåŠ¡å™¨.è¿™å¯ä»¥ä½¿å¾—åŒä¸€ä¸ªå®¢æˆ·ç«¯IPçš„è¯·æ±‚å§‹ç»ˆè¢«æ´¾å‘è‡³æŸç‰¹å®šçš„æœåŠ¡å™¨.</li>
</ul>
<p><a href="https://www.haproxy.org/">haproxy</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>.NET</tag>
      </tags>
  </entry>
  <entry>
    <title>ZooKeeperä½¿ç”¨</title>
    <url>/2025/08/18/ZooKeeper%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯-ZooKeeperï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-ZooKeeperï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ ZooKeeperï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ ZooKeeperï¼Ÿ</h2><p>ZooKeeper æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ï¼Œå¼€æ”¾æºç çš„åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºååŒæœåŠ¡ã€‚ZooKeeper çš„è®¾è®¡ç›®æ ‡æ˜¯å°†é‚£äº›å¤æ‚ä¸”å®¹æ˜“å‡ºé”™çš„åˆ†å¸ƒå¼ä¸€è‡´æ€§æœåŠ¡å°è£…èµ·æ¥ï¼Œæ„æˆä¸€ä¸ªé«˜æ•ˆå¯é çš„åŸè¯­é›†ï¼Œå¹¶ä»¥ä¸€ç³»åˆ—ç®€å•æ˜“ç”¨çš„æ¥å£æä¾›ç»™ç”¨æˆ·ä½¿ç”¨ã€‚</p>
<h2 id="ZooKeeper-åº”ç”¨åœºæ™¯"><a href="#ZooKeeper-åº”ç”¨åœºæ™¯" class="headerlink" title="ZooKeeper åº”ç”¨åœºæ™¯"></a>ZooKeeper åº”ç”¨åœºæ™¯</h2><p>å¾ˆå¤šåˆ†å¸ƒå¼åè°ƒæœåŠ¡éƒ½å¯ä»¥ç”¨ ZooKeeper æ¥åšï¼Œå…¶ä¸­å…¸å‹åº”ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>é…ç½®ç®¡ç†ï¼ˆconfiguration managementï¼‰ï¼šå¦‚æœæˆ‘ä»¬åšæ™®é€šçš„ Java åº”ç”¨ï¼Œä¸€èˆ¬é…ç½®é¡¹å°±æ˜¯ä¸€ä¸ªæœ¬åœ°çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœæ˜¯å¾®æœåŠ¡ç³»ç»Ÿï¼Œå„ä¸ªç‹¬ç«‹æœåŠ¡éƒ½è¦ä½¿ç”¨é›†ä¸­åŒ–çš„é…ç½®ç®¡ç†ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ ZooKeeperã€‚</li>
<li>DNS æœåŠ¡</li>
<li>ç»„æˆå‘˜ç®¡ç†ï¼ˆgroup membershipï¼‰ï¼šæ¯”å¦‚ä¸Šé¢è®²åˆ°çš„ HBase å…¶å®å°±æ˜¯ç”¨æ¥åšé›†ç¾¤çš„ç»„æˆå‘˜ç®¡ç†ã€‚</li>
<li>å„ç§åˆ†å¸ƒå¼é”</li>
</ul>
<p>ZooKeeper é€‚ç”¨äºå­˜å‚¨å’ŒååŒç›¸å…³çš„å…³é”®æ•°æ®ï¼Œä¸é€‚åˆç”¨äºå¤§æ•°æ®é‡å­˜å‚¨ã€‚å¦‚æœè¦å­˜ KV æˆ–è€…å¤§é‡çš„ä¸šåŠ¡æ•°æ®ï¼Œè¿˜æ˜¯è¦ç”¨æ•°æ®åº“æˆ–è€…å…¶ä»– NoSql æ¥åšã€‚</p>
<p>å…¸å‹åº”ç”¨</p>
<ul>
<li>Hadoopï¼šä½¿ç”¨ ZooKeeper åš Namenode çš„é«˜å¯ç”¨ã€‚</li>
<li>HBaseï¼šä¿è¯é›†ç¾¤ä¸­åªæœ‰ä¸€ä¸ª masterï¼Œä¿å­˜ hbase:meta è¡¨çš„ä½ç½®ï¼Œä¿å­˜é›†ç¾¤ä¸­çš„ RegionServer åˆ—è¡¨ã€‚</li>
<li>Kafkaï¼šé›†ç¾¤æˆå‘˜ç®¡ç†ï¼Œcontroller èŠ‚ç‚¹é€‰ä¸¾ã€‚</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆ ZooKeeper ä¸é€‚åˆå¤§æ•°æ®é‡å­˜å‚¨å‘¢ï¼Ÿ</strong></p>
<ul>
<li>è®¾è®¡æ–¹é¢<br>ZooKeeper éœ€è¦æŠŠæ‰€æœ‰çš„æ•°æ®ï¼ˆå®ƒçš„ data treeï¼‰åŠ è½½åˆ°å†…å­˜ä¸­ã€‚è¿™å°±å†³å®šäº†ZooKeeper å­˜å‚¨çš„æ•°æ®é‡å—å†…å­˜çš„é™åˆ¶ã€‚è¿™ä¸€ç‚¹ ZooKeeper å’Œ Redis æ¯”è¾ƒåƒã€‚ä¸€èˆ¬çš„æ•°æ®åº“ç³»ç»Ÿä¾‹å¦‚ MySQLï¼ˆä½¿ç”¨ InnoDB å­˜å‚¨å¼•æ“çš„è¯ï¼‰å¯ä»¥å­˜å‚¨å¤§äºå†…å­˜çš„æ•°æ®ï¼Œè¿™æ˜¯å› ä¸º InnoDB æ˜¯åŸºäº B-Tree çš„å­˜å‚¨å¼•æ“ã€‚B-tree å­˜å‚¨å¼•æ“å’Œ LSM å­˜å‚¨å¼•æ“éƒ½å¯ä»¥å­˜å‚¨å¤§äºå†…å­˜çš„æ•°æ®é‡ã€‚</li>
<li>å·¥ç¨‹æ–¹é¢<br>ZooKeeper çš„è®¾è®¡ç›®æ ‡æ˜¯ä¸ºååŒæœåŠ¡æä¾›æ•°æ®å­˜å‚¨ï¼Œæ•°æ®çš„é«˜å¯ç”¨æ€§å’Œæ€§èƒ½æ˜¯æœ€é‡è¦çš„ç³»ç»ŸæŒ‡æ ‡ï¼Œå¤„ç†å¤§æ•°é‡ä¸æ˜¯ ZooKeeper çš„é¦–è¦ç›®æ ‡ã€‚å› æ­¤ï¼ŒZooKeeper ä¸ä¼šå¯¹å¤§æ•°é‡å­˜å‚¨åšå¤ªå¤šå·¥ç¨‹ä¸Šçš„ä¼˜åŒ–ã€‚</li>
</ul>
<h2 id="ZooKeeper-æœåŠ¡çš„ä½¿ç”¨"><a href="#ZooKeeper-æœåŠ¡çš„ä½¿ç”¨" class="headerlink" title="ZooKeeper æœåŠ¡çš„ä½¿ç”¨"></a>ZooKeeper æœåŠ¡çš„ä½¿ç”¨</h2><p>è¦ä½¿ç”¨ ZooKeeper æœåŠ¡ï¼Œé¦–å…ˆæˆ‘ä»¬çš„åº”ç”¨è¦å¼•å…¥ ZooKeeper çš„å®¢æˆ·ç«¯åº“ï¼Œç„¶åæˆ‘ä»¬å®¢æˆ·ç«¯åº“å’Œ ZooKeeper é›†ç¾¤æ¥è¿›è¡Œç½‘ç»œé€šä¿¡æ¥ä½¿ç”¨ ZooKeeper çš„æœåŠ¡ï¼Œæœ¬è´¨ä¸Šæ˜¯ Client-Server çš„æ¶æ„ï¼Œæˆ‘ä»¬çš„åº”ç”¨ä½œä¸ºä¸€ä¸ªå®¢æˆ·ç«¯æ¥è°ƒç”¨ ZooKeeper Server ç«¯çš„æœåŠ¡</p>
<p>ZooKeeper çš„æ•°æ®æ¨¡å‹æ˜¯å±‚æ¬¡æ¨¡å‹ã€‚å±‚æ¬¡æ¨¡å‹å¸¸è§äºæ–‡ä»¶ç³»ç»Ÿã€‚å±‚æ¬¡æ¨¡å‹å’Œ key-value æ¨¡å‹æ˜¯ä¸¤ç§ä¸»æµçš„æ•°æ®æ¨¡å‹ã€‚ZooKeeper ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæ¨¡å‹ä¸»è¦åŸºäºä»¥ä¸‹ä¸¤ç‚¹è€ƒè™‘ï¼š</p>
<ol>
<li>æ–‡ä»¶ç³»ç»Ÿçš„æ ‘å½¢ç»“æ„ä¾¿äºè¡¨è¾¾æ•°æ®ä¹‹é—´çš„å±‚æ¬¡å…³ç³»ã€‚</li>
<li>æ–‡ä»¶ç³»ç»Ÿçš„æ ‘å½¢ç»“æ„ä¾¿äºä¸ºä¸åŒçš„åº”ç”¨åˆ†é…ç‹¬ç«‹çš„å‘½åç©ºé—´ï¼ˆnamespaceï¼‰ã€‚</li>
</ol>
<p>ZooKeeper çš„å±‚æ¬¡æ¨¡å‹ç§°ä½œ data treeã€‚Data tree çš„æ¯ä¸ªèŠ‚ç‚¹å«åš znodeã€‚ä¸åŒäºæ–‡ä»¶ç³»ç»Ÿï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥ä¿å­˜æ•°æ®ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªç‰ˆæœ¬(version)ï¼Œç‰ˆæœ¬ä» 0 å¼€å§‹è®¡æ•°ã€‚</p>
<p><img src="/2025/08/18/ZooKeeper%E4%BD%BF%E7%94%A8/20250818222724197.png" alt="ZooKeeper çš„æ•°æ®æ¨¡å‹"></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºçš„ data tree ä¸­æœ‰ä¸¤ä¸ªå­æ ‘ï¼Œä¸€ä¸ªç”¨äºåº”ç”¨ 1ï¼ˆ&#x2F;app1ï¼‰å’Œå¦ä¸€ä¸ªç”¨äºåº”ç”¨ 2ï¼ˆ&#x2F;app2ï¼‰ã€‚</p>
<p>åº”ç”¨ 1 çš„å­æ ‘å®ç°äº†ä¸€ä¸ªç®€å•çš„ç»„æˆå‘˜åè®®ï¼šæ¯ä¸ªå®¢æˆ·ç«¯è¿›ç¨‹ pi åˆ›å»ºä¸€ä¸ª znode p_i åœ¨ &#x2F;app1 ä¸‹ï¼Œåªè¦ &#x2F;app1&#x2F;p_i å­˜åœ¨å°±ä»£è¡¨è¿›ç¨‹ pi åœ¨æ­£å¸¸è¿è¡Œã€‚</p>
<h3 id="data-tree-æ¥å£"><a href="#data-tree-æ¥å£" class="headerlink" title="data tree æ¥å£"></a>data tree æ¥å£</h3><p>ZooKeeper å¯¹å¤–æä¾›ä¸€ä¸ªç”¨æ¥è®¿é—® data treeçš„ç®€åŒ–æ–‡ä»¶ç³»ç»Ÿ APIï¼š</p>
<ul>
<li>ä½¿ç”¨ UNIX é£æ ¼çš„è·¯å¾„åæ¥å®šä½ znode,ä¾‹å¦‚ &#x2F;A&#x2F;X è¡¨ç¤º znode A çš„å­èŠ‚ç‚¹ Xã€‚</li>
<li>znode çš„æ•°æ®åªæ”¯æŒå…¨é‡å†™å…¥å’Œè¯»å–ï¼Œæ²¡æœ‰åƒé€šç”¨æ–‡ä»¶ç³»ç»Ÿé‚£æ ·æ”¯æŒéƒ¨åˆ†å†™å…¥å’Œè¯»å–ã€‚</li>
<li>data tree çš„æ‰€æœ‰ API éƒ½æ˜¯ wait-free çš„ï¼Œæ­£åœ¨æ‰§è¡Œä¸­çš„ API è°ƒç”¨ä¸ä¼šå½±å“å…¶ä»– API çš„å®Œæˆã€‚</li>
<li>data tree çš„ APIéƒ½æ˜¯å¯¹æ–‡ä»¶ç³»ç»Ÿçš„ wait-free æ“ä½œï¼Œä¸ç›´æ¥æä¾›é”è¿™æ ·çš„åˆ†å¸ƒå¼ååŒæœºåˆ¶ã€‚ä½†æ˜¯ data tree çš„ API éå¸¸å¼ºå¤§ï¼Œå¯ä»¥ç”¨æ¥å®ç°å¤šç§åˆ†å¸ƒå¼ååŒæœºåˆ¶ã€‚</li>
</ul>
<h3 id="znode-åˆ†ç±»"><a href="#znode-åˆ†ç±»" class="headerlink" title="znode åˆ†ç±»"></a>znode åˆ†ç±»</h3><p>ä¸€ä¸ª znode å¯ä»¥æ˜¯æŒä¹…æ€§çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸´æ—¶æ€§çš„ï¼Œznode èŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯é¡ºåºæ€§çš„ã€‚æ¯ä¸€ä¸ªé¡ºåºæ€§çš„ znode å…³è”ä¸€ä¸ªå”¯ä¸€çš„å•è°ƒé€’å¢æ•´æ•°ï¼Œå› æ­¤ ZooKeeper ä¸»è¦æœ‰ä»¥ä¸‹ 4 ç§ znodeï¼š</p>
<ul>
<li>æŒä¹…æ€§çš„ znode (PERSISTENT): ZooKeeper å®•æœºï¼Œæˆ–è€… client å®•æœºï¼Œè¿™ä¸ª znode ä¸€æ—¦åˆ›å»ºå°±ä¸ä¼šä¸¢å¤±ã€‚</li>
<li>ä¸´æ—¶æ€§çš„ znode (EPHEMERAL): ZooKeeper å®•æœºäº†ï¼Œæˆ–è€… client åœ¨æŒ‡å®šçš„ timeout æ—¶é—´å†…æ²¡æœ‰è¿æ¥ serverï¼Œéƒ½ä¼šè¢«è®¤ä¸ºä¸¢å¤±ã€‚</li>
<li>æŒä¹…é¡ºåºæ€§çš„ znode (PERSISTENT_SEQUENTIAL): znode é™¤äº†å…·å¤‡æŒä¹…æ€§ znode çš„ç‰¹ç‚¹ä¹‹å¤–ï¼Œznode çš„åå­—å…·å¤‡é¡ºåºæ€§ã€‚</li>
<li>ä¸´æ—¶é¡ºåºæ€§çš„ znode (EPHEMERAL_SEQUENTIAL): znode é™¤äº†å…·å¤‡ä¸´æ—¶æ€§ znode çš„ç‰¹ç‚¹ä¹‹å¤–ï¼Œznode çš„åå­—å…·å¤‡é¡ºåºæ€§ã€‚</li>
</ul>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><a href="https://archive.apache.org/dist/zookeeper/stable/">zookeeper</a></p>
<figure class="highlight ini"><figcaption><span>zoo.cfg</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¿ƒè·³æ£€æŸ¥çš„æ—¶é—´ 2ç§’</span></span><br><span class="line"><span class="attr">tickTime</span>=<span class="number">2000</span></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–æ—¶ è¿æ¥åˆ°æœåŠ¡å™¨ç«¯çš„é—´éš”æ¬¡æ•°ï¼Œæ€»æ—¶é—´10*2=20ç§’</span></span><br><span class="line"><span class="attr">initLimit</span>=<span class="number">10</span></span><br><span class="line"><span class="comment"># ZK Leader å’Œfollower ä¹‹é—´é€šè®¯çš„æ¬¡æ•°ï¼Œæ€»æ—¶é—´5*2=10ç§’</span></span><br><span class="line"><span class="attr">syncLimit</span>=<span class="number">5</span></span><br><span class="line"><span class="comment"># å­˜å‚¨å†…å­˜ä¸­æ•°æ®å¿«ç…§çš„ä½ç½®ï¼Œå¦‚æœä¸è®¾ç½®å‚æ•°ï¼Œæ›´æ–°äº‹åŠ¡æ—¥å¿—å°†è¢«å­˜å‚¨åˆ°é»˜è®¤ä½ç½®ã€‚</span></span><br><span class="line"><span class="attr">dataDir</span>=/data/zookeeper</span><br><span class="line"><span class="comment"># ZK æœåŠ¡å™¨ç«¯çš„ç›‘å¬ç«¯å£</span></span><br><span class="line"><span class="attr">clientPort</span>=<span class="number">2181</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">zkServer.sh start</span><br></pre></td></tr></table></figure>


<p><a href="https://www.cnblogs.com/wupeixuan/p/12080551.html">ZooKeeper</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>ZooKeeper</tag>
      </tags>
  </entry>
  <entry>
    <title>Debianå¯ç”¨å†…å­˜å‹ç¼©</title>
    <url>/2025/07/30/Debian%E5%90%AF%E7%94%A8%E5%86%85%E5%AD%98%E5%8E%8B%E7%BC%A9/</url>
    <content><![CDATA[<h2 id="zswap-å’Œ-zram-çš„ä½œç”¨"><a href="#zswap-å’Œ-zram-çš„ä½œç”¨" class="headerlink" title="zswap å’Œ zram çš„ä½œç”¨"></a>zswap å’Œ zram çš„ä½œç”¨</h2><h3 id="zswap"><a href="#zswap" class="headerlink" title="zswap"></a>zswap</h3><p>ä½œç”¨ï¼šzswap æ˜¯ Linux å†…æ ¸çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œç”¨äºå‹ç¼©äº¤æ¢é¡µé¢ï¼ˆswap pagesï¼‰ä»¥å‡å°‘ I&#x2F;O æ“ä½œ<br>å·¥ä½œåŸç†ï¼šåœ¨å°†é¡µé¢å†™å…¥ç£ç›˜äº¤æ¢ç©ºé—´ä¹‹å‰ï¼Œå…ˆåœ¨å†…å­˜ä¸­å¯¹å…¶è¿›è¡Œå‹ç¼©<br>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å‡å°‘äº¤æ¢ I&#x2F;Oï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½</li>
<li>é™ä½ç£ç›˜ç£¨æŸï¼ˆç‰¹åˆ«æ˜¯ SSDï¼‰</li>
<li>æ›´é«˜æ•ˆåœ°åˆ©ç”¨å†…å­˜èµ„æº</li>
</ul>
<h3 id="zram"><a href="#zram" class="headerlink" title="zram"></a>zram</h3><p>ä½œç”¨ï¼šzram æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„å—è®¾å¤‡ï¼Œå®ƒå°†å†…å­˜çš„ä¸€éƒ¨åˆ†ç”¨ä½œå‹ç¼©å—è®¾å¤‡<br>å·¥ä½œåŸç†ï¼šåˆ›å»ºä¸€ä¸ªå‹ç¼©çš„å†…å­˜å—è®¾å¤‡ï¼Œå¯ä»¥ä½œä¸ºäº¤æ¢ç©ºé—´æˆ–ä¸´æ—¶å­˜å‚¨ä½¿ç”¨<br>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ— éœ€ç‰©ç†å­˜å‚¨è®¾å¤‡</li>
<li>æ•°æ®åœ¨å†…å­˜ä¸­å‹ç¼©å­˜å‚¨</li>
<li>å¸¸ç”¨äºå†…å­˜å—é™çš„ç³»ç»Ÿï¼ˆå¦‚åµŒå…¥å¼è®¾å¤‡ã€Chrome OS ç­‰ï¼‰</li>
</ul>
<h3 id="ä¸¤è€…å…³ç³»"><a href="#ä¸¤è€…å…³ç³»" class="headerlink" title="ä¸¤è€…å…³ç³»"></a>ä¸¤è€…å…³ç³»</h3><p>zram å¯ä»¥ä¸ zswap é…åˆä½¿ç”¨ï¼Œæä¾›æ›´é«˜æ•ˆçš„å†…å­˜ç®¡ç†æ–¹æ¡ˆ<br>åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œzram å¯ä»¥ä½œä¸º zswap çš„åç«¯å­˜å‚¨<br>éƒ½æ—¨åœ¨é€šè¿‡å‹ç¼©æŠ€æœ¯ä¼˜åŒ–å†…å­˜ä½¿ç”¨å’Œç³»ç»Ÿæ€§èƒ½</p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><h3 id="ä¸´æ—¶å¯ç”¨"><a href="#ä¸´æ—¶å¯ç”¨" class="headerlink" title="ä¸´æ—¶å¯ç”¨"></a>ä¸´æ—¶å¯ç”¨</h3><ol>
<li><p>å¯ç”¨ zswap</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸´æ—¶å¯ç”¨ zswapï¼ˆé‡å¯åå¤±æ•ˆï¼‰</span></span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /sys/module/zswap/parameters/enabled</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ°¸ä¹…å¯ç”¨ zswapï¼Œç¼–è¾‘ GRUB é…ç½®</span></span><br><span class="line"><span class="built_in">sudo</span> vi /etc/default/grub</span><br><span class="line"><span class="comment"># åœ¨ GRUB_CMDLINE_LINUX è¡Œæ·»åŠ  zswap.enabled=1</span></span><br><span class="line"><span class="comment"># ä¾‹å¦‚ï¼šGRUB_CMDLINE_LINUX=&quot;... zswap.enabled=1&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–° GRUB é…ç½®</span></span><br><span class="line"><span class="built_in">sudo</span> update-grub</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½® zswap å‚æ•°ï¼ˆå¯é€‰ï¼‰</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®å‹ç¼©ç®—æ³•ï¼ˆé»˜è®¤é€šå¸¸æ˜¯ lz4ï¼‰</span></span><br><span class="line"><span class="built_in">echo</span> lz4 &gt; /sys/module/zswap/parameters/compressor</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å†…å­˜æ± æœ€å¤§å ç”¨æ¯”ä¾‹ï¼ˆé»˜è®¤ 20%ï¼‰</span></span><br><span class="line"><span class="built_in">echo</span> 25 &gt; /sys/module/zswap/parameters/max_pool_percent</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»º zram è®¾å¤‡</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½ zram å†…æ ¸æ¨¡å—</span></span><br><span class="line"><span class="built_in">sudo</span> modprobe zram</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º zram è®¾å¤‡ï¼ˆä¾‹å¦‚åˆ›å»ºä¸€ä¸ª 1GB çš„è®¾å¤‡ï¼‰</span></span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /sys/class/zram-control/hot_add</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½® zram è®¾å¤‡å‚æ•°</span></span><br><span class="line"><span class="built_in">echo</span> 1G &gt; /sys/block/zram0/disksize</span><br><span class="line"><span class="built_in">echo</span> lz4 &gt; /sys/block/zram0/comp_algorithm</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°† zram ç”¨ä½œäº¤æ¢ç©ºé—´</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼åŒ– zram ä¸ºäº¤æ¢ç©ºé—´</span></span><br><span class="line"><span class="built_in">sudo</span> mkswap /dev/zram0</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ç”¨äº¤æ¢ç©ºé—´</span></span><br><span class="line"><span class="built_in">sudo</span> swapon /dev/zram0</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹äº¤æ¢ç©ºé—´çŠ¶æ€</span></span><br><span class="line">swapon --show</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="æ°¸ä¹…é…ç½®"><a href="#æ°¸ä¹…é…ç½®" class="headerlink" title="æ°¸ä¹…é…ç½®"></a>æ°¸ä¹…é…ç½®</h3><h4 id="æ–¹æ³•ä¸€ï¼šä½¿ç”¨-systemd-é…ç½®"><a href="#æ–¹æ³•ä¸€ï¼šä½¿ç”¨-systemd-é…ç½®" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä½¿ç”¨ systemd é…ç½®"></a>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ systemd é…ç½®</h4><ol>
<li><p>åˆ›å»º zram é…ç½®æœåŠ¡ï¼š</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºé…ç½®è„šæœ¬</span></span><br><span class="line"><span class="built_in">sudo</span> vi /usr/local/bin/setup-zram.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>set-up-zram.sh å†…å®¹ï¼š</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">modprobe zram</span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /sys/class/zram-control/hot_add</span><br><span class="line"><span class="built_in">echo</span> 1G &gt; /sys/block/zram0/disksize</span><br><span class="line"><span class="built_in">echo</span> lz4 &gt; /sys/block/zram0/comp_algorithm</span><br><span class="line">mkswap /dev/zram0</span><br><span class="line">swapon /dev/zram0</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰§è¡Œå‘½ä»¤</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> +x /usr/local/bin/setup-zram.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º systemd æœåŠ¡</span></span><br><span class="line"><span class="built_in">sudo</span> vi /etc/systemd/system/zram.service</span><br></pre></td></tr></table></figure>
</li>
<li><p>zram.service å†…å®¹ï¼š</p>
 <figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=Setup ZRAM</span><br><span class="line"><span class="attr">After</span>=multi-user.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=<span class="literal">on</span>eshot</span><br><span class="line"><span class="attr">ExecStart</span>=/usr/local/bin/setup-zram.sh</span><br><span class="line"><span class="attr">RemainAfterExit</span>=<span class="literal">yes</span></span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨æœåŠ¡</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯ç”¨æœåŠ¡</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> zram.service</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="æ–¹æ³•äºŒï¼šä½¿ç”¨-zram-tools-åŒ…"><a href="#æ–¹æ³•äºŒï¼šä½¿ç”¨-zram-tools-åŒ…" class="headerlink" title="æ–¹æ³•äºŒï¼šä½¿ç”¨ zram-tools åŒ…"></a>æ–¹æ³•äºŒï¼šä½¿ç”¨ zram-tools åŒ…</h4><ol>
<li><p>å®‰è£… zram-tools åŒ…</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… zram-tools</span></span><br><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install zram-tools</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½® zram-tools</span></span><br><span class="line"><span class="built_in">sudo</span> vi /etc/default/zramswap</span><br></pre></td></tr></table></figure>

<p> åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å‚æ•°ï¼š</p>
 <figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">ALGO</span>=lz4</span><br><span class="line"><span class="comment"># DEVICE_SIZE=1G</span></span><br><span class="line"><span class="attr">PERCENT</span>=<span class="number">50</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ç”¨å¹¶å¯åŠ¨ zramswap æœåŠ¡</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> zramswap</span><br><span class="line"><span class="built_in">sudo</span> systemctl start zramswap</span><br><span class="line"><span class="comment"># æŸ¥çœ‹äº¤æ¢ç©ºé—´ï¼ŒåŒ…æ‹¬ä¼˜å…ˆçº§</span></span><br><span class="line"><span class="built_in">cat</span> /proc/swaps</span><br><span class="line"><span class="comment"># æŸ¥çœ‹ zram-tools åŒ…å®‰è£…äº†å“ªäº›æœåŠ¡</span></span><br><span class="line">dpkg -L zram-tools | grep systemd</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…æŸ¥æ‰¾ç³»ç»Ÿä¸­æ‰€æœ‰ä¸ zram ç›¸å…³çš„æœåŠ¡</span></span><br><span class="line">systemctl list-unit-files | grep zram</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="éªŒè¯é…ç½®"><a href="#éªŒè¯é…ç½®" class="headerlink" title="éªŒè¯é…ç½®"></a>éªŒè¯é…ç½®</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥ zswap çŠ¶æ€</span></span><br><span class="line"><span class="built_in">cat</span> /sys/module/zswap/parameters/enabled</span><br><span class="line"><span class="built_in">cat</span> /sys/module/zswap/parameters/compressor</span><br><span class="line"><span class="built_in">cat</span> /sys/module/zswap/parameters/max_pool_percen</span><br><span class="line"><span class="comment"># æ£€æŸ¥ zram çŠ¶æ€</span></span><br><span class="line"><span class="built_in">cat</span> /sys/block/zram0/disksize</span><br><span class="line"><span class="built_in">cat</span> /sys/block/zram0/comp_algorith</span><br><span class="line"><span class="comment"># æŸ¥çœ‹å†…å­˜å’Œäº¤æ¢ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line">free -h</span><br><span class="line">swapon --sho</span><br><span class="line"><span class="comment"># æŸ¥çœ‹ zswap ç»Ÿè®¡ä¿¡æ¯</span></span><br><span class="line">grep -R . /sys/kernel/debug/zswap/</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„äº‹é¡¹</p>
<ul>
<li>æ ¹æ®ç³»ç»Ÿå†…å­˜å¤§å°è°ƒæ•´ zram è®¾å¤‡å¤§å°ï¼ˆé€šå¸¸ä¸ºç‰©ç†å†…å­˜çš„ 25-50%ï¼‰</li>
<li>é€‰æ‹©åˆé€‚çš„å‹ç¼©ç®—æ³•ï¼ˆlz4 é€Ÿåº¦å¿«ï¼Œzstd å‹ç¼©æ¯”é«˜ï¼‰</li>
<li>ç›‘æ§ç³»ç»Ÿæ€§èƒ½ï¼Œé¿å…è¿‡åº¦ä½¿ç”¨å¯¼è‡´ç³»ç»Ÿå˜æ…¢</li>
<li>åœ¨å†…å­˜å……è¶³çš„ç³»ç»Ÿä¸­ï¼Œæ•ˆæœå¯èƒ½ä¸æ˜æ˜¾</li>
</ul>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Debian12</tag>
        <tag>zram</tag>
        <tag>zswap</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹å ç”¨CPUçš„Javaçº¿ç¨‹</title>
    <url>/2025/07/23/%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E6%9F%A5%E7%9C%8B%E5%8D%A0%E7%94%A8CPU%E7%9A%84Java%E7%BA%BF%E7%A8%8B/</url>
    <content><![CDATA[<ol>
<li><p>æ‰¾åˆ° <code>%CPU</code> æœ€é«˜çš„è¿›ç¨‹ PID</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">top</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰¾åˆ°å ç”¨CPUé«˜çš„ çº¿ç¨‹ID</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">top -H -p PID </span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹å ç”¨CPUçš„Javaçº¿ç¨‹çš„å †æ ˆ</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-A 20 æ˜¾ç¤º 20è¡Œä¿¡æ¯</span></span><br><span class="line">jstack è¿›ç¨‹PID | grep çº¿ç¨‹ID -A 20</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Hyper-Vå®‰è£…çš„Debian10ç¦ç”¨swap</title>
    <url>/2025/07/24/%E5%9C%A8Hyper-V%E5%AE%89%E8%A3%85%E7%9A%84Debian10%E7%A6%81%E7%94%A8swap/</url>
    <content><![CDATA[<blockquote>
<p>åœ¨Hyper-Vä¸­å®‰è£…äº†Debian 10æµ‹è¯•K8Sï¼ŒDebian 10é‡å¯åéƒ½ä¼šè‡ªåŠ¨åŠ è½½ swap åˆ†åŒºï¼Œå³ä½¿å·²ç»æ³¨é‡Šäº† <code>/etc/fstab</code> ä¸­swapè¡Œï¼Œå¯¼è‡´K8Så¯åŠ¨å¤±è´¥ã€‚è¿™æ˜¯å› ä¸º <code>initramfs</code> å†…ç¡¬ç¼–ç äº† swap åˆ†åŒºä¿¡æ¯ï¼ˆè®¾å¤‡åæˆ– UUIDï¼‰</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1. æ‰¾åˆ° swap åˆ†åŒºè®¾å¤‡åï¼š</span></span><br><span class="line">swapon --show</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2. ç¦ç”¨è‡ªåŠ¨æŒ‚è½½</span></span><br><span class="line">sudo sed -i &#x27;/ swap / s/^/#/&#x27; /etc/fstab</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3. å±è”½è®¾å¤‡ swap unitã€‚</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.1 å‡è®¾è¾“å‡ºï¼š /dev/sda2</span></span><br><span class="line">sudo systemctl mask dev-sda2.swap</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.2 å¦‚æœåå­—æ˜¯ dev-disk-by-uuid-xxxxxx.swapï¼Œåˆ™ mask é‚£ä¸ª unitï¼š</span></span><br><span class="line">sudo systemctl mask &quot;dev-disk-by-uuid-&lt;your-uuid&gt;.swap&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4. é‡æ–°æ„å»º initramfs</span></span><br><span class="line">sudo update-initramfs -u</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">5. é‡å¯éªŒè¯</span></span><br><span class="line">sudo reboot</span><br><span class="line">swapon --show</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä½¿ç”¨ <code>fdisk</code> åˆ é™¤ <code>swap</code> åˆ†åŒº</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Linux,Debian</tag>
      </tags>
  </entry>
  <entry>
    <title>IntelliJ IDEAä¹‹External tools</title>
    <url>/2024/09/01/IntelliJ-IDEA%E4%B9%8BExternal-tools/</url>
    <content><![CDATA[<h2 id="javap"><a href="#javap" class="headerlink" title="javap"></a>javap</h2><p><code>Ctrl + Alt + S</code> â€”â€”&gt; <code>External Tools</code> â€”â€”&gt; <code>Add</code> ,åœ¨æ·»åŠ é¡µé¢çš„ <code>Tool Setting</code>éƒ¨åˆ†åˆ†åˆ«è®¾ç½®</p>
<ol>
<li><code>Program</code> å¡« <code>$JDKPath$\bin\javap</code><br>  <code>javap</code> ä½¿ç”¨ JVM é€‰é¡¹ <code>-J-Dfile.encoding=GB2312</code></li>
<li><code>Arguments</code> å¡« <code>-v -c -l -s -p $FileClass$</code></li>
<li><code>Working directory</code> å¡« <code>$OutputPath$</code></li>
</ol>
<h2 id="jconsole"><a href="#jconsole" class="headerlink" title="jconsole"></a>jconsole</h2><ol>
<li><code>Program</code> å¡« <code>$JDKPath$\bin\jconsole</code></li>
</ol>
<h2 id="protoc"><a href="#protoc" class="headerlink" title="protoc"></a>protoc</h2><ol>
<li><code>Program</code> å¡« <code>protoc</code></li>
<li><code>Arguments</code> å¡« <code>--java_out=$SourcepathEntry$ $FileNameWithoutExtension$.proto</code><br>  <code>--java_out=</code> æŒ‡å®šè¾“å‡ºæ–‡ä»¶çš„ç›®å½•ã€‚å¦‚æœä½¿ç”¨å®<code>$SourcepathEntry$</code>,åˆ™åœ¨ç¼–å†™<code>xx.proto</code>æ–‡ä»¶æ—¶ï¼Œæœ€å¥½æŒ‡å®šæ­£ç¡®çš„åŒ…åï¼Œç»“æœä¼šè¾“å‡ºåˆ°ç›¸åº”çš„ä½ç½®ã€‚æˆ–è€…æŒ‡å®šä¸º<code>.</code>,å³è¾“å‡ºåˆ°<code>xx.proto</code>æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œç„¶åå¤åˆ¶åˆ°æ­£ç¡®ä½ç½®ã€‚</li>
<li><code>Working directory</code> å¡« <code>$FileDir$</code></li>
</ol>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Debiané‡æ–°å®‰è£…grubå¼•å¯¼</title>
    <url>/2024/08/08/Debian%E9%87%8D%E6%96%B0%E5%AE%89%E8%A3%85grub%E5%BC%95%E5%AF%BC/</url>
    <content><![CDATA[<p>ä¸€å®šè¦ä½¿ç”¨<code>Live CD</code>,ä¸è¦ä½¿ç”¨æ™®é€š<code>ISO</code>ï¼Œç¡®ä¿<code>UEFI</code>å¼•å¯¼è¿›å…¥ç³»ç»Ÿï¼Œå¦åˆ™ä¼šæœ‰å…¶ä»–é”™è¯¯äº§ç”Ÿ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /proc/partitions</span><br><span class="line">fdisk -l</span><br><span class="line">mount /dev/sda2	/target/			<span class="comment"># sda2 æ ¹åˆ†åŒº</span></span><br><span class="line">mount /dev/sda4 /target/boot/			<span class="comment"># sda4 bootåˆ†åŒº</span></span><br><span class="line">mount /dev/sda1 /target/boot/efi/		<span class="comment"># efi åˆ†åŒº</span></span><br><span class="line">mount --<span class="built_in">bind</span> /proc/ /target/proc/</span><br><span class="line">mount --<span class="built_in">bind</span> /sys/ /target/sys/</span><br><span class="line">mount --<span class="built_in">bind</span> /dev/ /target/dev/</span><br><span class="line">mount --<span class="built_in">bind</span> /dev/pts/ /target/dev/pts/</span><br><span class="line"><span class="built_in">chroot</span> /target/</span><br><span class="line">grub-install /dev/sda</span><br><span class="line">update-grub</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<p><a href="https://www.cnblogs.com/ylxtiankong/p/17168867.html">linux UEFIå¼•å¯¼é‡æ–°å®‰è£…ç³»ç»Ÿgrubå¯åŠ¨é¡¹</a><br><a href="https://unix.stackexchange.com/questions/693101/reinstall-grub-grub-install-warning-efi-variables-are-not-supported-on-this-s">Reinstall GRUB (grub-install: warning: EFI variables are not supported on this system.)</a></p>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Debian</tag>
      </tags>
  </entry>
  <entry>
    <title>Chromeè‡ªå®šä¹‰æœç´¢å¼•æ“</title>
    <url>/2024/08/17/Chrome%E8%87%AA%E5%AE%9A%E4%B9%89%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/</url>
    <content><![CDATA[<p><code>è®¾ç½®</code>â€“&gt;<code>æœç´¢å¼•æ“</code>â€“&gt;<code>ç®¡ç†æœç´¢å¼•æ“å’Œç½‘ç«™æ•°æ®</code>â€“&gt;ç½‘ç«™æœç´¢æ—çš„<code>æ·»åŠ </code>â€“&gt;<code>ä¿å­˜</code>â€“&gt;<code>è®¾ç½®é»˜è®¤é€‰é¡¹</code></p>
<p>æ¯”å¦‚,googleåŸæ¥çš„æ ¼å¼ä¸º</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">&#123;google:baseURL&#125;search?<span class="attr">q</span>=%s&amp;&#123;google:RLZ&#125;&#123;google:originalQueryForSuggestion&#125;&#123;google:assistedQueryStats&#125;&#123;google:searchFieldtrialParameter&#125;&#123;google:language&#125;&#123;google:prefetchSource&#125;&#123;google:searchClient&#125;&#123;google:sourceId&#125;&#123;google:contextualSearchVersion&#125;ie=&#123;inputEncoding&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨è¦è¿‡æ»¤â€csdn.netâ€çš„å†…å®¹,æ ¼å¼ä¸º</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">&#123;google:baseURL&#125;search?<span class="attr">q</span>=%s+-site:csdn.net&amp;&#123;google:RLZ&#125;&#123;google:originalQueryForSuggestion&#125;&#123;google:assistedQueryStats&#125;&#123;google:searchFieldtrialParameter&#125;&#123;google:language&#125;&#123;google:prefetchSource&#125;&#123;google:searchClient&#125;&#123;google:sourceId&#125;&#123;google:contextualSearchVersion&#125;ie=&#123;inputEncoding&#125;</span><br></pre></td></tr></table></figure>

<p>å°†ä¿®æ”¹å¥½çš„ç½‘å€æ ¼å¼ä¿å­˜</p>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Chrome</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringBooté¡¹ç›®å¯åŠ¨</title>
    <url>/2024/09/03/SpringBoot%E9%A1%B9%E7%9B%AE%E5%90%AF%E5%8A%A8/</url>
    <content><![CDATA[<h2 id="å®˜æ–¹è„šæ‰‹æ¶æ¨¡å¼"><a href="#å®˜æ–¹è„šæ‰‹æ¶æ¨¡å¼" class="headerlink" title="å®˜æ–¹è„šæ‰‹æ¶æ¨¡å¼"></a>å®˜æ–¹è„šæ‰‹æ¶æ¨¡å¼</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="ä¸ä½¿ç”¨spring-boot-starter-parent"><a href="#ä¸ä½¿ç”¨spring-boot-starter-parent" class="headerlink" title="ä¸ä½¿ç”¨spring-boot-starter-parent"></a>ä¸ä½¿ç”¨<code>spring-boot-starter-parent</code></h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">id</span>&gt;</span>repackage<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goal</span>&gt;</span>repackage<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Gradle åŸºæœ¬ä»‹ç»</title>
    <url>/2024/08/03/Gradle-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/</url>
    <content><![CDATA[<p><img src="/2024/08/03/Gradle-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/gradle-basic-1.png" alt="Gradleæµç¨‹å›¾"></p>
<h2 id="å¸¸ç”¨æŒ‡ä»¤"><a href="#å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="å¸¸ç”¨æŒ‡ä»¤"></a>å¸¸ç”¨æŒ‡ä»¤</h2><table>
<thead>
<tr>
<th>æŒ‡ä»¤</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>gradle clean</td>
<td>æ¸…ç©ºå½“å‰é¡¹ç›®ä¸‹çš„buildç›®å½•</td>
</tr>
<tr>
<td>gradle classes</td>
<td>ç¼–è¯‘ä¸šåŠ¡ä»£ç å’Œé…ç½®æ–‡ä»¶</td>
</tr>
<tr>
<td>gradle test</td>
<td>ç¼–è¯‘æµ‹è¯•ä»£ç ï¼Œç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</td>
</tr>
<tr>
<td>gradle build</td>
<td>æ„å»ºé¡¹ç›®</td>
</tr>
<tr>
<td>gradle build -x test</td>
<td>è·³è¿‡æµ‹è¯•æ„å»ºé¡¹ç›®</td>
</tr>
<tr>
<td>gradle run</td>
<td>è¿è¡Œä¸€ä¸ªæœåŠ¡ï¼Œéœ€è¦applicationæ’ä»¶æ”¯æŒï¼Œå¹¶ä¸”åˆ¶å®šäº†ä¸»å¯åŠ¨ç±»æ‰èƒ½è¿è¡Œ</td>
</tr>
<tr>
<td>gradle init</td>
<td>åˆå§‹åŒ– gradleé¡¹ç›®</td>
</tr>
<tr>
<td>gradle wrapper</td>
<td>ç”Ÿæˆ wrapper æ–‡ä»¶å¤¹</td>
</tr>
<tr>
<td>gradle projects</td>
<td>åˆ—å‡ºæ‰€æœ‰é¡¹ç›®</td>
</tr>
<tr>
<td>gradle tasks</td>
<td>åˆ—å‡ºæ‰€é€‰é¡¹ç›®ï¼ˆå½“å‰é¡¹ç›®ï¼Œä¸åŒ…æ‹¬çˆ¶ã€å­é¡¹ç›®ï¼‰çš„ä»»åŠ¡</td>
</tr>
<tr>
<td>gradle tasks â€“all</td>
<td>åˆ—å‡ºæ‰€é€‰é¡¹ç›®çš„æ‰€æœ‰ä»»åŠ¡</td>
</tr>
<tr>
<td>gradle tasks â€“group&#x3D;â€build setupâ€</td>
<td>åˆ—å‡ºæ‰€é€‰é¡¹ç›®ç§æŒ‡å®šåˆ†ç»„ä¸­çš„ä»»åŠ¡</td>
</tr>
<tr>
<td>gradle help â€“task someTask</td>
<td>æ˜¾ç¤ºæŸä¸ªä»»åŠ¡çš„è¯¦ç»†ä¿¡æ¯</td>
</tr>
<tr>
<td>gradle dependencies</td>
<td>æŸ¥çœ‹æ•´ä¸ªé¡¹ç›®çš„ä¾èµ–ä¿¡æ¯ï¼Œä»¥ä¾èµ–æ ‘çš„æ–¹å¼æ˜¾ç¤º</td>
</tr>
<tr>
<td>gradle properties</td>
<td>åˆ—å‡ºæ‰€é€‰é¡¹ç›®çš„å±æ€§åˆ—è¡¨</td>
</tr>
<tr>
<td>-S,â€“full-stacktrace</td>
<td>æ‰“å°å‡ºæ‰€æœ‰å¼‚å¸¸çš„å®Œæ•´å †æ ˆè·Ÿè¸ªä¿¡æ¯</td>
</tr>
<tr>
<td>-s,â€“stacktrace</td>
<td>æ‰“å°å‡ºç”¨æˆ·å¼‚å¸¸çš„å †æ ˆè·Ÿè¸ª</td>
</tr>
<tr>
<td>-Dorg.gradle.daemon.debug&#x3D;true</td>
<td>è°ƒè¯•å®ˆæŠ¤è¿›ç¨‹</td>
</tr>
<tr>
<td>-Dorg.gradle.debug&#x3D;true</td>
<td>è°ƒè¯•å®¢æˆ·ç«¯ï¼ˆédaemonï¼‰</td>
</tr>
<tr>
<td>-Dorg.gradle.debug.port&#x3D;9999</td>
<td>è°ƒè¯•ç›‘å¬ç«¯å£</td>
</tr>
<tr>
<td>gradle init â€“type pom</td>
<td>å°†Mavené¡¹ç›®è½¬æ¢ä¸º gradleé¡¹ç›®(æ ¹ç›®å½•æ‰§è¡Œ)</td>
</tr>
</tbody></table>
<h2 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h2><h3 id="ä¾èµ–çš„æ–¹å¼"><a href="#ä¾èµ–çš„æ–¹å¼" class="headerlink" title="ä¾èµ–çš„æ–¹å¼"></a>ä¾èµ–çš„æ–¹å¼</h3><p><code>dependencies</code> æœ¬è´¨æ˜¯<code>Project</code>æ¥å£å®šä¹‰çš„ä¸€ä¸ªæ–¹æ³•</p>
<ol>
<li><p>æœ¬åœ°ä¾èµ–ã€‚å¯é€šè¿‡ æ–‡ä»¶é›†åˆã€æ–‡ä»¶æ ‘çš„æ–¹å¼æŒ‡å®š</p>
</li>
<li><p>é¡¹ç›®ä¾èµ–</p>
</li>
<li><p>ç›´æ¥ä¾èµ– ä¾èµ–ç±»å‹.ä¾èµ–çš„ç»„å.åç§°.ç‰ˆæœ¬å·</p>
 <figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line"><span class="comment">//    implementation  files(&quot;example1.jar&quot;,&quot;example2.jar&quot;)</span></span><br><span class="line"><span class="comment">//    implementation  fileTree(&quot;dir&quot;:&quot;lib&quot;,includes: [&#x27;*.jar&#x27;],excludes: [&#x27;*.md&#x27;])</span></span><br><span class="line">    implementation project(<span class="string">&#x27;:subproject01&#x27;</span>) <span class="comment">// ä¸€å®šè¦å‡ºç°åœ¨ settings.gradle ä¸­</span></span><br><span class="line">    implementation project(<span class="string">&#x27;subProject02&#x27;</span>)</span><br><span class="line">    implementation <span class="string">&#x27;org.apache.logging.log4j:log4j-spring-cloud-config-client:2.17.2&#x27;</span></span><br><span class="line">    implementation <span class="attr">group:</span> <span class="string">&#x27;org.springframework.boot&#x27;</span>, <span class="attr">name:</span> <span class="string">&#x27;spring-boot-starter-web&#x27;</span>,    <span class="attr">version:</span> <span class="string">&#x27;3. 3.2&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="ä¾èµ–ç±»å‹"><a href="#ä¾èµ–ç±»å‹" class="headerlink" title="ä¾èµ–ç±»å‹"></a>ä¾èµ–ç±»å‹</h3><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>compileOnly</code></td>
<td>ç”±Javaæ’ä»¶æä¾›ï¼Œæ›¾çŸ­æš‚çš„å«<code>provided</code>,åç»­ç‰ˆæœ¬å·²ç»æ”¹æˆäº† <code>compileOnly</code>,é€‚äºç¼–è¯‘å™¨éœ€è¦ï¼Œè€Œ     ä¸éœ€è¦æ‰“åŒ…çš„æƒ…å†µ</td>
</tr>
<tr>
<td><code>runtimeOnly</code></td>
<td>ç”±Javaæ’ä»¶æä¾›ï¼Œåªåœ¨è¿è¡ŒæœŸæœ‰æ•ˆï¼Œç¼–è¯‘æ—¶ä¸éœ€è¦ï¼Œæ¯”å¦‚ mysql é©±åŠ¨åŒ…ï¼Œå–ä»£è€ç‰ˆçš„ <code>runtime</code></td>
</tr>
<tr>
<td><code>implementation</code></td>
<td>ç”±Javaæ’ä»¶æä¾›ï¼Œé’ˆå¯¹ä»£ç <code>src/main</code>ç›®å½•ï¼Œåœ¨ç¼–è¯‘ã€è¿è¡Œæ—¶éƒ½æœ‰æ•ˆã€‚å–ä»£è€ç‰ˆçš„ <code>compile</code></td>
</tr>
<tr>
<td><code>testCompileOnly</code></td>
<td>ç”±Javaæ’ä»¶æä¾›ï¼Œç”¨äºç¼–è¯‘æµ‹è¯•çš„ä¾èµ–é¡¹ï¼Œè¿è¡Œæ—¶ä¸éœ€è¦</td>
</tr>
<tr>
<td><code>testRuntimeOnly</code></td>
<td>ç”±Javaæ’ä»¶æä¾›ï¼Œåªåœ¨è¿è¡Œæµ‹è¯•æ—¶éœ€è¦ï¼Œè€Œç¼–è¯‘æµ‹è¯•æ—¶ä¸éœ€è¦</td>
</tr>
<tr>
<td><code>testImplementation</code></td>
<td>ç”±Javaæ’ä»¶æä¾›ï¼Œé’ˆå¯¹æµ‹è¯•ä»£ç <code>src/test</code>ç›®å½•ï¼Œåœ¨ç¼–è¯‘ã€è¿è¡Œæ—¶éƒ½æœ‰æ•ˆã€‚ä»£è€ç‰ˆæœ¬çš„      <code>testCompile</code></td>
</tr>
<tr>
<td><code>providedCompile</code></td>
<td>waræ’ä»¶æä¾›æ”¯æŒï¼Œç¼–è¯‘ã€æµ‹è¯•é˜¶æ®µä»£ç éœ€è¦æ­¤ç±»ä¾èµ–åŒ…ï¼Œè€Œåœ¨è¿è¡Œé˜¶æ®µå®¹å™¨å·²æä¾›äº†ç›¸åº”çš„æ”¯     æŒï¼Œæ‰€ä»¥æ— éœ€å°†è¿™äº›æ–‡ä»¶æ‰“å…¥åˆ°<code>war</code>åŒ…ä¸­ã€‚ å¦‚ servlet-api.jar,jsp-api.jar</td>
</tr>
<tr>
<td><code>api</code></td>
<td>java-libraryæ’ä»¶æä¾›æ”¯æŒï¼Œè¿™äº›ä¾èµ–é¡¹å¯ä»¥ä¼ é€’æ€§åœ°å¯¼å‡ºç»™ä½¿ç”¨è€…ï¼Œç”¨äºç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶ã€‚ä»£è€ç‰ˆæœ¬ç§è¢«ç§»      é™¤çš„compile</td>
</tr>
<tr>
<td><code>compileOnlyApi</code></td>
<td>java-libraryæ’ä»¶æä¾›æ”¯æŒï¼Œåœ¨å£°æ˜æ¨¡å—å’Œç¼–è¯‘æ—¶éœ€è¦çš„ä¾èµ–é¡¹ï¼Œåœ¨è¿è¡Œæ—¶ä¸éœ€è¦</td>
</tr>
</tbody></table>
<p>è¯´æ˜:ä½¿ç”¨<code>api</code>éœ€è¦å¼•å…¥<code>java-library</code></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">plugins &#123;</span><br><span class="line">    id <span class="string">&#x27;java&#x27;</span></span><br><span class="line">    id <span class="string">&#x27;application&#x27;</span></span><br><span class="line">    id <span class="string">&#x27;java-library&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">dependencies &#123;</span><br><span class="line">    api <span class="string">&#x27;xxxx&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>api</code>å’Œ<code>implementation</code>åŒºåˆ«</p>
<table>
<thead>
<tr>
<th></th>
<th><code>api</code></th>
<th><code>implementation</code></th>
</tr>
</thead>
<tbody><tr>
<td>ç¼–è¯‘æ—¶</td>
<td>èƒ½è¿›è¡Œä¾èµ–ä¼ é€’ï¼Œåº•å±‚å˜ï¼Œå…¨éƒ¨éƒ½è¦å˜ã€ç¼–è¯‘é€Ÿåº¦è¾ƒæ…¢</td>
<td>ä¸èƒ½è¿›è¡Œä¾èµ–ä¼ é€’ï¼Œåº•å±‚å˜ï¼Œä¸ç”¨å…¨éƒ¨å˜ï¼Œç¼–è¯‘é€Ÿåº¦è¾ƒ   å¿«</td>
</tr>
<tr>
<td>è¿è¡Œæ—¶</td>
<td>æ‰€æœ‰æ¨¡å—çš„<code>class</code>éƒ½è¦è¢«åŠ è½½</td>
<td>æ‰€æœ‰æ¨¡å—çš„<code>class</code>éƒ½è¦è¢«åŠ è½½</td>
</tr>
<tr>
<td>åº”ç”¨åœºæ™¯</td>
<td>é€‚ç”¨äºå¤šæ¨¡å—ä¾èµ–ï¼Œé¿å…é‡å¤ä¾èµ–</td>
<td>å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨<code>implementation</code></td>
</tr>
</tbody></table>
<h4 id="ä¸€äº›ç¤ºä¾‹"><a href="#ä¸€äº›ç¤ºä¾‹" class="headerlink" title="ä¸€äº›ç¤ºä¾‹"></a>ä¸€äº›ç¤ºä¾‹</h4><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    <span class="comment">//implementation (group: &#x27;org.springframework.boot&#x27;, name: &#x27;spring-boot-starter-web&#x27;, version:       &#x27;3.3.2&#x27;)&#123;</span></span><br><span class="line">    <span class="comment">//    exclude group &#x27;&#x27;</span></span><br><span class="line">    <span class="comment">//    exclude module &#x27;&#x27;</span></span><br><span class="line">    <span class="comment">//    exclude group &#x27;&#x27; module &#x27;&#x27;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">//implementation (group: &#x27;org.springframework.boot&#x27;, name: &#x27;spring-boot-starter-web&#x27;, version:       &#x27;3.3.2&#x27;)&#123;</span></span><br><span class="line">    <span class="comment">//  transitive(false) // ä¸å»ºè®®</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    implementation (<span class="attr">group:</span> <span class="string">&#x27;org.springframework.boot&#x27;</span>, <span class="attr">name:</span> <span class="string">&#x27;spring-boot-starter-web&#x27;</span>, <span class="attr">version:</span> <span class="string">&#x27;3.       3.2&#x27;</span>)</span><br><span class="line">    <span class="comment">//implementation &#x27;org.apache.logging.log4j:log4j-spring-cloud-config-client:2.17.3!!&#x27; //å¼ºåˆ¶</span></span><br><span class="line">    implementation (<span class="string">&#x27;org.apache.logging.log4j:log4j-spring-cloud-config-client:2.17.3&#x27;</span>) <span class="comment">//å¼ºåˆ¶</span></span><br><span class="line">    &#123;</span><br><span class="line">        version &#123;</span><br><span class="line">            strictly(<span class="string">&#x27;2.18.0&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    implementation (<span class="string">&#x27;org.apache.logging.log4j:log4j-spring-cloud-config-client:+&#x27;</span>) <span class="comment">// + è¡¨ç¤ºæœ€æ–°       release ç‰ˆï¼ŒåŠ¨æ€å£°æ˜ï¼Œä¸å»ºè®®ä½¿ç”¨</span></span><br><span class="line">    implementation (<span class="string">&#x27;org.apache.logging.log4j:log4j-spring-cloud-config-client:latest.       integration&#x27;</span>) <span class="comment">// ï¼ŒåŠ¨æ€å£°æ˜ï¼Œä¸å»ºè®®ä½¿ç”¨</span></span><br></pre></td></tr></table></figure>

<h4 id="å‘ç°ä¾èµ–å†²çª"><a href="#å‘ç°ä¾èµ–å†²çª" class="headerlink" title="å‘ç°ä¾èµ–å†²çª"></a>å‘ç°ä¾èµ–å†²çª</h4><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">configurations.all() &#123;</span><br><span class="line">    Configuration configuration-&gt;</span><br><span class="line">        configuration.resolutionStrategy.failOnVersionConflict()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><ul>
<li><p>è„šæœ¬æ’ä»¶ (ä½¿ç”¨<code>apply from &#39;test.gradle&#39;</code> å¼•å…¥)</p>
</li>
<li><p>äºŒè¿›åˆ¶æ’ä»¶ï¼ˆå¯¹è±¡æ’ä»¶ï¼‰å®ç°äº†<code>org.gradle.ap.Plugin</code>æ¥å£çš„æ’ä»¶ï¼Œæ¯ä¸€ä¸ªéƒ½æœ‰ <code>plugin id</code></p>
<ol>
<li>å†…éƒ¨<ol>
<li>applyæ–¹å¼<ul>
<li>apply(mapå…·åå‚æ•°)</li>
<li>apply(é—­åŒ…)</li>
</ul>
</li>
<li>plugins DSL</li>
</ol>
</li>
<li>ä¸‰æ–¹<ul>
<li>ä¼ ç»Ÿ<ol>
<li>å¼•å…¥ä¾èµ–</li>
<li>apply åº”ç”¨</li>
</ol>
</li>
</ul>
</li>
<li>è‡ªå®šä¹‰<ul>
<li>æ„å»ºè¿‡ç¨‹ä¸­é»˜è®¤æ‰§è¡Œ</li>
</ul>
</li>
</ol>
<p>æ›´å¤šèµ„æ–™è§å®˜æ–¹<a href="https://docs.gradle.org/current/userguide/plugin_reference.html">Gradle Plugin Reference</a></p>
</li>
</ul>
<h3 id="æ’ä»¶å…³æ³¨ç‚¹"><a href="#æ’ä»¶å…³æ³¨ç‚¹" class="headerlink" title="æ’ä»¶å…³æ³¨ç‚¹"></a>æ’ä»¶å…³æ³¨ç‚¹</h3><ol>
<li>æ’ä»¶å¼•ç”¨æ–¹æ³•</li>
<li>ä¸»è¦åŠŸèƒ½</li>
<li>å·¥ç¨‹ç›®å½•ç»“æ„</li>
<li>ä¾èµ–ç®¡ç†</li>
<li>å¸¸ç”¨å±æ€§</li>
</ol>
<h2 id="buildSrc"><a href="#buildSrc" class="headerlink" title="buildSrc"></a><code>buildSrc</code></h2><p>  <code>buildSrc</code>æ˜¯Graleé»˜è®¤çš„æ’ä»¶ç›®å½•ï¼ŒGradleç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è¯†åˆ«è¿™ä¸ªç›®å½•ï¼Œå°†å…¶ä¸­çš„ä»£ç ç¼–è¯‘ä¸ºæ’ä»¶</p>
<h2 id="build-gradle"><a href="#build-gradle" class="headerlink" title="build.gradle"></a><code>build.gradle</code></h2><ul>
<li>æ˜¯ä¸€ä¸ª gradleçš„æ„å»ºè„šæœ¬æ–‡ä»¶ï¼Œæ”¯æŒJavaã€Kotlinã€Groovyç­‰è¯­è¨€</li>
<li>æ¯ä¸ªé¡¹ç›®éƒ½ä¼šæœ‰ä¸€ä¸ª <code>build.gradle</code>æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æ˜¯é¡¹ç›®æ„å»ºçš„å…¥å£ï¼Œé…ç½®ç‰ˆæœ¬ã€æ’ä»¶ã€ä¾èµ–åº“ç­‰ä¿¡æ¯</li>
<li>æ¯ä¸ª <code>build.gradle</code> æ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ <code>Project</code> å®ä¾‹ï¼Œå¯¹<code>build.gradle</code> æ–‡ä»¶é…ç½®ï¼Œæœ¬è´¨å°±æ˜¯è®¾ç½®     <code>Project</code> å®ä¾‹çš„å±æ€§å’Œæ³•</li>
<li><code>Root Project</code>å¯ä»¥è·å–åˆ°æ‰€æœ‰å­é¡¹ç›®ï¼Œå¯åœ¨<code>Root Project</code>ä¸­å¯¹æ‰€æœ‰å­é¡¹ç›®è¿›è¡Œç»Ÿä¸€çš„é…ç½®ï¼Œå¦‚åº”ç”¨çš„æ’ä»¶ã€ä¾èµ–çš„ä»“åº“ç­‰</li>
</ul>
<h3 id="build-gradleå¸¸è§å±æ€§å’Œæ–¹æ³•"><a href="#build-gradleå¸¸è§å±æ€§å’Œæ–¹æ³•" class="headerlink" title="build.gradleå¸¸è§å±æ€§å’Œæ–¹æ³•"></a><code>build.gradle</code>å¸¸è§å±æ€§å’Œæ–¹æ³•</h3><ol>
<li><p>å±æ€§</p>
<ol>
<li>è‡ªå¸¦å±æ€§<ol>
<li><code>group</code>, ç±»å‹ Maven ä¸­GAVåæ ‡çš„Group</li>
<li><code>name(artifact)</code>, é¡¹ç›®å</li>
<li><code>version</code> é¡¹ç›®ç‰ˆæœ¬</li>
<li><code>sourceCompatibility</code> æŒ‡å®šç¼–è¯‘JDKç‰ˆæœ¬</li>
<li><code>targetCompatibility</code> æŒ‡å®šç”Ÿæˆç›®æ ‡JDKç‰ˆæœ¬</li>
<li><code>compileJava.options.encoding</code> ä¸šåŠ¡ä»£ç ç¼–ç </li>
<li><code>compileTestJava.options.encoding</code> æµ‹è¯•ä»£ç ç¼–ç </li>
</ol>
</li>
<li>è‡ªå®šä¹‰å±æ€§ <code>ext</code></li>
</ol>
</li>
<li><p>æ–¹æ³•</p>
<ol>
<li><code>buildscript</code> åº”ç”¨æ’ä»¶(è€å¼æ’ä»¶)</li>
<li><code>apply</code> åº”ç”¨æ’ä»¶ (è€å¼æ’ä»¶)</li>
<li><code>task</code> å®šä¹‰ä»»åŠ¡</li>
<li><code>plugins</code> åº”ç”¨æ’ä»¶ æ–°å¼æ’ä»¶åº”ç”¨æ–¹å¼</li>
<li><code>dependencies</code> è®¾ç½®å½“å‰projectçš„ä¾èµ–ä¿¡æ¯</li>
<li><code>repositories</code> è®¾ç½®å½“å‰projectçš„ä»“åº“ä¿¡æ¯</li>
<li><code>allprojects</code> è®¾ç½®æ‰€æœ‰ projectçš„ä¿¡æ¯</li>
<li><code>subprojects</code> è®¾ç½®æ‰€æœ‰å­é¡¹ç›®çš„ä¿¡æ¯</li>
<li><code>project</code> è®¾ç½®å­é¡¹ç›®çš„ä¿¡æ¯</li>
<li><code>sourceSets</code> é…ç½®æ­¤é¡¹ç›®çš„æºé›†</li>
<li><code>publishing</code> é…ç½®å‘å¸ƒæ’ä»¶æ·»åŠ çš„PublishingExtension</li>
<li><code>configurations</code> é…ç½®æ­¤é¡¹ç›®çš„ä¾èµ–é¡¹é…ç½®</li>
<li><code>artifacts</code> é…ç½®æ­¤é¡¹ç›®çš„å·²å‘å¸ƒæ„å»º</li>
</ol>
<p> <code>ext</code>ä¸ºè‡ªå®šä¹‰å±æ€§ï¼Œè€Œ<code>gradle.properties</code>ä¸­ä¸€èˆ¬å®šä¹‰ç³»ç»Ÿå±æ€§ã€ç¯å¢ƒå˜é‡ã€é¡¹ç›®å±æ€§ã€JVMç›¸å…³é…ç½®ä¿¡æ¯</p>
</li>
</ol>
<h2 id="é¡¹ç›®å¯åŠ¨"><a href="#é¡¹ç›®å¯åŠ¨" class="headerlink" title="é¡¹ç›®å¯åŠ¨"></a>é¡¹ç›®å¯åŠ¨</h2><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">plugins &#123;</span><br><span class="line">    id <span class="string">&#x27;application&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">application &#123;</span><br><span class="line">    mainClass = <span class="string">&#x27;org.gradle.sample.Main&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//application &#123;</span></span><br><span class="line"><span class="comment">//    mainModule = &#x27;org.gradle.sample.app&#x27; // name defined in  module-info.java</span></span><br><span class="line"><span class="comment">//    mainClass = &#x27;org.gradle.sample.Main&#x27;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">tasks.jar&#123;</span><br><span class="line">    manifest &#123;</span><br><span class="line">        attributes[<span class="string">&quot;Main-Class&quot;</span>]=<span class="string">&quot;org.frank.Main&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é¡¹ç›®å‘å¸ƒ"><a href="#é¡¹ç›®å‘å¸ƒ" class="headerlink" title="é¡¹ç›®å‘å¸ƒ"></a>é¡¹ç›®å‘å¸ƒ</h2><p>å‘å¸ƒåˆ°Mavenä»“åº“å³å¯è¢«å…¶ä»–é¡¹ç›®ä½¿ç”¨</p>
<p><a href="https://docs.gradle.org/current/userguide/publishing_maven.html">é¡¹ç›®å‘å¸ƒåˆ°Mavenä»“åº“</a></p>
<h2 id="Gradleé’©å­å‡½æ•°"><a href="#Gradleé’©å­å‡½æ•°" class="headerlink" title="Gradleé’©å­å‡½æ•°"></a>Gradleé’©å­å‡½æ•°</h2><p><img src="/2024/08/03/Gradle-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/hook_function.png" alt="Gradle é’©å­å‡½æ•°"></p>
<p><a href="https://mirrors.cloud.tencent.com/gradle/">ä¸‹è½½Gradle</a></p>
<p>å¦å¤–ï¼Œä¸ºäº†åŠ å¿«gradleæ„å»ºï¼Œåœ¨å®¶ç›®å½•ä¸‹çš„.gradle&#x2F;gradle.propertiesæ–‡ä»¶ï¼ˆå¦‚æ²¡æœ‰ï¼Œå¯éœ€è¦æ–°å»ºæ–‡ä»¶ï¼‰ï¼ŒåŠ ä¸Šå¦‚ä¸‹çš„ä»£ç å³å¯</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é…ç½®å®Œæˆåï¼ŒGradle å°†åˆ†å‰åˆ°org.gradle.workers.maxJVM æ¥å¹¶è¡Œæ‰§è¡Œé¡¹ç›®ã€‚</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸ºfalseã€‚</span></span><br><span class="line"><span class="attr">org.gradle.parallel</span>=<span class="literal">true</span></span><br><span class="line"><span class="comment"># æŒ‡å®š Gradle Daemon ä½¿ç”¨çš„ JVM å‚æ•°ã€‚æ­¤è®¾ç½®å¯¹äºé…ç½® JVM å†…å­˜è®¾ç½®ä»¥æé«˜æ„å»ºæ€§èƒ½ç‰¹åˆ«æœ‰ç”¨ã€‚è¿™ä¸ä¼šå½±å“ Gradle å®¢æˆ·ç«¯ VM çš„ JVM è®¾ç½®ã€‚</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸º-Xmx512m &quot;-XX:MaxMetaspaceSize=384m&quot;ã€‚</span></span><br><span class="line"><span class="comment"># org.gradle.jvmargs=(JVM arguments) -Dfile.encoding=GBK  -Dstdout.encoding=UTF-8 -Dstderr.encoding=UTF-8</span></span><br><span class="line"><span class="attr">org.gradle.jvmargs</span>=-Xms512m -Xmx1g  -XX:+HeapDumpOnOutOfMemoryError -XX:+UseParallelGC</span><br><span class="line"></span><br><span class="line"><span class="attr">systemProp.socksProxyHost</span>=<span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">systemProp.socksProxyPort</span>=<span class="number">10808</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¦ç”¨ gradle å·¥å…·é“¾æ£€æµ‹</span></span><br><span class="line"><span class="attr">org.gradle.java.installations.auto-detect</span>=<span class="literal">false</span></span><br><span class="line"><span class="attr">org.gradle.java.installations.auto-download</span>=<span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥å…·é“¾</span></span><br><span class="line"><span class="comment"># org.gradle.java.installations.paths=/custom/path/jdk1.8,/shared/jre11</span></span><br><span class="line"><span class="attr">org.gradle.java.installations.paths</span>=D:/Scoop/apps/liberica-lts-jdk/current,D:/Scoop/apps/liberica17-jdk/current,D:/Scoop/apps/liberica11-jdk/current,D:/Scoop/apps/liberica8-jdk/current</span><br></pre></td></tr></table></figure>
<ol>
<li><a href="https://droidyue.com/blog/2017/04/16/speedup-gradle-building/">ä¸€äº›å…³äºåŠ é€ŸGradleæ„å»ºçš„ä¸ªäººç»éªŒ</a></li>
<li><a href="https://blog.csdn.net/IOT_AI/article/details/106617626">IDEAå¦‚ä½•æ­£ç¡®é…ç½®Gradle? GRADLE_USER_HOME å’Œ Gradle user homeçš„åŒºåˆ«</a></li>
<li><a href="https://docs.gradle.org.cn/current/userguide/toolchains.html">JVM é¡¹ç›®çš„å·¥å…·é“¾</a></li>
</ol>
<p><code>gradle -q javaToolchains</code> è¦æ˜¾ç¤ºé¡¹ç›®çš„æ‰€æœ‰å·¥å…·é“¾</p>
<p>ä¿®æ”¹<code>init-script</code>æ–¹å¼ä¿®æ”¹é»˜è®¤ä»“åº“<br>ä»¥ä¸Šçš„æ–¹æ¡ˆé€‚åˆè‡ªå·±çš„é¡¹ç›®ï¼Œæ–¹ä¾¿ç›´æ¥ä¿®æ”¹<code>build.gradle</code>çš„æƒ…å†µï¼ŒæŸäº›æƒ…å†µä¸‹æ— æ³•ç›´æ¥ä¿®æ”¹<code>build.gradle</code>ï¼Œæ¯”å¦‚å‚ä¸å¼€æºé¡¹ç›®ï¼Œå¹¶ä¸æ–¹ä¾¿ä¿®æ”¹åˆ«äººå†™å¥½çš„é…ç½®ï¼Œå†æ¯”å¦‚åœ¨CIæµæ°´çº¿ä¸­ï¼Œå¹¶ä¸æ–¹ä¾¿å¯¹æºä»£ç è¿›è¡Œä»»ä½•å½¢å¼çš„ä¿®æ”¹ç­‰ç­‰åœºæ™¯ã€‚</p>
<p>å¯¹äºè¿™ä¸€ç±»çš„éœ€æ±‚ï¼Œ<code>gradle</code>æä¾›äº†<code>init-script</code>çš„å½¢å¼ä¿®æ”¹ä»“åº“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ç§å½¢å¼éå¸¸ç±»ä¼¼äº<code>Linux</code>çš„åˆå§‹åŒ–è„šæœ¬<code>init.d</code>ï¼Œä¼šåŠ è½½ä¸€éä¹‹åæ‰å®Œæˆç³»ç»Ÿå¯åŠ¨ã€‚æ¯ä¸ª<code>gradle</code>å‘½ä»¤æ‰§è¡Œä¹‹å‰ä¼šå…ˆæ‰§è¡Œä¸€é<code>init-script</code>ï¼Œç„¶åæ‰çœŸæ­£æ‰§è¡Œæ„å»ºçš„<code>task</code>ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬åªè¦æŠŠä»“åº“çš„é…ç½®å†™å…¥<code>init-script</code>é…ç½®å³å¯ï¼Œç”±äº<code>build.gradle</code>é…ç½®é€šå¸¸éƒ½ä¼šå®šä¹‰å¤šä¸ª<code>maven</code>ä»“åº“ï¼Œå› æ­¤<code>init-script</code>è„šæœ¬å¯ä»¥ä¸ç”¨è€ƒè™‘ä»“åº“å†—ä½™çš„é—®é¢˜ã€‚</p>
<p>ç¤ºä¾‹<code>init.gradle</code></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> repoConfig = &#123;</span><br><span class="line">    all &#123; ArtifactRepository repo -&gt;</span><br><span class="line">        <span class="keyword">if</span> (repo <span class="keyword">instanceof</span> MavenArtifactRepository) &#123;</span><br><span class="line">            <span class="keyword">def</span> url = repo.url.toString()</span><br><span class="line">            <span class="keyword">if</span> (url.contains(<span class="string">&#x27;repo1.maven.org/maven2/&#x27;</span>)</span><br><span class="line">                || url.contains(<span class="string">&#x27;jcenter.bintray.com/&#x27;</span>)</span><br><span class="line">                || url.contains(<span class="string">&#x27;plugins.gradle.org/&#x27;</span>)</span><br><span class="line">                || url.contains(<span class="string">&#x27;repository.apache.org/&#x27;</span>)</span><br><span class="line">                || url.contains(<span class="string">&#x27;maven.google.com/&#x27;</span>)</span><br><span class="line">                || url.contains(<span class="string">&#x27;repo.spring.io/&#x27;</span>)</span><br><span class="line">                || url.contains(<span class="string">&#x27;repo.grails.org/&#x27;</span>)</span><br><span class="line">                || url.contains(<span class="string">&#x27;repository.mapr.com/&#x27;</span>)</span><br><span class="line">              ) &#123;</span><br><span class="line">                println <span class="string">&quot;gradle init: ($&#123;repo.name&#125;: $&#123;repo.url&#125;) removed&quot;</span></span><br><span class="line">                remove repo</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/public&#x27;</span> &#125;</span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/central&#x27;</span> &#125;</span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/jcenter&#x27;</span> &#125;</span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/releases&#x27;</span> &#125;</span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/spring&#x27;</span> &#125;</span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/spring-plugin&#x27;</span> &#125;</span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/gradle-plugin&#x27;</span> &#125;</span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/google&#x27;</span> &#125;</span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/apache-snapshots&#x27;</span> &#125;</span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/grails-core&#x27;</span> &#125;</span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/snapshots&#x27;</span> &#125;</span><br><span class="line">    maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/mapr-public&#x27;</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">allprojects &#123;</span><br><span class="line"></span><br><span class="line">    buildscript &#123;</span><br><span class="line">        repositories repoConfig</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    repositories repoConfig</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…³äº<code>init-script</code>è¯¦æƒ…å¯ä»¥å»çœ‹<a href="https://docs.gradle.org/current/userguide/init_scripts.html">å®˜æ–¹æ–‡æ¡£</a>ä»‹ç»ï¼Œæˆ‘è¿™é‡Œç®€å•æ€»ç»“ä¸€ä¸‹ã€‚</p>
<p><code>init</code>è„šæœ¬çš„æŸ¥æ‰¾è·¯å¾„:</p>
<ol>
<li>ä½¿ç”¨-I&#x2F;â€“init-scriptç›´æ¥åœ¨å‘½ä»¤è¡ŒæŒ‡å®šåˆå§‹åŒ–è„šæœ¬</li>
<li>~&#x2F;.gradle&#x2F;init.gradle</li>
<li>~&#x2F;.gradle&#x2F;init.d&#x2F;*.gradle</li>
<li>${GRADLE_HOME}&#x2F;init.d&#x2F;*.gradle</li>
</ol>
<p>å¦‚æœæœ‰å¤šä¸ª<code>init-script</code>å¯ä»¥æ‰§è¡Œï¼Œé‚£ä¹ˆå°†æŒ‰ç…§ä»¥ä¸Šçš„é¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œå¯¹äº<code>*.gradle</code>è¿™æ ·çš„æ–‡ä»¶å°†æŒ‰ç…§æ–‡ä»¶åæ’åºé¡ºåºæ‰§è¡Œã€‚</p>
<p>æ’‡å¼€åˆ«çš„é«˜çº§ç©æ³•å’Œé«˜çº§å®šåˆ¶ä¸è°ˆï¼Œåªè¯´è¯´å®šä¹‰é•œåƒä»“åº“æ€ä¹ˆæã€‚æˆ‘çš„åšæ³•æ˜¯ç›´æ¥æ–°å»º<code>~/.gradle/init.d/repo.gradle</code>:</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">    buildscript &#123;</span><br><span class="line">        repositories &#123;</span><br><span class="line">            maven &#123; url <span class="string">&quot;https://maven.aliyun.com/repository/public&quot;</span> &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    repositories &#123;</span><br><span class="line">        maven &#123; url <span class="string">&quot;https://maven.aliyun.com/repository/public&quot;</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±ç­‰äºè®¾ç½®äº†é»˜è®¤çš„ä»“åº“é…ç½®ï¼Œé‚£ä¹ˆæ¯æ¬¡æ‰§è¡Œ<code>gradle</code>çš„æ—¶å€™éƒ½ä¼šä»æˆ‘å¸Œæœ›çš„é•œåƒç«™ä¸­å»å¯»æ‰¾ä¾èµ–å¹¶ä¸‹è½½äº†</p>
<p>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ç”±äº<code>plugins &#123;&#125; DSL</code>ç›®å‰ä¸ä½¿ç”¨<code>buildscript &#123;&#125;</code>é…ç½®ï¼Œä¹Ÿæ— æ³•é€šè¿‡<code>init script</code>å®šåˆ¶çš„æ–¹å¼ä¼ å…¥<code>settings.gradle</code>ä¸­ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼æ˜¯ä¸èµ·ä½œç”¨çš„ã€‚ä¸è¿‡å¥½åœ¨è¿™ä¸ª<code>DSL</code>å®˜æ–¹è¿˜åœ¨å®Œå–„ä¸­ï¼Œä¹Ÿè®¸æœªæ¥ä¼šæ”¯æŒä¹Ÿè¯´ä¸å®šã€‚<br>å‚è€ƒ<a href="https://my.oschina.net/abcfy2/blog/783743">gradleä½¿ç”¨mavené•œåƒä»“åº“çš„æ–¹æ³•</a><br>å‚è€ƒ<a href="http://www.souvc.com/?p=2573">ã€ŠGradleå®æˆ˜ã€‹å¦‚ä½•é…ç½®åˆ©ç”¨Mavenæœ¬åœ°ä»“åº“</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gradle</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoä½¿ç”¨</title>
    <url>/2024/08/17/Hexo%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">npm install hexo<span class="literal">-cli</span> <span class="literal">-g</span></span><br><span class="line"><span class="comment"># å±€éƒ¨å®‰è£…</span></span><br><span class="line">npm install hexo<span class="literal">-cli</span></span><br></pre></td></tr></table></figure>

<h2 id="è‡ªåŠ¨å¤‡ä»½"><a href="#è‡ªåŠ¨å¤‡ä»½" class="headerlink" title="è‡ªåŠ¨å¤‡ä»½"></a>è‡ªåŠ¨å¤‡ä»½</h2><ol>
<li><p>åˆ é™¤ <code>themes\</code>ç›®å½•ä¸‹çš„æ‰€æœ‰ <code>.git</code>ç›®å½•, Gitä¸å…è®¸åµŒå¥—.å¦åˆ™,ä¸»é¢˜ä¸èƒ½è¢«æäº¤,ä¹‹åå…‹éš†ä¸‹æ¥,å› ä¸ºæ²¡æœ‰ä¸»é¢˜,ç½‘ç«™ä¸æ˜¾ç¤º.</p>
</li>
<li><p>åœ¨æœ¬åœ°Hexoåˆ›å»ºçš„åšå®¢æ ¹ç›®å½•<code>D:\blog</code> æ‰§è¡Œå‘½ä»¤ <code>git init</code>, ç„¶åç¼–è¾‘<code>.gitignore</code> æ–‡ä»¶</p>
</li>
</ol>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br><span class="line">_multiconfig.yml</span><br><span class="line">package-lock.json</span><br><span class="line">yarn.lock</span><br></pre></td></tr></table></figure>

<ol>
<li>è¿œç¨‹åœ¨ gitee æ–°å»ºä¸€ä¸ª <strong>ç§æœ‰</strong> ä»“åº“ <code>blog</code>,é…ç½®å¥½ ssh</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">git remote add origin git@gitee.com:franklovebsd/blog.git</span><br><span class="line">git push <span class="literal">-u</span> origin <span class="string">&quot;master&quot;</span></span><br></pre></td></tr></table></figure>

<p>å¦å¤–ä¿®æ”¹å‘å¸ƒè„šæœ¬<code>deploy.ps1</code></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤å»ºç«‹çš„ä¸éœ€è¦çš„å›¾ç‰‡ä¿å­˜ç›®å½•</span></span><br><span class="line"><span class="variable">$destDir</span>= <span class="string">&quot;D:\blog\source\_posts&quot;</span></span><br><span class="line"><span class="built_in">Get-ChildItem</span> <span class="variable">$destDir</span> <span class="literal">-Recurse</span> <span class="literal">-Directory</span> | <span class="built_in">Where-Object</span> &#123; <span class="selector-tag">@</span>(<span class="built_in">Get-ChildItem</span> <span class="variable">$_</span>.FullName).Length <span class="operator">-eq</span> <span class="number">0</span>&#125; | <span class="built_in">Remove-Item</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$destDir</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># npm install -g hexo-cli</span></span><br><span class="line"><span class="comment"># hexo clean</span></span><br><span class="line"><span class="comment"># hexo generate</span></span><br><span class="line"><span class="comment"># hexo deploy</span></span><br><span class="line"><span class="comment"># npm install hexo-cli</span></span><br><span class="line">npx hexo clean</span><br><span class="line">npx hexo generate</span><br><span class="line">npx hexo deploy</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤‡ä»½åˆ°gitee</span></span><br><span class="line">git add .</span><br><span class="line">git commit <span class="literal">-m</span> <span class="string">&quot;hexo backup&quot;</span></span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>

<p>å®‰è£…äº†<code>shelljs</code>ç»„ä»¶å†åˆ é™¤å,<code>package.json</code>å¤šäº† <code>&quot;hexo-site&quot;: &quot;file:&quot;,</code>,ä½¿ç”¨<code>npm</code>å‘½ä»¤åˆ é™¤å³å¯,å¦åˆ™ä¸€ç›´æŠ¥é”™</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">ERROR: Plugin load failed: hexo<span class="literal">-site</span></span><br><span class="line">ERROR: EISDIR: illegal operation on a direcotry,read at async readFileHandle (node:internal/fs/promises:<span class="number">553</span>:<span class="number">24</span>)</span><br></pre></td></tr></table></figure>

<h2 id="æ¢å¤"><a href="#æ¢å¤" class="headerlink" title="æ¢å¤"></a>æ¢å¤</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">git clone git@gitee.com:franklovebsd/blog.git</span><br><span class="line">npm install hexo<span class="literal">-cli</span> <span class="literal">-g</span></span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>Linux <code>deploy.sh</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">dest_dir=/home/frank/blog/source/_posts</span><br><span class="line">cd $dest_dir</span><br><span class="line"></span><br><span class="line">find $dest_dir -type d -empty -delete</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hexo clean</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hexo generate</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hexo deploy</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm install hexo-cli</span></span><br><span class="line">npx hexo clean</span><br><span class="line">npx hexo generate</span><br><span class="line">npx hexo deploy</span><br><span class="line"></span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;hexo backup&quot;</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>IntelliJ IDEA ç¼–è¾‘ pom.xml å¡é¡¿</title>
    <url>/2024/08/03/IntelliJ-IDEA-%E7%BC%96%E8%BE%91-pom-xml-%E5%8D%A1%E9%A1%BF/</url>
    <content><![CDATA[<p>åˆ é™¤<code>%localappdata%\JetBrains\IntelliJIdea&#123;version&#125;\Maven\Indices</code>ç›®å½•ä¸‹çš„å†…å®¹</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>IntelliJ IDEA</tag>
      </tags>
  </entry>
  <entry>
    <title>Gradleé¡¹ç›®ä¸èƒ½å¯åŠ¨</title>
    <url>/2024/08/02/Gradle%E9%A1%B9%E7%9B%AE%E4%B8%8D%E8%83%BD%E5%90%AF%E5%8A%A8/</url>
    <content><![CDATA[<p>åœ¨<code>build.gradle</code>æ·»åŠ </p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">plugins &#123;</span><br><span class="line">    id <span class="string">&#x27;application&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">application &#123;</span><br><span class="line">    mainClass= <span class="string">&#x27;org.frank.Main&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tasks.jar&#123;</span><br><span class="line">    manifest &#123;</span><br><span class="line">        attributes[<span class="string">&quot;Main-Class&quot;</span>]=<span class="string">&#x27;org.frank.Main&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gradle</tag>
      </tags>
  </entry>
  <entry>
    <title>JVMçš„ä¸€äº›è¯´æ˜</title>
    <url>/2024/08/17/JVM%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<ol>
<li>å¼€å¯GCæ—¥å¿—,ä½¿ç”¨<code>-XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/export/log/risk_pillar/gc.log</code><br><img src="/gc.jpg" alt="gc"></li>
<li>è®¾ç½®JVMåƒåœ¾æœ€å¤§å¹´é¾„ <code>-XX:MaxTenuringThreshold=15</code></li>
<li>æ‰“å°æ‰€æœ‰å‘½ä»¤å‚æ•° <code>-XX:+PrintCommandLineFlags -version</code></li>
<li>ä½¿ç”¨å‹ç¼©æŒ‡é’ˆ<code>-XX:+UseCompressedClassPointers</code>ã€‚64ä½è™šæ‹Ÿæœºä¸­åœ¨å †å†…å­˜å°äº32GBçš„æƒ…å†µä¸‹ï¼ŒUseCompressedOopsæ˜¯é»˜è®¤å¼€å¯çš„ï¼Œè¯¥å‚æ•°è¡¨ç¤ºå¼€å¯æŒ‡é’ˆå‹ç¼©ï¼Œä¼šå°†åŸæ¥64ä½çš„æŒ‡é’ˆå‹ç¼©ä¸º32ä½ã€‚æ‰€ä»¥ï¼Œåœ¨å†…å­˜å¤§äº32Gä½†åˆä¸æ˜¯ç‰¹åˆ«å¤§çš„æ—¶å€™(æ¯”å¦‚36G-48G)ï¼Œé€šè¿‡<code>-xmx=31G</code>é™åˆ¶æœ€å¤§å †å†…å­˜ï¼Œå¼ºè¿«JVMå¼€å¯å‹ç¼©æŒ‡é’ˆã€‚</li>
</ol>
<p><a href="https://help.aliyun.com/zh/sae/jvm-options">JVMå‚æ•°é…ç½®è¯´æ˜</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaä¹‹PrintAssembly</title>
    <url>/2024/08/31/Java%E4%B9%8BPrintAssembly/</url>
    <content><![CDATA[<h2 id="PrintAssemblyæ˜¯ä»€ä¹ˆ"><a href="#PrintAssemblyæ˜¯ä»€ä¹ˆ" class="headerlink" title="PrintAssemblyæ˜¯ä»€ä¹ˆ?"></a><code>PrintAssembly</code>æ˜¯ä»€ä¹ˆ?</h2><p><code>PrintAssembly</code> æ˜¯JDK 7 ä»¥æ¥æ‰æœ‰çš„ï¼Œç”¨äºæŸ¥çœ‹ Java ç¼–è¯‘åç”Ÿæˆçš„æ±‡ç¼–ä»£ç çš„é€‰é¡¹ã€‚ä½†è¦æŸ¥çœ‹æ±‡ç¼–ä»£ç ï¼Œéœ€è¦åæ±‡ç¼–æ’ä»¶ã€‚æ’ä»¶ç›®å‰æœ‰2ç§å®ç°: ä¸€ç§æ˜¯ä¾èµ–äºGnu <code>disassembler</code>çš„ï¼Œä¸€ç§æ˜¯Kenaiçš„é¡¹ç›®<a href="http://kenai.com/projects/base-hsdis">base-hsdis</a>ï¼Œ<a href="https://github.com/drazzib/base-hsdis">GitHubåœ°å€</a></p>
<p>ä»Šå¤©æˆ‘ä»¬ä½¿ç”¨åŸºäº<code>base-hsdis</code>çš„æ’ä»¶ï¼Œä»<a href="https://chriswhocodes.com/hsdis/">ä¸‹è½½åœ°å€</a>æ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ã€‚å¹¶å°†è¯¥æ’ä»¶æ”¾åˆ°ç›¸åº”çš„ä½ç½®(Linuxæ˜¯<code>libjvm.so</code>æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼ŒWindowsæ˜¯<code>jvm.dll</code>æ‰€åœ¨çš„æ–‡ä»¶å¤¹),æˆ–è€…æ˜¯<code>java</code>å‘½ä»¤æ‰§è¡Œæ˜¯èƒ½æ‰¾åˆ°çš„ç¯å¢ƒå˜é‡ä½ç½®ã€‚</p>
<h2 id="PrintAssemblyå¸¸ç”¨é€‰é¡¹"><a href="#PrintAssemblyå¸¸ç”¨é€‰é¡¹" class="headerlink" title="PrintAssemblyå¸¸ç”¨é€‰é¡¹"></a><code>PrintAssembly</code>å¸¸ç”¨é€‰é¡¹</h2><ol>
<li><code>+PrintAssembly</code> æ‰“å°å­—èŠ‚ç å’Œæœ¬æœºæ–¹æ³•çš„æ±‡ç¼–ä»£ç </li>
<li><code>+PrintNMethods</code> æ‰“å°ç”Ÿæˆçš„æ–¹æ³•</li>
<li><code>+PrintNativeNMethods</code> åœ¨ç”Ÿæˆæœ¬æœºæ–¹æ³•åŒ…è£…å™¨æ—¶æ‰“å°å®ƒä»¬</li>
<li><code>+PrintSignatureHandlers</code> æ‰“å°æœ¬æœºæ–¹æ³•ç­¾åå¤„ç†ç¨‹åº</li>
<li><code>+PrintAdapterHandlers</code> æ‰“å°é€‚é…å™¨ï¼ˆ<code>i2c</code>ã€<code>c2i</code>ï¼‰çš„ç”Ÿæˆæƒ…å†µ</li>
<li><code>+PrintStubCode</code> æ‰“å°å­˜æ ¹ï¼šå–æ¶ˆé€‰æ‹©ã€ä¸å¸¸è§é™·é˜±ã€å¼‚å¸¸ã€å®‰å…¨ç‚¹ã€è¿è¡Œæ—¶æ”¯æŒ</li>
<li><code>+PrintInterpreter</code> æ‰“å°è§£é‡Šå™¨ä»£ç </li>
<li><code>-Xcomp</code> è®© JVM ä»¥ç¼–è¯‘æ¨¡å¼æ‰§è¡Œä»£ç ï¼Œå³ JVM ä¼šåœ¨ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶å³å°†æ‰€æœ‰å­—èŠ‚ç ç¼–è¯‘ä¸ºæœ¬åœ°ä»£ç </li>
<li><code>-XX:PrintAssemblyOptions=intel</code> æ‰“å° intel è¯­æ³•çš„æ±‡ç¼–ï¼Œé»˜è®¤æ‰“å° AT&amp;Tçš„æ±‡ç¼–ä»£ç </li>
</ol>
<p>è¿™äº›é€‰é¡¹éƒ½æ˜¯â€œè¯Šæ–­é€‰é¡¹â€ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨è¿™äº›é€‰é¡¹æ—¶ï¼Œè¦åŠ ä¸Š<code>-XX:+UnlockDiagnosticVMOptions</code>é€‰é¡¹ä¸€èµ·ä½¿ç”¨ï¼Œå¹¶ä¸”åŠ ä¸Šå‰ç¼€<code>-XX:</code>(å¦‚<code>-XX:+PrintAssembly</code>)ã€‚è¿™äº›é€‰é¡¹ä¹Ÿå¯ä»¥é…ç½®åœ¨é»˜è®¤çš„çš„æ–‡ä»¶<code>.hotspotrc</code>ä¸­ï¼›ä¹Ÿå¯ä»¥è‡ªå®šçš„å­˜åœ¨æŸä¸ªæ–‡ä»¶<code>myhotspotrc.txt</code>,ç„¶åä½¿ç”¨é€‰é¡¹<code>-XX:Flags=myhotspotrc.txt</code>æ¥ä½¿ç”¨ã€‚</p>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><p>Linuxç‰ˆ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">XJAVA=<span class="string">&quot;<span class="variable">$JDK7</span>/bin/java -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly&quot;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="variable">$XJAVA</span> -Xcomp -<span class="built_in">cp</span> ~/Classes hello</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="variable">$XJAVA</span> -Xcomp -<span class="built_in">cp</span> ~/Classes -XX:PrintAssemblyOptions=hsdis-print-bytes hello</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="variable">$XJAVA</span> -XX:-PrintAssembly -XX:+PrintStubCode</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="variable">$XJAVA</span> -XX:-PrintAssembly -XX:+PrintInterpreter</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="variable">$XJAVA</span> -XX:-PrintAssembly -XX:+PrintSignatureHandlers</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="variable">$XJAVA</span> -Xbatch -<span class="built_in">cp</span> ~/Classes -XX:+PrintCompilation myloopingbenchmark</span></span><br></pre></td></tr></table></figure>

<p>Windowsç‰ˆ</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">java  <span class="literal">-XX</span>:+UnlockDiagnosticVMOptions <span class="literal">-XX</span>:+PrintAssembly <span class="literal">-XX</span>:PrintAssemblyOptions=intel <span class="literal">-XX</span>:+PrintCompilation <span class="literal">-XX</span>:CompileCommand=print,*Son.print  .\chapter01<span class="literal">-bytecode-1</span>.<span class="number">0</span><span class="literal">-SNAPSHOT</span>.jar</span><br></pre></td></tr></table></figure>

<h2 id="è¿‡æ»¤è¾“å‡º"><a href="#è¿‡æ»¤è¾“å‡º" class="headerlink" title="è¿‡æ»¤è¾“å‡º"></a>è¿‡æ»¤è¾“å‡º</h2><p>ç”±äºä½¿ç”¨<code>-XX:PrintAssembly</code>é€‰é¡¹ï¼Œé»˜è®¤è¾“å‡ºå¤ªå¤š.å¯ä»¥å¢åŠ ä¸€äº›è¿‡æ»¤é€‰é¡¹</p>
<ul>
<li><code>-XX:CompileCommand=print,*MyClass.myMethod</code> ä»…æ‰“å°<code>myMethod()</code>çš„æ±‡ç¼–</li>
<li><code>-XX:CompileCommand=option,*MyClass.myMethod,PrintOptoAssembly</code>ï¼ˆä»…é™è°ƒè¯•ç”Ÿæˆçš„å­—èŠ‚ç ï¼‰ç”Ÿæˆ<code>myMethod()</code>æ–¹æ³•çš„è€ç‰ˆæœ¬<code>print</code>å‘½ä»¤è¾“å‡º</li>
<li><code>-XX:CompileCommand=option,*MyClass.myMethod,PrintNMethods</code> ç”Ÿæˆ<code>myMethod()</code>æ–¹æ³•çš„è½¬å‚¨</li>
</ul>
<p>å¦‚æœæ²¡æœ‰è¾“å‡ºï¼Œä½¿ç”¨<code>-XX:+PrintCompilation</code>éªŒè¯æ˜¯å¦ç¼–è¯‘è¿‡ã€‚</p>
<p>å¸®åŠ©</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">java  <span class="literal">-XX</span>:CompileCommand=help <span class="literal">-version</span></span><br></pre></td></tr></table></figure>

<h2 id="é˜…è¯»ç¼–è¯‘å™¨çš„ç»†èŠ‚"><a href="#é˜…è¯»ç¼–è¯‘å™¨çš„ç»†èŠ‚" class="headerlink" title="é˜…è¯»ç¼–è¯‘å™¨çš„ç»†èŠ‚"></a>é˜…è¯»ç¼–è¯‘å™¨çš„ç»†èŠ‚</h2><p>ä½¿ç”¨<code>-XX:+LogCompilation</code> é€‰é¡¹ä¼šç”Ÿæˆä¸€ä¸ªæœ‰å…³ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶å†³ç­–çš„ä½çº§ <code>XML</code> æ–‡ä»¶ï¼Œè¿™å¯èƒ½å¯¹æŸäº›äººæ¥è¯´å¾ˆæœ‰è¶£ã€‚è¿™ä¸ªé€‰é¡¹ä¹Ÿå¿…é¡»å’Œ<code>-XX:+UnlockDiagnosticVMOptions</code>ä¸€èµ·ä½¿ç”¨ã€‚é»˜è®¤æ—¥å¿—ä½äºå½“å‰ç›®å½•çš„<code>hotspot.log</code>;ä¹Ÿå¯ä»¥ä½¿ç”¨é€‰é¡¹æŒ‡å®šä½ç½®ï¼Œå¦‚<code>-XX:LogFile=jit.log</code>ã€‚</p>
<h2 id="JITWatch"><a href="#JITWatch" class="headerlink" title="JITWatch"></a>JITWatch</h2><p><a href="https://github.com/AdoptOpenJDK/jitwatch">JITWatch</a>æ˜¯å¯¹<code>PrintAssembly</code>æ‰“å°å‡ºçš„æ±‡ç¼–ä»£ç è¿›è¡Œå¯è§†åŒ–åˆ†æå·¥å…·ã€‚å› æ­¤ï¼Œéœ€è¦æ·»åŠ <code>-Xcomp</code>ã€<code>-XX:+LogCompilation</code>å’Œé€‰é¡¹<code>-XX:LogFile=jit.log</code>æ‰“å°å‡ºæ±‡ç¼–ä»£ç ã€‚</p>
<p>å‚è€ƒ<br><a href="https://wiki.openjdk.org/display/HotSpot/PrintAssembly">PrintAssembly</a><br><a href="https://xyzghio.xyz/HSDISAndJITWatch/">Java åæ±‡ç¼–ï¼šHSDISã€JITWatch</a><br><a href="https://dropzone.nfshost.com/hsdis/">How to build hsdis-amd64.dll and hsdis-i386.dll on Windows</a><br><a href="https://blogs.oracle.com/javamagazine/post/java-hotspot-hsdis-disassembler">Developers disassemble! Use Java and hsdis to see it all.</a><br><a href="https://github.com/openjdk/jdk/tree/master/src/utils/hsdis">hsdisæºç </a><br><a href="https://jornvernee.github.io/hsdis/2022/04/30/hsdis.html">Building hsdis in 2022</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaå®˜æ–¹æ–‡æ¡£ä½¿ç”¨</title>
    <url>/2024/08/01/Java%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>è¿›å…¥<a href="https://docs.oracle.com/en/java/javase/21/index.html">Oracal Help Center</a>é€‰æ‹©å¯¹åº” JDK ç‰ˆæœ¬ï¼Œç„¶ååˆ†ç±»é€‰æ‹©ã€‚<br>å¦‚æŸ¥è¯¢ <code>java</code> å‘½ä»¤é€‰é¡¹ï¼Œè¿›å…¥<a href="https://docs.oracle.com/en/java/javase/21/docs/specs/man/index.html">JDK Tool Specifications</a>ï¼Œ<br>å†è¿›å…¥<a href="https://docs.oracle.com/en/java/javase/21/docs/specs/man/java.html">java</a>ä¿¡æ¯é¡µé¢ã€‚</p>
<p>å¦‚æŸ¥çœ‹ç³»ç»Ÿç¯å¢ƒ</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\Temp\Java&gt; java <span class="literal">-XshowSettings</span></span><br><span class="line">VM settings:</span><br><span class="line">    Max. Heap Size (Estimated): <span class="number">7.96</span>G</span><br><span class="line">    <span class="keyword">Using</span> VM: OpenJDK 64-Bit Server VM</span><br><span class="line"></span><br><span class="line">Property settings:</span><br><span class="line">    file.encoding = UTF<span class="literal">-8</span></span><br><span class="line">    file.separator = \</span><br><span class="line">    java.class.path =</span><br><span class="line">    java.class.version = <span class="number">65.0</span></span><br><span class="line">    java.home = D:\ProgramFiles\Java\Jabba\jdk\system@<span class="number">21.0</span>.<span class="number">3</span><span class="literal">-full-liberica</span></span><br><span class="line">    java.io.tmpdir = C:\Users\FRANK\AppData\Local\Temp\</span><br><span class="line">    java.library.path = D:\ProgramFiles\Java\Jabba\jdk\system@<span class="number">21.0</span>.<span class="number">3</span><span class="literal">-full-liberica</span>\bin</span><br><span class="line">        C:\Windows\Sun\Java\bin</span><br><span class="line">        C:\Windows\system32</span><br><span class="line">        C:\Windows</span><br><span class="line">        C:\Program Files\Microsoft Visual Studio\<span class="number">2022</span>\Enterprise\Common7\IDE\CommonExtensions\Microsoft\TestWindow</span><br><span class="line">        C:\Program Files\Microsoft Visual Studio\<span class="number">2022</span>\Enterprise\Common7\IDE\CommonExtensions\Microsoft\TeamFoundation\Team Explorer</span><br><span class="line">        C:\Program Files\Microsoft Visual Studio\<span class="number">2022</span>\Enterprise\MSBuild\Current\bin\Roslyn</span><br><span class="line">        C:\Program Files (x86)\Microsoft SDKs\Windows\v10.<span class="number">0</span>A\bin\NETFX <span class="number">4.8</span> Tools\x64\</span><br><span class="line">        C:\Program Files\Microsoft Visual Studio\<span class="number">2022</span>\Enterprise\Common7\IDE\CommonExtensions\Microsoft\FSharp\Tools</span><br><span class="line">        C:\Program Files\Microsoft Visual Studio\<span class="number">2022</span>\Enterprise\Team Tools\DiagnosticsHub\Collector</span><br><span class="line">        C:\Program Files\Microsoft Visual Studio\<span class="number">2022</span>\Enterprise\Common7\IDE\Extensions\Microsoft\CodeCoverage.Console</span><br><span class="line">        C:\Program Files\Microsoft Visual Studio\<span class="number">2022</span>\Enterprise\\MSBuild\Current\Bin\amd64</span><br><span class="line">        C:\Windows\Microsoft.NET\Framework64\v4.<span class="number">0.30319</span></span><br><span class="line">        C:\Program Files\Microsoft Visual Studio\<span class="number">2022</span>\Enterprise\Common7\IDE\</span><br><span class="line">        C:\Program Files\Microsoft Visual Studio\<span class="number">2022</span>\Enterprise\Common7\Tools\</span><br><span class="line">        C:\Windows\system32</span><br><span class="line">        D:\ProgramFiles\Utils</span><br><span class="line">        D:\ProgramFiles\nvm<span class="literal">-noinstall</span></span><br><span class="line">        D:\ProgramFiles\nvm<span class="literal">-noinstall</span>\Node.js</span><br><span class="line">        C:\Program Files (x86)\Windows Kits\<span class="number">10</span>\Windows Performance Toolkit\</span><br><span class="line">        D:\ProgramFiles\Git\bin</span><br><span class="line">        C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\<span class="number">170</span>\Tools\Binn\</span><br><span class="line">        C:\Program Files\Microsoft SQL Server\<span class="number">150</span>\Tools\Binn\</span><br><span class="line">        C:\Program Files\dotnet\</span><br><span class="line">        C:\Program Files\TortoiseGit\bin</span><br><span class="line">        C:\Windows\System32\WindowsPowerShell\v1.<span class="number">0</span></span><br><span class="line">        C:\Windows\System32\OpenSSH</span><br><span class="line">        C:\Users\FRANK\.cargo\bin</span><br><span class="line">        C:\Users\FRANK\AppData\Local\Microsoft\WindowsApps</span><br><span class="line">        C:\Users\FRANK\.dotnet\tools</span><br><span class="line">        D:\ProgramFiles\Java\Jabba\jdk\system@<span class="number">21.0</span>.<span class="number">3</span><span class="literal">-full-liberica</span>\bin</span><br><span class="line"></span><br><span class="line">        .</span><br><span class="line">    java.runtime.name = OpenJDK Runtime Environment</span><br><span class="line">    java.runtime.version = <span class="number">21.0</span>.<span class="number">3</span>+<span class="number">12</span><span class="literal">-LTS</span></span><br><span class="line">    java.specification.name = Java Platform API Specification</span><br><span class="line">    java.specification.vendor = Oracle Corporation</span><br><span class="line">    java.specification.version = <span class="number">21</span></span><br><span class="line">    java.vendor = BellSoft</span><br><span class="line">    java.vendor.url = https://bell<span class="literal">-sw</span>.com/</span><br><span class="line">    java.vendor.url.bug = https://bell<span class="literal">-sw</span>.com/support</span><br><span class="line">    java.version = <span class="number">21.0</span>.<span class="number">3</span></span><br><span class="line">    java.version.date = <span class="number">2024</span><span class="literal">-04-16</span></span><br><span class="line">    java.vm.compressedOopsMode = Zero based</span><br><span class="line">    java.vm.info = mixed mode, sharing</span><br><span class="line">    java.vm.name = OpenJDK <span class="number">64</span><span class="literal">-Bit</span> Server VM</span><br><span class="line">    java.vm.specification.name = Java Virtual Machine Specification</span><br><span class="line">    java.vm.specification.vendor = Oracle Corporation</span><br><span class="line">    java.vm.specification.version = <span class="number">21</span></span><br><span class="line">    java.vm.vendor = BellSoft</span><br><span class="line">    java.vm.version = <span class="number">21.0</span>.<span class="number">3</span>+<span class="number">12</span><span class="literal">-LTS</span></span><br><span class="line">    jdk.debug = release</span><br><span class="line">    line.separator = \r \n</span><br><span class="line">    native.encoding = GBK</span><br><span class="line">    os.arch = amd64</span><br><span class="line">    os.name = Windows <span class="number">11</span></span><br><span class="line">    os.version = <span class="number">10.0</span></span><br><span class="line">    path.separator = ;</span><br><span class="line">    stderr.encoding = ms936</span><br><span class="line">    stdout.encoding = ms936</span><br><span class="line">    sun.arch.data.model = <span class="number">64</span></span><br><span class="line">    sun.boot.library.path = D:\ProgramFiles\Java\Jabba\jdk\system@<span class="number">21.0</span>.<span class="number">3</span><span class="literal">-full-liberica</span>\bin</span><br><span class="line">    sun.cpu.endian = little</span><br><span class="line">    sun.cpu.isalist = amd64</span><br><span class="line">    sun.io.unicode.encoding = UnicodeLittle</span><br><span class="line">    sun.java.launcher = SUN_STANDARD</span><br><span class="line">    sun.jnu.encoding = GBK</span><br><span class="line">    sun.management.compiler = HotSpot <span class="number">64</span><span class="literal">-Bit</span> Tiered Compilers</span><br><span class="line">    sun.os.patch.level =</span><br><span class="line">    user.country = CN</span><br><span class="line">    user.dir = D:\Temp\Java</span><br><span class="line">    user.home = C:\Users\FRANK</span><br><span class="line">    user.language = zh</span><br><span class="line">    user.name = FRANK</span><br><span class="line">    user.script =</span><br><span class="line">    user.variant =</span><br><span class="line"></span><br><span class="line">Locale settings:</span><br><span class="line">    default locale = ä¸­æ–‡ (ä¸­å›½)</span><br><span class="line">    default display locale = ä¸­æ–‡ (ä¸­å›½)</span><br><span class="line">    default format locale = ä¸­æ–‡ (ä¸­å›½)</span><br><span class="line">    tzdata version = <span class="number">2024</span>a</span><br><span class="line">    available locales = , af, af_NA, af_ZA, af_ZA_<span class="comment">#Latn, agq, agq_CM, agq_CM_#Latn,</span></span><br><span class="line">        ak, ak_GH, ak_GH_<span class="comment">#Latn, am, am_ET, am_ET_#Ethi, ann, ann_NG,</span></span><br><span class="line">        ann_NG_<span class="comment">#Latn, ar, ar_001, ar_AE, ar_BH, ar_DJ, ar_DZ, ar_EG,</span></span><br><span class="line">        ar_EG_<span class="comment">#Arab, ar_EH, ar_ER, ar_IL, ar_IQ, ar_JO, ar_KM, ar_KW,</span></span><br><span class="line">        ar_LB, ar_LY, ar_MA, ar_MR, ar_OM, ar_PS, ar_QA, ar_SA,</span><br><span class="line">        ar_SD, ar_SO, ar_SS, ar_SY, ar_TD, ar_TN, ar_YE, as,</span><br><span class="line">        as_IN, as_IN_<span class="comment">#Beng, asa, asa_TZ, asa_TZ_#Latn, ast, ast_ES, ast_ES_#Latn,</span></span><br><span class="line">        az, az_AZ, az_AZ_<span class="comment">#Cyrl, az_AZ_#Latn, az__#Cyrl, az__#Latn, bas, bas_CM,</span></span><br><span class="line">        bas_CM_<span class="comment">#Latn, be, be_BY, be_BY_#Cyrl, be__TARASK, bem, bem_ZM, bem_ZM_#Latn,</span></span><br><span class="line">        bez, bez_TZ, bez_TZ_<span class="comment">#Latn, bg, bg_BG, bg_BG_#Cyrl, bgc, bgc_IN,</span></span><br><span class="line">        bgc_IN_<span class="comment">#Deva, bho, bho_IN, bho_IN_#Deva, bm, bm_ML, bm_ML_#Latn, bn,</span></span><br><span class="line">        bn_BD, bn_BD_<span class="comment">#Beng, bn_IN, bo, bo_CN, bo_CN_#Tibt, bo_IN, br,</span></span><br><span class="line">        br_FR, br_FR_<span class="comment">#Latn, brx, brx_IN, brx_IN_#Deva, bs, bs_BA, bs_BA_#Cyrl,</span></span><br><span class="line">        bs_BA_<span class="comment">#Latn, bs__#Cyrl, bs__#Latn, ca, ca_AD, ca_ES, ca_ES_#Latn, ca_ES_VALENCIA,</span></span><br><span class="line">        ca_FR, ca_IT, ccp, ccp_BD, ccp_BD_<span class="comment">#Cakm, ccp_IN, ce, ce_RU,</span></span><br><span class="line">        ce_RU_<span class="comment">#Cyrl, ceb, ceb_PH, ceb_PH_#Latn, cgg, cgg_UG, cgg_UG_#Latn, chr,</span></span><br><span class="line">        chr_US, chr_US_<span class="comment">#Cher, ckb, ckb_IQ, ckb_IQ_#Arab, ckb_IR, cs, cs_CZ,</span></span><br><span class="line">        cs_CZ_<span class="comment">#Latn, cv, cv_RU, cv_RU_#Cyrl, cy, cy_GB, cy_GB_#Latn, da,</span></span><br><span class="line">        da_DK, da_DK_<span class="comment">#Latn, da_GL, dav, dav_KE, dav_KE_#Latn, de, de_AT,</span></span><br><span class="line">        de_BE, de_CH, de_DE, de_DE_<span class="comment">#Latn, de_IT, de_LI, de_LU, dje,</span></span><br><span class="line">        dje_NE, dje_NE_<span class="comment">#Latn, doi, doi_IN, doi_IN_#Deva, dsb, dsb_DE, dsb_DE_#Latn,</span></span><br><span class="line">        dua, dua_CM, dua_CM_<span class="comment">#Latn, dyo, dyo_SN, dyo_SN_#Latn, dz, dz_BT,</span></span><br><span class="line">        dz_BT_<span class="comment">#Tibt, ebu, ebu_KE, ebu_KE_#Latn, ee, ee_GH, ee_GH_#Latn, ee_TG,</span></span><br><span class="line">        el, el_CY, el_GR, el_GR_<span class="comment">#Grek, el__POLYTON, en, en_001, en_150,</span></span><br><span class="line">        en_AE, en_AG, en_AI, en_AS, en_AT, en_AU, en_BB, en_BE,</span><br><span class="line">        en_BI, en_BM, en_BS, en_BW, en_BZ, en_CA, en_CC, en_CH,</span><br><span class="line">        en_CK, en_CM, en_CX, en_CY, en_DE, en_DG, en_DK, en_DM,</span><br><span class="line">        en_ER, en_FI, en_FJ, en_FK, en_FM, en_GB, en_GD, en_GG,</span><br><span class="line">        en_GH, en_GI, en_GM, en_GU, en_GY, en_HK, en_IE, en_IL,</span><br><span class="line">        en_IM, en_IN, en_IO, en_JE, en_JM, en_KE, en_KI, en_KN,</span><br><span class="line">        en_KY, en_LC, en_LR, en_LS, en_MG, en_MH, en_MO, en_MP,</span><br><span class="line">        en_MS, en_MT, en_MU, en_MV, en_MW, en_MY, en_NA, en_NF,</span><br><span class="line">        en_NG, en_NL, en_NR, en_NU, en_NZ, en_PG, en_PH, en_PK,</span><br><span class="line">        en_PN, en_PR, en_PW, en_RW, en_SB, en_SC, en_SD, en_SE,</span><br><span class="line">        en_SG, en_SH, en_SI, en_SL, en_SS, en_SX, en_SZ, en_TC,</span><br><span class="line">        en_TK, en_TO, en_TT, en_TV, en_TZ, en_UG, en_UM, en_US,</span><br><span class="line">        en_US_<span class="comment">#Latn, en_US_POSIX, en_VC, en_VG, en_VI, en_VU, en_WS, en_ZA,</span></span><br><span class="line">        en_ZM, en_ZW, eo, eo_001, eo_001_<span class="comment">#Latn, es, es_419, es_AR,</span></span><br><span class="line">        es_BO, es_BR, es_BZ, es_CL, es_CO, es_CR, es_CU, es_DO,</span><br><span class="line">        es_EA, es_EC, es_ES, es_ES_<span class="comment">#Latn, es_GQ, es_GT, es_HN, es_IC,</span></span><br><span class="line">        es_MX, es_NI, es_PA, es_PE, es_PH, es_PR, es_PY, es_SV,</span><br><span class="line">        es_US, es_UY, es_VE, et, et_EE, et_EE_<span class="comment">#Latn, eu, eu_ES,</span></span><br><span class="line">        eu_ES_<span class="comment">#Latn, ewo, ewo_CM, ewo_CM_#Latn, fa, fa_AF, fa_IR, fa_IR_#Arab,</span></span><br><span class="line">        ff, ff_BF_<span class="comment">#Adlm, ff_BF_#Latn, ff_CM_#Adlm, ff_CM_#Latn, ff_GH_#Adlm, ff_GH_#Latn, ff_GM_#Adlm,</span></span><br><span class="line">        ff_GM_<span class="comment">#Latn, ff_GN, ff_GN_#Adlm, ff_GN_#Latn, ff_GW_#Adlm, ff_GW_#Latn, ff_LR_#Adlm, ff_LR_#Latn,</span></span><br><span class="line">        ff_MR_<span class="comment">#Adlm, ff_MR_#Latn, ff_NE_#Adlm, ff_NE_#Latn, ff_NG_#Adlm, ff_NG_#Latn, ff_SL_#Adlm, ff_SL_#Latn,</span></span><br><span class="line">        ff_SN, ff_SN_<span class="comment">#Adlm, ff_SN_#Latn, ff__#Adlm, ff__#Latn, fi, fi_FI, fi_FI_#Latn,</span></span><br><span class="line">        fil, fil_PH, fil_PH_<span class="comment">#Latn, fo, fo_DK, fo_FO, fo_FO_#Latn, fr,</span></span><br><span class="line">        fr_BE, fr_BF, fr_BI, fr_BJ, fr_BL, fr_CA, fr_CD, fr_CF,</span><br><span class="line">        fr_CG, fr_CH, fr_CI, fr_CM, fr_DJ, fr_DZ, fr_FR, fr_FR_<span class="comment">#Latn,</span></span><br><span class="line">        fr_GA, fr_GF, fr_GN, fr_GP, fr_GQ, fr_HT, fr_KM, fr_LU,</span><br><span class="line">        fr_MA, fr_MC, fr_MF, fr_MG, fr_ML, fr_MQ, fr_MR, fr_MU,</span><br><span class="line">        fr_NC, fr_NE, fr_PF, fr_PM, fr_RE, fr_RW, fr_SC, fr_SN,</span><br><span class="line">        fr_SY, fr_TD, fr_TG, fr_TN, fr_VU, fr_WF, fr_YT, frr,</span><br><span class="line">        frr_DE, frr_DE_<span class="comment">#Latn, fur, fur_IT, fur_IT_#Latn, fy, fy_NL, fy_NL_#Latn,</span></span><br><span class="line">        ga, ga_GB, ga_IE, ga_IE_<span class="comment">#Latn, gd, gd_GB, gd_GB_#Latn, gl,</span></span><br><span class="line">        gl_ES, gl_ES_<span class="comment">#Latn, gsw, gsw_CH, gsw_CH_#Latn, gsw_FR, gsw_LI, gu,</span></span><br><span class="line">        gu_IN, gu_IN_<span class="comment">#Gujr, guz, guz_KE, guz_KE_#Latn, gv, gv_IM, gv_IM_#Latn,</span></span><br><span class="line">        ha, ha_GH, ha_NE, ha_NG, ha_NG_<span class="comment">#Latn, haw, haw_US, haw_US_#Latn,</span></span><br><span class="line">        he, he_IL, he_IL_<span class="comment">#Hebr, hi, hi_IN, hi_IN_#Deva, hi_IN_#Latn, hi__#Latn,</span></span><br><span class="line">        hr, hr_BA, hr_HR, hr_HR_<span class="comment">#Latn, hsb, hsb_DE, hsb_DE_#Latn, hu,</span></span><br><span class="line">        hu_HU, hu_HU_<span class="comment">#Latn, hy, hy_AM, hy_AM_#Armn, ia, ia_001, ia_001_#Latn,</span></span><br><span class="line">        id, id_ID, id_ID_<span class="comment">#Latn, ig, ig_NG, ig_NG_#Latn, ii, ii_CN,</span></span><br><span class="line">        ii_CN_<span class="comment">#Yiii, is, is_IS, is_IS_#Latn, it, it_CH, it_IT, it_IT_#Latn,</span></span><br><span class="line">        it_SM, it_VA, ja, ja_JP, ja_JP_<span class="comment">#Jpan, ja_JP_JP_#u-ca-japanese, jgo, jgo_CM,</span></span><br><span class="line">        jgo_CM_<span class="comment">#Latn, jmc, jmc_TZ, jmc_TZ_#Latn, jv, jv_ID, jv_ID_#Latn, ka,</span></span><br><span class="line">        ka_GE, ka_GE_<span class="comment">#Geor, kab, kab_DZ, kab_DZ_#Latn, kam, kam_KE, kam_KE_#Latn,</span></span><br><span class="line">        kde, kde_TZ, kde_TZ_<span class="comment">#Latn, kea, kea_CV, kea_CV_#Latn, kgp, kgp_BR,</span></span><br><span class="line">        kgp_BR_<span class="comment">#Latn, khq, khq_ML, khq_ML_#Latn, ki, ki_KE, ki_KE_#Latn, kk,</span></span><br><span class="line">        kk_KZ, kk_KZ_<span class="comment">#Cyrl, kkj, kkj_CM, kkj_CM_#Latn, kl, kl_GL, kl_GL_#Latn,</span></span><br><span class="line">        kln, kln_KE, kln_KE_<span class="comment">#Latn, km, km_KH, km_KH_#Khmr, kn, kn_IN,</span></span><br><span class="line">        kn_IN_<span class="comment">#Knda, ko, ko_KP, ko_KR, ko_KR_#Kore, kok, kok_IN, kok_IN_#Deva,</span></span><br><span class="line">        ks, ks_IN, ks_IN_<span class="comment">#Arab, ks_IN_#Deva, ks__#Arab, ks__#Deva, ksb, ksb_TZ,</span></span><br><span class="line">        ksb_TZ_<span class="comment">#Latn, ksf, ksf_CM, ksf_CM_#Latn, ksh, ksh_DE, ksh_DE_#Latn, ku,</span></span><br><span class="line">        ku_TR, ku_TR_<span class="comment">#Latn, kw, kw_GB, kw_GB_#Latn, ky, ky_KG, ky_KG_#Cyrl,</span></span><br><span class="line">        lag, lag_TZ, lag_TZ_<span class="comment">#Latn, lb, lb_LU, lb_LU_#Latn, lg, lg_UG,</span></span><br><span class="line">        lg_UG_<span class="comment">#Latn, lkt, lkt_US, lkt_US_#Latn, ln, ln_AO, ln_CD, ln_CD_#Latn,</span></span><br><span class="line">        ln_CF, ln_CG, lo, lo_LA, lo_LA_<span class="comment">#Laoo, lrc, lrc_IQ, lrc_IR,</span></span><br><span class="line">        lrc_IR_<span class="comment">#Arab, lt, lt_LT, lt_LT_#Latn, lu, lu_CD, lu_CD_#Latn, luo,</span></span><br><span class="line">        luo_KE, luo_KE_<span class="comment">#Latn, luy, luy_KE, luy_KE_#Latn, lv, lv_LV, lv_LV_#Latn,</span></span><br><span class="line">        mai, mai_IN, mai_IN_<span class="comment">#Deva, mas, mas_KE, mas_KE_#Latn, mas_TZ, mdf,</span></span><br><span class="line">        mdf_RU, mdf_RU_<span class="comment">#Cyrl, mer, mer_KE, mer_KE_#Latn, mfe, mfe_MU, mfe_MU_#Latn,</span></span><br><span class="line">        mg, mg_MG, mg_MG_<span class="comment">#Latn, mgh, mgh_MZ, mgh_MZ_#Latn, mgo, mgo_CM,</span></span><br><span class="line">        mgo_CM_<span class="comment">#Latn, mi, mi_NZ, mi_NZ_#Latn, mk, mk_MK, mk_MK_#Cyrl, ml,</span></span><br><span class="line">        ml_IN, ml_IN_<span class="comment">#Mlym, mn, mn_MN, mn_MN_#Cyrl, mni, mni_IN, mni_IN_#Beng,</span></span><br><span class="line">        mni__<span class="comment">#Beng, mr, mr_IN, mr_IN_#Deva, ms, ms_BN, ms_ID, ms_MY,</span></span><br><span class="line">        ms_MY_<span class="comment">#Latn, ms_SG, mt, mt_MT, mt_MT_#Latn, mua, mua_CM, mua_CM_#Latn,</span></span><br><span class="line">        my, my_MM, my_MM_<span class="comment">#Mymr, mzn, mzn_IR, mzn_IR_#Arab, naq, naq_NA,</span></span><br><span class="line">        naq_NA_<span class="comment">#Latn, nb, nb_NO, nb_NO_#Latn, nb_SJ, nd, nd_ZW, nd_ZW_#Latn,</span></span><br><span class="line">        nds, nds_DE, nds_DE_<span class="comment">#Latn, nds_NL, ne, ne_IN, ne_NP, ne_NP_#Deva,</span></span><br><span class="line">        nl, nl_AW, nl_BE, nl_BQ, nl_CW, nl_NL, nl_NL_<span class="comment">#Latn, nl_SR,</span></span><br><span class="line">        nl_SX, nmg, nmg_CM, nmg_CM_<span class="comment">#Latn, nn, nn_NO, nn_NO_#Latn, nnh,</span></span><br><span class="line">        nnh_CM, nnh_CM_<span class="comment">#Latn, no, no_NO, no_NO_#Latn, no_NO_NY, nus, nus_SS,</span></span><br><span class="line">        nus_SS_<span class="comment">#Latn, nyn, nyn_UG, nyn_UG_#Latn, oc, oc_ES, oc_FR, oc_FR_#Latn,</span></span><br><span class="line">        om, om_ET, om_ET_<span class="comment">#Latn, om_KE, or, or_IN, or_IN_#Orya, os,</span></span><br><span class="line">        os_GE, os_GE_<span class="comment">#Cyrl, os_RU, pa, pa_IN, pa_IN_#Guru, pa_PK, pa_PK_#Arab,</span></span><br><span class="line">        pa__<span class="comment">#Arab, pa__#Guru, pcm, pcm_NG, pcm_NG_#Latn, pis, pis_SB, pis_SB_#Latn,</span></span><br><span class="line">        pl, pl_PL, pl_PL_<span class="comment">#Latn, ps, ps_AF, ps_AF_#Arab, ps_PK, pt,</span></span><br><span class="line">        pt_AO, pt_BR, pt_BR_<span class="comment">#Latn, pt_CH, pt_CV, pt_GQ, pt_GW, pt_LU,</span></span><br><span class="line">        pt_MO, pt_MZ, pt_PT, pt_ST, pt_TL, qu, qu_BO, qu_EC,</span><br><span class="line">        qu_PE, qu_PE_<span class="comment">#Latn, raj, raj_IN, raj_IN_#Deva, rm, rm_CH, rm_CH_#Latn,</span></span><br><span class="line">        rn, rn_BI, rn_BI_<span class="comment">#Latn, ro, ro_MD, ro_RO, ro_RO_#Latn, rof,</span></span><br><span class="line">        rof_TZ, rof_TZ_<span class="comment">#Latn, ru, ru_BY, ru_KG, ru_KZ, ru_MD, ru_RU,</span></span><br><span class="line">        ru_RU_<span class="comment">#Cyrl, ru_UA, rw, rw_RW, rw_RW_#Latn, rwk, rwk_TZ, rwk_TZ_#Latn,</span></span><br><span class="line">        sa, sa_IN, sa_IN_<span class="comment">#Deva, sah, sah_RU, sah_RU_#Cyrl, saq, saq_KE,</span></span><br><span class="line">        saq_KE_<span class="comment">#Latn, sat, sat_IN, sat_IN_#Olck, sat__#Olck, sbp, sbp_TZ, sbp_TZ_#Latn,</span></span><br><span class="line">        <span class="built_in">sc</span>, sc_IT, sc_IT_<span class="comment">#Latn, sd, sd_IN, sd_IN_#Deva, sd_PK, sd_PK_#Arab,</span></span><br><span class="line">        sd__<span class="comment">#Arab, sd__#Deva, se, se_FI, se_NO, se_NO_#Latn, se_SE, seh,</span></span><br><span class="line">        seh_MZ, seh_MZ_<span class="comment">#Latn, ses, ses_ML, ses_ML_#Latn, sg, sg_CF, sg_CF_#Latn,</span></span><br><span class="line">        shi, shi_MA, shi_MA_<span class="comment">#Latn, shi_MA_#Tfng, shi__#Latn, shi__#Tfng, si, si_LK,</span></span><br><span class="line">        si_LK_<span class="comment">#Sinh, sk, sk_SK, sk_SK_#Latn, sl, sl_SI, sl_SI_#Latn, smn,</span></span><br><span class="line">        smn_FI, smn_FI_<span class="comment">#Latn, sms, sms_FI, sms_FI_#Latn, sn, sn_ZW, sn_ZW_#Latn,</span></span><br><span class="line">        so, so_DJ, so_ET, so_KE, so_SO, so_SO_<span class="comment">#Latn, sq, sq_AL,</span></span><br><span class="line">        sq_AL_<span class="comment">#Latn, sq_MK, sq_XK, sr, sr_BA, sr_BA_#Cyrl, sr_BA_#Latn, sr_CS,</span></span><br><span class="line">        sr_ME, sr_ME_<span class="comment">#Cyrl, sr_ME_#Latn, sr_RS, sr_RS_#Cyrl, sr_RS_#Latn, sr_XK_#Cyrl, sr_XK_#Latn,</span></span><br><span class="line">        sr__<span class="comment">#Cyrl, sr__#Latn, su, su_ID, su_ID_#Latn, su__#Latn, sv, sv_AX,</span></span><br><span class="line">        sv_FI, sv_SE, sv_SE_<span class="comment">#Latn, sw, sw_CD, sw_KE, sw_TZ, sw_TZ_#Latn,</span></span><br><span class="line">        sw_UG, ta, ta_IN, ta_IN_<span class="comment">#Taml, ta_LK, ta_MY, ta_SG, te,</span></span><br><span class="line">        te_IN, te_IN_<span class="comment">#Telu, teo, teo_KE, teo_UG, teo_UG_#Latn, tg, tg_TJ,</span></span><br><span class="line">        tg_TJ_<span class="comment">#Cyrl, th, th_TH, th_TH_#Thai, th_TH_TH_#u-nu-thai, ti, ti_ER, ti_ET,</span></span><br><span class="line">        ti_ET_<span class="comment">#Ethi, tk, tk_TM, tk_TM_#Latn, to, to_TO, to_TO_#Latn, tok,</span></span><br><span class="line">        tok_001, tok_001_<span class="comment">#Latn, tr, tr_CY, tr_TR, tr_TR_#Latn, tt, tt_RU,</span></span><br><span class="line">        tt_RU_<span class="comment">#Cyrl, twq, twq_NE, twq_NE_#Latn, tzm, tzm_MA, tzm_MA_#Latn, ug,</span></span><br><span class="line">        ug_CN, ug_CN_<span class="comment">#Arab, uk, uk_UA, uk_UA_#Cyrl, ur, ur_IN, ur_PK,</span></span><br><span class="line">        ur_PK_<span class="comment">#Arab, uz, uz_AF, uz_AF_#Arab, uz_UZ, uz_UZ_#Cyrl, uz_UZ_#Latn, uz__#Arab,</span></span><br><span class="line">        uz__<span class="comment">#Cyrl, uz__#Latn, vai, vai_LR, vai_LR_#Latn, vai_LR_#Vaii, vai__#Latn, vai__#Vaii,</span></span><br><span class="line">        vi, vi_VN, vi_VN_<span class="comment">#Latn, vun, vun_TZ, vun_TZ_#Latn, wae, wae_CH,</span></span><br><span class="line">        wae_CH_<span class="comment">#Latn, wo, wo_SN, wo_SN_#Latn, xh, xh_ZA, xh_ZA_#Latn, xog,</span></span><br><span class="line">        xog_UG, xog_UG_<span class="comment">#Latn, yav, yav_CM, yav_CM_#Latn, yi, yi_001, yi_001_#Hebr,</span></span><br><span class="line">        yo, yo_BJ, yo_NG, yo_NG_<span class="comment">#Latn, yrl, yrl_BR, yrl_BR_#Latn, yrl_CO,</span></span><br><span class="line">        yrl_VE, yue, yue_CN, yue_CN_<span class="comment">#Hans, yue_HK, yue_HK_#Hant, yue__#Hans, yue__#Hant,</span></span><br><span class="line">        zgh, zgh_MA, zgh_MA_<span class="comment">#Tfng, zh, zh_CN, zh_CN_#Hans, zh_HK, zh_HK_#Hans,</span></span><br><span class="line">        zh_HK_<span class="comment">#Hant, zh_MO, zh_MO_#Hans, zh_MO_#Hant, zh_SG, zh_SG_#Hans, zh_TW, zh_TW_#Hant,</span></span><br><span class="line">        zh__<span class="comment">#Hans, zh__#Hant, zu, zu_ZA, zu_ZA_#Latn</span></span><br><span class="line">ç”¨æ³•ï¼šjava [<span class="type">options</span>] &lt;ä¸»ç±»&gt; [<span class="type">args...</span>]</span><br><span class="line">           ï¼ˆæ‰§è¡Œç±»ï¼‰</span><br><span class="line">   æˆ–  java [<span class="type">options</span>] <span class="literal">-jar</span> &lt;jar æ–‡ä»¶&gt; [<span class="type">args...</span>]</span><br><span class="line">           ï¼ˆæ‰§è¡Œ jar æ–‡ä»¶ï¼‰</span><br><span class="line">   æˆ–  java [<span class="type">options</span>] <span class="literal">-m</span> &lt;æ¨¡å—&gt;[/&lt;ä¸»ç±»&gt;] [<span class="type">args...</span>]</span><br><span class="line">       java [<span class="type">options</span>] <span class="literal">--module</span> &lt;æ¨¡å—&gt;[/&lt;ä¸»ç±»&gt;] [<span class="type">args...</span>]</span><br><span class="line">           ï¼ˆæ‰§è¡Œæ¨¡å—ä¸­çš„ä¸»ç±»ï¼‰</span><br><span class="line">   æˆ–  java [<span class="type">options</span>] &lt;æºæ–‡ä»¶&gt; [<span class="type">args</span>]</span><br><span class="line">           ï¼ˆæ‰§è¡Œå•ä¸ªæºæ–‡ä»¶ç¨‹åºï¼‰</span><br><span class="line"></span><br><span class="line"> å°†ä¸»ç±»ã€æºæ–‡ä»¶ã€<span class="literal">-jar</span> &lt;jar æ–‡ä»¶&gt;ã€<span class="literal">-m</span> æˆ–</span><br><span class="line"> <span class="literal">--module</span> &lt;æ¨¡å—&gt;/&lt;ä¸»ç±»&gt; åçš„å‚æ•°ä½œä¸ºå‚æ•°</span><br><span class="line"> ä¼ é€’åˆ°ä¸»ç±»ã€‚</span><br><span class="line"></span><br><span class="line"> å…¶ä¸­ï¼Œé€‰é¡¹åŒ…æ‹¬ï¼š</span><br><span class="line"></span><br><span class="line">    <span class="literal">-client</span>       é€‰æ‹© <span class="string">&quot;client&quot;</span> VM</span><br><span class="line">    <span class="literal">-cp</span> &lt;ç›®å½•å’Œ zip/jar æ–‡ä»¶çš„ç±»æœç´¢è·¯å¾„&gt;</span><br><span class="line">    <span class="literal">-classpath</span> &lt;ç›®å½•å’Œ zip/jar æ–‡ä»¶çš„ç±»æœç´¢è·¯å¾„&gt;</span><br><span class="line">    <span class="literal">--class-path</span> &lt;ç›®å½•å’Œ zip/jar æ–‡ä»¶çš„ç±»æœç´¢è·¯å¾„&gt;</span><br><span class="line">                  ä½¿ç”¨ ; åˆ†éš”çš„, ç”¨äºæœç´¢ç±»æ–‡ä»¶çš„ç›®å½•, JAR æ¡£æ¡ˆ</span><br><span class="line">                  å’Œ ZIP æ¡£æ¡ˆåˆ—è¡¨ã€‚</span><br><span class="line">    <span class="literal">-p</span> &lt;æ¨¡å—è·¯å¾„&gt;</span><br><span class="line">    <span class="literal">--module-path</span> &lt;æ¨¡å—è·¯å¾„&gt;...</span><br><span class="line">                  ; åˆ†éš”çš„å…ƒç´ åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯</span><br><span class="line">                  æ¨¡å—æˆ–åŒ…å«æ¨¡å—çš„ç›®å½•çš„æ–‡ä»¶è·¯å¾„ã€‚æ¯ä¸ªæ¨¡å—éƒ½æ˜¯</span><br><span class="line">                  æ¨¡å—åŒ– JAR æˆ–å±•å¼€çš„æ¨¡å—ç›®å½•ã€‚</span><br><span class="line">    <span class="literal">--upgrade-module-path</span> &lt;æ¨¡å—è·¯å¾„&gt;...</span><br><span class="line">                  ; åˆ†éš”çš„å…ƒç´ åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯</span><br><span class="line">                  æ¨¡å—æˆ–åŒ…å«æ¨¡å—ï¼ˆç”¨äºæ›¿æ¢è¿è¡Œæ—¶æ˜ åƒä¸­çš„</span><br><span class="line">                  å¯å‡çº§æ¨¡å—ï¼‰çš„ç›®å½•çš„æ–‡ä»¶è·¯å¾„ã€‚æ¯ä¸ªæ¨¡å—éƒ½æ˜¯</span><br><span class="line">                  æ¨¡å—åŒ– JAR æˆ–å±•å¼€çš„æ¨¡å—ç›®å½•ã€‚</span><br><span class="line">    <span class="literal">--add-modules</span> &lt;æ¨¡å—åç§°&gt;[,&lt;æ¨¡å—åç§°&gt;<span class="type">...</span>]</span><br><span class="line">                  é™¤äº†åˆå§‹æ¨¡å—ä¹‹å¤–è¦è§£æçš„æ ¹æ¨¡å—ã€‚</span><br><span class="line">                  &lt;æ¨¡å—åç§°&gt; è¿˜å¯ä»¥ä¸º ALL<span class="literal">-DEFAULT</span>, ALL<span class="literal">-SYSTEM</span>,</span><br><span class="line">                  ALL<span class="literal">-MODULE-PATH</span>.</span><br><span class="line">    <span class="literal">--enable-native-access</span> &lt;module name&gt;[,&lt;<span class="type">module</span> <span class="type">name</span>&gt;<span class="type">...</span>]</span><br><span class="line">                  å…è®¸æ‰§è¡Œå—é™æœ¬æœºæ“ä½œçš„æ¨¡å—ã€‚</span><br><span class="line">                  &lt;module name&gt; è¿˜å¯ä»¥ä¸º ALL<span class="literal">-UNNAMED</span>ã€‚</span><br><span class="line">    <span class="literal">--list-modules</span></span><br><span class="line">                  åˆ—å‡ºå¯è§‚å¯Ÿæ¨¡å—å¹¶é€€å‡º</span><br><span class="line">    <span class="literal">-d</span> &lt;module name&gt;</span><br><span class="line">    <span class="literal">--describe-module</span> &lt;æ¨¡å—åç§°&gt;</span><br><span class="line">                  æè¿°æ¨¡å—å¹¶é€€å‡º</span><br><span class="line">    <span class="literal">--dry-run</span>     åˆ›å»º VM å¹¶åŠ è½½ä¸»ç±», ä½†ä¸æ‰§è¡Œ main æ–¹æ³•ã€‚</span><br><span class="line">                  æ­¤ <span class="literal">--dry-run</span> é€‰é¡¹å¯¹äºéªŒè¯è¯¸å¦‚</span><br><span class="line">                  æ¨¡å—ç³»ç»Ÿé…ç½®è¿™æ ·çš„å‘½ä»¤è¡Œé€‰é¡¹å¯èƒ½éå¸¸æœ‰ç”¨ã€‚</span><br><span class="line">    <span class="literal">--validate-modules</span></span><br><span class="line">                  éªŒè¯æ‰€æœ‰æ¨¡å—å¹¶é€€å‡º</span><br><span class="line">                  <span class="literal">--validate-modules</span> é€‰é¡¹å¯¹äºæŸ¥æ‰¾</span><br><span class="line">                  æ¨¡å—è·¯å¾„ä¸­æ¨¡å—çš„å†²çªåŠå…¶ä»–é”™è¯¯å¯èƒ½éå¸¸æœ‰ç”¨ã€‚</span><br><span class="line">    <span class="literal">-D</span>&lt;åç§°&gt;=&lt;å€¼&gt;</span><br><span class="line">                  è®¾ç½®ç³»ç»Ÿå±æ€§</span><br><span class="line">    <span class="literal">-verbose</span>:[<span class="type">class</span>|<span class="type">module</span>|<span class="type">gc</span>|<span class="type">jni</span>]</span><br><span class="line">                  ä¸ºç»™å®šå­ç³»ç»Ÿå¯ç”¨è¯¦ç»†è¾“å‡º</span><br><span class="line">    <span class="literal">-version</span>      å°†äº§å“ç‰ˆæœ¬è¾“å‡ºåˆ°é”™è¯¯æµå¹¶é€€å‡º</span><br><span class="line">    <span class="literal">--version</span>     å°†äº§å“ç‰ˆæœ¬è¾“å‡ºåˆ°è¾“å‡ºæµå¹¶é€€å‡º</span><br><span class="line">    <span class="literal">-showversion</span>  å°†äº§å“ç‰ˆæœ¬è¾“å‡ºåˆ°é”™è¯¯æµå¹¶ç»§ç»­</span><br><span class="line">    <span class="literal">--show-version</span></span><br><span class="line">                  å°†äº§å“ç‰ˆæœ¬è¾“å‡ºåˆ°è¾“å‡ºæµå¹¶ç»§ç»­</span><br><span class="line">    <span class="literal">--show-module-resolution</span></span><br><span class="line">                  åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­æ˜¾ç¤ºæ¨¡å—è§£æè¾“å‡º</span><br><span class="line">    -? <span class="literal">-h</span> <span class="literal">-help</span></span><br><span class="line">                  å°†æ­¤å¸®åŠ©æ¶ˆæ¯è¾“å‡ºåˆ°é”™è¯¯æµ</span><br><span class="line">    <span class="literal">--help</span>        å°†æ­¤å¸®åŠ©æ¶ˆæ¯è¾“å‡ºåˆ°è¾“å‡ºæµ</span><br><span class="line">    <span class="literal">-X</span>            å°†é¢å¤–é€‰é¡¹çš„å¸®åŠ©è¾“å‡ºåˆ°é”™è¯¯æµ</span><br><span class="line">    <span class="literal">--help-extra</span>  å°†é¢å¤–é€‰é¡¹çš„å¸®åŠ©è¾“å‡ºåˆ°è¾“å‡ºæµ</span><br><span class="line">    <span class="literal">-ea</span>[:&lt;ç¨‹åºåŒ…åç§°&gt;<span class="type">...</span>|:&lt;ç±»å&gt;]</span><br><span class="line">    <span class="literal">-enableassertions</span>[:&lt;ç¨‹åºåŒ…åç§°&gt;<span class="type">...</span>|:&lt;ç±»å&gt;]</span><br><span class="line">                  æŒ‰æŒ‡å®šçš„ç²’åº¦å¯ç”¨æ–­è¨€</span><br><span class="line">    <span class="literal">-da</span>[:&lt;ç¨‹åºåŒ…åç§°&gt;<span class="type">...</span>|:&lt;ç±»å&gt;]</span><br><span class="line">    <span class="literal">-disableassertions</span>[:&lt;ç¨‹åºåŒ…åç§°&gt;<span class="type">...</span>|:&lt;ç±»å&gt;]</span><br><span class="line">                  æŒ‰æŒ‡å®šçš„ç²’åº¦ç¦ç”¨æ–­è¨€</span><br><span class="line">    <span class="literal">-esa</span> | <span class="literal">-enablesystemassertions</span></span><br><span class="line">                  å¯ç”¨ç³»ç»Ÿæ–­è¨€</span><br><span class="line">    <span class="literal">-dsa</span> | <span class="literal">-disablesystemassertions</span></span><br><span class="line">                  ç¦ç”¨ç³»ç»Ÿæ–­è¨€</span><br><span class="line">    <span class="literal">-agentlib</span>:&lt;åº“å&gt;[=&lt;é€‰é¡¹&gt;]</span><br><span class="line">                  åŠ è½½æœ¬æœºä»£ç†åº“ &lt;åº“å&gt;, ä¾‹å¦‚ <span class="literal">-agentlib</span>:jdwp</span><br><span class="line">                  å¦è¯·å‚é˜… <span class="literal">-agentlib</span>:jdwp=help</span><br><span class="line">    <span class="literal">-agentpath</span>:&lt;è·¯å¾„å&gt;[=&lt;é€‰é¡¹&gt;]</span><br><span class="line">                  æŒ‰å®Œæ•´è·¯å¾„ååŠ è½½æœ¬æœºä»£ç†åº“</span><br><span class="line">    <span class="literal">-javaagent</span>:&lt;jar è·¯å¾„&gt;[=&lt;é€‰é¡¹&gt;]</span><br><span class="line">                  åŠ è½½ Java ç¼–ç¨‹è¯­è¨€ä»£ç†, è¯·å‚é˜… java.lang.instrument</span><br><span class="line">    <span class="literal">-splash</span>:&lt;å›¾åƒè·¯å¾„&gt;</span><br><span class="line">                  ä½¿ç”¨æŒ‡å®šçš„å›¾åƒæ˜¾ç¤ºå¯åŠ¨å±å¹•</span><br><span class="line">                  è‡ªåŠ¨æ”¯æŒå’Œä½¿ç”¨ HiDPI ç¼©æ”¾å›¾åƒ</span><br><span class="line">                  (å¦‚æœå¯ç”¨)ã€‚åº”å§‹ç»ˆå°†æœªç¼©æ”¾çš„å›¾åƒæ–‡ä»¶å (ä¾‹å¦‚, image.ext)</span><br><span class="line">                  ä½œä¸ºå‚æ•°ä¼ é€’ç»™ <span class="literal">-splash</span> é€‰é¡¹ã€‚</span><br><span class="line">                  å°†è‡ªåŠ¨é€‰å–æä¾›çš„æœ€åˆé€‚çš„ç¼©æ”¾</span><br><span class="line">                  å›¾åƒã€‚</span><br><span class="line">                  æœ‰å…³è¯¦ç»†ä¿¡æ¯, è¯·å‚é˜… SplashScreen API æ–‡æ¡£</span><br><span class="line">    @argument æ–‡ä»¶</span><br><span class="line">                  ä¸€ä¸ªæˆ–å¤šä¸ªåŒ…å«é€‰é¡¹çš„å‚æ•°æ–‡ä»¶</span><br><span class="line">    <span class="literal">--disable-</span>@files</span><br><span class="line">                  é˜»æ­¢è¿›ä¸€æ­¥æ‰©å±•å‚æ•°æ–‡ä»¶</span><br><span class="line">    <span class="literal">--enable-preview</span></span><br><span class="line">                  å…è®¸ç±»ä¾èµ–äºæ­¤å‘è¡Œç‰ˆçš„é¢„è§ˆåŠŸèƒ½</span><br><span class="line">è¦ä¸ºé•¿é€‰é¡¹æŒ‡å®šå‚æ•°, å¯ä»¥ä½¿ç”¨ <span class="literal">--</span>&lt;åç§°&gt;=&lt;å€¼&gt; æˆ–</span><br><span class="line"><span class="literal">--</span>&lt;åç§°&gt; &lt;å€¼&gt;ã€‚</span><br><span class="line"></span><br><span class="line"><span class="built_in">PS</span> D:\Temp\Java&gt;</span><br></pre></td></tr></table></figure>

<p>ç›®å‰åªæ‰¾åˆ° Oracle å®˜ç½‘æœ‰æ­¤æ–‡æ¡£ï¼Œå…¶ä»–å‘å¸ƒç‰ˆæœ¬ï¼Œä¸ä¸€å®šæœ‰ã€‚</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¸­æ–‡ä»¶å‘½åçš„æœ€ä½³å®è·µ</title>
    <url>/2024/08/04/Linux%E4%B8%AD%E6%96%87%E4%BB%B6%E5%91%BD%E5%90%8D%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</url>
    <content><![CDATA[<p>è½¬è‡ª<a href="https://www.inmotionhosting.com/support/server/linux/best-practice-for-naming-files-in-linux/">Best practice for naming files in Linux</a></p>
<p>å¦‚æœæ‚¨æ­£åœ¨å¼€å‘æ‚¨çš„ç½‘ç«™ï¼Œä½†æ— æ³•æ‰¾å‡ºä¸ºä»€ä¹ˆæ‚¨çš„é¡µé¢ã€å›¾åƒã€JavaScript å’Œå…¶ä»–ç½‘ç»œæ•°æ®å¯¼è‡´404 æœªæ‰¾åˆ°é”™è¯¯ï¼Œåˆ™æ‚¨å¯èƒ½é‡åˆ°äº†å¤§å°å†™æ•æ„Ÿé—®é¢˜ã€‚</p>
<p>Linux æœåŠ¡å™¨åŒºåˆ†å¤§å°å†™ã€‚Windows æœåŠ¡å™¨ä¸åŒºåˆ†å¤§å°å†™ï¼Œå› æ­¤å¦‚æœæ‚¨å°†æ–‡ä»¶ä» Windows å¼€å‘å¹³å°ç§»åŠ¨åˆ° Linux Web å¹³å°ï¼Œåˆ™å¯èƒ½éœ€è¦æ³¨æ„ä»¥ä¸‹å¸¸è§é”™è¯¯ã€‚</p>
<p>å¸¸è§çš„åŒºåˆ†å¤§å°å†™é”™è¯¯</p>
<ul>
<li><p>æ··åˆå¤§å†™å’Œå°å†™</p>
<ul>
<li>ä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯å°†æ–‡ä»¶å‘½åä¸ºå¤§å°å†™æ··åˆã€‚<br>å¦‚:<br><code>MyFileName.html</code><br>Linux æŒ‰ç…§æ–‡ä»¶åçš„è¾“å…¥æ–¹å¼è¯»å–æ–‡ä»¶åã€‚å› æ­¤ï¼Œ<br><code>MyFileName.html</code><br>ä¸ä»¥ä¸‹å†…å®¹ä¸åŒï¼š<br><code>myfilename.html</code></li>
</ul>
</li>
<li><p>é”™è¯¯è¾“å…¥æ–‡ä»¶æ‰©å±•å</p>
<p>æ–‡ä»¶æ‰©å±•åä¹ŸåŒºåˆ†å¤§å°å†™ã€‚æœ‰äº›æ–‡ä»¶ç±»å‹æœ‰ 4 ä¸ªå­—æ¯ï¼Œæœ‰äº›åˆ™æœ‰ 3 ä¸ªå­—æ¯ã€‚è¯·å‚è§ä»¥ä¸‹ç¤ºä¾‹ï¼š<br>åŒæ ·ï¼Œæ–‡ä»¶æ‰©å±•åä¹Ÿéœ€è¦å‡†ç¡®ï¼š<br><code>MyFileName.HTML</code><br>ä¸ä»¥ä¸‹å†…å®¹ä¸åŒï¼š<br><code>myfilename.html</code></p>
<p>æ­¤å¤–ï¼Œå›¾åƒæ‰©å±•å¿…é¡»æ˜¯æ­£ç¡®çš„ç±»å‹ï¼š<br><code>image.jpg</code><br>ä¸ä»¥ä¸‹å†…å®¹ä¸åŒï¼š<br><code>image.jpeg</code></p>
</li>
</ul>
<p>Linux æ–‡ä»¶å‘½åçš„æœ€ä½³å®è·µ<br>ä¸ºäº†é˜²æ­¢ç½‘ç«™ä¸Šçš„æ–‡ä»¶è·¯å¾„å‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬å»ºè®®éµå¾ªæ–‡ä»¶å‘½åçš„æœ€ä½³åšæ³•ã€‚è¯·å‚é˜…ä»¥ä¸‹å†…å®¹ï¼š</p>
<ol>
<li>å°†æ‰€æœ‰æ–‡ä»¶å‘½åä¸ºå°å†™ã€‚</li>
<li>ä¸è¦ä½¿ç”¨ç©ºæ ¼ï¼Œè€Œè¦ä½¿ç”¨ ( _ ) æˆ– ( â€“ )</li>
<li>ä½¿ç”¨ä¸€è‡´çš„æ–‡ä»¶ç±»å‹ã€‚ä½¿ç”¨ jpg æˆ– jpegã€‚ä¸è¦åŒæ—¶ä½¿ç”¨ä¸¤è€…ã€‚</li>
<li>åªèƒ½ä½¿ç”¨å­—æ¯æ•°å­—å­—ç¬¦ã€å¥ç‚¹ã€ä¸‹åˆ’çº¿å’Œè¿å­—ç¬¦ï¼Œä¸è¦ä½¿ç”¨â€œ%â€ã€â€œ$â€ç­‰ç¬¦å·ã€‚</li>
<li>ä¿æŒæ–‡ä»¶åç®€çŸ­ä¸”å…·æœ‰æè¿°æ€§</li>
</ol>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxæ–‡æœ¬é‡å®šå‘æƒé™é—®é¢˜</title>
    <url>/2024/08/03/Linux%E6%96%87%E6%9C%AC%E9%87%8D%E5%AE%9A%E5%90%91%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="ç°è±¡"><a href="#ç°è±¡" class="headerlink" title="ç°è±¡"></a>ç°è±¡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">frank@debian:/etc/nginx/sites-enabled$ <span class="built_in">cat</span> nexus.conf |grep -s proxy_set &gt;&gt; blog.conf</span><br><span class="line">-bash: blog.conf: Permission denied</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>Linux</code> shell æ˜¯ä½¿ç”¨å½“å‰ç”¨æˆ·çš„æƒé™å»æ‰§è¡Œ <code>&gt;</code> å’Œ <code>&gt;&gt;</code> å‘½ä»¤ã€‚</p>
<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><ul>
<li><h3 id="ä¸€"><a href="#ä¸€" class="headerlink" title="ä¸€"></a>ä¸€</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> -i</span><br><span class="line"><span class="built_in">cd</span> /etc/nginx/sites-enabled/</span><br><span class="line"><span class="built_in">cat</span> nexus.conf |grep -s proxy_set &gt;&gt; blog.conf</span><br></pre></td></tr></table></figure>
</li>
<li><h3 id="äºŒ"><a href="#äºŒ" class="headerlink" title="äºŒ"></a>äºŒ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> bash -c <span class="string">&#x27;cat nexus.conf |grep -s proxy_set &gt;&gt; blog.conf&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><h3 id="ä¸‰"><a href="#ä¸‰" class="headerlink" title="ä¸‰"></a>ä¸‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> nexus.conf |grep proxy_set|<span class="built_in">sudo</span> <span class="built_in">tee</span> -a blog.conf</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>MySqlåœ¨Dockeré‡Œæ—¶é—´æ™š8å°æ—¶</title>
    <url>/2024/08/03/MySql%E5%9C%A8Docker%E9%87%8C%E6%97%B6%E9%97%B4%E6%99%9A8%E5%B0%8F%E6%97%B6/</url>
    <content><![CDATA[<p><code>/etc/localtime</code>æ˜¯ç”¨æ¥æè¿°æœ¬æœºæ—¶é—´<br><code>/etc/timezone</code>æ˜¯ç”¨æ¥æè¿°æœ¬æœºæ‰€å±çš„æ—¶åŒº</p>
<p>åœ¨Linuxä¸­ï¼Œæœ‰ä¸€äº›ç¨‹åºä¼šè‡ªå·±è®¡ç®—æ—¶é—´ï¼Œä¸ä¼šç›´æ¥é‡‡ç”¨å¸¦æœ‰æ—¶åŒºçš„æœ¬æœºæ—¶é—´æ ¼å¼ï¼Œä¼šæ ¹æ®UTCæ—¶é—´å’Œæœ¬æœºæ‰€å±çš„æ—¶åŒºç­‰è®¡ç®—å‡ºå½“å‰çš„æ—¶é—´ã€‚</p>
<p>æ¯”å¦‚JDKåº”ç”¨ï¼Œæ—¶åŒºä¸ºâ€œEtc&#x2F;UTCâ€ï¼Œæœ¬æœºæ—¶é—´æ”¹ä¸ºåŒ—äº¬æ—¶é—´ï¼Œé€šè¿‡Javaä»£ç ä¸­<code>new</code> å‡ºæ¥çš„æ—¶é—´è¿˜æ˜¯ <code>UTC</code> æ—¶é—´ï¼Œæ‰€ä»¥å¿…é¡»å¾—ä¿®æ­£æœ¬æœºçš„æ—¶åŒºã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it containerID /bin/bash</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹å‘½ä»¤åœ¨å®¹å™¨ä¸­è¿è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ln</span> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line"><span class="built_in">touch</span> clock</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&#x27;ZONE=&quot;Asia/Shanghai&quot; \nUTC=fasle\nARC=false&#x27;</span> &gt; clock</span><br></pre></td></tr></table></figure>

<p>ä¾æ¬¡æ£€æŸ¥ç³»ç»Ÿæ—¶åŒºã€MySQLæ—¶åŒºã€Javaåº”ç”¨ç¨‹åºæ—¶åŒºã€Javaåº”ç”¨ç¨‹åºè¿æ¥å­—ç¬¦ä¸²æ—¶åŒºè®¾ç½®</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>POMä¸­ä½¿ç”¨æœ¬åœ°JAR</title>
    <url>/2024/08/08/POM%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%9C%AC%E5%9C%B0JAR/</url>
    <content><![CDATA[<p>å‡å®š<code>lib</code>ä½äºé¡¹ç›®æ ¹ç›®å½•ï¼Œä¸<code>pom.xml</code>åŒçº§åˆ«</p>
<p>é”™è¯¯: ä½¿ç”¨é¡¹ç›®çš„ç›¸å…³å˜é‡ï¼Œå­é¡¹ç›®æ‰¾ä¸åˆ°ï¼Œç¼–è¯‘ä¹Ÿä¼šé”™è¯¯æé†’ï¼Œä½†ä¼¼ä¹å¯ä»¥æ‰§è¡Œã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jdk.tools<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jconsole<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>system<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">systemPath</span>&gt;</span>$&#123;pom.basedir&#125;/lib/jconsole.jar<span class="tag">&lt;/<span class="name">systemPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ–¹å¼ä¸€: ä½¿ç”¨ç»å¯¹è·¯å¾„</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">local.lib</span>&gt;</span>D:/Java/JDK/OpenJDK/jdk8u412-b08/lib<span class="tag">&lt;/<span class="name">local.lib</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jdk.tools<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jconsole<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>system<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">systemPath</span>&gt;</span>$&#123;local.lib&#125;/jconsole.jar<span class="tag">&lt;/<span class="name">systemPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ–¹å¼äºŒ: ä½¿ç”¨ä»“åº“</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>external_lib<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Repository in project&#x27;s lib dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>file:///$&#123;project.basedir&#125;/lib<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jdk.tools<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jconsole<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Maven</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonå…å®‰è£…ç‰ˆé…ç½®</title>
    <url>/2024/08/17/Python%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<ol>
<li><p>æŒ‡å®š<code>pip</code>æºæ³‰<br> åˆ›å»ºé…ç½®æ–‡ä»¶</p>
<ul>
<li>Windows: åœ¨<code>%USERPROFILE%\pip\pip.ini</code><br>  <code>mklink /D %USERPROFILE%\pip\ D:\SystemConfig\pip</code></li>
<li>Linuxï¼šåœ¨<code>~/.pip/pip.conf</code></li>
</ul>
 <figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[global]</span></span><br><span class="line"><span class="attr">index-url</span> = http://mirrors.aliyun.com/pypi/simple</span><br><span class="line"><span class="section">[install]</span></span><br><span class="line"><span class="attr">trusted-host</span>=mirrors.aliyun.com</span><br></pre></td></tr></table></figure>

<p> æ¸…åæºåœ°å€:<code>https://pypi.tuna.tsinghua.edu.cn/simple</code></p>
</li>
<li><p><a href="https://mirrors.aliyun.com/python-release">ä¸‹è½½Python</a></p>
</li>
<li><p>ç¼–è¾‘<code>python[version]._pth</code></p>
 <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python311.<span class="built_in">zip</span></span><br><span class="line">.</span><br><span class="line"></span><br><span class="line"><span class="comment"># å–æ¶ˆæ­¤è¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment"># Uncomment to run site.main() automatically</span></span><br><span class="line"><span class="keyword">import</span> site</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://bootstrap.pypa.io/get-pip.py">ä¸‹è½½get-pip</a>,å¹¶å°†<code>get-pip.py</code>æ”¾åˆ° Python ç›®å½•</p>
</li>
<li><p>æ‰§è¡Œå‘½ä»¤</p>
 <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># embed ç‰ˆç§»é™¤äº† ensurepip</span></span><br><span class="line">python <span class="literal">-m</span> ensurepip <span class="literal">--upgrade</span></span><br><span class="line"><span class="comment"># ç›´æ¥ä¸‹è½½ get-pip.py</span></span><br><span class="line"><span class="built_in">use-proxy</span>.ps1</span><br><span class="line">python get.pip.py</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ ç¯å¢ƒå˜é‡</p>
 <figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">D:\ProgramFiles\Python</span><br><span class="line">D:\ProgramFiles\Python\Scripts</span><br></pre></td></tr></table></figure>

<p> è¯´æ˜: å·²æœ‰å¤šç‰ˆæœ¬ç®¡ç†å·¥å…· <code>virtualenvwrapper</code> ,ç±»ä¼¼Maven Wrapper.<br> ä½†ç›®å‰Windowsç‰ˆæœ¬åªæœ‰æ”¯æŒ CMDçš„<code>virtualenvwrapper-win</code>,PowerShellç‰ˆæœ¬ <code>VirtualEnvWrapper</code> éœ€è¦ä½¿ç”¨ <code>venv</code>æ¨¡å—,è¦å®‰è£…Python Installå®‰è£…ç‰ˆ,</p>
</li>
<li><p>è™šæ‹Ÿç¯å¢ƒ</p>
 <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">python3 <span class="literal">-m</span> venv env                // æ–°å»ºè™šæ‹Ÿç¯å¢ƒ(å®‰è£…ç‰ˆæ‰è‡ªå¸¦)</span><br><span class="line">pip3 install virtualenv            // å®‰è£… virtualenv(embedç‰ˆæœ¬)</span><br><span class="line">virtual env                        // åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ env</span><br><span class="line">.\env\Scripts\activate.ps1          // ä½¿ç”¨æ–°å»ºè™šæ‹Ÿç¯å¢ƒ</span><br><span class="line">pip install xxx                    // å®‰è£…ç¼ºå°‘çš„ xxx åŒ…</span><br><span class="line">pip freeze &gt; requirements.txt      // å¯¼å‡ºé¡¹ç›®å®‰è£…çš„æ‰€æœ‰åŒ…</span><br><span class="line">pip install <span class="literal">-r</span> requirements.txt    // æ–°ç¯å¢ƒå®‰è£…é¡¹ç›®éœ€è¦çš„åŒ…</span><br></pre></td></tr></table></figure>

<p> åœ¨ Debian ä¸Šéœ€è¦å®‰è£…</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install python3.11-venv</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¿€æ´»ç¯å¢ƒ</span></span><br><span class="line">source ./activate</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€€å‡ºç¯å¢ƒ</span></span><br><span class="line">deactivate</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringåŸºæœ¬æµç¨‹</title>
    <url>/2024/08/03/Spring%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B/</url>
    <content><![CDATA[<h3 id="ä»€ä¹ˆäº‹-Spring-å®¹å™¨"><a href="#ä»€ä¹ˆäº‹-Spring-å®¹å™¨" class="headerlink" title="ä»€ä¹ˆäº‹ Spring å®¹å™¨"></a>ä»€ä¹ˆäº‹ Spring å®¹å™¨</h3><p>ç®¡ç† Bean å¯¹è±¡ï¼Œé€šè¿‡ä¾èµ–æ³¨å…¥ç»„ç»‡ Bean ä¹‹é—´çš„å…³ç³»ï¼Œä»è€Œé™ä½ä¸šåŠ¡å¯¹è±¡ä¹‹é—´çš„è€¦åˆæ€§ã€‚</p>
<h3 id="ApplicationContext-å’Œ-BeanFactory-åŒºåˆ«"><a href="#ApplicationContext-å’Œ-BeanFactory-åŒºåˆ«" class="headerlink" title="ApplicationContext å’Œ BeanFactory åŒºåˆ«"></a>ApplicationContext å’Œ BeanFactory åŒºåˆ«</h3><p>ApplicationContext çš„å®šä¹‰äº†æ‰€æœ‰ Bean åŠ è½½çš„å…¨éƒ¨è¿‡ç¨‹ï¼›<br>BeanFactory åªæ˜¯å®šä¹‰äº†è·å–å’Œåˆ›å»º Bean çš„æ–¹æ³•</p>
<h3 id="SpringBoot-Bean-åŠ è½½æµç¨‹"><a href="#SpringBoot-Bean-åŠ è½½æµç¨‹" class="headerlink" title="SpringBoot Bean åŠ è½½æµç¨‹"></a>SpringBoot Bean åŠ è½½æµç¨‹</h3><p><img src="/2024/08/03/Spring%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B/SpringBoot%E5%AE%B9%E5%99%A8%E5%8A%A0%E8%BD%BD%E6%B5%81%E7%A8%8B.svg" alt="æµ‹è¯•"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¯»å–é…ç½®ç±»</span></span><br><span class="line"><span class="type">DefaultListableBeanFactory</span> <span class="variable">beanFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultListableBeanFactory</span>();</span><br><span class="line"><span class="type">AnnotatedBeanDefinitionReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotatedBeanDefinitionReader</span>(beanFactory);</span><br><span class="line">reader.register(SpringIocFlowApplication.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è§£æé…ç½®ç±»</span></span><br><span class="line">String[] beanDefinitionNames = beanFactory.getBeanDefinitionNames();</span><br><span class="line">System.out.println(String.join(System.lineSeparator(), beanDefinitionNames));</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾ªç¯åˆ›å»ºæ‰€æœ‰çš„Bean</span></span><br><span class="line"><span class="comment">// beanFactory.preInstantiateSingletons();</span></span><br></pre></td></tr></table></figure>


<p>æ„é€ å‡½æ•°å‘ç”Ÿå¾ªç¯ä¾èµ–æ—¶ï¼Œå¯ä»¥å®¶<code>@Lazy</code>æ³¨è§£è§£å†³ã€‚</p>
<p>AOPçš„å®ç°æ—¶åŸºäºåŠ¨æ€ä»£ç†</p>
<ul>
<li>JDK ï¼ˆæœ‰æ¥å£ï¼Œåå°„è°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼‰</li>
<li>Cglib ï¼ˆæ²¡æœ‰æ¥å£ï¼Œå­ç±»è°ƒç”¨çˆ¶ç±»ï¼‰</li>
</ul>
<p>JDK 1.8ä»¥å‰ï¼ŒJDKè¾ƒæ…¢ï¼›ä¹‹åï¼Œæ²¡æœ‰å¤šå¤§åŒºåˆ«</p>
<p>äº‹åŠ¡å¤±æ•ˆ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">        jdbcTemplate.execute(<span class="string">&quot;INSERT INTO test2.customers\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;( first_name, last_name)\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;VALUES(&#x27;a&#x27;, &#x27;aa&#x27;);&quot;</span>);</span><br><span class="line"></span><br><span class="line">        test2();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional(propagation = Propagation.NEVER)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">        jdbcTemplate.execute(<span class="string">&quot;INSERT INTO test2.customers\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;( first_name, last_name)\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;VALUES( &#x27;b&#x27;, &#x27;bb&#x27;);&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@Transactional</code> æœ¬è´¨ä¹Ÿæ˜¯AOPï¼Œé€šè¿‡åŠ¨æ€ä»£ç†å®ç°ã€‚åœ¨åŒä¸€ä¸ªç±»é‡Œè°ƒç”¨<code>test2</code>,æ²¡æœ‰ç»è¿‡ä»£ç†ç±»ã€‚<br>åœ¨é¡¹ç›®æ”¯æŒå¾ªç¯ä¾èµ–çš„æƒ…å†µä¸‹(æœ€å¥½ä¸è¦),å¯ä»¥æ³¨å…¥<code>userService</code>è‡ªå·±ï¼Œè°ƒç”¨<code>userService.test2()</code>æ¥è®©äº‹åŠ¡ä¼ æ’­ç”Ÿæ•ˆ.</p>
<p>Spring äº‹åŠ¡ä¼ æ’­æœºåˆ¶å¯ä½¿ç”¨ <code>@Transactional(propagation=Propagation.REQUIRED)</code> æ¥å®šä¹‰ï¼ŒSpring äº‹åŠ¡ä¼ æ’­æœºåˆ¶çš„çº§åˆ«åŒ…å«ä»¥ä¸‹ 7 ç§ï¼š</p>
<table>
<thead>
<tr>
<th>äº‹åŠ¡ä¼ æ’­è¡Œä¸ºç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>Propagation.REQUIRED</td>
<td>é»˜è®¤çš„äº‹åŠ¡ä¼ æ’­çº§åˆ«ï¼Œå®ƒè¡¨ç¤ºå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚</td>
</tr>
<tr>
<td>Propagation.SUPPORTS</td>
<td>å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™ä»¥éäº‹åŠ¡çš„æ–¹å¼ç»§ç»­è¿è¡Œã€‚</td>
</tr>
<tr>
<td>Propagation.MANDATORY</td>
<td>ï¼ˆmandatoryï¼šå¼ºåˆ¶æ€§ï¼‰å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</td>
</tr>
<tr>
<td>Propagation.REQUIRES_NEW</td>
<td>è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸ç®¡å¤–éƒ¨æ–¹æ³•æ˜¯å¦å¼€å¯äº‹åŠ¡ï¼ŒPropagation.REQUIRES_NEW ä¿®é¥°çš„å†…éƒ¨æ–¹æ³•ä¼šæ–°å¼€å¯è‡ªå·±çš„äº‹åŠ¡ï¼Œä¸”å¼€å¯çš„äº‹åŠ¡ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ‰°ã€‚</td>
</tr>
<tr>
<td>Propagation.NOT_SUPPORTED</td>
<td>ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚</td>
</tr>
<tr>
<td>Propagation.NEVER</td>
<td>ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</td>
</tr>
<tr>
<td>Propagation.NESTED</td>
<td>å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªäº‹åŠ¡ä½œä¸ºå½“å‰äº‹åŠ¡çš„åµŒå¥—äº‹åŠ¡æ¥è¿è¡Œï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™è¯¥å–å€¼ç­‰ä»·äº PROPAGATION_REQUIREDã€‚</td>
</tr>
</tbody></table>
<p>æ³¨æ„ï¼š<code>SpringBootTest</code> é‡Œé¢çš„ <code>@Test</code> æ–¹æ³•æ·»åŠ  <code>@Transactional</code> æ‰§è¡Œä¸ç¬¦åˆé¢„æœŸ</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Windowsåˆ é™¤ç³»ç»Ÿç»„ä»¶</title>
    <url>/2024/08/09/Windows%E5%88%A0%E9%99%A4%E7%B3%BB%E7%BB%9F%E7%BB%84%E4%BB%B6/</url>
    <content><![CDATA[<p>ä»¥ç®¡ç†å‘˜è¿è¡ŒPowerShell</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Get-AppxPackage</span> <span class="literal">-allusers</span> | <span class="built_in">Select</span> Name,PackageFullName</span><br><span class="line"><span class="built_in">Get-AppxPackage</span> Microsoft.YourPhone <span class="literal">-AllUsers</span> | <span class="built_in">Remove-AppxPackage</span></span><br><span class="line"> <span class="built_in">get-appxpackage</span> <span class="literal">-allusers</span> *crossdevice* | <span class="built_in">remove-appxpackage</span>   </span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windowsç¦ç”¨åˆ«åcurl</title>
    <url>/2024/08/14/Windows%E7%A6%81%E7%94%A8%E5%88%AB%E5%90%8Dcurl/</url>
    <content><![CDATA[<p>ç¼–è¾‘ç”¨æˆ·é…ç½®æ–‡ä»¶<br>æ·»åŠ </p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">remove-item</span> alias:<span class="built_in">curl</span></span><br></pre></td></tr></table></figure>

<p>Windows 11é»˜è®¤æ˜¯5.1ç‰ˆæœ¬çš„PowerShellï¼Œä¸æ”¯æŒ <code>Remove-Alias</code>å‘½ä»¤</p>
 <a href="/2024/08/02/%E5%85%B3%E4%BA%8E-Gradle-%E5%9C%A8-Powershell%E7%BB%88%E7%AB%AF-%E4%B9%B1%E7%A0%81%E7%9A%84%E9%97%AE%E9%A2%98/" title="å…³äº Gradle åœ¨ Powershellç»ˆç«¯ ä¹±ç çš„é—®é¢˜">å…³äº Gradle åœ¨ Powershellç»ˆç«¯</a>]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>nginx 403 æ’æŸ¥åŠç›¸å…³çŸ¥è¯†é“¾æ¥</title>
    <url>/2024/08/01/nginx-403-%E6%8E%92%E6%9F%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E9%93%BE%E6%8E%A5/</url>
    <content><![CDATA[<ol>
<li>æƒé™é“¾è·¯æ£€æŸ¥<ul>
<li>é»˜è®¤ç”¨æˆ·<code>www-data</code>æ˜¯å¦æœ‰ä¿®æ”¹ï¼Œè®¾ç½®çš„ç”¨æˆ·æ˜¯å¦æœ‰å¯¹åº”ç›®å½•çš„ç›¸åº”æƒé™ã€‚ </li>
<li>ç›¸å…³ç”¨æˆ·ï¼ˆæˆ–ç¨‹åºï¼‰æ˜¯å¦ä¹Ÿæœ‰å¯¹åº”ç›®å½•çš„æƒé™</li>
</ul>
</li>
<li>æ˜¯å¦æœ‰ <code>index</code>æ–‡ä»¶</li>
<li><code>SELinux</code>çŠ¶æ€æ£€æŸ¥</li>
</ol>
<p>å‚è€ƒ:</p>
<ul>
<li><a href="https://github.com/dunwu/nginx-tutorial">Nginx æç®€æ•™ç¨‹</a></li>
<li><a href="https://www.cnblogs.com/zakun/p/nginx-vhost.html">nginx å•åŸŸåå¤šç«™ç‚¹é…ç½®</a></li>
<li><a href="https://nginx.org/">nginxå®˜ç½‘</a></li>
<li><a href="https://www.cnblogs.com/cheyaoyao/p/17836522.html">ä½¿ç”¨ Hexo æ­å»ºä¸ªäººåšå®¢å¹¶éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨</a></li>
</ul>
<ol>
<li><p>å½“è®¿é—®çš„ <code>uri</code> æœ€åä¸å¸¦æ–œæ æ—¶ï¼Œä¾‹å¦‚ <code>http://localhost/product</code> ï¼Œä¼šå…ˆæŸ¥æ‰¾ <code>product</code> æ–‡ä»¶ï¼Œå­˜åœ¨å°±è¿”å›ï¼›è‹¥å­˜åœ¨ <code>product</code> æ–‡ä»¶å¤¹ï¼Œä¼šåœ¨æœ«å°¾åŠ ä¸Šä¸€ä¸ªæ–œæ å¹¶äº§ç”Ÿ 301 è·³è½¬ã€‚</p>
</li>
<li><p>å½“è®¿é—®çš„ <code>uri</code> æœ€åå¸¦æ–œæ æ—¶ï¼Œä¾‹å¦‚ <code>http://localhost/product/</code>ï¼ŒæŸ¥æ‰¾ <code>product</code> ä¸‹çš„ <code>index</code> é¡µé¢ï¼Œå­˜åœ¨å°±è¿”å›ï¼›ä¸å­˜åœ¨ä¸”æœªå¼€å¯è‡ªåŠ¨ç´¢å¼•ç›®å½•é€‰é¡¹ï¼ˆ<code>autoindex on</code>ï¼‰åˆ™æŠ¥ 403 é”™è¯¯ã€‚</p>
</li>
</ol>
<p>åœ¨ç¬¬ä¸€ç§æƒ…å†µï¼Œè®¿é—®å¸¦ç›®å½•çš„ <code>url</code> æ—¶ï¼Œå¦‚æœæœ«å°¾ä¸åŠ æ–œæ (<code>&quot;/&quot;</code>)ï¼Œnginx é»˜è®¤ä¼šåŠ ä¸Šæ–œæ ï¼Œå‘ç”Ÿä¸€æ¬¡ <code>301</code> è·³è½¬ï¼Œä½†è¿™ä¸ªé»˜è®¤è¡Œä¸ºåœ¨ <code>nginx</code> å‰ç«¯æœ‰ <code>LB</code> è´Ÿè½½å‡è¡¡å™¨ã€ä¸” <code>LB</code> ç›‘å¬çš„ç«¯å£ä¸ <code>nginx server</code> ç›‘å¬çš„ç«¯å£ä¸åŒæ—¶ä¼šå¯¼è‡´è®¿é—®å‡ºé”™ã€‚</p>
<p><a href="https://xie.infoq.cn/article/7db4e36c1123786578486aa57">nginx åœ¨é‡å®šå‘æ—¶ç«¯å£å‡ºé”™çš„é—®é¢˜</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¿®æ”¹æ–‡ä»¶æ—¶é—´</title>
    <url>/2024/08/03/%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%97%B6%E9%97%B4/</url>
    <content><![CDATA[<h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><ul>
<li>PowerShell</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> t <span class="string">&#x27;01/01/2021 01:01:01&#x27;</span></span><br><span class="line"><span class="comment"># æ—¶é—´æ ¼å¼ï¼šMM/DD/YYYY hh:mm:ss</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$t</span></span><br><span class="line"><span class="built_in">ls</span> <span class="string">&#x27;sysin.txt&#x27;</span> | <span class="built_in">foreach-object</span> &#123; <span class="variable">$_</span>.LastWriteTime = <span class="variable">$t</span>; <span class="variable">$_</span>.CreationTime = <span class="variable">$t</span>; <span class="variable">$_</span>.LastAccessTime = <span class="variable">$t</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥å•ç‹¬è®¾ç½®ä¸åŒçš„æ—¶é—´</span></span><br><span class="line"><span class="built_in">ls</span> <span class="string">&#x27;sysin.txt&#x27;</span> | <span class="built_in">foreach-object</span> &#123; <span class="variable">$_</span>.LastWriteTime = <span class="string">&#x27;01/01/2021 01:01:01&#x27;</span>; <span class="variable">$_</span>.CreationTime = <span class="string">&#x27;02/02/2021 01:01:01&#x27;</span>; <span class="variable">$_</span>.LastAccessTime = <span class="string">&#x27;03/03/2021 01:01:01&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>CMD</li>
</ul>
<figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">#ä¿®æ”¹å½“å‰ç³»ç»Ÿæ—¶é—´</span><br><span class="line"><span class="built_in">date</span> <span class="number">2021</span>/<span class="number">01</span>/<span class="number">01</span></span><br><span class="line"><span class="built_in">time</span> <span class="number">10</span>:<span class="number">59</span>:<span class="number">30</span></span><br><span class="line"></span><br><span class="line">#ä¿®æ”¹æ—¶é—´ï¼Œæ³¨æ„æ˜¯è¿ç»­ä¸¤ä¸ªè‹±æ–‡é€—å·</span><br><span class="line"><span class="built_in">copy</span> æ–‡ä»¶å+,,</span><br><span class="line"></span><br><span class="line">#ä¿®æ”¹æ—¶é—´å’Œè®¿é—®æ—¶é—´ï¼Œæ³¨æ„æ˜¯è¿ç»­ä¸¤ä¸ªè‹±æ–‡å¥å·</span><br><span class="line"><span class="built_in">copy</span> æ–‡ä»¶å+..</span><br><span class="line"></span><br><span class="line"># æ³¨æ„ä¿®æ”¹å®Œæ¯•éœ€è¦å°†ç³»ç»Ÿæ—¶é—´ä¿®æ”¹è¿‡æ¥ï¼ˆæˆ–è€…ç­‰å¾… NTP åŒæ­¥ï¼‰</span><br></pre></td></tr></table></figure>

<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶</span></span><br><span class="line">$ <span class="built_in">touch</span> sysin.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ stat å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶æ—¶é—´ä¿¡æ¯</span></span><br><span class="line">$ <span class="built_in">stat</span> sysin.txt</span><br><span class="line">  File: sysin.txt</span><br><span class="line">  Size: 0               Blocks: 0          IO Block: 4096   regular empty file</span><br><span class="line">Device: fd01h/64769d    Inode: 405343      Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)</span><br><span class="line">Access: 2021-01-08 13:22:44.792348339 +0800</span><br><span class="line">Modify: 2021-01-08 13:22:44.792348339 +0800</span><br><span class="line">Change: 2021-01-08 13:22:44.792348339 +0800</span><br><span class="line"> Birth: -</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹â€œä¿®æ”¹æ—¶é—´â€</span></span><br><span class="line"><span class="built_in">touch</span> -mt YYYYMMDDhhmm filename</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹â€œè®¿é—®æ—¶é—´å’Œä¿®æ”¹æ—¶é—´â€</span></span><br><span class="line"><span class="built_in">touch</span> -t YYYYMMDDhhmm filename</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜</p>
<blockquote>
<p>touch ä¸ä»…å¯ä»¥åˆ›å»ºæ–‡ä»¶ï¼Œè¿˜å¯ä»¥å¯¹å…¶è¿›è¡Œæ—¶é—´çš„ä¸€äº›ä¿®æ”¹<br>æ ¼å¼ï¼štouch å‚æ•° æ–‡ä»¶å<br>å‚æ•°ï¼š<br>-a: ä¿®æ”¹è®¿é—®æ—¶é—´ï¼Œæˆ– â€“time&#x3D;atime æˆ– â€“time&#x3D;access æˆ– â€“time&#x3D;use<br>-c: æˆ– â€“no-creatï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¸åˆ›å»ºæ–‡ä»¶<br>-d: ä½¿ç”¨æŒ‡å®šçš„æ—¥æœŸæ—¶é—´ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ ¼å¼<br>-m: æˆ– â€“time&#x3D;mtime æˆ– â€“time&#x3D;modifyï¼Œæ”¹å˜ä¿®æ”¹æ—¶é—´<br>-r: æŠŠæŒ‡å®šçš„æ–‡ä»¶æ—¥æœŸæ›´è®¾æˆå’Œå‚è€ƒæ–‡æ¡£æˆ–ç›®å½•æ—¥æœŸç›¸åŒçš„æ—¶é—´<br>-t: ä½¿ç”¨æŒ‡å®šçš„æ—¥æœŸæ—¶é—´ï¼Œæ ¼å¼ä¸ date æŒ‡ä»¤ç›¸åŒ<br><br>YYYY  å¹´-å››ä½æ•°<br>MM    æœˆ-ä¸¤ä½æ•°<br>DD    æ—¥-ä¸¤ä½æ•°<br>hh    å°æ—¶-ä¸¤ä½æ•°<br>mm    åˆ†é’Ÿ-ä¸¤ä½æ•°</p>
</blockquote>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äº Gradle åœ¨ Powershellç»ˆç«¯ ä¹±ç çš„é—®é¢˜</title>
    <url>/2024/08/02/%E5%85%B3%E4%BA%8E-Gradle-%E5%9C%A8-Powershell%E7%BB%88%E7%AB%AF-%E4%B9%B1%E7%A0%81%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><h3 id="é»˜è®¤æƒ…å†µä¸‹ï¼Œ-åœ¨PowerShell-æ‰§è¡Œ-gradle-build-å¦‚æœä»£ç æœ‰ä¸­æ–‡æ˜¾ç¤ºï¼Œä¼šå‡ºç°ä¹±ç "><a href="#é»˜è®¤æƒ…å†µä¸‹ï¼Œ-åœ¨PowerShell-æ‰§è¡Œ-gradle-build-å¦‚æœä»£ç æœ‰ä¸­æ–‡æ˜¾ç¤ºï¼Œä¼šå‡ºç°ä¹±ç " class="headerlink" title="é»˜è®¤æƒ…å†µä¸‹ï¼Œ åœ¨PowerShell æ‰§è¡Œ gradle build,å¦‚æœä»£ç æœ‰ä¸­æ–‡æ˜¾ç¤ºï¼Œä¼šå‡ºç°ä¹±ç "></a>é»˜è®¤æƒ…å†µä¸‹ï¼Œ åœ¨<code>PowerShell</code> æ‰§è¡Œ <code>gradle build</code>,å¦‚æœä»£ç æœ‰ä¸­æ–‡æ˜¾ç¤ºï¼Œä¼šå‡ºç°ä¹±ç </h3><p>åœ¨æ²¡æœ‰ç‰¹åˆ«è®¾ç½®çš„æƒ…å†µä¸‹ï¼Œä¸è®ºæ˜¯ <code>IntelliJ IDEA</code>è¿˜æ˜¯ <code>gradle init</code>åˆ›å»ºé¡¹ç›®ï¼Œå…¶ä»£ç æ–‡ä»¶é»˜è®¤éƒ½æ˜¯<code>UTF-8</code>ç¼–ç ã€‚<br>è€Œ Windows ç³»ç»Ÿï¼Œåˆ™æ˜¯ <code>GBK</code>ã€<code>GB18030</code>æˆ–è€…æ›´æ—©çš„<code>GB2312</code>ã€‚<br>ä¸¤è€…æ˜¯ä¸ä¸€è‡´çš„ã€‚</p>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<ol>
<li><p>ä¿®æ”¹ç³»ç»Ÿçš„ç¼–ç ä¸º<code>UTF-8</code>,<code>Windows 10</code>å’Œ<code>Windows 11</code>æ”¯æŒã€‚<br>æ­¤æ–¹æ³•æœ€ä¸ºå½»åº•ï¼Œæ–¹ä¾¿ï¼ä½†å½±å“ä¸æ”¯æŒ<code>UTF-8</code>çš„ç¨‹åº;<br>ä¿®æ”¹è·¯å¾„: <code>è®¾ç½®</code>-&gt;<code>æ—¶é—´å’Œè¯­è¨€</code>-&gt;<code>ç®¡ç†è¯­è¨€è®¾ç½®</code>-&gt;<code>é Unicodeç¨‹åºçš„è¯­è¨€</code>-&gt;<code>æ›´æ”¹ç³»ç»ŸåŒºåŸŸè®¾ç½®</code>-&gt;å‹¾é€‰<code>Betaç‰ˆ: ä½¿ç”¨Unicode UTF-8 æä¾›å…¨çƒè¯­è¨€æ”¯æŒ</code>-&gt;<code>ç¡®å®š</code></p>
</li>
<li><p>è°ƒæ•´<code>gradle</code>å‘½ä»¤æ‰§è¡Œçš„<code>JVM</code>ç¯å¢ƒ</p>
<ol>
<li><p><code>IntelliJ IDEA</code>é€šè¿‡<code>Spring Initializr</code>åˆ›å»ºçš„<code>Gradle</code>ç®¡ç†é¡¹ç›®</p>
<ol>
<li>è®¾ç½®<code>Gradle</code>é…ç½®æ–‡ä»¶<code>~/.gradle/gradle.properties</code></li>
</ol>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">org.gradle.jvmargs=-Dfile.encoding=GBK</span><br></pre></td></tr></table></figure>

<ol>
<li>è®¾ç½®ç¯å¢ƒå˜é‡</li>
</ol>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GRADLE_OPTS=-Dfile.encoding=GBK</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡<code>gradle init</code>åˆ›å»ºçš„é¡¹ç›®å’Œ<code>IntelliJ IDEA</code>é€šè¿‡<code>Java</code>æ¨¡ç‰ˆåˆ›å»ºçš„é¡¹ç›®</p>
<ol>
<li>è®¾ç½®<code>Gradle</code>é…ç½®æ–‡ä»¶<code>~/.gradle/gradle.properties</code></li>
</ol>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">org.gradle.jvmargs=-Dfile.encoding=GB2312</span><br></pre></td></tr></table></figure>

<ol>
<li>è®¾ç½®ç¯å¢ƒå˜é‡</li>
</ol>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GRADLE_OPTS=-Dfile.encoding=GBK</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<p>å…¶ä»–è¯´æ˜:</p>
<ol>
<li><code>IntelliJ IDEA</code> è¿è¡Œ <code>gradle</code>,è¯»å–çš„æ˜¯<code>~/.gradle/gradle.properties</code>çš„è®¾ç½®ï¼Œç¯å¢ƒå˜é‡<code>GRADLE_OPTS</code>æ— æ•ˆ</li>
<li>è®¾ç½®ç¯å¢ƒå˜é‡åï¼Œå¦‚æœä½¿ç”¨ <code>IntelliJ IDEA</code> å†…å»ºçš„PowerShellï¼Œéœ€è¦é‡å¯ <code>IntelliJ IDEA</code></li>
<li>è®¾ç½®ç¯å¢ƒå˜é‡<code>$PSDefaultParameterValues</code> å’Œ <code>$OutputEncoding</code>ä¸º<code>UTF-8</code>ï¼Œæ— æ•ˆ;</li>
<li>è¿è¡Œ<code>chcp 65001</code>, åªèƒ½æ”¹å˜ <code>JVM</code> ç¯å¢ƒçš„ <code>stdout</code>è®¾ç½®ï¼Œ<code>native.encoding</code> ä»ç„¶ä¸º <code>GBK</code>,æ— æ•ˆã€‚</li>
<li><code>~/.gradle/gradle.properties</code>ä¸­è®¾ç½®<code>org.gradle.jvmargs=-Dfile.encoding=GBK</code>ï¼Œ å½±å“<code>IntelliJ IDEA</code>å’Œ <code>PowerShell</code>ã€‚å¦‚æœåœ¨ RootProject ä¸‹è®¾ç½® <code>gradle.properties</code> è®¾ç½®ï¼Œ<code>IntelliJ IDEA</code>æ­£å¸¸ï¼Œä½† PowerShellä¸æ­£å¸¸</li>
<li><code>GRADLE_OPTS</code> åªå½±å“ <code>PowerShell</code></li>
<li><a href="https://docs.gradle.org/current/userguide/common_caching_problems.html"><code>Gradle</code>ä¸è·Ÿè¸ªç³»ç»Ÿç¼–ç å’Œç¯å¢ƒå˜é‡çš„å˜åŒ–ã€‚</a></li>
</ol>
<p><code>JVM</code>ä¸€æ—¦è¿è¡Œï¼Œä¸å¯ä¿®æ”¹çš„å±æ€§:</p>
<ol>
<li><code>file.encoding</code></li>
<li><code>user.language</code></li>
<li><code>user.country</code></li>
<li><code>user.variant</code></li>
<li><code>java.io.tmpdir</code></li>
<li><code>javax.net.ssl.keyStore</code></li>
<li><code>javax.net.ssl.keyStorePassword</code></li>
<li><code>javax.net.ssl.keyStoreType</code></li>
<li><code>javax.net.ssl.trustStore</code></li>
<li><code>javax.net.ssl.trustStorePassword</code></li>
<li><code>javax.net.ssl.trustStoreType</code></li>
<li><code>com.sun.management.jmxremote</code></li>
</ol>
<p>åœ¨å¯åŠ¨æ§åˆ¶çš„å±æ€§ä¹Ÿä¸å¯ä¿®æ”¹:</p>
<ol>
<li><code>-Xmx</code></li>
<li><code>-Xms</code></li>
<li><code>-Xbootclasspath</code></li>
<li><code>-ea</code></li>
</ol>
<p><span id="ps1">PowerShellé…ç½®æ–‡ä»¶</span></p>
<p>PowerShell æ§åˆ¶å°æ”¯æŒä»¥ä¸‹åŸºæœ¬é…ç½®æ–‡ä»¶ã€‚ è¿™äº›æ–‡ä»¶è·¯å¾„æ˜¯é»˜è®¤ä½ç½®ã€‚</p>
<ol>
<li>æ‰€æœ‰ç”¨æˆ·ï¼Œæ‰€æœ‰ä¸»æœº<ul>
<li>Windows - $PSHOME\Profile.ps1ã€‚</li>
<li>Linux - &#x2F;opt&#x2F;microsoft&#x2F;powershell&#x2F;7&#x2F;profile.ps1</li>
<li>macOS - &#x2F;usr&#x2F;local&#x2F;microsoft&#x2F;powershell&#x2F;7&#x2F;profile.ps1</li>
</ul>
</li>
<li>æ‰€æœ‰ç”¨æˆ·ï¼Œå½“å‰ä¸»æœº<ul>
<li>Windows - $PSHOME\Microsoft.PowerShell_profile.ps1ã€‚</li>
<li>Linux - &#x2F;opt&#x2F;microsoft&#x2F;powershell&#x2F;7&#x2F;Microsoft.PowerShell_profile.ps1</li>
<li>macOS - &#x2F;usr&#x2F;local&#x2F;microsoft&#x2F;powershell&#x2F;7&#x2F;Microsoft.PowerShell_profile.ps1</li>
</ul>
</li>
<li>å½“å‰ç”¨æˆ·ï¼Œæ‰€æœ‰ä¸»æœº<ul>
<li>Windows - $HOME\Documents\PowerShell\Profile.ps1ã€‚</li>
<li>Linux - ~&#x2F;.config&#x2F;powershell&#x2F;profile.ps1</li>
<li>macOS - ~&#x2F;.config&#x2F;powershell&#x2F;profile.ps1</li>
</ul>
</li>
<li>å½“å‰ç”¨æˆ·ï¼Œå½“å‰ä¸»æœº<ul>
<li>Windows - $HOME\Documents\PowerShell\Microsoft.PowerShell_profile.ps1ã€‚</li>
<li>Linux - ~&#x2F;.config&#x2F;powershell&#x2F;Microsoft.PowerShell_profile.ps1</li>
<li>macOS - ~&#x2F;.config&#x2F;powershell&#x2F;Microsoft.PowerShell_profile.ps1</li>
</ul>
</li>
</ol>
<p>èµ„æ–™:</p>
<ol>
<li><a href="https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_character_encoding?view=powershell-7.4#%E6%9B%B4%E6%94%B9%E9%BB%98%E8%AE%A4%E7%BC%96%E7%A0%81">æ›´æ”¹é»˜è®¤ç¼–ç </a></li>
<li><a href="https://learn.microsoft.com/zh-tw/powershell/module/microsoft.powershell.core/about/about_profiles?view=powershell-7.4">PowerShell Profiles</a></li>
<li><a href="https://www.codenong.com/cs106124420/">æ·±å…¥æµ…å‡ºäº†è§£Javaç¨‹åºä¸­çš„ä¹±ç </a></li>
</ol>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gradle</tag>
        <tag>PowerShell</tag>
      </tags>
  </entry>
  <entry>
    <title>æŠ•æœºå¸‚åœºçš„å®šå¾‹ä¹‹æ³¨å®šç»å¤§å¤šæ•°äººäºé’±</title>
    <url>/2024/08/03/%E6%8A%95%E6%9C%BA%E5%B8%82%E5%9C%BA%E7%9A%84%E5%AE%9A%E5%BE%8B%E4%B9%8B%E6%B3%A8%E5%AE%9A%E7%BB%9D%E5%A4%A7%E5%A4%9A%E6%95%B0%E4%BA%BA%E4%BA%8F%E9%92%B1/</url>
    <content><![CDATA[<ul>
<li>çœ‹å¯¹</li>
<li>åšå¯¹</li>
<li>åšæŒ</li>
</ul>
<h3 id="å¦‚ä½•çœ‹å¯¹"><a href="#å¦‚ä½•çœ‹å¯¹" class="headerlink" title="å¦‚ä½•çœ‹å¯¹"></a>å¦‚ä½•çœ‹å¯¹</h3><ol>
<li>ç”Ÿæ´»å¸¸è¯†</li>
<li>æŠ€æœ¯åˆ†æ</li>
<li>åŸºæœ¬é¢</li>
<li>èµ„é‡‘é¢</li>
</ol>
<h3 id="è½»ä»“ã€é•¿çº¿ã€å¤šå“ç§å¯¹å†²"><a href="#è½»ä»“ã€é•¿çº¿ã€å¤šå“ç§å¯¹å†²" class="headerlink" title="è½»ä»“ã€é•¿çº¿ã€å¤šå“ç§å¯¹å†²"></a>è½»ä»“ã€é•¿çº¿ã€å¤šå“ç§å¯¹å†²</h3><ol>
<li>è½»ä»“ï¼Œç”¨ç°è´§çš„æ€è·¯åšæœŸè´§ï¼Œ2å€ä»¥å†…æ æ†</li>
<li>é•¿çº¿ï¼Œåªåšä»Aç‚¹åˆ°Bç‚¹çš„ç¡®å®šæ€§è¡Œæƒ…</li>
<li>å¤šå“ç§å¯¹å†²ï¼ŒåŠ å¤§æ•´ä½“æ æ†ï¼Œåˆ†æ•£é£é™©</li>
<li>æŠ•èµ„çš„åŸåˆ™ï¼šç®€å•ã€é£é™©æ”¶ç›Šæ¯”</li>
</ol>
<h3 id="åšå¯¹ä¸ºä»€ä¹ˆè¿™ä¹ˆéš¾"><a href="#åšå¯¹ä¸ºä»€ä¹ˆè¿™ä¹ˆéš¾" class="headerlink" title="åšå¯¹ä¸ºä»€ä¹ˆè¿™ä¹ˆéš¾"></a>åšå¯¹ä¸ºä»€ä¹ˆè¿™ä¹ˆéš¾</h3><ul>
<li>ä¸èƒ½è½»ä»“ï¼Œåæ˜ çš„æ˜¯äººæ€§ä¸­è´ªå©ªçš„ä¸€é¢</li>
<li>ä¸èƒ½æ­¢æŸï¼Œåæ˜ çš„æ˜¯äººæ€§ä¸­ææƒ§å¤±è´¥å’Œå­˜åœ¨ä¾¥å¹¸å¿ƒç†çš„ä¸€é¢</li>
<li>ä¸èƒ½é•¿çº¿æ“ä½œï¼Œåæ˜ çš„æ˜¯ç¼ºä¹è€å¿ƒå’Œè´ªå©ªï¼Œä¼å›¾æŠ“ä½å¸‚åœºæ‰€æœ‰æ³¢åŠ¨çš„ä¸€é¢</li>
<li>ä¸èƒ½é¡ºåŠ¿æ“ä½œï¼Œåæ˜ çš„æ˜¯äººæ€§æŠ„åº•æ‘¸é«˜çš„ä¸€å¢æƒ…æ„¿</li>
<li>å¥½çš„äº¤æ˜“è¿‡ç¨‹åº”è¯¥æ˜¯ä¸€ä¸ªè½»æ¾ã€æ„‰å¿«çš„è¿‡ç¨‹</li>
</ul>
]]></content>
      <categories>
        <category>æŠ•æœº</category>
      </categories>
      <tags>
        <tag>æŠ•æœº</tag>
      </tags>
  </entry>
  <entry>
    <title>Aç±»å’ŒBç±»äº’ç›¸å¼•ç”¨çš„è§£é‡Š</title>
    <url>/2024/07/31/A%E7%B1%BB%E5%92%8CB%E7%B1%BB%E4%BA%92%E7%9B%B8%E5%BC%95%E7%94%A8%E7%9A%84%E8%A7%A3%E9%87%8A/</url>
    <content><![CDATA[<h4 id="Question"><a href="#Question" class="headerlink" title="Question:"></a>Question:</h4><p>2 C# classes contain each other as a member<br>I have two c# classes A,B.</p>
<p>And the code is something like this</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line">Class A</span><br><span class="line">&#123;</span><br><span class="line">     B object1;</span><br><span class="line">     <span class="built_in">bool</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Class B       </span><br><span class="line">&#123;     </span><br><span class="line">    A object2;        </span><br><span class="line">    <span class="built_in">bool</span> y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Is this even possible? If it is what does this mean? A has object of B which has object of Aâ€¦. it can go on..</p>
<h4 id="Answer"><a href="#Answer" class="headerlink" title="Answer:"></a>Answer:</h4><blockquote>
<p>Is this even possible?<br>Sure, it is possible - you can confirm it by compiling.<br>If it is what does this mean? A has object of B which has object of Aâ€¦. it can go on..</p>
</blockquote>
<p>To understand this, you need to understand difference between value types (struct) and reference types (class).</p>
<p>You can think of struct like single plain piece of memory. All fields in struct are just placed one by one. If some of these fields are also structs, then all fields of that â€˜childâ€™ struct should be placed inside that plain memory piece of â€˜parentâ€™ struct, and so on. So when you declare value-type variable, you are knowing for sure, exactly, how each and every fields of such struct will be aligned in one memory piece. And with struct it is not possible to have cases like you mentioned, when A has field of B which has field of A etc.</p>
<p>Reference types (classes) are different type of thing. When you operate with value of reference type, you operate with actually reference to some memory piece. You can think of reference (while it is not exactly true, but really simplifies things) as just integer number. So whenever you use reference type variable, regardless itâ€™s type, you just use itâ€™s reference, some int value. Class members itself created in separate memory pieces. So all you have with references in your case - itâ€™s something like this:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">A =&gt; B</span><br><span class="line">B =&gt; A</span><br></pre></td></tr></table></figure>

<p>Or, something like this</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">A &lt;=&gt; B</span><br></pre></td></tr></table></figure>

<p>Nothing wrong with such definition, you have two objects which reference each other, like parent knowing its child, and child knowing its parent.</p>
<p>It is possible because class A should not keep all fields of class B - it just have a reference (integer number) to some other object.</p>
<p>CLR and compiler helps you with identifying types of that references, but basically case of classes referencing each other is the same as classes references just some other classes.</p>
<p>One more significant difference between struct and class - when you declare value type variable, you are actually creating it, reserving memory for it etc; when you declare reference type variable, you are actually creating reference, which will be initialized as null reference, thus referencing nowhere. So itâ€™s easy to create instances of class A and class B - theres fields just reference nowhere; but itâ€™s impossible to create such structs A and B, as you would have to create everything at once, which is impossible with limited time and memory.</p>
<p>And small experiment to prove it all. Consider two cases. First like the one in question:</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Class_A</span> &#123; <span class="keyword">public</span> Class_B b; &#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Class_B</span> &#123; <span class="keyword">public</span> Class_A a; &#125;</span><br></pre></td></tr></table></figure>
<p>It compiles without issues.<br>And second similar to first, but with structs:</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> Struct_A &#123; <span class="keyword">public</span> Struct_B b; &#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> Struct_B &#123; <span class="keyword">public</span> Struct_A a; &#125;</span><br></pre></td></tr></table></figure>
<p>First one compiles without issues, second one fails with error:</p>
<blockquote>
<p>CS0523: Struct member â€˜Struct_A.bâ€™ of type â€˜Struct_Bâ€™ causes a cycle in the struct layout</p>
</blockquote>
<blockquote>
<blockquote>
<p>What would happen if we had initializers that instantiated a new instance of each member? I am guessing it would compile fine, but we would get a stackoverflow exception at runtime, right?<br>â€“ Boluc Papuccuoglu Mar 18 â€˜14 at 18:54</p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>If you mean constructor, then sure, itâ€™s recursion like A:.ctor() -&gt; B:.ctor() -&gt; A:.ctor -&gt; â€¦ etc, which is pure SO. As any recursion it will be compiled OK, as itâ€™s up to developer to stop it when required. Basically it is what Iâ€™m trying to describe - when you need to â€˜plain outâ€™ whole chain at once, then it is not possible; if you can create objects first, and then create relations for them (like for graph with cycles, first create vertexes of graph, then assign edge relations between them) - then it is absolutely â€˜legalâ€™ and possible. </p>
</blockquote>
</blockquote>
<p>åœ¨C++çš„ç±»å®šä¹‰ä¸­ï¼Œæ˜¯ä¸èƒ½å¤Ÿåœ¨ç±»ä¸­å®šä¹‰è‡ªèº«ç±»çš„å¯¹è±¡çš„ï¼Œä½†æ˜¯å¯ä»¥å®šä¹‰è‡ªèº«ç±»çš„æŒ‡é’ˆå¯¹è±¡å’Œå¼•ç”¨ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:<span class="built_in">A</span> ()</span><br><span class="line">  &#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Constructor method.&quot;</span>&lt;&lt;endl;</span><br><span class="line">  &#125;;</span><br><span class="line">  A a;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> A aaaaa;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä»£ç ç¼–è¯‘æç¤ºé”™è¯¯ï¼Œaâ€™ : uses â€˜Aâ€™,which is being definedã€‚å¦‚æœæŠŠaæ¢æˆ*aå°±å¯ä»¥äº†ã€‚</p>
<p>è€Œjavaå°±å¯ä»¥åœ¨ç±»ä¸­å®šä¹‰è‡ªèº«ç±»çš„å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">a</span>&#123;</span><br><span class="line">  <span class="keyword">public</span> a aa;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„ä»£ç å¯ä»¥é¡ºåˆ©ç¼–è¯‘ï¼Œä½†æ˜¯å¦‚æœåœ¨å®šä¹‰çš„æ—¶å€™åˆ›å»ºäº†å¯¹è±¡å®ä¾‹ï¼Œåˆ™ä¹Ÿä¼šç¼–è¯‘å¤±è´¥çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">a</span>&#123;</span><br><span class="line">  <span class="keyword">public</span> a aa ï¼ <span class="keyword">new</span> <span class="title class_">a</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æç¤ºé”™è¯¯ï¼š</p>
<blockquote>
<p>Exception in thread â€œmainâ€java.lang.StackOverflowError at test1$abc.<init>(test1.java:4)<br>å¾ˆæ˜æ˜¾ï¼Œå †æ ˆæº¢å‡ºäº†ã€‚</p>
</blockquote>
<p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå…¶å®ä»¥ä¸Šé—®é¢˜çš„æœ¬è´¨æ˜¯ä¸€è‡´çš„ï¼Œå°±æ˜¯æ˜¯åˆ›å»ºå¯¹è±¡å®ä¾‹çš„æ—¶æœºé—®é¢˜ã€‚</p>
<p>åœ¨C++ä¸­ï¼Œåœ¨å®šä¹‰å¯¹è±¡çš„æ—¶å€™å°±åˆ›å»ºäº†å¯¹è±¡çš„å®ä¾‹ï¼Œå³åˆ†é…äº†å¯¹è±¡çš„å†…å­˜ç©ºé—´ã€‚åœ¨javaä¸­ï¼Œåªæœ‰è°ƒç”¨newçš„æ–¹æ³•æ‰èƒ½åˆ›å»ºå¯¹è±¡çš„å®ä¾‹ï¼Œåœ¨å†…å­˜ä¸­åˆ†é…å¯¹è±¡çš„ç©ºé—´ã€‚æ‰€ä»¥ï¼Œå¦‚æœåœ¨å®šä¹‰çš„æ—¶å€™å°±å®šä¹‰è‡ªèº«ç±»çš„å¯¹è±¡ï¼Œå°±ä¼šå¯¼è‡´é€’å½’åˆ›å»ºå¯¹è±¡çš„ç°è±¡ï¼Œåˆ›å»ºäº†å¯¹è±¡aaï¼Œå› ä¸ºaaæ˜¯ä¸€ä¸ªAç±»çš„å®ä¾‹ï¼Œé‚£ä¹ˆaaä¸­è¿˜æœ‰ä¸€ä¸ªaaå¯¹è±¡ï¼Œè¿˜è¦åˆ›å»ºä¸€ä¸ªaaå¯¹è±¡ï¼Œä¸ºå…¶åˆ†é…å†…å­˜â€¦â€¦â€¦â€¦ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´é€’å½’åˆ›å»ºå¯¹è±¡ï¼Œç»“æœå°±æ˜¯å†…å­˜è¢«æ¶ˆè€—æ®†å°½ã€‚å½“ç„¶ï¼Œè¿™æ ·çš„è®¾è®¡æœ¬èº«ä¹Ÿä¸åˆç†ã€‚</p>
<p>åœ¨JAVAä¸­ï¼Œå¯¹è±¡åªæœ‰åœ¨newæ—¶æ‰èƒ½åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œæ‰€ä»¥ç±»ä¸­å¯ä»¥å®šä¹‰è‡ªèº«ç±»çš„å¯¹è±¡ã€‚å¦‚æœæŠŠä¸Šä¾‹ä¿®æ”¹æˆä»¤ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œåˆ™ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">a</span>&#123;</span><br><span class="line">  <span class="keyword">public</span> b bb ï¼ <span class="keyword">new</span> <span class="title class_">b</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„ä»£ç æ˜¯å¯ä»¥ç¼–è¯‘å¹¶è¿è¡Œçš„ã€‚<br>ä½†å¦‚æœåœ¨javaçš„ç±»ä¸­ç”¨newåˆ›å»ºè‡ªèº«çš„å¯¹è±¡æ—¶ï¼Œå°†å…¶å£°æ˜ä¸ºstaticåˆ™æ˜¯å¯ä»¥çš„ã€‚è¿™æ˜¯å› ä¸ºstaticæˆå‘˜åªåœ¨ç±»çš„å¯¹è±¡è¢«åˆ›å»ºæˆ–ç±»çš„é™æ€æˆå‘˜ï¼ˆæ–¹æ³•ï¼‰è¢«è°ƒç”¨æ—¶è¿›è¡Œä¸€æ¬¡åˆå§‹åŒ–ï¼Œå…¶åå³å†ä¸åˆ›å»ºå’Œåˆå§‹åŒ–ã€‚</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;a=<span class="subst">&#123;A.a&#125;</span>  b=<span class="subst">&#123;B.b&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">A</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> a &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = B.b + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">B</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> b &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = A.a + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡º:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a=2  b=1</span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">   &#123;</span><br><span class="line">       <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">       &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">           Console.WriteLine(<span class="string">$&quot;b=<span class="subst">&#123;B.b&#125;</span>  a=<span class="subst">&#123;A.a&#125;</span>&quot;</span>);</span><br><span class="line">           <span class="comment">//Console.WriteLine($&quot;a=&#123;A.a&#125;  b=&#123;B.b&#125;&quot;);</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">b=2  a=1</span><br></pre></td></tr></table></figure>
<p>å‚è€ƒ:<br><a href="https://stackoverflow.com/questions/22477984/2-c-sharp-classes-contain-each-other-as-a-member">2 C# classes contain each other as a member</a><br><a href="https://blog.csdn.net/xijiaoda_liuhao/article/details/6823408">ç±»ä¸­å®šä¹‰è‡ªèº«ç±»å¯¹è±¡</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>C#å•æ–‡ä»¶å¯æ‰§è¡Œç¨‹åºå‘å¸ƒ</title>
    <url>/2024/07/30/C-%E5%8D%95%E6%96%87%E4%BB%B6%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%A8%8B%E5%BA%8F%E5%8F%91%E5%B8%83/</url>
    <content><![CDATA[<ul>
<li><p>1 Create a new HelloWorld app: <code>HelloWorld$ dotnet new console</code></p>
</li>
<li><p>2 Framework Dependent Publish</p>
<ul>
<li>Normal publish: <code>dotnet publish</code><ul>
<li>Published files: <code>HelloWorld.exe, HelloWorld.dll, HelloWorld.deps.json, HelloWorld.runtimeconfig.json, HelloWorld.pdb</code></li>
</ul>
</li>
<li>Single-file publish: <code>dotnet publish -r win-x64 --self-contained=false /p:PublishSingleFile=true</code><ul>
<li>Published files: <code>HelloWorld.exe, HelloWorld.pdb</code></li>
</ul>
</li>
</ul>
</li>
<li><p>3 Self-Contained Publish</p>
<ul>
<li>Normal publish: <code>dotnet publish -r win-x64</code><ul>
<li>Published files: <code>HelloWorld.exe, HelloWorld.pdb, and 224 more files</code></li>
</ul>
</li>
<li>Single-file publish Linux: <code>dotnet publish -r linux-x64 /p:PublishSingleFile=true</code><ul>
<li>Published files: <code>HelloWorld, HelloWorld.pdb</code></li>
</ul>
</li>
<li>Single-file publish Windows: <code>dotnet publish -r win-x64 /p:PublishSingleFile=true</code><ul>
<li>Published files: <code>HelloWorld.exe, HelloWorld.pdb, coreclr.dll, clrjit.dll, clrcompression.dll, mscordaccore.dll</code></li>
</ul>
</li>
<li>Single-file publish Windows with Extraction: <code>dotnet publish -r win-x64 /p:PublishSingleFile=true /p:IncludeNativeLibrariesForSelfExtract=true</code><ul>
<li>Published files: <code>HelloWorld.exe, HelloWorld.pdb</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a href="https://github.com/dotnet/designs/blob/main/accepted/2020/single-file/design.md">Single-file Publish</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>C#å®ç°XMLå£°æ˜ä¸ºUTF-8</title>
    <url>/2024/07/30/C-%E5%AE%9E%E7%8E%B0XML%E5%A3%B0%E6%98%8E%E4%B8%BAUTF-8/</url>
    <content><![CDATA[<h3 id="ä¸€ã€é¦–å…ˆæ·»åŠ è¾…åŠ©ç±»StringWriterWithEncoding"><a href="#ä¸€ã€é¦–å…ˆæ·»åŠ è¾…åŠ©ç±»StringWriterWithEncoding" class="headerlink" title="ä¸€ã€é¦–å…ˆæ·»åŠ è¾…åŠ©ç±»StringWriterWithEncoding"></a>ä¸€ã€é¦–å…ˆæ·»åŠ è¾…åŠ©ç±»StringWriterWithEncoding</h3><p>å› StringWriteré»˜è®¤ä¸ºUnicodeç (å³UTF-16),ä¸”æ— Encodingç±»å‹å‚æ•°çš„æ„é€ å‡½æ•°</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title">StringWriterWithEncoding</span> : <span class="title">StringWriter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> Encoding encoding;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StringWriterWithEncoding</span>() : <span class="title">this</span>(<span class="params">Encoding.UTF8</span>)</span> &#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StringWriterWithEncoding</span>(<span class="params">Encoding encoding</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.encoding = encoding;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> Encoding Encoding &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> encoding; &#125; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="äºŒã€åºåˆ—åŒ–ã€ååºåˆ—åŒ–"><a href="#äºŒã€åºåˆ—åŒ–ã€ååºåˆ—åŒ–" class="headerlink" title="äºŒã€åºåˆ—åŒ–ã€ååºåˆ—åŒ–"></a>äºŒã€åºåˆ—åŒ–ã€ååºåˆ—åŒ–</h3><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">XMLHelper</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åºåˆ—åŒ–</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;obj&quot;&gt;</span>å¯¹è±¡<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">Serializer</span>&lt;<span class="title">T</span>&gt;(<span class="params">T obj</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        StringWriterWithEncoding result = <span class="keyword">new</span> StringWriterWithEncoding(Encoding.UTF8);</span><br><span class="line">        XmlSerializer xmlSerializer = <span class="keyword">new</span> XmlSerializer(<span class="keyword">typeof</span>(T));</span><br><span class="line"></span><br><span class="line">        XmlWriterSettings xmlWriterSettings = <span class="keyword">new</span> XmlWriterSettings()</span><br><span class="line">        &#123;</span><br><span class="line">            Encoding = Encoding.UTF8,</span><br><span class="line">            Indent = <span class="literal">false</span></span><br><span class="line">            <span class="comment">//    Indent = true,                //è·å–æˆ–è®¾ç½®æŒ‡ç¤ºæ˜¯å¦ç¼©è¿›å…ƒç´ çš„å€¼</span></span><br><span class="line">            <span class="comment">//    IndentChars = &quot;    &quot;,         //ä½¿ç”¨æ­¤è®¾ç½®æ—¶ Indent å±æ€§è®¾ç½®ä¸º trueã€‚è·å–æˆ–è®¾ç½®ç¼©è¿›æ—¶è¦ä½¿ç”¨çš„å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line">            <span class="comment">//    NewLineChars = &quot;\r\n&quot;,        //è·å–æˆ–è®¾ç½®è¦ç”¨äºæ¢è¡Œç¬¦çš„å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line">            <span class="comment">//    OmitXmlDeclaration = true;    //ä¸ç”Ÿæˆå£°æ˜å¤´  </span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">using</span> (XmlWriter xmlWriter = XmlWriter.Create(result, xmlWriterSettings))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// å¼ºåˆ¶æŒ‡å®šå‘½åç©ºé—´ï¼Œè¦†ç›–é»˜è®¤çš„å‘½åç©ºé—´</span></span><br><span class="line">            <span class="comment">// è‹¥ä¸æŒ‡å®šå‘½åç©ºé—´ï¼Œä½¿ç”¨xmlSerializer.Serialize(xmlWriter, obj);åˆ™æ ¹ç›®å½•å¦‚ä¸‹</span></span><br><span class="line">            <span class="comment">// &lt;purchaseStateQuery xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;</span></span><br><span class="line">            <span class="comment">// &lt;stock_id&gt;261753&lt;/stock_id&gt;&lt;owner_id&gt;201888&lt;/owner_id&gt;&lt;/purchaseStateQuery&gt;  </span></span><br><span class="line">            XmlSerializerNamespaces namespaces = <span class="keyword">new</span> XmlSerializerNamespaces();</span><br><span class="line">            namespaces.Add(<span class="built_in">string</span>.Empty, <span class="built_in">string</span>.Empty);</span><br><span class="line">            xmlSerializer.Serialize(xmlWriter, obj, namespaces);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//æ­¤å¥å¤šä½™</span></span><br><span class="line">            <span class="comment">//xmlWriter.Close();</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result.ToString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ååºåˆ—åŒ–</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;xml&quot;&gt;</span>XMLå­—ç¬¦ä¸²<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">Deserialize</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> xml</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (StringReader sr = <span class="keyword">new</span> StringReader(xml))</span><br><span class="line">        &#123;</span><br><span class="line">            XmlSerializer xmldes = <span class="keyword">new</span> XmlSerializer(<span class="keyword">typeof</span>(T));</span><br><span class="line">            <span class="keyword">return</span> (T)xmldes.Deserialize(sr);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ååºåˆ—åŒ–</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;xml&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">Deserialize</span>&lt;<span class="title">T</span>&gt;(<span class="params">Stream stream</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        XmlSerializer xmldes = <span class="keyword">new</span> XmlSerializer(<span class="keyword">typeof</span>(T));</span><br><span class="line">        <span class="keyword">return</span> (T)xmldes.Deserialize(stream);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¸‰ã€åºåˆ—åŒ–å¯¹è±¡XMLå±æ€§è®¾ç½®"><a href="#ä¸‰ã€åºåˆ—åŒ–å¯¹è±¡XMLå±æ€§è®¾ç½®" class="headerlink" title="ä¸‰ã€åºåˆ—åŒ–å¯¹è±¡XMLå±æ€§è®¾ç½®"></a>ä¸‰ã€åºåˆ—åŒ–å¯¹è±¡XMLå±æ€§è®¾ç½®</h3><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">[<span class="meta">XmlRoot(<span class="string">&quot;cats&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CatCollection</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">XmlArray(<span class="string">&quot;items&quot;</span>),XmlArrayItem(<span class="string">&quot;item&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> Cat[] Cats &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">[<span class="meta">XmlRoot(<span class="string">&quot;cat&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Cat</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//å®šä¹‰Colorå±æ€§çš„åºåˆ—åŒ–ä¸ºcatèŠ‚ç‚¹çš„å±æ€§</span></span><br><span class="line">    [<span class="meta">XmlAttribute(<span class="string">&quot;color&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Color &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è¦æ±‚ä¸åºåˆ—åŒ–Speedå±æ€§</span></span><br><span class="line">    [<span class="meta">XmlIgnore</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Speed &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¾ç½®Sayingå±æ€§åºåˆ—åŒ–ä¸ºXmlå­å…ƒç´ </span></span><br><span class="line">    [<span class="meta">XmlElement(<span class="string">&quot;saying&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Saying &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å››ã€åŠ¨æ€ç”Ÿæˆçš„ç¨‹åºé›†-MSDN-XmlSerializer-Class-å¾…æ˜ç™½ï¼Ÿï¼Ÿï¼Ÿ"><a href="#å››ã€åŠ¨æ€ç”Ÿæˆçš„ç¨‹åºé›†-MSDN-XmlSerializer-Class-å¾…æ˜ç™½ï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="å››ã€åŠ¨æ€ç”Ÿæˆçš„ç¨‹åºé›†([MSDN](XmlSerializer Class)) (å¾…æ˜ç™½ï¼Ÿï¼Ÿï¼Ÿ)"></a>å››ã€åŠ¨æ€ç”Ÿæˆçš„ç¨‹åºé›†([MSDN](XmlSerializer Class)) (å¾…æ˜ç™½ï¼Ÿï¼Ÿï¼Ÿ)</h3><p>ä¸ºäº†æé«˜æ€§èƒ½ï¼ŒXML åºåˆ—åŒ–åŸºç¡€ç»“æ„åŠ¨æ€ç”Ÿæˆè¦åºåˆ—åŒ–å’Œååºåˆ—åŒ–æŒ‡å®šçš„ç±»å‹çš„ç¨‹åºé›†ã€‚ åŸºç¡€ç»“æ„æŸ¥æ‰¾å¹¶é‡ç”¨è¿™äº›ç¨‹åºé›†ã€‚ ä»…å½“ä½¿ç”¨ä¸‹é¢çš„æ„é€ å‡½æ•°æ—¶ï¼Œä¼šå‡ºç°æ­¤è¡Œä¸ºï¸°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">XmlSerializer.XmlSerializer(Type)</span><br><span class="line">XmlSerializer.XmlSerializer(Type,â€‚String)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ‚¨ä½¿ç”¨ä»»ä½•å…¶ä»–æ„é€ å‡½æ•°ï¼ŒåŒä¸€ç¨‹åºé›†çš„å¤šä¸ªç‰ˆæœ¬ç”Ÿæˆï¼Œå¹¶æ°¸è¿œä¸ä¼šå¸è½½ï¼Œè¿™å°†å¯¼è‡´å†…å­˜æ³„æ¼å’Œæ€§èƒ½ä½ä¸‹ã€‚<br>æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å‰é¢æåˆ°çš„ä¸¤ä¸ªæ„é€ å‡½æ•°ä¹‹ä¸€ã€‚ å¦åˆ™ï¼Œå¿…é¡»ç¼“å­˜ä¸­çš„ç¨‹åºé›† Hashtable, ï¼Œå¦‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºã€‚</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">Hashtable serializers = <span class="keyword">new</span> Hashtable();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Use the constructor that takes a type and XmlRootAttribute.</span></span><br><span class="line">XmlSerializer s = <span class="keyword">new</span> XmlSerializer(<span class="keyword">typeof</span>(MyClass), myRoot);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Implement a method named GenerateKey that creates unique keys </span></span><br><span class="line"><span class="comment">// for each instance of the XmlSerializer. The code should take </span></span><br><span class="line"><span class="comment">// into account all parameters passed to the XmlSerializer </span></span><br><span class="line"><span class="comment">// constructor.</span></span><br><span class="line"><span class="built_in">object</span> key = GenerateKey(<span class="keyword">typeof</span>(MyClass), myRoot);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Check the local cache for a matching serializer.</span></span><br><span class="line">XmlSerializer ser = (XmlSerializer)serializers[key];</span><br><span class="line"><span class="keyword">if</span> (ser == <span class="literal">null</span>) </span><br><span class="line">&#123;</span><br><span class="line">    ser = <span class="keyword">new</span> XmlSerializer(<span class="keyword">typeof</span>(MyClass), myRoot);</span><br><span class="line">    <span class="comment">// Cache the serializer.</span></span><br><span class="line">    serializers[key] = ser;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Use the serializer to serialize, or deserialize.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>HTTPè¯·æ±‚XMLå°è£…</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HttpHelper</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="keyword">private</span> <span class="keyword">readonly</span> IHttpClientFactory _clientFactory;</span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">HttpHelper</span>(<span class="params">IHttpClientFactory clientFactory</span>)</span></span><br><span class="line">       &#123;</span><br><span class="line">           _clientFactory = clientFactory;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;T&gt; <span class="title">ActionAsync</span>(<span class="params">HttpRequestMessage httpRequestMessage</span>)</span></span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">var</span> client = _clientFactory.CreateClient();</span><br><span class="line">           <span class="keyword">var</span> response = <span class="keyword">await</span> client.SendAsync(httpRequestMessage);</span><br><span class="line">           <span class="keyword">if</span> (response.IsSuccessStatusCode)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">var</span> resultStr = <span class="keyword">await</span> response.Content.ReadAsStringAsync();</span><br><span class="line">               <span class="keyword">return</span> XMLHelper&lt;T&gt;.Deserialize(resultStr);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span></span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="literal">default</span>(T);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">       <span class="comment"><span class="doctag">///</span> è¿”å›åŸå­—ç¬¦ä¸²ï¼Œç”¨äºè°ƒè¯•</span></span><br><span class="line">       <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">       <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;httpRequestMessage&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">       <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;<span class="built_in">string</span>&gt; <span class="title">ActionForStringAsync</span>(<span class="params">HttpRequestMessage httpRequestMessage</span>)</span></span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">var</span> client = _clientFactory.CreateClient();</span><br><span class="line">           <span class="keyword">var</span> response = <span class="keyword">await</span> client.SendAsync(httpRequestMessage);</span><br><span class="line">           <span class="keyword">if</span> (response.IsSuccessStatusCode)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStringAsync();</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span></span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="built_in">string</span>.Empty;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>å¤‡æ³¨ï¼šæœ¬æ–‡å‚è€ƒäº†</p>
<p><a href="http://www.cnblogs.com/yukaizhao/archive/2011/07/22/xml-serialization.html">XmlSerializer å¯¹è±¡çš„Xmlåºåˆ—åŒ–å’Œååºåˆ—åŒ–</a><br><a href="https://blog.csdn.net/lilinoscar/article/details/21027319">C#ç”Ÿæˆã€è§£æxmlæ–‡ä»¶ä»¥åŠå¤„ç†æŠ¥é”™åŸå› </a><br><a href="https://msdn.microsoft.com/zh-cn/library/system.xml.serialization.xmlserializer(v=vs.110).aspx">XmlSerializer ç±»</a><br><a href="https://msdn.microsoft.com/zh-cn/library/system.xml.xmlwritersettings_properties(v=vs.110).aspx">XmlWriterSettings å±æ€§</a><br><a href="https://stackoverflow.com/questions/42583299/xmlwriter-encoding-utf-8-using-stringwriter-in-c-sharp">XmlWriter encoding UTF-8 using StringWriter in C#</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>C#æ­£åˆ™è¡¨è¾¾å¼ä»‹ç»</title>
    <url>/2024/07/30/C-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%BB%8B%E7%BB%8D/</url>
    <content><![CDATA[<p>Regex ç±»è¡¨ç¤ºä¸å¯å˜ï¼ˆåªè¯»ï¼‰çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚å®ƒè¿˜åŒ…å«å„ç§é™æ€æ–¹æ³•ï¼Œå…è®¸åœ¨ä¸æ˜¾å¼åˆ›å»ºå…¶ä»–ç±»çš„å®ä¾‹çš„æƒ…å†µä¸‹ä½¿ç”¨å…¶ä»–æ­£åˆ™è¡¨è¾¾å¼ç±»ã€‚</p>
<p><strong>æ­£åˆ™è¡¨è¾¾å¼åŸºç¡€æ¦‚è¿°</strong><br>ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼</p>
<p>åœ¨ç¼–å†™å­—ç¬¦ä¸²çš„å¤„ç†ç¨‹åºæ—¶ï¼Œç»å¸¸ä¼šæœ‰æŸ¥æ‰¾ç¬¦åˆæŸäº›å¤æ‚è§„åˆ™çš„å­—ç¬¦ä¸²çš„éœ€è¦ã€‚æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯ç”¨äºæè¿°è¿™äº›è§„åˆ™çš„å·¥å…·ã€‚æ¢å¥è¯è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯è®°å½•æ–‡æœ¬è§„åˆ™çš„ä»£ç ã€‚<br>é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨WINDOWSæŸ¥æ‰¾æ–‡ä»¶æ—¶ï¼Œä¼šä½¿ç”¨é€šé…ç¬¦ï¼ˆ*å’Œ?ï¼‰ã€‚å¦‚æœä½ æƒ³æŸ¥æ‰¾æŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰Wordæ–‡æ¡£æ—¶ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨*.docè¿›è¡ŒæŸ¥æ‰¾ï¼Œåœ¨è¿™é‡Œï¼Œ*å°±è¢«è§£é‡Šä¸ºä»»æ„å­—ç¬¦ä¸²ã€‚å’Œé€šé…ç¬¦ç±»ä¼¼ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯ç”¨æ¥è¿›è¡Œæ–‡æœ¬åŒ¹é…çš„å·¥å…·ï¼Œåªä¸è¿‡æ¯”èµ·é€šé…ç¬¦ï¼Œå®ƒèƒ½æ›´ç²¾ç¡®åœ°æè¿°ä½ çš„éœ€æ±‚â€”â€”å½“ç„¶ï¼Œä»£ä»·å°±æ˜¯æ›´å¤æ‚ã€‚</p>
<h3 id="ä¸€ã€C-æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·æ¨¡å¼"><a href="#ä¸€ã€C-æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·æ¨¡å¼" class="headerlink" title="ä¸€ã€C#æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·æ¨¡å¼"></a>ä¸€ã€C#æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·æ¨¡å¼</h3><style>
table th:first-of-type {
    width: 100px;
}
</style>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>\</td>
<td>å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ª å‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™nâ€™ åŒ¹é…å­—ç¬¦ â€œnâ€ã€‚â€™\nâ€™ åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚åºåˆ— â€™\â€™ åŒ¹é… â€œ\â€ è€Œ â€œ(â€ åˆ™åŒ¹é… â€œ(â€œ</td>
</tr>
<tr>
<td>^</td>
<td>åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ^ ä¹ŸåŒ¹é… â€™\nâ€™ æˆ– â€™\râ€™ ä¹‹åçš„ä½ç½®</td>
</tr>
<tr>
<td>$</td>
<td>åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ$ ä¹ŸåŒ¹é… â€™\nâ€™ æˆ– â€™\râ€™ ä¹‹å‰çš„ä½ç½®</td>
</tr>
<tr>
<td>*</td>
<td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo* èƒ½åŒ¹é… â€œzâ€ ä»¥åŠ â€œzooâ€ã€‚* ç­‰ä»·äº{0,}</td>
</tr>
<tr>
<td>+</td>
<td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™zo+â€™ èƒ½åŒ¹é… â€œzoâ€ ä»¥åŠ â€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é… â€œzâ€ã€‚+ ç­‰ä»·äº {1,}</td>
</tr>
<tr>
<td>?</td>
<td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€do(es)?â€ å¯ä»¥åŒ¹é… â€œdoâ€ æˆ– â€œdoesâ€ ä¸­çš„â€doâ€ ã€‚? ç­‰ä»·äº {0,1}</td>
</tr>
<tr>
<td>{n}</td>
<td>n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€™oâ€™ï¼Œä½†æ˜¯èƒ½åŒ¹é… â€œfoodâ€ ä¸­çš„ä¸¤ä¸ª o</td>
</tr>
<tr>
<td>{n,}</td>
<td>n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2,}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€™oâ€™ï¼Œä½†èƒ½åŒ¹é… â€œfooooodâ€ ä¸­çš„æ‰€æœ‰ oã€‚â€™o{1,}â€™ ç­‰ä»·äº â€™o+â€™ã€‚â€™o{0,}â€™ åˆ™ç­‰ä»·äº â€™o*â€™</td>
</tr>
<tr>
<td>{n,m}</td>
<td>m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n &lt;&#x3D; mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{1,3}â€ å°†åŒ¹é… â€œfoooooodâ€ ä¸­çš„å‰ä¸‰ä¸ª oã€‚â€™o{0,1}â€™ ç­‰ä»·äº â€™o?â€™ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼</td>
</tr>
<tr>
<td>?</td>
<td>å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ (*, +, ?, {n}, {n,}, {n,m}) åé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éè´ªå©ªçš„ã€‚éè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸² â€œooooâ€ï¼Œâ€™o+?â€™ å°†åŒ¹é…å•ä¸ª â€œoâ€ï¼Œè€Œ â€™o+â€™ å°†åŒ¹é…æ‰€æœ‰ â€™oâ€™</td>
</tr>
<tr>
<td>.</td>
<td>åŒ¹é…é™¤ â€œ\nâ€ ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬ â€™\nâ€™ åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨è±¡ â€™[.\n]â€™ çš„æ¨¡å¼</td>
</tr>
<tr>
<td>(pattern)</td>
<td>åŒ¹é… pattern å¹¶è·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€è·å–çš„åŒ¹é…å¯ä»¥ä»äº§ç”Ÿçš„ Matches é›†åˆå¾—åˆ°ï¼Œåœ¨VBScript ä¸­ä½¿ç”¨ SubMatches é›†åˆï¼Œåœ¨JScript ä¸­åˆ™ä½¿ç”¨ $0â€¦$9 å±æ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ â€™(â€™ æˆ– â€™)â€™</td>
</tr>
<tr>
<td>(?:pattern)</td>
<td>åŒ¹é… pattern ä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨ â€œæˆ–â€ å­—ç¬¦ (</td>
</tr>
<tr>
<td>(?&#x3D;pattern)</td>
<td>æ­£å‘é¢„æŸ¥ï¼Œåœ¨ä»»ä½•åŒ¹é… pattern çš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€™Windows (?&#x3D;95</td>
</tr>
<tr>
<td>(?!pattern)</td>
<td>è´Ÿå‘é¢„æŸ¥ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é… pattern çš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚â€™Windows (?!95</td>
</tr>
<tr>
<td>x</td>
<td>y</td>
</tr>
<tr>
<td>[xyz]</td>
<td>å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€™[abc]â€™ å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„ â€™aâ€™</td>
</tr>
<tr>
<td>[^xyz]</td>
<td>è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€™[^abc]â€™ å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„â€™pâ€™</td>
</tr>
<tr>
<td>[a-z]</td>
<td>å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™[a-z]â€™ å¯ä»¥åŒ¹é… â€™aâ€™ åˆ° â€™zâ€™ èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦</td>
</tr>
<tr>
<td>[^a-z]</td>
<td>è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™[^a-z]â€™ å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨ â€™aâ€™ åˆ° â€™zâ€™ èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦</td>
</tr>
<tr>
<td>\b</td>
<td>åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œ â€™er\bâ€™ å¯ä»¥åŒ¹é…â€neverâ€ ä¸­çš„ â€™erâ€™ï¼Œä½†ä¸èƒ½åŒ¹é… â€œverbâ€ ä¸­çš„ â€™erâ€™</td>
</tr>
<tr>
<td>\B</td>
<td>åŒ¹é…ç”± x æŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \cM åŒ¹é…ä¸€ä¸ª Control-M æˆ–å›è½¦ç¬¦ã€‚x çš„å€¼å¿…é¡»ä¸º A-Z æˆ– a-z ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°† c è§†ä¸ºä¸€ä¸ªåŸä¹‰çš„ â€™câ€™ å­—ç¬¦</td>
</tr>
<tr>
<td>\d</td>
<td>åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº [0-9]</td>
</tr>
<tr>
<td>\D</td>
<td>åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº [^0-9]</td>
</tr>
<tr>
<td>\f</td>
<td>åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº \x0c å’Œ \cL</td>
</tr>
<tr>
<td>\n</td>
<td>åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº \x0a å’Œ \cJ</td>
</tr>
<tr>
<td>\r</td>
<td>åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº \x0d å’Œ \cM</td>
</tr>
<tr>
<td>\s</td>
<td>åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº [ \f\n\r\t\v]</td>
</tr>
<tr>
<td>\S</td>
<td>åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº [^ \f\n\r\t\v]</td>
</tr>
<tr>
<td>\t</td>
<td>åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \x09 å’Œ \cI</td>
</tr>
<tr>
<td>\v</td>
<td>åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \x0b å’Œ \cK</td>
</tr>
<tr>
<td>\w</td>
<td>åŒ¹é…åŒ…æ‹¬ä¸‹åˆ’çº¿çš„ä»»ä½•å•è¯å­—ç¬¦ã€‚ç­‰ä»·äºâ€™[A-Za-z0-9_]â€™</td>
</tr>
<tr>
<td>\W</td>
<td>åŒ¹é…ä»»ä½•éå•è¯å­—ç¬¦ã€‚ç­‰ä»·äº â€™[^A-Za-z0-9_]â€™</td>
</tr>
<tr>
<td>\xn</td>
<td>åŒ¹é… nï¼Œå…¶ä¸­ n ä¸ºåå…­è¿›åˆ¶è½¬ä¹‰å€¼ã€‚åå…­è¿›åˆ¶è½¬ä¹‰å€¼å¿…é¡»ä¸ºç¡®å®šçš„ä¸¤ä¸ªæ•°å­—é•¿ã€‚ä¾‹å¦‚ï¼Œâ€™\x41â€™ åŒ¹é… â€œAâ€ã€‚â€™\x041â€™ åˆ™ç­‰ä»·äº â€™\x04â€™ &amp; â€œ1â€ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ ASCII ç¼–ç </td>
</tr>
<tr>
<td>\num</td>
<td>åŒ¹é… numï¼Œå…¶ä¸­ num æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ‰€è·å–çš„åŒ¹é…çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€™(.)\1â€™ åŒ¹é…ä¸¤ä¸ªè¿ç»­çš„ç›¸åŒå­—ç¬¦</td>
</tr>
<tr>
<td>\n</td>
<td>æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ \n ä¹‹å‰è‡³å°‘ n ä¸ªè·å–çš„å­è¡¨è¾¾å¼ï¼Œåˆ™ n ä¸ºå‘åå¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ n ä¸ºä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼</td>
</tr>
<tr>
<td>\nm</td>
<td>æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ \nm ä¹‹å‰è‡³å°‘æœ‰ nm ä¸ªè·å¾—å­è¡¨è¾¾å¼ï¼Œåˆ™ nm ä¸ºå‘åå¼•ç”¨ã€‚å¦‚æœ \nm ä¹‹å‰è‡³å°‘æœ‰ n ä¸ªè·å–ï¼Œåˆ™ n ä¸ºä¸€ä¸ªåè·Ÿæ–‡å­— m çš„å‘åå¼•ç”¨ã€‚å¦‚æœå‰é¢çš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè‹¥ n å’Œ m å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ \nm å°†åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nm</td>
</tr>
<tr>
<td>\nml</td>
<td>å¦‚æœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-3)ï¼Œä¸” m å’Œ l å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nml</td>
</tr>
<tr>
<td>\un</td>
<td>åŒ¹é… nï¼Œå…¶ä¸­ n æ˜¯ä¸€ä¸ªç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„ Unicode å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \u00A9 åŒ¹é…ç‰ˆæƒç¬¦å· (?)</td>
</tr>
<tr>
<td>è¯´æ˜ï¼š</td>
<td></td>
</tr>
<tr>
<td>ç”±äºåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­â€œ \ â€ã€â€œ ? â€ã€â€œ * â€ã€â€œ ^ â€ã€â€œ $ â€ã€â€œ + â€ã€â€œï¼ˆâ€ã€â€œï¼‰â€ã€â€œ</td>
<td>â€ã€â€œ { â€ã€â€œ [ â€ç­‰å­—ç¬¦å·²ç»å…·æœ‰ä¸€å®šç‰¹æ®Šæ„ä¹‰ï¼Œå¦‚æœéœ€è¦ç”¨å®ƒä»¬çš„åŸå§‹æ„ä¹‰ï¼Œåˆ™åº”è¯¥å¯¹å®ƒè¿›è¡Œè½¬ä¹‰ï¼Œä¾‹å¦‚å¸Œ æœ›åœ¨å­—ç¬¦ä¸²ä¸­è‡³å°‘æœ‰ä¸€ä¸ªâ€œ \ â€ï¼Œé‚£ä¹ˆæ­£åˆ™è¡¨è¾¾å¼åº”è¯¥è¿™ä¹ˆå†™ï¼š \+ ã€‚</td>
</tr>
</tbody></table>
<h3 id="äºŒã€åœ¨C-ä¸­ï¼Œè¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ç±»ï¼Œè¯·åœ¨æºæ–‡ä»¶å¼€å¤´å¤„æ·»åŠ ä»¥ä¸‹è¯­å¥ï¼š"><a href="#äºŒã€åœ¨C-ä¸­ï¼Œè¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ç±»ï¼Œè¯·åœ¨æºæ–‡ä»¶å¼€å¤´å¤„æ·»åŠ ä»¥ä¸‹è¯­å¥ï¼š" class="headerlink" title="äºŒã€åœ¨C#ä¸­ï¼Œè¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ç±»ï¼Œè¯·åœ¨æºæ–‡ä»¶å¼€å¤´å¤„æ·»åŠ ä»¥ä¸‹è¯­å¥ï¼š"></a>äºŒã€åœ¨C#ä¸­ï¼Œè¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ç±»ï¼Œè¯·åœ¨æºæ–‡ä»¶å¼€å¤´å¤„æ·»åŠ ä»¥ä¸‹è¯­å¥ï¼š</h3><p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">using System.Text.RegularExpressions;</span><br></pre></td></tr></table></figure>


<h3 id="ä¸‰ã€RegExç±»å¸¸ç”¨çš„æ–¹æ³•"><a href="#ä¸‰ã€RegExç±»å¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="ä¸‰ã€RegExç±»å¸¸ç”¨çš„æ–¹æ³•"></a>ä¸‰ã€RegExç±»å¸¸ç”¨çš„æ–¹æ³•</h3><h4 id="1ã€é™æ€Matchæ–¹æ³•"><a href="#1ã€é™æ€Matchæ–¹æ³•" class="headerlink" title="1ã€é™æ€Matchæ–¹æ³•"></a>1ã€é™æ€Matchæ–¹æ³•</h4><p>ä½¿ç”¨é™æ€Matchæ–¹æ³•ï¼Œå¯ä»¥å¾—åˆ°æºä¸­ç¬¬ä¸€ä¸ªåŒ¹é…æ¨¡å¼çš„è¿ç»­å­ä¸²ã€‚</p>
<p>é™æ€çš„Matchæ–¹æ³•æœ‰2ä¸ªé‡è½½ï¼Œåˆ†åˆ«æ˜¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Regex.Match(string input, string pattern);</span><br><span class="line">Regex.Match(string input, string pattern, RegexOptions options);</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€ç§é‡è½½çš„å‚æ•°è¡¨ç¤ºï¼šè¾“å…¥ã€æ¨¡å¼</p>
<p>ç¬¬äºŒç§é‡è½½çš„å‚æ•°è¡¨ç¤ºï¼šè¾“å…¥ã€æ¨¡å¼ã€<code>RegexOptions</code>æšä¸¾çš„â€œæŒ‰ä½æˆ–â€ç»„åˆã€‚</p>
<p>RegexOptionsæšä¸¾çš„æœ‰æ•ˆå€¼æ˜¯ï¼š</p>
<ul>
<li><code>Complied</code>è¡¨ç¤ºç¼–è¯‘æ­¤æ¨¡å¼</li>
<li><code>CultureInvariant</code>è¡¨ç¤ºä¸è€ƒè™‘æ–‡åŒ–èƒŒæ™¯</li>
<li><code>ECMAScrip</code>tè¡¨ç¤ºç¬¦åˆ<code>ECMAScript</code>ï¼Œè¿™ä¸ªå€¼åªèƒ½å’Œ<code>IgnoreCase</code>ã€<code>Multiline</code>ã€<code>Complied</code>è¿ç”¨</li>
<li><code>ExplicitCapture</code>è¡¨ç¤ºåªä¿å­˜æ˜¾å¼å‘½åçš„ç»„</li>
<li><code>IgnoreCase</code>è¡¨ç¤ºä¸åŒºåˆ†è¾“å…¥çš„å¤§å°å†™</li>
<li><code>IgnorePatternWhitespace</code>è¡¨ç¤ºå»æ‰æ¨¡å¼ä¸­çš„éè½¬ä¹‰ç©ºç™½ï¼Œå¹¶å¯ç”¨ç”±#æ ‡è®°çš„æ³¨é‡Š</li>
<li><code>Multiline</code>è¡¨ç¤ºå¤šè¡Œæ¨¡å¼ï¼Œæ”¹å˜å…ƒå­—ç¬¦<code>^</code>å’Œ<code>$</code>çš„å«ä¹‰ï¼Œå®ƒä»¬å¯ä»¥åŒ¹é…è¡Œçš„å¼€å¤´å’Œç»“å°¾</li>
<li><code>None</code>è¡¨ç¤ºæ— è®¾ç½®ï¼Œæ­¤æšä¸¾é¡¹æ²¡æœ‰æ„ä¹‰</li>
<li><code>RightToLeft</code>è¡¨ç¤ºä»å³å‘å·¦æ‰«æã€åŒ¹é…ï¼Œè¿™æ—¶ï¼Œé™æ€çš„Matchæ–¹æ³•è¿”å›ä»å³å‘å·¦çš„ç¬¬ä¸€ä¸ªåŒ¹é…</li>
<li><code>Singleline</code>è¡¨ç¤ºå•è¡Œæ¨¡å¼ï¼Œæ”¹å˜å…ƒå­—ç¬¦.çš„æ„ä¹‰ï¼Œå®ƒå¯ä»¥åŒ¹é…æ¢è¡Œç¬¦</li>
</ul>
<p>æ³¨æ„ï¼š<code>Multiline</code>åœ¨æ²¡æœ‰<code>ECMAScript</code>çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å’Œ<code>Singleline</code>è¿ç”¨ã€‚<code>Singleline</code>å’Œ<code>Multiline</code>ä¸äº’æ–¥ï¼Œä½†æ˜¯å’Œ<code>ECMAScript</code>äº’æ–¥ã€‚</p>
<h4 id="2ã€é™æ€çš„Matchesæ–¹æ³•"><a href="#2ã€é™æ€çš„Matchesæ–¹æ³•" class="headerlink" title="2ã€é™æ€çš„Matchesæ–¹æ³•"></a>2ã€é™æ€çš„Matchesæ–¹æ³•</h4><p>è¿™ä¸ªæ–¹æ³•çš„é‡è½½å½¢å¼åŒé™æ€çš„Matchæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªMatchCollectionï¼Œè¡¨ç¤ºè¾“å…¥ä¸­ï¼ŒåŒ¹é…æ¨¡å¼çš„åŒ¹é…çš„é›†åˆã€‚</p>
<h4 id="3ã€é™æ€çš„IsMatchæ–¹æ³•"><a href="#3ã€é™æ€çš„IsMatchæ–¹æ³•" class="headerlink" title="3ã€é™æ€çš„IsMatchæ–¹æ³•"></a>3ã€é™æ€çš„IsMatchæ–¹æ³•</h4><p>æ­¤æ–¹æ³•è¿”å›ä¸€ä¸ªboolï¼Œé‡è½½å½¢å¼åŒé™æ€çš„Matchesï¼Œè‹¥è¾“å…¥ä¸­åŒ¹é…æ¨¡å¼ï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚<br>å¯ä»¥ç†è§£ä¸ºï¼šIsMatchæ–¹æ³•ï¼Œè¿”å›Matchesæ–¹æ³•è¿”å›çš„é›†åˆæ˜¯å¦ä¸ºç©ºã€‚</p>
<h3 id="å››ã€RegExç±»çš„å®ä¾‹"><a href="#å››ã€RegExç±»çš„å®ä¾‹" class="headerlink" title="å››ã€RegExç±»çš„å®ä¾‹"></a>å››ã€RegExç±»çš„å®ä¾‹</h3><h4 id="1-å­—ç¬¦ä¸²æ›¿æ¢"><a href="#1-å­—ç¬¦ä¸²æ›¿æ¢" class="headerlink" title="1.å­—ç¬¦ä¸²æ›¿æ¢"></a>1.å­—ç¬¦ä¸²æ›¿æ¢</h4><p>ä¾‹å¦‚æˆ‘æƒ³æŠŠå¦‚ä¸‹æ ¼å¼è®°å½•ä¸­çš„NAMEå€¼ä¿®æ”¹ä¸ºWANG</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">string line=&quot;ADDR=1234;NAME=ZHANG;PHONE=6789&quot;;</span><br><span class="line">Regex reg = new Regex(&quot;NAME=(.+);&quot;);</span><br><span class="line">string modified = reg.Replace(line, &quot;NAME=WANG;&quot;);</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹åçš„å­—ç¬¦ä¸²ä¸º <code>ADDR=1234;NAME=WANG;PHONE=6789</code></p>
<h4 id="2-å­—ç¬¦ä¸²åŒ¹é…"><a href="#2-å­—ç¬¦ä¸²åŒ¹é…" class="headerlink" title="2.å­—ç¬¦ä¸²åŒ¹é…"></a>2.å­—ç¬¦ä¸²åŒ¹é…</h4><p>ä¾‹å¦‚æˆ‘æƒ³æå–åˆšæ‰é‚£æ¡è®°å½•ä¸­çš„NAMEå€¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Regex reg = new Regex(&quot;NAME=(.+);&quot;);</span><br><span class="line">Match match=reg.Match(line);</span><br><span class="line">string value=match.Groups[1].Value;</span><br></pre></td></tr></table></figure>
<h4 id="3ã€Matchå®ä¾‹"><a href="#3ã€Matchå®ä¾‹" class="headerlink" title="3ã€Matchå®ä¾‹"></a>3ã€Matchå®ä¾‹</h4><p>æ–‡æœ¬ä¸­å«æœ‰â€speed&#x3D;30.2mphâ€,éœ€è¦æå–è¯¥é€Ÿåº¦å€¼ï¼Œä½†æ˜¯é€Ÿåº¦çš„å•ä½å¯èƒ½æ˜¯å…¬åˆ¶ä¹Ÿå¯èƒ½æ˜¯è‹±åˆ¶ï¼Œmph,km&#x2F;h,m&#x2F;séƒ½æœ‰å¯èƒ½ï¼›å¦å¤–å‰åå¯èƒ½æœ‰ç©ºæ ¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">string line=&quot;lane=1;speed=30.3mph;acceleration=2.5mph/s&quot;;</span><br><span class="line">Regex reg=new Regex(@&quot;speed\s*=\s*([\d\.]+)\s*(mph|km/h|m/s)*&quot;);</span><br><span class="line">Match match=reg.Match(line);</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆåœ¨è¿”å›çš„ç»“æœä¸­match.Groups[1].Valueå°†å«æœ‰æ•°å€¼ï¼Œè€Œmatch.Groups[2].Valueå°†å«æœ‰å•ä½ã€‚</p>
<h4 id="4ã€å†æ¯”å¦‚ï¼Œè§£ç gpsçš„GPRMCå­—ç¬¦ä¸²ï¼Œåªéœ€"><a href="#4ã€å†æ¯”å¦‚ï¼Œè§£ç gpsçš„GPRMCå­—ç¬¦ä¸²ï¼Œåªéœ€" class="headerlink" title="4ã€å†æ¯”å¦‚ï¼Œè§£ç gpsçš„GPRMCå­—ç¬¦ä¸²ï¼Œåªéœ€"></a>4ã€å†æ¯”å¦‚ï¼Œè§£ç gpsçš„GPRMCå­—ç¬¦ä¸²ï¼Œåªéœ€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Regex reg = new Regex(@&quot;^\$GPRMC,[\d\.]*,[A|V],(-?[0-9]*\.?[0-9]+),([NS]*),(-?[0-9]*\.?[0-9]+),([EW]*),.*&quot;);</span><br></pre></td></tr></table></figure>
<p>å°±å¯ä»¥è·å¾—ç»åº¦ã€çº¬åº¦å€¼ï¼Œè€Œä»¥å‰éœ€è¦å‡ åè¡Œä»£ç ã€‚</p>
<h3 id="äº”ã€System-Text-RegularExpressionså‘½åç©ºé—´çš„è¯´æ˜"><a href="#äº”ã€System-Text-RegularExpressionså‘½åç©ºé—´çš„è¯´æ˜" class="headerlink" title="äº”ã€System.Text.RegularExpressionså‘½åç©ºé—´çš„è¯´æ˜"></a>äº”ã€<code>System.Text.RegularExpressions</code>å‘½åç©ºé—´çš„è¯´æ˜</h3><p>è¯¥åç§°ç©ºé—´åŒ…æ‹¬8ä¸ªç±»ï¼Œ1ä¸ªæšä¸¾ï¼Œ1ä¸ªå§”æ‰˜ã€‚ä»–ä»¬åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><code>Capture</code>: åŒ…å«ä¸€æ¬¡åŒ¹é…çš„ç»“æœï¼›</li>
<li><code>CaptureCollection</code>: Captureçš„åºåˆ—ï¼›</li>
<li><code>Group</code>: ä¸€æ¬¡ç»„è®°å½•çš„ç»“æœï¼Œç”±Captureç»§æ‰¿è€Œæ¥ï¼›</li>
<li><code>GroupCollection</code>ï¼šè¡¨ç¤ºæ•è·ç»„çš„é›†åˆ</li>
<li><code>Match</code>: ä¸€æ¬¡è¡¨è¾¾å¼çš„åŒ¹é…ç»“æœï¼Œç”±Groupç»§æ‰¿è€Œæ¥ï¼›</li>
<li><code>MatchCollection</code>: Matchçš„ä¸€ä¸ªåºåˆ—ï¼›</li>
<li><code>MatchEvaluator</code>: æ‰§è¡Œæ›¿æ¢æ“ä½œæ—¶ä½¿ç”¨çš„å§”æ‰˜ï¼›</li>
<li><code>Regex</code>ï¼šç¼–è¯‘åçš„è¡¨è¾¾å¼çš„å®ä¾‹ã€‚</li>
<li><code>RegexCompilationInfo</code>ï¼šæä¾›ç¼–è¯‘å™¨ç”¨äºå°†æ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘ä¸ºç‹¬ç«‹ç¨‹åºé›†çš„ä¿¡æ¯</li>
<li><code>RegexOptions</code> æä¾›ç”¨äºè®¾ç½®æ­£åˆ™è¡¨è¾¾å¼çš„æšä¸¾å€¼</li>
<li><code>Regex</code>ç±»ä¸­è¿˜åŒ…å«ä¸€äº›é™æ€çš„æ–¹æ³•ï¼š</li>
<li><code>Escape</code>: å¯¹å­—ç¬¦ä¸²ä¸­çš„regexä¸­çš„è½¬ä¹‰ç¬¦è¿›è¡Œè½¬ä¹‰ï¼›</li>
<li><code>IsMatch</code>: å¦‚æœè¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­åŒ¹é…ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼›</li>
<li><code>Match</code>: è¿”å›Matchçš„å®ä¾‹ï¼›</li>
<li><code>Matches</code>: è¿”å›ä¸€ç³»åˆ—çš„Matchçš„æ–¹æ³•ï¼›</li>
<li><code>Replace</code>: ç”¨æ›¿æ¢å­—ç¬¦ä¸²æ›¿æ¢åŒ¹é…çš„è¡¨è¾¾å¼ï¼›</li>
<li><code>Split</code>: è¿”å›ä¸€ç³»åˆ—ç”±è¡¨è¾¾å¼å†³å®šçš„å­—ç¬¦ä¸²ï¼›</li>
<li><code>Unescape</code>:ä¸å¯¹å­—ç¬¦ä¸²ä¸­çš„è½¬ä¹‰å­—ç¬¦è½¬ä¹‰ã€‚<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// è½¬ä¹‰å­—ç¬¦ä¸²ä¸­æ‰€æœ‰æ­£åˆ™ç‰¹æ®Šå­—ç¬¦</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">/// &lt;param name=&quot;input&quot;&gt;ä¼ å…¥å­—ç¬¦ä¸²&lt;/param&gt;</span><br><span class="line">/// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">static string FilterString(string input)</span><br><span class="line">&#123;</span><br><span class="line">    input = input.Replace(&quot;\\&quot;, &quot;\\\\&quot;);//å…ˆæ›¿æ¢â€œ\â€ï¼Œä¸ç„¶åé¢ä¼šå› ä¸ºæ›¿æ¢å‡ºç°å…¶ä»–çš„â€œ\â€</span><br><span class="line">    Regex regex = new Regex(&quot;[\\*\\.\\?\\+\\$\\^\\[\\]\\(\\)\\&#123;\\&#125;\\|\\/]&quot;);</span><br><span class="line">    MatchCollection ms = regex.Matches(input);</span><br><span class="line">    List list = new List();</span><br><span class="line">    foreach (Match item in ms)</span><br><span class="line">    &#123;</span><br><span class="line">        if (list.Contains(item.Value))</span><br><span class="line">            continue;</span><br><span class="line">        input = input.Replace(item.Value, &quot;\\&quot; + item.Value);</span><br><span class="line">        list.Add(item.Value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return input;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>Debianä½¿ç”¨</title>
    <url>/2024/07/30/Debian%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p><strong><code>å°å‹å®‰è£…é•œåƒ</code>å¿…é¡»è”ç½‘ï¼Œç”±äºç½‘ç»œç¯å¢ƒï¼Œå¯èƒ½ç³»ç»Ÿå®‰è£…å‡ºé”™è€Œåˆæ²¡æœ‰æ˜æ˜¾çš„ä¿¡æ¯æç¤ºï¼Œç„¶åå‡ºç°å¥‡æ€ªçš„é—®é¢˜</strong></p>
<ul>
<li>é€‰æ‹©å›½å†…é•œåƒï¼Œå¹¶å¼€å¯ä»£ç†</li>
</ul>
<p><strong>ä½¿ç”¨ DVD é•œåƒå®‰è£…ã€‚</strong></p>
<p><strong>Hyper-Vç½‘ç»œä½¿ç”¨æ–°å»ºçš„å¤–éƒ¨ç½‘ç»œï¼Œ Default Switchå’Œå†…éƒ¨ç½‘ç»œæ€»ä¼šæœ‰å„ç§é—®é¢˜ã€‚</strong></p>
<ul>
<li>å‡ºç°è¿‡ï¼ŒMySQLçš„dockeré•œåƒå†…å­˜è€—å°½é—®é¢˜</li>
</ul>
<h3 id="Debian-è¿›å…¥å•ç”¨æˆ·æ¨¡å¼"><a href="#Debian-è¿›å…¥å•ç”¨æˆ·æ¨¡å¼" class="headerlink" title="Debian è¿›å…¥å•ç”¨æˆ·æ¨¡å¼"></a>Debian è¿›å…¥å•ç”¨æˆ·æ¨¡å¼</h3><p>åœ¨ Grub å¯åŠ¨ç•Œé¢ä¸­æŒ‰  â€œeâ€ è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œåœ¨ä»¥ <code>Linux</code> å¼€å¤´çš„å€’æ•°ç¬¬ä¸‰è¡Œçš„æœ€åæ·»åŠ  <code>init=/bin/bash</code><br>è¿™æ ·ï¼Œå°†ä»¥åªè¯»çš„æ–¹å¼å¯åŠ¨ï¼Œè‡ªåŠ¨è¿›å…¥ <code>root shell</code>ã€‚æ­¤æ—¶ï¼Œå¦‚æœç›´æ¥æ‰§è¡Œç¼–è¾‘ç³»ç»Ÿæ–‡ä»¶ã€é‡å¯ã€å…³æœºç­‰æ“ä½œï¼Œéƒ½ä¼šå‘ŠçŸ¥ä¸å…è®¸ã€‚è¦æƒ³ä¿®æ”¹å†…å®¹ï¼Œæ‰§è¡Œ<code>mount -o remount,rw /</code>å†ç¼–è¾‘æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œ<code>exec /sbin/init</code> è¿›è¡Œç³»ç»Ÿåˆå§‹åŒ–ï¼Œæˆ–è€…æ‰§è¡Œ <code>reboot -f</code> å®Œæˆé‡å¯<br>åœ¨æ²¡æœ‰ç»™ <code>root</code> è®¾ç½®å¯†ç ï¼Œä½¿ç”¨é«˜çº§å¯åŠ¨çš„ <code>recovery mode</code> ä¹Ÿæ— æ³•è¿›å…¥æ‹…ä»»ç»´æŠ¤æ¨¡å¼</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">setparams &#x27;Debian GNU/Linux&#x27;</span><br><span class="line"></span><br><span class="line">    load_video</span><br><span class="line">    insmod gzio</span><br><span class="line">    if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi</span><br><span class="line">    insmod part_gpt</span><br><span class="line">    insmod ext2</span><br><span class="line">    set root=&#x27;hd0, gpt2&#x27;</span><br><span class="line">    if [ x$feature_platform_search_hint = xy ]; then</span><br><span class="line">      search -- no-floppy -- fs-uuid -- set=root -- hint-bios=hd0, gpt2 -- hint-efi=hd0, gpt2 -- hint-baremetal=ahcio, gpt2 f2920743-fc03-4be7-8d82-8dcd398395fc</span><br><span class="line">    else</span><br><span class="line">      search -- no-floppy -- fs-uuid -- set=root f2920743-fc03-4be7-8d82-8dcd398395fc</span><br><span class="line">    fi</span><br><span class="line">    echo &#x27;Loading Linux 6.1.0-37-amd64&#x27;</span><br><span class="line">    linux /boot/vmlinuz-6.1.0-37-amd64 root=UUID=f2920743-fc03-4be7-8d82-8dcd398395fc ro quiet</span><br><span class="line">    echo &#x27;Loading initial ramdisk ...&#x27;</span><br><span class="line">    initrd /boot/initrd. img-6.1.0-37-amd64</span><br></pre></td></tr></table></figure>

<h3 id="sudo-é…ç½®"><a href="#sudo-é…ç½®" class="headerlink" title="sudo é…ç½®"></a>sudo é…ç½®</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo visudo</span><br><span class="line">sudo vi /etc/sudoers</span><br></pre></td></tr></table></figure>

<p>å†…å®¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Allow members of group sudo to execute any command</span><br><span class="line"># %sudo   ALL=(ALL:ALL) ALL</span><br><span class="line">%sudo   ALL=(ALL:ALL) NOPASSWD: ALL</span><br></pre></td></tr></table></figure>

<p>sudo ä¼šæ¸…ç©ºå¤§éƒ¨åˆ†ç¯å¢ƒå˜é‡ï¼ˆåŒ…æ‹¬ä»£ç†è®¾ç½®ï¼‰ä»¥å¢å¼ºå®‰å…¨æ€§</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo env | grep -i proxy</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ·»åŠ  -E å¯ä»¥ç»§æ‰¿ç¯å¢ƒå˜é‡</span></span><br><span class="line">sudo -E curl https://www.google.com</span><br></pre></td></tr></table></figure>

<h3 id="è®¾ç½®é™æ€IP"><a href="#è®¾ç½®é™æ€IP" class="headerlink" title="è®¾ç½®é™æ€IP"></a>è®¾ç½®é™æ€IP</h3><p>å¤‡ä»½ã€ç¼–è¾‘ <code>/etc/network/interfaces</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># This file describes the network interfaces available on your system</span><br><span class="line"># and how to activate them. For more information, see interfaces(5).</span><br><span class="line"></span><br><span class="line">source /etc/network/interfaces.d/*</span><br><span class="line"></span><br><span class="line"># The loopback network interface</span><br><span class="line">auto lo</span><br><span class="line">iface lo inet loopback</span><br><span class="line"></span><br><span class="line"># auto åœ¨ç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™ï¼Œå¯åŠ¨ç½‘ç»œæ¥å£,æ— è®ºç½‘ç»œæ¥å£æœ‰æ— è¿æ¥ã€‚</span><br><span class="line"># å¦‚æœè¯¥æ¥å£é…ç½®äº† DHCPï¼Œåˆ™æ— è®ºæœ‰æ— ç½‘çº¿ï¼Œç³»ç»Ÿéƒ½ä¼š DHCP; å¦‚æœæ²¡æœ‰æ’å…¥ç½‘çº¿ï¼Œåˆ™ç­‰è¯¥æ¥å£è¶…æ—¶åæ‰ä¼šç»§ç»­</span><br><span class="line"></span><br><span class="line"># åªæœ‰å½“å†…æ ¸ä»ç½‘ç»œæ¥å£æ£€æµ‹åˆ°çƒ­æ’æ‹”äº‹ä»¶åï¼ˆæ£€æµ‹åˆ°æœ‰æ¥å…¥ç½‘çº¿ï¼‰ï¼Œæ‰ä¼šå¯ç”¨è¯¥æ¥å£ã€‚</span><br><span class="line"># The primary network interface</span><br><span class="line">allow-hotplug eth0</span><br><span class="line">#iface eth0 inet dhcp</span><br><span class="line"># é™æ€é…ç½® ipv4</span><br><span class="line">iface eth0 inet static</span><br><span class="line">address 192.168.1.5</span><br><span class="line">netmask 255.255.255.0</span><br><span class="line">gateway 192.168.1.1</span><br><span class="line"></span><br><span class="line"># This is an autoconfigured IPv6 interface</span><br><span class="line">iface eth0 inet6 auto</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ <code>/etc/resolv.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nameserver 61.139.2.69</span><br><span class="line">nameserver 218.6.200.139</span><br></pre></td></tr></table></figure>

<p>é‡å¯ç½‘ç»œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># é‡å¯ç½‘ç»œæœåŠ¡ï¼ŒIP æ”¹å˜åï¼Œ è¿œç¨‹ssh ä¼šæ‰ï¼Œç­‰æ”¹å¥½åé‡å¯</span><br><span class="line">sudo systemctl restart networking.service</span><br><span class="line"># è®¾ç½® hostname</span><br><span class="line">sudo hostnamectl set-hostname node1</span><br><span class="line"># åŒæ­¥ ntpæ—¶é—´</span><br><span class="line">sudo apt install systemd-timesyncd</span><br><span class="line">sudo timedatectl set-ntp true</span><br><span class="line">timedatectl status</span><br></pre></td></tr></table></figure>

<h3 id="ç½‘ç»œä»£ç†"><a href="#ç½‘ç»œä»£ç†" class="headerlink" title="ç½‘ç»œä»£ç†"></a>ç½‘ç»œä»£ç†</h3><p>ç¼–è¾‘ <code>/etc/bash.bashrc</code>æˆ–<code>~/.bashrc</code>(VSCodeè¿œç¨‹è¿æ¥ä½¿ç”¨è¯¥é…ç½®ï¼Œéœ€è¦å¦è¡Œè®¾ç½®)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ä½¿ç”¨socket5åè®®æ˜¯ socks5:ï¼Œä¸æ˜¯ socket5:</span><br><span class="line"># å› ä¸º socks5çš„å…¼å®¹æ€§æ²¡æœ‰httpå¥½ï¼Œå»ºè®®ä½¿ç”¨ http</span><br><span class="line">alias set-proxy=&quot;export http_proxy=http://192.168.1.3:10810 &amp;&amp; export https_proxy=http://192.168.1.3:10810 &amp;&amp; export ftp_proxy=http://192.168.1.3:10810 &amp;&amp; export all_proxy=http://192.168.1.3:10810 &amp;&amp; export no_proxy=localhost,127.0.0.1,::1&quot;</span><br><span class="line">alias unset-proxy=&quot;unset http_proxy https_proxy ftp_proxy all_proxy no_proxy&quot;</span><br></pre></td></tr></table></figure>

<h3 id="æ›´æ¢å›½å†…æº"><a href="#æ›´æ¢å›½å†…æº" class="headerlink" title="æ›´æ¢å›½å†…æº"></a>æ›´æ¢å›½å†…æº</h3><h4 id="ä½¿ç”¨å®˜æ–¹å·¥å…·-choose-mirror"><a href="#ä½¿ç”¨å®˜æ–¹å·¥å…·-choose-mirror" class="headerlink" title="ä½¿ç”¨å®˜æ–¹å·¥å…· choose-mirror"></a>ä½¿ç”¨å®˜æ–¹å·¥å…· choose-mirror</h4><p>choose-mirror æ˜¯ Debian å®‰è£…å™¨å†…éƒ¨è°ƒç”¨çš„æ ‡å‡†ç»„ä»¶ï¼›<br>å¯ä»¥åœ¨æœ€å°åŒ–ç³»ç»Ÿä¸Šä½¿ç”¨å®ƒï¼Œé‡æ–°è¿›å…¥å›½å®¶é€‰æ‹© &gt; é•œåƒç«™ç‚¹çš„æµç¨‹ï¼›<br>é€‚ç”¨äºæ²¡æœ‰å›¾å½¢ç•Œé¢ã€ä»…å‘½ä»¤è¡Œç¯å¢ƒä¸‹çš„ä¸»æœºæˆ–è™šæ‹Ÿæœºï¼›</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install choose-mirror</span><br><span class="line">sudo choose-mirror -a amd64 /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<h4 id="ç¼–è¾‘-etc-apt-sources-list"><a href="#ç¼–è¾‘-etc-apt-sources-list" class="headerlink" title="ç¼–è¾‘ /etc/apt/sources.list"></a>ç¼–è¾‘ <code>/etc/apt/sources.list</code></h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list.back</span><br><span class="line">sudo vi /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/debian/">æ¸…åé•œåƒ</a></p>
<h3 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a>SSH</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir ~/.ssh</span><br><span class="line">echo &#x27;ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBFtBh1nAxMNzEZdR6C5qyZI1B/wN2T0ndgPHw7yIHRuilOWsO3mklAAJ7RWAShb8uzZGCqGJmhMQ8ATV6+jlc7I= frank@DESKTOP&#x27; &gt; ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>


<h3 id="å¸¸ç”¨å·¥å…·"><a href="#å¸¸ç”¨å·¥å…·" class="headerlink" title="å¸¸ç”¨å·¥å…·"></a>å¸¸ç”¨å·¥å…·</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤æ‰€æœ‰å·²ä¸‹è½½çš„åŒ…æ–‡ä»¶</span></span><br><span class="line">sudo apt clean</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å–å›æ›´æ–°çš„è½¯ä»¶åŒ…åˆ—è¡¨ä¿¡æ¯</span></span><br><span class="line">sudo apt update</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿›è¡Œä¸€æ¬¡å‡çº§</span></span><br><span class="line">sudo apt upgrade</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ca-certificatesæ”¯æŒhttps</span></span><br><span class="line">sudo apt install curl git ca-certificates</span><br><span class="line"></span><br><span class="line">sudo apt install aria2</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-x 16ï¼šæœ€å¤šä½¿ç”¨ 16 ä¸ªè¿æ¥ä¸‹è½½åŒä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-s 16ï¼šæœ€å¤š 16 ä¸ªæœåŠ¡å™¨æ¥æºï¼ˆé€šå¸¸ç”¨äº Metalink æˆ–åˆ†ç‰‡ï¼‰</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¹¶å‘å¤ªé«˜å¯èƒ½è¢«æœåŠ¡å™¨é™åˆ¶æˆ–å°é”ï¼Œé€šå¸¸ 8ï½16 è¾ƒç¨³å¦¥ã€‚</span></span><br><span class="line">aria2c -x 16 -s 16 https://example.com/file.iso</span><br><span class="line"></span><br><span class="line">sudo apt install vim</span><br><span class="line">vi ~/.vimrc</span><br><span class="line"></span><br><span class="line">set number</span><br><span class="line">syntax on</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£… PowerShellï¼Œé€‚åˆå¤æ‚è„šæœ¬å’Œé…åˆ .NET</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Get the version of Debian</span></span><br><span class="line">cat /etc/os-release</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Download the Microsoft repository GPG keys</span></span><br><span class="line">wget -q https://packages.microsoft.com/config/debian/$VERSION_ID/packages-microsoft-prod.deb</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Register the Microsoft repository GPG keys</span></span><br><span class="line">sudo dpkg -i packages-microsoft-prod.deb</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Delete the Microsoft repository GPG keys file</span></span><br><span class="line">rm packages-microsoft-prod.deb</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Update the list of packages after we added packages.microsoft.com</span></span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt list -a powershell</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é»˜è®¤å®‰è£…æœ€æ–°ç¨³å®šç‰ˆ 7.5.xï¼ŒéLTS</span></span><br><span class="line">sudo apt install powershell=7.4.1-1.deb</span><br><span class="line">sudo apt-mark hold powershell</span><br><span class="line">sudo apt-mark unhold powershell</span><br></pre></td></tr></table></figure>

<ol>
<li><code>sudo apt update</code> å¦‚æœæŠ¥é”™ <code>Certificate verification failed: The certificate is NOT trusted. The certificate issuer is unknown.  Could not handshake: Error in the certificate verification.</code>ï¼Œè¦ä¹ˆæ”¹ç”¨<code>http</code>åè®®ï¼Œæˆ–è€…åˆ›å»º<code>/etc/apt/apt.conf.d/99verify-peer.conf</code>, å¹¶æ·»åŠ å†…å®¹<code>Acquire &#123;https::Verify-Peer false&#125;</code></li>
<li><a href="https://learn.microsoft.com/zh-cn/powershell/scripting/install/install-debian">åœ¨ Debian ä¸Šå®‰è£… PowerShell</a></li>
<li><a href="/2024/07/30/Docker%E4%BD%BF%E7%94%A8/" title="Dockerä½¿ç”¨">Dockerä½¿ç”¨</a></li>
<li><a href="/2024/07/31/%E5%BF%AB%E9%80%9F%E5%88%87%E6%8D%A2Java%E7%89%88%E6%9C%AC/" title="å¿«é€Ÿåˆ‡æ¢Javaç‰ˆæœ¬">å¿«é€Ÿåˆ‡æ¢Javaç‰ˆæœ¬</a></li>
</ol>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerä½¿ç”¨</title>
    <url>/2024/07/30/Docker%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><ol>
<li>docker.io æ˜¯ Debian ç»´æŠ¤çš„ï¼Œ ç‰ˆæœ¬è¾ƒè€</li>
<li>docker-ce æ˜¯å®˜æ–¹ç»´æŠ¤çš„ï¼Œæœ‰æœ€æ–°ç‰ˆ<br>  æŒ‡å®šç‰ˆæœ¬&#x2F;æœ€æ–°ç‰ˆæœ¬å®‰è£…å‚è€ƒdockerå®˜æ–¹æ–‡æ¡£<a href="https://docs.docker.com/engine/install/debian/">Install Docker Engine on Debian</a></li>
</ol>
<p>ç”±äºDockeræœåŠ¡é»˜è®¤ç»‘å®šåˆ°Unix Socketï¼Œè€Œéä¸€ä¸ªTCPç«¯å£ï¼›è€ŒUnix Socketå±äº root,å› æ­¤DockeræœåŠ¡æ€»æ˜¯ä»¥ <code>root</code>ç”¨æˆ·è¿è¡Œï¼Œå…¶ä»–ç”¨æˆ·éœ€è¦ä½¿ç”¨<code>sudo</code>æ¥è®¿é—®ã€‚<br>ä¸ºäº†é¿å…æ¯æ¬¡ä½¿ç”¨<code>sudo</code>æ‰èƒ½æ“ä½œï¼Œå¯ä»¥æ·»åŠ <code>docker</code>ç»„ï¼Œå¹¶å°†å½“å‰ç”¨æˆ·åŠ å…¥<code>docker</code>ç»„,å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…ç³»ç»Ÿç‰ˆæœ¬</span></span><br><span class="line">sudo apt install docker.io -y</span><br></pre></td></tr></table></figure>

<p>è™šæ‹Ÿæœº: éœ€è¦é‡å¯ï¼Œä»¥ç”Ÿæ•ˆ<br>å®ä½“æœº: X Windowé€€å‡ºï¼Œé‡æ–°è¿›å…¥ç”Ÿæ•ˆæˆ–è€…æ‰§è¡Œå‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„</span></span><br><span class="line">sudo usermod -aG docker $USER</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç«‹å³ç”Ÿæ•ˆ</span></span><br><span class="line">newgrp docker</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">éªŒè¯</span></span><br><span class="line">docker version</span><br><span class="line">docker info</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨(äºŒé€‰ä¸€)</span></span><br><span class="line">sudo service docker start</span><br><span class="line">sudo systemctl start docker</span><br></pre></td></tr></table></figure>

<p>å…³äº <code>docker-compose</code></p>
<ul>
<li>æ–°ç‰ˆçš„ <code>docker-ce</code> å°† Docker Compose é›†æˆä¸ºä¸€ä¸ªæ’ä»¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>docker compose</code> å‘½ä»¤ï¼ˆæ³¨æ„ä¸­é—´æ²¡æœ‰æ¨ªæ ï¼‰</li>
<li>è€ç‰ˆçš„éœ€è¦éœ€è¦è‡ªè¡Œå®‰è£…,æœ€æ–°ç‰ˆ<a href="https://github.com/docker/compose">docker-compose</a></li>
<li>å®˜æ–¹ç¤ºä¾‹<a href="https://github.com/docker/awesome-compose">awesome-compose</a></li>
</ul>
<h2 id="è®¾ç½®ä»£ç†"><a href="#è®¾ç½®ä»£ç†" class="headerlink" title="è®¾ç½®ä»£ç†"></a>è®¾ç½®ä»£ç†</h2><p><code>daemon.json</code> vs <code>systemd</code> ç¯å¢ƒå˜é‡</p>
<ul>
<li>æ•ˆæœä¸€æ ·ï¼Œåªæ˜¯å†™æ³•ä¸åŒã€‚å®˜æ–¹æ¨èç”¨ daemon.jsonï¼Œå› ä¸ºæ›´æ¸…æ™°ã€é›†ä¸­ã€‚</li>
</ul>
<h3 id="è®¾ç½®-deemon-json"><a href="#è®¾ç½®-deemon-json" class="headerlink" title="è®¾ç½® deemon.json"></a>è®¾ç½® <code>deemon.json</code></h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/docker/daemon.json</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç¼–è¾‘å¥½åï¼Œé‡æ–°åŠ è½½é…ç½®å¹¶é‡å¯ docker æœåŠ¡</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br><span class="line">docker info | grep -i proxy</span><br></pre></td></tr></table></figure>

<ul>
<li>ä½œç”¨å¯¹è±¡ï¼šDocker å®ˆæŠ¤è¿›ç¨‹ (dockerd)</li>
<li>æœ‰æ•ˆèŒƒå›´ï¼š<ul>
<li>æ‹‰å–é•œåƒ (docker pull),æ¨é€é•œåƒ (docker push),æ„å»ºæ—¶æ‹‰å–åŸºç¡€é•œåƒ (docker build)</li>
<li>ä¸ä¼šå½±å“ä½ å®¹å™¨é‡Œè¿è¡Œçš„åº”ç”¨ï¼ˆæ¯”å¦‚ apt updateã€npm installï¼‰ï¼Œå› ä¸ºå®¹å™¨å†…çš„ç½‘ç»œä»£ç†è¦ä½ è‡ªå·±é…ç½®ã€‚</li>
</ul>
</li>
<li>å®¹å™¨é‡Œçš„ä»£ç†<ul>
<li><code>docker run</code> ä¼ é€’<ul>
<li><code>docker run -e HTTP_PROXY=http://127.0.0.1:3128 -e HTTPS_PROXY=http://127.0.0.1:3128 ubuntu:22.04</code></li>
</ul>
</li>
<li>å†™åœ¨ <code>~/.docker/config.json</code> çš„ <code>proxies</code> éƒ¨åˆ†ï¼Œä¸“é—¨ç»™å®¹å™¨ç¯å¢ƒå˜é‡ç”¨</li>
</ul>
</li>
</ul>
<figure class="highlight json"><figcaption><span>/etc/docker/daemon.json</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;proxies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;http-proxy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://http://192.168.1.3:10810&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;https-proxy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://http://192.168.1.3:10810&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;no-proxy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.example.org,127.0.0.0/8,192.168.0.0/24&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="è®¾ç½®-systemd"><a href="#è®¾ç½®-systemd" class="headerlink" title="è®¾ç½® systemd"></a>è®¾ç½® <code>systemd</code></h3><p><code>systemd unit</code> çš„ proxy è®¾ç½®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">éœ€è¦ root æ‰§è¡Œï¼Œä½œç”¨åŒä¸‹é¢2æ¡å‘½ä»¤ä¸€æ ·</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»ºé…ç½®æ–‡ä»¶</span></span><br><span class="line">sudo -s</span><br><span class="line">systemctl edit docker.service</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»º http-proxy.conf æ–‡ä»¶</span></span><br><span class="line">sudo mkdir -p /etc/systemd/system/docker.service.d</span><br><span class="line">sudo vi /etc/systemd/system/docker.service.d/http-proxy.conf</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br><span class="line">sudo systemctl show --property=Environment docker</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><figcaption><span>/etc/systemd/system/docker.service.d/http-proxy.conf</span></figcaption><table><tr><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment=&quot;HTTP_PROXY=http://192.168.1.3:10810&quot;</span><br><span class="line">Environment=&quot;HTTPS_PROXY=http://192.168.1.3:10810&quot;</span><br></pre></td></tr></table></figure>

<p><a href="https://docs.docker.com/engine/daemon/proxy/">é…ç½®<code>docker</code>æœåŠ¡ä½¿ç”¨ä»£ç†</a></p>
<h2 id="é•œåƒ-image"><a href="#é•œåƒ-image" class="headerlink" title="é•œåƒ(image)"></a>é•œåƒ(image)</h2><p>Dcokerå®˜æ–¹ä»“åº“<a href="https://hub.docker.com/">Docker Hub</a>,å¯èƒ½å›½å†…è®¿é—®å¾ˆæ…¢ä¸”æ–­çº¿ï¼Œå¯ä¿®æ”¹ä¸ºå›½å†…çš„é•œåƒç«™ã€‚<br>é¦–å…ˆæ£€æŸ¥ <code>docker.service</code>ä¸­æ˜¯å¦é…ç½®è¿‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/docker/daemon.json</span><br><span class="line">docker info | grep &#x27;Mirrors&#x27; -A 10</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸€å®šè¦æ‰§è¡Œæ­¤å‘½ä»¤ï¼Œå¦åˆ™ï¼Œå³ä½¿é‡æ–°å¯åŠ¨æœåŠ¡ï¼Œä¹Ÿä¼šæŠ¥é”™</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¯¥å‘½ä»¤æœ‰è¾“å‡ºï¼Œé‚£ä¹ˆè¯·æ‰§è¡Œ <code>$ systemctl cat docker</code> æŸ¥çœ‹ <code>ExecStart=</code> å‡ºç°çš„ä½ç½®ï¼Œä¿®æ”¹å¯¹åº”çš„æ–‡ä»¶å†…å®¹å»æ‰ <code>--registry-mirror</code> å‚æ•°åŠå…¶å€¼ï¼Œå¹¶æŒ‰æ¥ä¸‹æ¥çš„æ­¥éª¤è¿›è¡Œé…ç½®ã€‚<br>ç¼–è¾‘<code>/etc/docker/daemon.json</code></p>
<p><a href="https://github.com/dongyubin/DockerHub">DockerHub å›½å†…åŠ é€Ÿé•œåƒåˆ—è¡¨</a><br>å®¹æ˜“å¤±æ•ˆï¼Œå»ºè®®ä»£ç†</p>
<figure class="highlight plaintext"><figcaption><span>/etc/docker/daemon.json</span></figcaption><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;registry-mirrors&quot;: [</span><br><span class="line">        &quot;https://docker.1ms.run&quot;,</span><br><span class="line">        &quot;https://docker-0.unsee.tech&quot;, // åœ°å€å¿…é¡»ä»¥ httpç­‰ç½‘ç»œåè®®å¼€å¤´</span><br><span class="line">        &quot;https://dockerproxy.net&quot; // æœ€åä¸€ä¸ªåœ°å€åé¢ä¸èƒ½æœ‰&quot;,&quot;,å¦åˆ™dockeræŠ¥é”™ï¼Œä¸èƒ½é‡å¯,å¹¶ä¸”æ²¡æœ‰æ˜æ˜¾çš„é”™è¯¯æç¤º</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker æœåŠ¡çš„è¿è¡ŒçŠ¶æ€</span></span><br><span class="line">sudo systemctl status docker</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker æœåŠ¡æœ¬èº«çš„è¿è¡Œæ—¥å¿—</span></span><br><span class="line">sudo journalctl -u docker  &gt; ~/docker.log</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">debian æ²¡æœ‰æ­¤æ–‡ä»¶ï¼Œæ˜¯å¦éœ€è¦é…ç½®?</span></span><br><span class="line">sudo cat /var/log/docker.log</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æŸä¸ªå®¹å™¨çš„æ‰€æœ‰æ—¥å¿—</span></span><br><span class="line">docker logs [OPTIONS] &lt;CONTAINER&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹å®¹å™¨çš„å®æ—¶æ—¥å¿—</span></span><br><span class="line">docker logs -f &lt;CONTAINER&gt;</span><br><span class="line">docker container logs mysql8lts</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç”¨äºæŸ¥çœ‹æœåŠ¡æˆ–ä»»åŠ¡é›†ç¾¤çš„æ—¥å¿—</span></span><br><span class="line">docker service logs [OPTIONS] SERVICE|TASK</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹ docker ä¸­è¿›ç¨‹èµ„æºæ¶ˆè€—</span></span><br><span class="line">docker stats</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä»¥å®ˆæŠ¤æ€è¿è¡Œ</span></span><br><span class="line">docker run -d -p 8080:8080 hello-world:1.0</span><br><span class="line">docker container run -d  -v /pathOfHost:/home/paddle_out -p 9999:9999 paddle_zh_cn_py-server:v5</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿›å…¥æœåŠ¡æ“ä½œ</span></span><br><span class="line">docker exec -it hello-world:1.0 bash</span><br></pre></td></tr></table></figure>

<h2 id="image"><a href="#image" class="headerlink" title="image"></a>image</h2><p>Docker æŠŠåº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–ï¼Œæ‰“åŒ…åœ¨ image æ–‡ä»¶é‡Œé¢ã€‚åªæœ‰é€šè¿‡è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰èƒ½ç”Ÿæˆ Docker å®¹å™¨ã€‚image æ–‡ä»¶å¯ä»¥çœ‹ä½œæ˜¯å®¹å™¨çš„æ¨¡æ¿ã€‚Docker æ ¹æ® image æ–‡ä»¶ç”Ÿæˆå®¹å™¨çš„å®ä¾‹ã€‚åŒä¸€ä¸ª image æ–‡ä»¶ï¼Œå¯ä»¥ç”Ÿæˆå¤šä¸ªåŒæ—¶è¿è¡Œçš„å®¹å™¨å®ä¾‹ã€‚</p>
<p>image æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å®é™…å¼€å‘ä¸­ï¼Œä¸€ä¸ª image æ–‡ä»¶å¾€å¾€é€šè¿‡ç»§æ‰¿å¦ä¸€ä¸ª image æ–‡ä»¶ï¼ŒåŠ ä¸Šä¸€äº›ä¸ªæ€§åŒ–è®¾ç½®è€Œç”Ÿæˆã€‚ä¸¾ä¾‹æ¥è¯´,åœ¨ Debian çš„ image åŸºç¡€ä¸Šï¼Œå¾€é‡Œé¢åŠ å…¥ Nginx æœåŠ¡å™¨ï¼Œå½¢æˆæ–°çš„ Nginx Server imageã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">library/hello-world æ˜¯ image æ–‡ä»¶åœ¨ä»“åº“é‡Œé¢çš„ä½ç½®</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…¶ä¸­libraryæ˜¯ image æ–‡ä»¶æ‰€åœ¨çš„ç»„</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hello-worldæ˜¯ image æ–‡ä»¶çš„åå­—</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">latest æ˜¯ç‰ˆæœ¬å·</span></span><br><span class="line">docker image pull library/hello-world:latest</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç”±äº Docker å®˜æ–¹æä¾›çš„ image æ–‡ä»¶ï¼Œéƒ½æ”¾åœ¨libraryç»„é‡Œé¢ï¼Œæ‰€ä»¥å®ƒçš„æ˜¯é»˜è®¤ç»„ï¼Œå¯ä»¥çœç•¥ã€‚</span></span><br><span class="line">docker image pull hello-world</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—å‡ºæ‰€æœ‰imageæ–‡ä»¶</span></span><br><span class="line">docker image ls</span><br><span class="line">docker images</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤é•œåƒ</span></span><br><span class="line">docker image rm [imageName/imageId]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯èƒ½å‡ºç°é”™è¯¯ (must be forced) - image is referenced <span class="keyword">in</span> multiple repositories</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿™æ˜¯é•œåƒ ID ç›¸åŒï¼Œä½†æ˜¯å®ƒè¢«å¤šä¸ªæ ‡ç­¾ï¼ˆrepositories/tagsï¼‰å¼•ç”¨</span></span><br><span class="line">docker images --digests | grep &lt;IMAGE_ID&gt;</span><br><span class="line">docker image inspect &lt;IMAGE_ID&gt; --format &#x27;&#123;&#123;.RepoTags&#125;&#125;&#x27;</span><br><span class="line">docker rmi &lt;repo1:tag1&gt; &lt;repo2:tag2&gt;</span><br><span class="line">docker rmi -f &lt;IMAGE_ID&gt;</span><br><span class="line">docker image prune -a</span><br></pre></td></tr></table></figure>

<h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">`docker container run` å‘½ä»¤ä¼šä» image æ–‡ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨å®ä¾‹ã€‚</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…·æœ‰è‡ªåŠ¨æŠ“å– image æ–‡ä»¶çš„åŠŸèƒ½ã€‚å‰é¢çš„docker image pullå‘½ä»¤å¹¶ä¸æ˜¯å¿…éœ€çš„æ­¥éª¤ã€‚</span></span><br><span class="line">docker container run hello-world</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿›å…¥å®¹å™¨äº¤äº’æ‰§è¡Œ</span></span><br><span class="line">docker container run -it debian bash</span><br></pre></td></tr></table></figure>

<h2 id="å®¹å™¨æ–‡ä»¶"><a href="#å®¹å™¨æ–‡ä»¶" class="headerlink" title="å®¹å™¨æ–‡ä»¶"></a>å®¹å™¨æ–‡ä»¶</h2><p>image æ–‡ä»¶ç”Ÿæˆçš„å®¹å™¨å®ä¾‹ï¼Œæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œç§°ä¸ºå®¹å™¨æ–‡ä»¶ã€‚<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦å®¹å™¨ç”Ÿæˆï¼Œå°±ä¼šåŒæ—¶å­˜åœ¨ä¸¤ä¸ªæ–‡ä»¶ï¼š image æ–‡ä»¶å’Œå®¹å™¨æ–‡ä»¶ã€‚<br>è€Œä¸”å…³é—­å®¹å™¨å¹¶ä¸ä¼šåˆ é™¤å®¹å™¨æ–‡ä»¶ï¼Œåªæ˜¯å®¹å™¨åœæ­¢è¿è¡Œè€Œå·²ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—å‡ºæœ¬æœºæ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker container ls</span><br><span class="line">docker ps</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—å‡ºæœ¬æœºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬ç»ˆæ­¢è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker container ls --all</span><br><span class="line">docker ps -a</span><br><span class="line">docker container rm [containerID]</span><br></pre></td></tr></table></figure>

<h2 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h2><p>Dockerfile æ–‡ä»¶æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œç”¨æ¥é…ç½® imageã€‚Docker æ ¹æ® è¯¥æ–‡ä»¶ç”ŸæˆäºŒè¿›åˆ¶çš„ image æ–‡ä»¶ã€‚</p>
<h3 id="dockerignore"><a href="#dockerignore" class="headerlink" title=".dockerignore"></a><code>.dockerignore</code></h3><figure class="highlight ini"><figcaption><span>.dockerignore</span></figcaption><table><tr><td class="code"><pre><span class="line">.git</span><br><span class="line">__pycache__</span><br></pre></td></tr></table></figure>

<h3 id="Dockerfile-1"><a href="#Dockerfile-1" class="headerlink" title="Dockerfile"></a><code>Dockerfile</code></h3><p>Dockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶å†…åŒ…å«äº†ä¸€æ¡æ¡çš„ æŒ‡ä»¤(Instruction)ï¼Œ<br><em><strong>æ¯ä¸€æ¡æŒ‡ä»¤æ„å»ºä¸€å±‚</strong></em>ï¼Œå› æ­¤æ¯ä¸€æ¡æŒ‡ä»¤çš„å†…å®¹ï¼Œå°±æ˜¯æè¿°è¯¥å±‚åº”å½“å¦‚ä½•æ„å»ºã€‚</p>
<p>ç‰¹æ®Šçš„é•œåƒ<code>scratch</code>,è¿™ä¸ªé•œåƒæ˜¯è™šæ‹Ÿçš„æ¦‚å¿µï¼Œå¹¶ä¸å®é™…å­˜åœ¨ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªç©ºç™½çš„é•œåƒã€‚</p>
<ul>
<li>å¦‚æœä½ ä»¥ <code>scratch</code> ä¸ºåŸºç¡€é•œåƒçš„è¯ï¼Œæ„å‘³ç€ä½ ä¸ä»¥ä»»ä½•é•œåƒä¸ºåŸºç¡€ï¼Œæ¥ä¸‹æ¥æ‰€å†™çš„æŒ‡ä»¤å°†ä½œä¸ºé•œåƒç¬¬ä¸€å±‚å¼€å§‹å­˜åœ¨ã€‚</li>
<li>ä¸ä»¥ä»»ä½•ç³»ç»Ÿä¸ºåŸºç¡€ï¼Œç›´æ¥å°†å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶è¿›é•œåƒçš„åšæ³•å¹¶ä¸ç½•è§ï¼Œå¯¹äº Linux ä¸‹é™æ€ç¼–è¯‘çš„ç¨‹åºæ¥è¯´ï¼Œå¹¶ä¸éœ€è¦æœ‰æ“ä½œç³»ç»Ÿæä¾›è¿è¡Œæ—¶æ”¯æŒï¼Œæ‰€éœ€çš„ä¸€åˆ‡åº“éƒ½å·²ç»åœ¨å¯æ‰§è¡Œæ–‡ä»¶é‡Œäº†ï¼Œ</li>
<li>å› æ­¤ç›´æ¥ <code>FROM scratch</code> ä¼šè®©é•œåƒä½“ç§¯æ›´åŠ å°å·§ã€‚</li>
</ul>
<h3 id="RUN"><a href="#RUN" class="headerlink" title="RUN"></a><code>RUN</code></h3><p><code>RUN</code> æŒ‡ä»¤æ˜¯ç”¨æ¥æ‰§è¡Œå‘½ä»¤è¡Œå‘½ä»¤çš„ã€‚</p>
<ol>
<li>shell æ ¼å¼ï¼šRUN &lt;å‘½ä»¤&gt;</li>
<li>exec æ ¼å¼ï¼šRUN [â€œå¯æ‰§è¡Œæ–‡ä»¶â€, â€œå‚æ•°1â€, â€œå‚æ•°2â€]</li>
</ol>
<p>èƒ½ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œç»å¯¹ä¸è¦ç”¨ä¸¤æ¡æ‰§è¡Œã€‚</p>
<ul>
<li><em><strong>æ¯ä¸€æ¡<code>RUN</code>æŒ‡ä»¤æ„å»ºä¸€å±‚, Union FS æ˜¯æœ‰æœ€å¤§å±‚æ•°é™åˆ¶çš„ï¼Œæ¯”å¦‚ AUFSï¼Œæ›¾ç»æ˜¯æœ€å¤§ä¸å¾—è¶…è¿‡ 42 å±‚ï¼Œç°åœ¨æ˜¯ä¸å¾—è¶…è¿‡ 127 å±‚ã€‚</strong></em></li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> debian:stretch</span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">set</span> -x; buildDeps=<span class="string">&#x27;gcc libc6-dev make wget&#x27;</span> \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; apt-get update \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; apt-get install -y <span class="variable">$buildDeps</span> \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; wget -O redis.tar.gz <span class="string">&quot;http://download.redis.io/releases/redis-5.0.3.tar.gz&quot;</span> \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">mkdir</span> -p /usr/src/redis \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; tar -xzf redis.tar.gz -C /usr/src/redis --strip-components=1 \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; make -C /usr/src/redis \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; make -C /usr/src/redis install \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">rm</span> -rf /var/lib/apt/lists/* \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">rm</span> redis.tar.gz \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; <span class="built_in">rm</span> -r /usr/src/redis \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; apt-get purge -y --auto-remove <span class="variable">$buildDeps</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.6</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash"> . /app</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip install -r requirements.txt</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;python&quot;</span>,<span class="string">&quot;app.py&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºimage"><a href="#åˆ›å»ºimage" class="headerlink" title="åˆ›å»ºimage"></a>åˆ›å»ºimage</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‘½ä»¤æœ€åçš„`.`,å«é•œåƒæ„å»ºä¸Šä¸‹æ–‡ï¼ˆContextï¼‰</span></span><br><span class="line">docker image build -t hello-world:1.0 .</span><br></pre></td></tr></table></figure>

<p><code>docker build</code> çš„å·¥ä½œåŸç†</p>
<ul>
<li>Docker åœ¨è¿è¡Œæ—¶åˆ†ä¸º Docker å¼•æ“ï¼ˆä¹Ÿå°±æ˜¯æœåŠ¡ç«¯å®ˆæŠ¤è¿›ç¨‹ï¼‰å’Œå®¢æˆ·ç«¯å·¥å…·ã€‚</li>
<li>Docker çš„å¼•æ“æä¾›äº†ä¸€ç»„ REST APIï¼Œè¢«ç§°ä¸º Docker Remote APIï¼Œ</li>
<li>å¦‚ <code>docker</code> å‘½ä»¤è¿™æ ·çš„å®¢æˆ·ç«¯å·¥å…·ï¼Œåˆ™æ˜¯é€šè¿‡è¿™ç»„ API ä¸ Docker å¼•æ“äº¤äº’ï¼Œä»è€Œå®Œæˆå„ç§åŠŸèƒ½ã€‚</li>
<li>å› æ­¤ï¼Œè™½ç„¶è¡¨é¢ä¸Šæˆ‘ä»¬å¥½åƒæ˜¯åœ¨æœ¬æœºæ‰§è¡Œå„ç§ <code>docker</code> åŠŸèƒ½ï¼Œä½†å®é™…ä¸Šï¼Œä¸€åˆ‡éƒ½æ˜¯ä½¿ç”¨çš„è¿œç¨‹è°ƒç”¨å½¢å¼åœ¨æœåŠ¡ç«¯ï¼ˆDocker å¼•æ“ï¼‰å®Œæˆã€‚</li>
<li>å½“æ„å»ºçš„æ—¶å€™ï¼Œç”¨æˆ·ä¼šæŒ‡å®šæ„å»ºé•œåƒä¸Šä¸‹æ–‡çš„è·¯å¾„ å¦‚<code>.</code>ï¼Œ<code>docker build</code> å‘½ä»¤å¾—çŸ¥è¿™ä¸ªè·¯å¾„åï¼Œä¼šå°†è·¯å¾„ä¸‹çš„æ‰€æœ‰å†…å®¹æ‰“åŒ…ï¼Œç„¶åä¸Šä¼ ç»™ Docker å¼•æ“ã€‚è¿™æ · Docker å¼•æ“æ”¶åˆ°è¿™ä¸ªä¸Šä¸‹æ–‡åŒ…åï¼Œå±•å¼€å°±ä¼šè·å¾—æ„å»ºé•œåƒæ‰€éœ€çš„ä¸€åˆ‡æ–‡ä»¶ã€‚<ul>
<li>å› æ­¤ï¼Œ<code>COPY</code> è¿™ç±»æŒ‡ä»¤ä¸­çš„æºæ–‡ä»¶çš„è·¯å¾„éƒ½æ˜¯ç›¸å¯¹è·¯å¾„ã€‚</li>
<li>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ <code>COPY ../package.json /app</code> æˆ–è€… <code>COPY /opt/xxxx /app</code> æ— æ³•å·¥ä½œçš„åŸå› ï¼Œå› ä¸ºè¿™äº›è·¯å¾„å·²ç»è¶…å‡ºäº†ä¸Šä¸‹æ–‡çš„èŒƒå›´ï¼ŒDocker å¼•æ“æ— æ³•è·å¾—è¿™äº›ä½ç½®çš„æ–‡ä»¶ã€‚</li>
</ul>
</li>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œåº”è¯¥ä¼šå°† <code>Dockerfile</code> ç½®äºä¸€ä¸ªç©ºç›®å½•ä¸‹ï¼Œæˆ–è€…é¡¹ç›®æ ¹ç›®å½•ä¸‹ã€‚<ul>
<li>å¦‚æœè¯¥ç›®å½•ä¸‹æ²¡æœ‰æ‰€éœ€æ–‡ä»¶ï¼Œé‚£ä¹ˆåº”è¯¥æŠŠæ‰€éœ€æ–‡ä»¶å¤åˆ¶ä¸€ä»½è¿‡æ¥ã€‚</li>
<li>å¦‚æœç›®å½•ä¸‹æœ‰äº›ä¸œè¥¿ç¡®å®ä¸å¸Œæœ›æ„å»ºæ—¶ä¼ ç»™ Docker å¼•æ“ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ <code>.gitignore</code> ä¸€æ ·çš„è¯­æ³•å†™ä¸€ä¸ª <code>.dockerignore</code>ï¼Œè¯¥æ–‡ä»¶æ˜¯ç”¨äºå‰”é™¤ä¸éœ€è¦ä½œä¸ºä¸Šä¸‹æ–‡ä¼ é€’ç»™ Docker å¼•æ“çš„ã€‚</li>
</ul>
</li>
<li>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸é¢å¤–æŒ‡å®š <code>Dockerfile</code> çš„è¯ï¼Œä¼šå°†ä¸Šä¸‹æ–‡ç›®å½•ä¸‹çš„åä¸º <code>Dockerfile</code> çš„æ–‡ä»¶ä½œä¸º <code>Dockerfile</code>ã€‚è¿™åªæ˜¯é»˜è®¤è¡Œä¸ºã€‚</li>
<li>å®é™…ä¸Š <code>Dockerfile</code> çš„æ–‡ä»¶åå¹¶ä¸è¦æ±‚å¿…é¡»ä¸º Dockerfileï¼Œè€Œä¸”å¹¶ä¸è¦æ±‚å¿…é¡»ä½äºä¸Šä¸‹æ–‡ç›®å½•ä¸­ï¼Œæ¯”å¦‚å¯ä»¥ç”¨ <code>-f ../Dockerfile.php</code> å‚æ•°æŒ‡å®šæŸä¸ªæ–‡ä»¶ä½œä¸º Dockerfileã€‚</li>
</ul>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">COPY</span><span class="language-bash"> ./package.json /app/</span></span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™å¹¶ä¸æ˜¯è¦å¤åˆ¶æ‰§è¡Œ <code>docker build</code> å‘½ä»¤æ‰€åœ¨çš„ç›®å½•ä¸‹çš„ <code>package.json</code></li>
<li>ä¹Ÿä¸æ˜¯å¤åˆ¶ Dockerfile æ‰€åœ¨ç›®å½•ä¸‹çš„ <code>package.json</code></li>
<li>è€Œæ˜¯ <strong>å¤åˆ¶ä¸Šä¸‹æ–‡(context)ç›®å½•</strong> ä¸‹çš„ <code>package.json</code></li>
</ul>
<p>å…¶å®ƒ <code>docker build</code> çš„ç”¨æ³•</p>
<ul>
<li>ç›´æ¥ç”¨ <code>Git repo</code> è¿›è¡Œæ„å»º</li>
<li>ç”¨ç»™å®šçš„ tar å‹ç¼©åŒ…æ„å»º</li>
<li>ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å– Dockerfile è¿›è¡Œæ„å»º</li>
<li>ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–ä¸Šä¸‹æ–‡å‹ç¼©åŒ…è¿›è¡Œæ„å»º</li>
</ul>
<h3 id="COPY-å¤åˆ¶æ–‡ä»¶"><a href="#COPY-å¤åˆ¶æ–‡ä»¶" class="headerlink" title="COPY å¤åˆ¶æ–‡ä»¶"></a>COPY å¤åˆ¶æ–‡ä»¶</h3><ol>
<li>COPY [â€“chown&#x3D;<user>:<group>] &lt;æºè·¯å¾„&gt;â€¦ &lt;ç›®æ ‡è·¯å¾„&gt;</li>
<li>COPY [â€“chown&#x3D;<user>:<group>] [â€œ&lt;æºè·¯å¾„1&gt;â€,â€¦ â€œ&lt;ç›®æ ‡è·¯å¾„&gt;â€]</li>
</ol>
<ul>
<li><code>&lt;æºè·¯å¾„&gt;</code><ul>
<li>å¯ä»¥æ˜¯å¤šä¸ªï¼Œ</li>
<li>ç”šè‡³å¯ä»¥æ˜¯é€šé…ç¬¦ï¼Œå…¶é€šé…ç¬¦è§„åˆ™è¦æ»¡è¶³ <code>Go</code> çš„ <code>filepath.Match</code> è§„åˆ™</li>
</ul>
</li>
<li><code>&lt;ç›®æ ‡è·¯å¾„&gt;</code><ul>
<li>å¯ä»¥æ˜¯å®¹å™¨å†…çš„ç»å¯¹è·¯å¾„ï¼Œ</li>
<li>ä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹äºå·¥ä½œç›®å½•çš„ç›¸å¯¹è·¯å¾„ï¼ˆå·¥ä½œç›®å½•å¯ä»¥ç”¨ WORKDIR æŒ‡ä»¤æ¥æŒ‡å®šï¼‰ã€‚</li>
<li>ç›®æ ‡è·¯å¾„ä¸éœ€è¦äº‹å…ˆåˆ›å»º</li>
</ul>
</li>
<li><code>COPY</code> æŒ‡ä»¤ï¼Œæºæ–‡ä»¶çš„å„ç§å…ƒæ•°æ®éƒ½ä¼šä¿ç•™ã€‚<ul>
<li>æ¯”å¦‚è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€æ–‡ä»¶å˜æ›´æ—¶é—´ç­‰ã€‚</li>
<li>è¿™ä¸ªç‰¹æ€§å¯¹äºé•œåƒå®šåˆ¶å¾ˆæœ‰ç”¨ã€‚ç‰¹åˆ«æ˜¯æ„å»ºç›¸å…³æ–‡ä»¶éƒ½åœ¨ä½¿ç”¨ Git è¿›è¡Œç®¡ç†çš„æ—¶å€™ã€‚</li>
<li>å¦‚æœæºè·¯å¾„ä¸º<strong>æ–‡ä»¶å¤¹</strong>ï¼Œå¤åˆ¶çš„æ—¶å€™ä¸æ˜¯ç›´æ¥å¤åˆ¶è¯¥æ–‡ä»¶å¤¹ï¼Œè€Œæ˜¯<strong>å°†æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹å¤åˆ¶åˆ°ç›®æ ‡è·¯å¾„</strong>ã€‚</li>
</ul>
</li>
</ul>
<h3 id="ADD-æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶"><a href="#ADD-æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶" class="headerlink" title="ADD æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶"></a>ADD æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶</h3><ul>
<li>æ¯”å¦‚ <code>&lt;æºè·¯å¾„&gt;</code> å¯ä»¥æ˜¯ä¸€ä¸ª <code>URL</code>,ä¸‹è½½ï¼ˆä¸‹è½½åæƒé™ä¸º<code>600</code>ï¼‰,å¯å¢åŠ ä¸€å±‚ <code>RUN</code> å»æ”¹å˜æƒé™</li>
<li>å¦‚æœ <code>&lt;æºè·¯å¾„&gt;</code> ä¸ºä¸€ä¸ª <code>tar</code> å‹ç¼©æ–‡ä»¶çš„è¯ï¼Œå‹ç¼©æ ¼å¼ä¸º <code>gzip</code>, <code>bzip2</code> ä»¥åŠ <code>xz</code> çš„æƒ…å†µä¸‹ï¼ŒADD æŒ‡ä»¤å°†ä¼šè‡ªåŠ¨è§£å‹ç¼©è¿™ä¸ªå‹ç¼©æ–‡ä»¶åˆ° <code>&lt;ç›®æ ‡è·¯å¾„&gt;</code> å»ã€‚</li>
<li><strong>æ³¨æ„:</strong> ADD æŒ‡ä»¤ä¼š<strong>ä½¿é•œåƒæ„å»ºç¼“å­˜å¤±æ•ˆ</strong>ï¼Œä»è€Œå¯èƒ½ä¼šä½¿é•œåƒæ„å»ºå˜å¾—æ¯”è¾ƒ<strong>ç¼“æ…¢</strong>ã€‚</li>
</ul>
<h3 id="CMD-å®¹å™¨å¯åŠ¨å‘½ä»¤"><a href="#CMD-å®¹å™¨å¯åŠ¨å‘½ä»¤" class="headerlink" title="CMD å®¹å™¨å¯åŠ¨å‘½ä»¤"></a>CMD å®¹å™¨å¯åŠ¨å‘½ä»¤</h3><ul>
<li><p>æ ¼å¼</p>
<ol>
<li>shell æ ¼å¼ï¼š<code>CMD &lt;å‘½ä»¤&gt;</code></li>
<li>exec æ ¼å¼ï¼š<code>CMD [&quot;å¯æ‰§è¡Œæ–‡ä»¶&quot;, &quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;...]</code></li>
<li>å‚æ•°åˆ—è¡¨æ ¼å¼ï¼š<code>CMD [&quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;...]</code><br>  åœ¨æŒ‡å®šäº† <code>ENTRYPOINT</code> æŒ‡ä»¤åï¼Œç”¨ <code>CMD</code> æŒ‡å®šå…·ä½“çš„å‚æ•°ã€‚</li>
</ol>
</li>
<li><p>Docker ä¸æ˜¯è™šæ‹Ÿæœº</p>
<ul>
<li>å®¹å™¨ä¸­çš„åº”ç”¨éƒ½åº”è¯¥ä»¥å‰å°æ‰§è¡Œï¼Œè€Œä¸æ˜¯åƒè™šæ‹Ÿæœºã€ç‰©ç†æœºé‡Œé¢é‚£æ ·ï¼Œç”¨ <code>systemd</code> å»å¯åŠ¨åå°æœåŠ¡ï¼Œå®¹å™¨å†…æ²¡æœ‰åå°æœåŠ¡çš„æ¦‚å¿µã€‚</li>
<li>å®¹å™¨å°±æ˜¯è¿›ç¨‹ã€‚<ul>
<li>æ—¢ç„¶æ˜¯è¿›ç¨‹ï¼Œé‚£ä¹ˆåœ¨å¯åŠ¨å®¹å™¨çš„æ—¶å€™ï¼Œéœ€è¦<strong>æŒ‡å®šæ‰€è¿è¡Œçš„ç¨‹åºåŠå‚æ•°</strong>ã€‚</li>
<li><code>CMD</code> æŒ‡ä»¤å°±æ˜¯ç”¨äºæŒ‡å®šé»˜è®¤çš„å®¹å™¨ä¸»è¿›ç¨‹çš„å¯åŠ¨å‘½ä»¤çš„ã€‚åœ¨è¿è¡Œæ—¶å¯ä»¥æŒ‡å®šæ–°çš„å‘½ä»¤æ¥æ›¿ä»£é•œåƒè®¾ç½®ä¸­çš„è¿™ä¸ªé»˜è®¤å‘½ä»¤</li>
</ul>
</li>
</ul>
</li>
<li><p>åœ¨æŒ‡ä»¤æ ¼å¼ä¸Šï¼Œä¸€èˆ¬æ¨èä½¿ç”¨ <code>exec</code> æ ¼å¼ï¼Œè¿™ç±»æ ¼å¼åœ¨è§£ææ—¶ä¼šè¢«è§£æä¸º <code>JSON</code> æ•°ç»„ï¼Œå› æ­¤ä¸€å®šè¦ä½¿ç”¨åŒå¼•å· <code>&quot;</code>ï¼Œè€Œä¸è¦ä½¿ç”¨å•å¼•å·(<code>&#39;&#39;</code>)ã€‚</p>
</li>
<li><p>å¦‚æœä½¿ç”¨ <code>shell</code> æ ¼å¼çš„è¯ï¼Œå®é™…çš„å‘½ä»¤ä¼šè¢«åŒ…è£…ä¸º <code>sh -c</code> çš„å‚æ•°çš„å½¢å¼è¿›è¡Œæ‰§è¡Œã€‚<br>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡çš„åŸå› ï¼Œå› ä¸ºè¿™äº›ç¯å¢ƒå˜é‡ä¼šè¢« <code>shell</code> è¿›è¡Œè§£æå¤„ç†ã€‚</p>
</li>
<li><p>Docker ä¸æ˜¯è™šæ‹Ÿæœºï¼Œ</p>
</li>
</ul>
<p><code>CMD service nginx start</code></p>
<ul>
<li>ä¼šè¢«ç†è§£ä¸º <code>CMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;service nginx start&quot;]</code></li>
<li>å› æ­¤ä¸»è¿›ç¨‹å®é™…ä¸Šæ˜¯ <code>sh</code><ul>
<li>é‚£ä¹ˆå½“ <code>service nginx start</code> å‘½ä»¤ç»“æŸåï¼Œ<code>sh</code> ä¹Ÿå°±ç»“æŸäº†ï¼Œ</li>
<li><code>sh</code> ä½œä¸ºä¸»è¿›ç¨‹é€€å‡ºäº†ï¼Œè‡ªç„¶å°±ä¼šä»¤å®¹å™¨é€€å‡ºã€‚</li>
</ul>
</li>
<li>æ­£ç¡®çš„åšæ³•æ˜¯ç›´æ¥æ‰§è¡Œ <code>nginx</code> å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶ä¸”è¦æ±‚ä»¥å‰å°å½¢å¼è¿è¡Œã€‚æ¯”å¦‚ï¼š<code>CMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]</code></li>
</ul>
<h3 id="ENTRYPOINT-å…¥å£ç‚¹"><a href="#ENTRYPOINT-å…¥å£ç‚¹" class="headerlink" title="ENTRYPOINT å…¥å£ç‚¹"></a><code>ENTRYPOINT</code> å…¥å£ç‚¹</h3><p><code>ENTRYPOINT</code> çš„ç›®çš„å’Œ <code>CMD</code> ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨æŒ‡å®šå®¹å™¨å¯åŠ¨ç¨‹åºåŠå‚æ•°ã€‚<br><code>ENTRYPOINT</code> åœ¨è¿è¡Œæ—¶ä¹Ÿå¯ä»¥æ›¿ä»£ï¼Œä¸è¿‡éœ€è¦é€šè¿‡ <code>docker run</code> çš„å‚æ•° <code>--entrypoint</code> æ¥æŒ‡å®šã€‚</p>
<p><strong>é‚£ä¹ˆæœ‰äº† CMD åï¼Œä¸ºä»€ä¹ˆè¿˜è¦æœ‰ ENTRYPOINT å‘¢ï¼Ÿ</strong></p>
<ul>
<li>è®©é•œåƒå˜æˆåƒå‘½ä»¤ä¸€æ ·ä½¿ç”¨</li>
<li>åº”ç”¨è¿è¡Œå‰çš„å‡†å¤‡å·¥ä½œ</li>
</ul>
<h3 id="ENV-è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#ENV-è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="ENV è®¾ç½®ç¯å¢ƒå˜é‡"></a><code>ENV</code> è®¾ç½®ç¯å¢ƒå˜é‡</h3><ul>
<li>ENV <code>&lt;key&gt; &lt;value&gt;</code></li>
<li>ENV <code>&lt;key1&gt;=&lt;value1&gt; &lt;key2&gt;=&lt;value2&gt;...</code></li>
</ul>
<p>æ— è®ºæ˜¯ <code>Dockerfile</code> åé¢çš„å…¶å®ƒæŒ‡ä»¤ï¼Œå¦‚ <code>RUN</code>ï¼Œè¿˜æ˜¯è¿è¡Œæ—¶çš„åº”ç”¨ï¼Œéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™é‡Œå®šä¹‰çš„ç¯å¢ƒå˜é‡ã€‚</p>
<h3 id="ARG-æ„å»ºå‚æ•°"><a href="#ARG-æ„å»ºå‚æ•°" class="headerlink" title="ARG æ„å»ºå‚æ•°"></a><code>ARG</code> æ„å»ºå‚æ•°</h3><ul>
<li><code>ARG</code> å’Œ <code>ENV</code> çš„æ•ˆæœä¸€æ ·ï¼Œéƒ½æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡ã€‚</li>
<li>æ‰€ä¸åŒçš„æ˜¯ï¼Œ<code>ARG</code> æ‰€è®¾ç½®çš„<strong>æ„å»ºç¯å¢ƒçš„ç¯å¢ƒå˜é‡ï¼Œåœ¨å°†æ¥å®¹å™¨è¿è¡Œæ—¶æ˜¯ä¸ä¼šå­˜åœ¨è¿™äº›ç¯å¢ƒå˜é‡çš„</strong>ã€‚</li>
<li><code>Dockerfile</code> ä¸­çš„ <code>ARG</code> æŒ‡ä»¤æ˜¯å®šä¹‰å‚æ•°åç§°ï¼Œä»¥åŠå®šä¹‰å…¶é»˜è®¤å€¼ã€‚<br>è¯¥é»˜è®¤å€¼å¯ä»¥åœ¨æ„å»ºå‘½ä»¤ <code>docker build</code> ä¸­ç”¨ <code>--build-arg &lt;å‚æ•°å&gt;=&lt;å€¼&gt;</code> æ¥è¦†ç›–ã€‚</li>
<li>çµæ´»çš„ä½¿ç”¨ <code>ARG</code> æŒ‡ä»¤ï¼Œèƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹ <code>Dockerfile</code> çš„æƒ…å†µä¸‹ï¼Œæ„å»ºå‡ºä¸åŒçš„é•œåƒã€‚</li>
<li><code>ARG</code> æŒ‡ä»¤æœ‰ç”Ÿæ•ˆèŒƒå›´ï¼Œå¦‚æœåœ¨ <code>FROM</code> æŒ‡ä»¤ä¹‹å‰æŒ‡å®šï¼Œé‚£ä¹ˆåªèƒ½ç”¨äº <code>FROM</code> æŒ‡ä»¤ä¸­ã€‚</li>
</ul>
<h3 id="VOLUME-å®šä¹‰åŒ¿åå·"><a href="#VOLUME-å®šä¹‰åŒ¿åå·" class="headerlink" title="VOLUME å®šä¹‰åŒ¿åå·"></a><code>VOLUME</code> å®šä¹‰åŒ¿åå·</h3><ul>
<li><p><code>VOLUME [&quot;&lt;è·¯å¾„1&gt;&quot;, &quot;&lt;è·¯å¾„2&gt;&quot;...]</code></p>
</li>
<li><p><code>VOLUME &lt;è·¯å¾„&gt;</code></p>
</li>
<li><p>ä¸ºäº†é˜²æ­¢è¿è¡Œæ—¶ç”¨æˆ·å¿˜è®°å°†åŠ¨æ€æ–‡ä»¶æ‰€ä¿å­˜ç›®å½•æŒ‚è½½ä¸ºå·ï¼Œ<br>åœ¨ <code>Dockerfile</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥äº‹å…ˆæŒ‡å®šæŸäº›ç›®å½•æŒ‚è½½ä¸ºåŒ¿åå·ï¼Œ<br>è¿™æ ·åœ¨è¿è¡Œæ—¶å¦‚æœç”¨æˆ·ä¸æŒ‡å®šæŒ‚è½½ï¼Œå…¶åº”ç”¨ä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä¸ä¼šå‘å®¹å™¨å­˜å‚¨å±‚å†™å…¥å¤§é‡æ•°æ®ã€‚</p>
</li>
</ul>
<h3 id="EXPOSE-æš´éœ²ç«¯å£"><a href="#EXPOSE-æš´éœ²ç«¯å£" class="headerlink" title="EXPOSE æš´éœ²ç«¯å£"></a><code>EXPOSE</code> æš´éœ²ç«¯å£</h3><ul>
<li><code>EXPOSE</code> æŒ‡ä»¤æ˜¯å£°æ˜å®¹å™¨è¿è¡Œæ—¶æä¾›æœåŠ¡çš„ç«¯å£ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå£°æ˜ï¼Œåœ¨å®¹å™¨è¿è¡Œæ—¶å¹¶ä¸ä¼šå› ä¸ºè¿™ä¸ªå£°æ˜åº”ç”¨å°±ä¼šå¼€å¯è¿™ä¸ªç«¯å£çš„æœåŠ¡ã€‚</li>
<li>åœ¨ <code>Dockerfile</code> ä¸­å†™å…¥è¿™æ ·çš„å£°æ˜æœ‰ä¸¤ä¸ªå¥½å¤„<ol>
<li>ä¸€ä¸ªæ˜¯å¸®åŠ©é•œåƒä½¿ç”¨è€…ç†è§£è¿™ä¸ªé•œåƒæœåŠ¡çš„å®ˆæŠ¤ç«¯å£ï¼Œä»¥æ–¹ä¾¿é…ç½®æ˜ å°„ï¼›</li>
<li>å¦ä¸€ä¸ªç”¨å¤„åˆ™æ˜¯åœ¨è¿è¡Œæ—¶ä½¿ç”¨éšæœºç«¯å£æ˜ å°„æ—¶ï¼Œä¹Ÿå°±æ˜¯ <code>docker run -P</code> æ—¶ï¼Œä¼šè‡ªåŠ¨éšæœºæ˜ å°„ <code>EXPOSE</code> çš„ç«¯å£ã€‚</li>
</ol>
</li>
<li>è¦å°† <code>EXPOSE</code> å’Œåœ¨è¿è¡Œæ—¶ä½¿ç”¨ <code>-p &lt;å®¿ä¸»ç«¯å£&gt;:&lt;å®¹å™¨ç«¯å£&gt;</code> åŒºåˆ†å¼€æ¥ã€‚<ul>
<li><code>-p</code>ï¼Œæ˜¯æ˜ å°„å®¿ä¸»ç«¯å£å’Œå®¹å™¨ç«¯å£ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å°†å®¹å™¨çš„å¯¹åº”ç«¯å£æœåŠ¡å…¬å¼€ç»™å¤–ç•Œè®¿é—®ï¼Œ</li>
<li>è€Œ <code>EXPOSE</code> ä»…ä»…æ˜¯å£°æ˜å®¹å™¨æ‰“ç®—ä½¿ç”¨ä»€ä¹ˆç«¯å£è€Œå·²ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨åœ¨å®¿ä¸»è¿›è¡Œç«¯å£æ˜ å°„ã€‚</li>
</ul>
</li>
</ul>
<h3 id="WORKDIR-æŒ‡å®šå·¥ä½œç›®å½•"><a href="#WORKDIR-æŒ‡å®šå·¥ä½œç›®å½•" class="headerlink" title="WORKDIR æŒ‡å®šå·¥ä½œç›®å½•"></a>WORKDIR æŒ‡å®šå·¥ä½œç›®å½•</h3><ul>
<li><code>WORKDIR &lt;å·¥ä½œç›®å½•è·¯å¾„&gt;</code></li>
</ul>
<h3 id="USER-æŒ‡å®šå½“å‰ç”¨æˆ·"><a href="#USER-æŒ‡å®šå½“å‰ç”¨æˆ·" class="headerlink" title="USER æŒ‡å®šå½“å‰ç”¨æˆ·"></a>USER æŒ‡å®šå½“å‰ç”¨æˆ·</h3><ul>
<li><p><code>USER &lt;ç”¨æˆ·å&gt;[:&lt;ç”¨æˆ·ç»„&gt;]</code></p>
</li>
<li><p><code>USER</code> æŒ‡ä»¤å’Œ <code>WORKDIR</code> ç›¸ä¼¼ï¼Œéƒ½æ˜¯æ”¹å˜ç¯å¢ƒçŠ¶æ€å¹¶å½±å“ä»¥åçš„å±‚ã€‚</p>
<ul>
<li><code>WORKDIR</code> æ˜¯æ”¹å˜å·¥ä½œç›®å½•ï¼Œ</li>
<li><code>USER</code> åˆ™æ˜¯æ”¹å˜ä¹‹åå±‚çš„æ‰§è¡Œ <code>RUN</code>, <code>CMD</code> ä»¥åŠ <code>ENTRYPOINT</code> è¿™ç±»å‘½ä»¤çš„èº«ä»½ã€‚</li>
</ul>
</li>
<li><p><strong>æ³¨æ„:</strong> <code>USER</code> åªæ˜¯å¸®åŠ©ä½ åˆ‡æ¢åˆ°æŒ‡å®šç”¨æˆ·è€Œå·²ï¼Œè¿™ä¸ªç”¨æˆ·å¿…é¡»æ˜¯äº‹å…ˆå»ºç«‹å¥½çš„ï¼Œå¦åˆ™æ— æ³•åˆ‡æ¢ã€‚</p>
</li>
<li><p>å¦‚æœä»¥ <code>root</code> æ‰§è¡Œçš„è„šæœ¬ï¼Œåœ¨æ‰§è¡ŒæœŸé—´å¸Œæœ›æ”¹å˜èº«ä»½ï¼Œæ¯”å¦‚å¸Œæœ›ä»¥æŸä¸ªå·²ç»å»ºç«‹å¥½çš„ç”¨æˆ·æ¥è¿è¡ŒæŸä¸ªæœåŠ¡è¿›ç¨‹</p>
</li>
<li><p>ä¸è¦ä½¿ç”¨ <code>su</code> æˆ–è€… <code>sudo</code></p>
</li>
<li><p>å»ºè®®ä½¿ç”¨ <code>gosu</code></p>
</li>
</ul>
<h3 id="HEALTHCHECK-å¥åº·æ£€æŸ¥"><a href="#HEALTHCHECK-å¥åº·æ£€æŸ¥" class="headerlink" title="HEALTHCHECK å¥åº·æ£€æŸ¥"></a>HEALTHCHECK å¥åº·æ£€æŸ¥</h3><ul>
<li><p><code>HEALTHCHECK [é€‰é¡¹] CMD &lt;å‘½ä»¤&gt;</code>ï¼šè®¾ç½®æ£€æŸ¥å®¹å™¨å¥åº·çŠ¶å†µçš„å‘½ä»¤</p>
</li>
<li><p><code>HEALTHCHECK NONE</code>ï¼šå¦‚æœåŸºç¡€é•œåƒæœ‰å¥åº·æ£€æŸ¥æŒ‡ä»¤ï¼Œä½¿ç”¨è¿™è¡Œå¯ä»¥å±è”½æ‰å…¶å¥åº·æ£€æŸ¥æŒ‡ä»¤</p>
</li>
<li><p>åœ¨æ²¡æœ‰ <code>HEALTHCHECK</code> æŒ‡ä»¤å‰ï¼Œ<code>Docker</code> å¼•æ“åªå¯ä»¥é€šè¿‡å®¹å™¨å†…ä¸»è¿›ç¨‹æ˜¯å¦é€€å‡ºæ¥åˆ¤æ–­å®¹å™¨æ˜¯å¦çŠ¶æ€å¼‚å¸¸ã€‚</p>
<ul>
<li>å¾ˆå¤šæƒ…å†µä¸‹è¿™æ²¡é—®é¢˜ï¼Œ</li>
<li>ä½†æ˜¯å¦‚æœç¨‹åºè¿›å…¥æ­»é”çŠ¶æ€ï¼Œæˆ–è€…æ­»å¾ªç¯çŠ¶æ€ï¼Œåº”ç”¨è¿›ç¨‹å¹¶ä¸é€€å‡ºï¼Œä½†æ˜¯è¯¥å®¹å™¨å·²ç»æ— æ³•æä¾›æœåŠ¡äº†ã€‚</li>
<li>åœ¨ <code>1.12</code> ä»¥å‰ï¼Œ<code>Docker</code> ä¸ä¼šæ£€æµ‹åˆ°å®¹å™¨çš„è¿™ç§çŠ¶æ€ï¼Œä»è€Œä¸ä¼šé‡æ–°è°ƒåº¦ï¼Œå¯¼è‡´å¯èƒ½ä¼šæœ‰éƒ¨åˆ†å®¹å™¨å·²ç»æ— æ³•æä¾›æœåŠ¡äº†å´è¿˜åœ¨æ¥å—ç”¨æˆ·è¯·æ±‚</li>
</ul>
</li>
</ul>
<h3 id="ä¿®æ”¹é•œåƒ"><a href="#ä¿®æ”¹é•œåƒ" class="headerlink" title="ä¿®æ”¹é•œåƒ"></a>ä¿®æ”¹é•œåƒ</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker exec -it nginx:2.0 bash</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿®æ”¹å®Œæˆåï¼Œä¿å­˜é•œåƒ</span></span><br><span class="line">docker commit --author &quot;frank&quot; --message &quot;change default index.html&quot; webserver nginx:2.0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥è¯¢ä¿®æ”¹å†å²</span></span><br><span class="line">docker history nginx:2.0</span><br></pre></td></tr></table></figure>

<p><strong>å¤‡æ³¨:</strong></p>
<ul>
<li>æ…ç”¨ <code>docker commit</code>ã€‚</li>
<li>ä½¿ç”¨ <code>docker commit</code> å‘½ä»¤è™½ç„¶å¯ä»¥æ¯”è¾ƒç›´è§‚çš„å¸®åŠ©ç†è§£é•œåƒåˆ†å±‚å­˜å‚¨çš„æ¦‚å¿µï¼Œä½†æ˜¯å®é™…ç¯å¢ƒä¸­å¹¶ä¸ä¼šè¿™æ ·ä½¿ç”¨ã€‚<ol>
<li>æœ‰å¤§é‡çš„æ— å…³å†…å®¹è¢«æ·»åŠ è¿›æ¥ï¼Œå°†ä¼šå¯¼è‡´é•œåƒæä¸ºè‡ƒè‚¿ã€‚</li>
<li>æ‰€æœ‰å¯¹é•œåƒçš„æ“ä½œéƒ½æ˜¯é»‘ç®±æ“ä½œï¼Œç”Ÿæˆçš„é•œåƒä¹Ÿè¢«ç§°ä¸º <strong>é»‘ç®±é•œåƒ</strong>ã€‚</li>
<li>æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½ä¼šè®©é•œåƒæ›´åŠ è‡ƒè‚¿ä¸€æ¬¡ï¼Œæ‰€åˆ é™¤çš„ä¸Šä¸€å±‚çš„ä¸œè¥¿å¹¶ä¸ä¼šä¸¢å¤±</li>
</ol>
</li>
</ul>
<h3 id="é•œåƒå¤‡ä»½-æ¢å¤"><a href="#é•œåƒå¤‡ä»½-æ¢å¤" class="headerlink" title="é•œåƒå¤‡ä»½&#x2F;æ¢å¤"></a>é•œåƒå¤‡ä»½&#x2F;æ¢å¤</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¤‡ä»½</span></span><br><span class="line">docker images | grep  image-name  # æŸ¥è¯¢é•œåƒID</span><br><span class="line">docker save [OPTIONS] IMAGE [IMAGE...]</span><br><span class="line">docker save -o /root/mycentos7.tar mycentos:7</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä»taråŒ…è½½å…¥é•œåƒ</span></span><br><span class="line">docker load -i &#123;image_name&#125;.tar</span><br><span class="line">docker load --input &#123;image_name&#125;.tar</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹è½½å…¥æ˜¯å¦æˆåŠŸ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç¡®è®¤é•œåƒæ˜¯å¦æˆåŠŸæ‰“ä¸Štag</span></span><br><span class="line">docker images | grep &#123;image_name&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> å¦‚æœçœ‹åˆ°åŠ è½½çš„é•œåƒæ²¡æœ‰tagå’Œé•œåƒåï¼Œåˆ™æ‰‹åŠ¨æ‰“tag:</span></span><br><span class="line">docker tag &#123;image_id&#125; &#123;image_name&#125;:&#123;image_tag&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Dockerç£ç›˜å ç”¨æƒ…å†µ"><a href="#Dockerç£ç›˜å ç”¨æƒ…å†µ" class="headerlink" title="Dockerç£ç›˜å ç”¨æƒ…å†µ"></a>Dockerç£ç›˜å ç”¨æƒ…å†µ</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€šè¿‡ <span class="built_in">df</span> -h å¯ä»¥å‘ç°æ‰€æœ‰ç£ç›˜çš„ä½¿ç”¨æƒ…å†µï¼Œ /var/lib/docker ä¸º docker å®¹å™¨å®‰è£…çš„é»˜è®¤ç£ç›˜ç›®å½•</span></span><br><span class="line">frank@localhost:~$ df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">udev            944M     0  944M   0% /dev</span><br><span class="line">tmpfs           191M  512K  190M   1% /run</span><br><span class="line">/dev/sda3        28G  3.1G   23G  12% /</span><br><span class="line">tmpfs           951M     0  951M   0% /dev/shm</span><br><span class="line">tmpfs           5.0M     0  5.0M   0% /run/lock</span><br><span class="line">/dev/sda4        93G  2.3G   86G   3% /home</span><br><span class="line">/dev/sda2       488M   12M  476M   3% /boot/efi</span><br><span class="line">overlay          28G  3.1G   23G  12% /var/lib/docker/overlay2/9b3c4b326acbfe36b17bef23e847ed2260e3a91f42c027d64d43b901b9392157/merged</span><br><span class="line">tmpfs           191M     0  191M   0% /run/user/1000</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹docker ç£ç›˜ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line">frank@localhost:~$ sudo du -sh /var/lib/docker/</span><br><span class="line">1.3G    /var/lib/docker/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker system <span class="built_in">df</span>  å‘½ä»¤ï¼Œç±»ä¼¼äºLinuxä¸Šçš„<span class="built_in">df</span>å‘½ä»¤ï¼Œç”¨äºæŸ¥çœ‹Dockerçš„ç£ç›˜ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-v é€‰é¡¹å¯ç”¨æŸ¥è¯¢æ›´è¯¦ç»†çš„ä¿¡æ¯</span></span><br><span class="line">frank@localhost:~$ docker system df</span><br><span class="line">TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE</span><br><span class="line">Images          4         2         1.145GB   583.7MB (50%)</span><br><span class="line">Containers      8         1         2.887kB   758B (26%)</span><br><span class="line">Local Volumes   1         0         0B        0B</span><br><span class="line">Build Cache     0         0         0B        0B</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker system pruneå‘½ä»¤å¯ä»¥ç”¨äºæ¸…ç†ç£ç›˜ï¼Œåˆ é™¤å…³é—­çš„å®¹å™¨ã€æ— ç”¨çš„æ•°æ®å·å’Œç½‘ç»œï¼Œä»¥åŠdanglingé•œåƒ(å³æ— tagçš„é•œåƒ)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-a  é€‰é¡¹æ¸…ç†å¾—æ›´åŠ å½»åº•ï¼Œå¯ä»¥å°†æ²¡æœ‰å®¹å™¨ä½¿ç”¨Dockeré•œåƒéƒ½åˆ æ‰</span></span><br><span class="line">frank@localhost:~$ docker system prune</span><br></pre></td></tr></table></figure>

<p><a href="https://docs.docker.com/">å®˜æ–¹æ–‡æ¡£</a><br><a href="https://yeasy.gitbook.io/docker_practice/">Docker â€” ä»å…¥é—¨åˆ°å®è·µ</a></p>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerè¿è¡Œæ•°æ®åº“</title>
    <url>/2024/07/30/Docker%E8%BF%90%E8%A1%8C%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
    <content><![CDATA[<h2 id="è¿è¡ŒMySQL-5-7"><a href="#è¿è¡ŒMySQL-5-7" class="headerlink" title="è¿è¡ŒMySQL 5.7"></a>è¿è¡ŒMySQL 5.7</h2><p>åˆ›å»ºMySQLç›¸å…³ç›®å½•</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo mkdir /data/database</span><br><span class="line">sudo chown -R frank:frank /data/database</span><br><span class="line">mkdir -p /data/database/mysql57</span><br><span class="line">cd /data/database/mysql57</span><br><span class="line">mkdir log conf data</span><br></pre></td></tr></table></figure>

<p>åœ¨confç›®å½•å­˜æ”¾é…ç½®æ–‡ä»¶<code>my.cnf</code>(å®˜æ–¹é»˜è®¤é…ç½®æ–‡ä»¶åç§°ä¸º<code>my.cnf</code>ã€‚å¦‚æœæƒ³æ›´æ”¹ï¼Œåç§°è¦ä¸ä¸‹é¢çš„ docker å‘½ä»¤ä¸­æ˜ å°„çš„ä¸€è‡´),å†…å®¹å¦‚ä¸‹:</p>
<p>MySQL 5.7ç‰ˆæœ¬</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 5.7.20ç‰ˆæœ¬å¼€å§‹æ”¯æŒè®¾ç½®utf8mb4å­—ç¬¦é›†</span><br><span class="line">[client]</span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">character-set-server=utf8mb4</span><br><span class="line">collation-server=utf8mb4_unicode_ci</span><br><span class="line">init_connect=&#x27;SET NAMES utf8mb4&#x27;</span><br><span class="line"># æ­¤é€‰é¡¹ 8.4 ä¸å†å¯ç”¨ï¼Œè¦æŠ¥é”™</span><br><span class="line">skip-character-set-client-handshake=false</span><br><span class="line">bind-address = 0.0.0.0</span><br><span class="line"></span><br><span class="line"># å†…å­˜ä¼˜åŒ–</span><br><span class="line">innodb_buffer_pool_size = 1G   # è®¾ç½® InnoDB Buffer Pool çš„å¤§å°ï¼Œå»ºè®®æ€»å†…å­˜çš„ 50%~70%</span><br><span class="line">innodb_buffer_pool_instances = 2  # å¢åŠ åˆ†ç‰‡ï¼Œæé«˜æ€§èƒ½</span><br><span class="line"></span><br><span class="line">max_connections = 200  # é™åˆ¶æœ€å¤§è¿æ¥æ•°ï¼Œé¿å…æ¶ˆè€—è¿‡å¤šå†…å­˜</span><br><span class="line"></span><br><span class="line"># æ§åˆ¶ä¸´æ—¶è¡¨å¤§å°</span><br><span class="line">tmp_table_size = 64M</span><br><span class="line">max_heap_table_size = 64M</span><br><span class="line"></span><br><span class="line">query_cache_size = 32M   # é™åˆ¶æŸ¥è¯¢ç¼“å­˜å¤§å°</span><br><span class="line">query_cache_type = 1      # å¯ç”¨æŸ¥è¯¢ç¼“å­˜</span><br><span class="line"></span><br><span class="line"># æ§åˆ¶æ’åºå’Œè¿æ¥ç¼“å†²</span><br><span class="line">sort_buffer_size = 2M</span><br><span class="line">join_buffer_size = 2M</span><br><span class="line">read_buffer_size = 2M</span><br><span class="line">read_rnd_buffer_size = 2M</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8mb4</span><br></pre></td></tr></table></figure>

<p>å‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo docker run -d  \</span><br><span class="line">--name mysql57 \</span><br><span class="line">--restart=always \</span><br><span class="line">--privileged=true \</span><br><span class="line">-v /data/database/mysql57/log:/var/log/mysql \</span><br><span class="line">-v /data/database/mysql57/conf:/etc/mysql/conf.d \</span><br><span class="line">-v /data/database/mysql57/data:/var/lib/mysql \</span><br><span class="line">-p 23306:3306 \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=123456 \</span><br><span class="line">--memory=2g \</span><br><span class="line">--memory-swap=4g \</span><br><span class="line">mysql:5.7</span><br></pre></td></tr></table></figure>

<h2 id="MySQL-8-4-æœ€æ–°LTSç‰ˆæœ¬"><a href="#MySQL-8-4-æœ€æ–°LTSç‰ˆæœ¬" class="headerlink" title="MySQL 8.4(æœ€æ–°LTSç‰ˆæœ¬)"></a>MySQL 8.4(æœ€æ–°LTSç‰ˆæœ¬)</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[client]</span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">character-set-server=utf8mb4</span><br><span class="line">collation-server=utf8mb4_unicode_ci</span><br><span class="line">init_connect=&#x27;SET NAMES utf8mb4&#x27;</span><br><span class="line">bind-address = 0.0.0.0</span><br><span class="line">default-time-zone = &#x27;+08:00&#x27;</span><br><span class="line"></span><br><span class="line"># å†…å­˜ä¼˜åŒ–</span><br><span class="line">innodb_buffer_pool_size = 1G   # è®¾ç½® InnoDB Buffer Pool çš„å¤§å°ï¼Œå»ºè®®æ€»å†…å­˜çš„ 50%~70%</span><br><span class="line">innodb_buffer_pool_instances = 2  # å¢åŠ åˆ†ç‰‡ï¼Œæé«˜æ€§èƒ½</span><br><span class="line"></span><br><span class="line">max_connections = 200  # é™åˆ¶æœ€å¤§è¿æ¥æ•°ï¼Œé¿å…æ¶ˆè€—è¿‡å¤šå†…å­˜</span><br><span class="line"></span><br><span class="line"># æ§åˆ¶ä¸´æ—¶è¡¨å¤§å°</span><br><span class="line">tmp_table_size = 64M</span><br><span class="line">max_heap_table_size = 64M</span><br><span class="line"></span><br><span class="line"># æ§åˆ¶æ’åºå’Œè¿æ¥ç¼“å†²</span><br><span class="line">sort_buffer_size = 2M</span><br><span class="line">join_buffer_size = 2M</span><br><span class="line">read_buffer_size = 2M</span><br><span class="line">read_rnd_buffer_size = 2M</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8mb4</span><br></pre></td></tr></table></figure>

<p>å‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo docker run -d  \</span><br><span class="line">--name mysql8lts \</span><br><span class="line">--restart=always \</span><br><span class="line">--privileged=true \</span><br><span class="line">-v /data/database/mysql8lts/log:/var/log/mysql \</span><br><span class="line">-v /data/database/mysql8lts/conf:/etc/mysql/conf.d \</span><br><span class="line">-v /data/database/mysql8lts/data:/var/lib/mysql \</span><br><span class="line">-p 13306:3306 \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=123456 \</span><br><span class="line">--memory=2g \</span><br><span class="line">--memory-swap=4g \</span><br><span class="line">mysql:lts</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼šåœ¨ä¸€å¼€å§‹é”™è¯¯é…ç½®çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½å¯¼è‡´åé¢æ­£ç¡®é…ç½®ä¹Ÿä¼šå‡ºé—®é¢˜ã€‚æ‰€ä»¥ï¼Œåœ¨æ–°å»ºå®¹å™¨çš„æ—¶å€™ï¼Œæœ‰å¿…è¦æ¸…ç©ºåˆ›å»ºå®¹å™¨æ—¶äº§ç”Ÿçš„é”™è¯¯æ•°æ®</p>
<h2 id="è¿è¡Œ-SQL-Server"><a href="#è¿è¡Œ-SQL-Server" class="headerlink" title="è¿è¡Œ SQL Server"></a>è¿è¡Œ SQL Server</h2><p>åˆ›å»ºå¯¹åº”ç›®å½•ï¼Œå¹¶ä¿®æ”¹æƒé™(SQL Serveré•œåƒé»˜è®¤ä»¥ <code>mssql</code> ç”¨æˆ·è¿è¡Œ)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir -p /data/database/mssql2022</span><br><span class="line">chown -R 10001:10001 /data/database/mssql2022</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œå‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯†ç åº”ç¬¦åˆ SQL Server é»˜è®¤å¯†ç ç­–ç•¥ï¼Œå¦åˆ™å®¹å™¨æ— æ³•è®¾ç½® SQL Serverï¼Œå°†åœæ­¢å·¥ä½œ</span></span><br><span class="line">sudo docker run \</span><br><span class="line">-d \</span><br><span class="line">--name mssql2022  \</span><br><span class="line">--hostname mssql2022 \</span><br><span class="line">-v /data/database/mssql2022:/var/opt/mssql \</span><br><span class="line">-p 1433:1433  \</span><br><span class="line">-e &quot;ACCEPT_EULA=Y&quot; \</span><br><span class="line">-e &quot;MSSQL_SA_PASSWORD=@Passw0rd&quot; \</span><br><span class="line">-e &quot;TZ=Asia/Shanghai&quot; \</span><br><span class="line">-e &quot;MSSQL_COLLATION=Chinese_PRC_BIN2&quot; \</span><br><span class="line">mcr.microsoft.com/mssql/server:2022-latest</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–ç¯å¢ƒå˜é‡</p>
<ul>
<li>MSSQL_AGENT_ENABLED	å¯ç”¨ SQL Server ä»£ç†ã€‚ ä¾‹å¦‚ï¼Œâ€œtrueâ€ä¸ºå·²å¯ç”¨ï¼Œâ€œfalseâ€ä¸ºå·²ç¦ç”¨ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œä»£ç†å¤„äºç¦ç”¨çŠ¶æ€</li>
<li>MSSQL_BACKUP_DIR	è®¾ç½®é»˜è®¤å¤‡ä»½ç›®å½•ä½ç½®ã€‚</li>
<li>MSSQL_DATA_DIR	æ›´æ”¹åœ¨å…¶ä¸­åˆ›å»ºæ–°çš„ SQL Server æ•°æ®åº“æ•°æ®æ–‡ä»¶ (.mdf) çš„ç›®å½•ã€‚</li>
<li>MSSQL_LOG_DIR	æ›´æ”¹åœ¨å…¶ä¸­åˆ›å»ºæ–°çš„ SQL Server æ•°æ®åº“æ—¥å¿— (.ldf) æ–‡ä»¶çš„ç›®å½•ã€‚</li>
<li>MSSQL_DUMP_DIR	æ›´æ”¹ SQL Server å­˜æ”¾å†…å­˜è½¬å‚¨å’Œå…¶ä»–æ•…éšœæ’é™¤æ–‡ä»¶çš„é»˜è®¤ç›®å½•ã€‚</li>
<li>MSSQL_MASTER_DATA_FILE	è®¾ç½® master æ•°æ®åº“æ•°æ®æ–‡ä»¶çš„ä½ç½®ã€‚ åœ¨é¦–æ¬¡è¿è¡Œ SQL Server ä¹‹å‰ï¼Œå¿…é¡»å°†å…¶å‘½åä¸º master.mdfã€‚</li>
<li>MSSQL_MASTER_LOG_FILE	è®¾ç½® master æ•°æ®åº“æ—¥å¿—æ–‡ä»¶çš„ä½ç½®ã€‚ åœ¨é¦–æ¬¡è¿è¡Œ SQL Server ä¹‹å‰ï¼Œå¿…é¡»å°†å…¶å‘½åä¸º mastlog.ldfã€‚</li>
<li>MSSQL_ERROR_LOG_FILE	è®¾ç½® errorlog æ–‡ä»¶çš„ä½ç½®ã€‚ ä¾‹å¦‚ &#x2F;var&#x2F;opt&#x2F;mssql&#x2F;log&#x2F;errorlog</li>
</ul>
<p><a href="https://learn.microsoft.com/zh-cn/sql/linux/sql-server-linux-configure-mssql-conf?view=sql-server-ver16">ä½¿ç”¨ mssql-conf å·¥å…·é…ç½® Linux ä¸Šçš„ SQL Server</a><br><a href="https://learn.microsoft.com/zh-cn/sql/linux/sql-server-linux-configure-environment-variables?view=sql-server-ver16">åœ¨ Linux ä¸Šä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½® SQL Server è®¾ç½®</a></p>
<h2 id="è¿è¡ŒRedis"><a href="#è¿è¡ŒRedis" class="headerlink" title="è¿è¡ŒRedis"></a>è¿è¡ŒRedis</h2><p>å®˜æ–¹æä¾›ä¸¤ä¸ªç‰ˆæœ¬çš„é•œåƒ</p>
<ol>
<li><code>redis/redis-stack</code> åŒ…å« Redis æœåŠ¡å’Œ å¯è§†åŒ–å·¥å…·Redis Insightï¼Œé€‚åˆæœ¬åœ°å¼€å‘</li>
<li><code>redis/redis-stack-server</code> ä»…åŒ…å« Redis æœåŠ¡ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒ</li>
</ol>
<p>åˆ›å»ºç›¸å…³ç›®å½•</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir /data/database/redis</span><br><span class="line">cd /data/database/redis</span><br><span class="line">mkdir log data conf</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘é…ç½®æ–‡ä»¶<code>redis.conf</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># é»˜è®¤é…ç½®</span><br><span class="line">port 6379</span><br><span class="line">daemonize yes</span><br><span class="line"></span><br><span class="line"># Specify the log file name. Also the empty string can be used to force</span><br><span class="line"># Redis to log on the standard output. Note that if you use standard</span><br><span class="line"># output for logging but daemonize, logs will be sent to /dev/null</span><br><span class="line"># logfile &quot;&quot;</span><br><span class="line">logfile &quot;/var/log/redis/redis.log&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo docker run \</span><br><span class="line">-d  \</span><br><span class="line">--restart=always  \</span><br><span class="line">--name redis \</span><br><span class="line">-p 16379:6379  \</span><br><span class="line">-p 18001:8001 \</span><br><span class="line">-e REDIS_ARGS=&quot;--requirepass 123456&quot; \</span><br><span class="line">-v /data/database/redis/conf/redis-stack.conf:/redis-stack.conf  \</span><br><span class="line">-v /data/database/redis/data:/data \</span><br><span class="line">-v  /data/database/redis/log:/var/log/redis  \</span><br><span class="line">redis/redis-stack:latest</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜: <code>docker: invalid reference format.</code> åŸå› å¯èƒ½æ˜¯</p>
<ol>
<li>è‹±æ–‡<code>-</code>å†™æˆäº† ä¸­æ–‡çš„<code>-</code>æµ‹è¯•</li>
<li><code>\</code>ä¸å‰é¢çš„å†…å®¹ç¼ºå°‘ç©ºæ ¼æˆ–Tab</li>
<li><code>\</code>åé¢å­˜åœ¨å¤šä½™çš„ç©ºæ ¼æˆ–Tab</li>
</ol>
<p>è¯´æ˜ï¼šå¯åŠ¨å¤šä¸ª docker å®¹å™¨ï¼Œä¸ç”¨æ›´æ”¹ redis çš„ç«¯å£é…ç½®ï¼Œåªéœ€è¦åœ¨å¯åŠ¨çš„æ—¶å€™ä½¿ç”¨<code>-p portOFServer:portOfContainer</code>æŒ‡å®šå°±å¥½ã€‚å¦å¤–ï¼Œå¤šä¸ª container å†…éƒ¨ç½‘ç»œé€šä¿¡ï¼Œä½¿ç”¨dockerå†…éƒ¨ç½‘æ®µï¼Œè¯¦ç»†æ–°å¯ç”¨<code>sudo docker netwrok ls</code> å’Œ<code>sudo docker  inspect bridge</code> æŸ¥çœ‹</p>
<p><a href="https://redis.io/docs/latest/operate/oss_and_stack/install/install-stack/docker/">Run Redis Stack on Docker</a><br><a href="https://redis.io/docs/latest/operate/oss_and_stack/management/config/">Redis configuration</a></p>
<h2 id="è¿è¡Œ-PostgresSQL"><a href="#è¿è¡Œ-PostgresSQL" class="headerlink" title="è¿è¡Œ PostgresSQL"></a>è¿è¡Œ PostgresSQL</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> docker run -d \</span></span><br><span class="line"><span class="language-bash">    --name postgres \</span></span><br><span class="line"><span class="language-bash">    -e PGDATA=/var/lib/postgresql/data/pgdata \</span></span><br><span class="line"><span class="language-bash">    -v /data/database/postgres/data:/var/lib/postgresql/data \</span></span><br><span class="line"><span class="language-bash">    -p 15432:5432 \</span></span><br><span class="line"><span class="language-bash">    -e POSTGRES_PASSWORD=123456 \</span></span><br><span class="line"><span class="language-bash">    postgres:17.3-bookworm</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">debiané•œåƒé»˜è®¤æ²¡æœ‰åŒ…æ‹¬è¿›ç¨‹ç®¡ç†ç›¸å…³å·¥å…·</span></span><br><span class="line">apt update &amp;&amp; apt install -y procps</span><br></pre></td></tr></table></figure>

<p>PostgreSQLçš„ç®¡ç†å‘˜è´¦æˆ·åä¸ºpostgresï¼Œé»˜è®¤ç”¨æˆ·åå’Œæ•°æ®åº“ä¹Ÿæ˜¯postgresï¼Œæ²¡æœ‰é»˜è®¤å¯†ç ã€‚<br>å› ä¸ºPostgreSQLä½¿ç”¨Linuxç”¨æˆ·è´¦æˆ·æ¥éªŒè¯ç”¨æˆ·ï¼Œæ‰€ä»¥å¿…é¡»ä»¥Linuxè´¦æˆ·postgresç™»é™†æ‰èƒ½ä»¥postgresç”¨æˆ·èº«ä»½è®¿é—®PostgreSQLæœåŠ¡å™¨ã€‚</p>
<p>Dockerä½¿ç”¨ <code>Linux namespace</code> å’Œ <code>capabilities</code> æ¥å®ç°å®¹å™¨éš”ç¦»å’Œé™åˆ¶æƒé™ã€‚é€šè¿‡ <code>â€“cap-add</code> å’Œ <code>â€“cap-drop</code> ä¸¤ä¸ªå‚æ•°ï¼Œå¯ä»¥çµæ´»åœ°æ·»åŠ æˆ–åˆ é™¤å®¹å™¨çš„ <code>capabilities</code>ã€‚</p>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒDockerå¯¹å®¹å™¨çš„æƒé™è¿›è¡Œäº†ä¸¥æ ¼çš„é™åˆ¶ï¼Œåªæä¾›äº†æœ‰é™çš„<code>capabilities</code>ã€‚æ­¤å¤–ï¼Œè®¸å¤šç³»ç»Ÿçº§åˆ«çš„æ“ä½œï¼ˆä¾‹å¦‚æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿã€ä¿®æ”¹å†…æ ¸å‚æ•°ç­‰ï¼‰éƒ½æ˜¯è¢«ç¦æ­¢çš„ã€‚è¿™ç§å®‰å…¨æ¨¡å‹ä½¿å¾—Dockerå¯ä»¥åœ¨ä¸ç‰ºç‰²å®‰å…¨æ€§çš„å‰æä¸‹ï¼Œå®ç°è½»é‡çº§çš„è™šæ‹ŸåŒ–ã€‚</p>
<p>ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦èµ‹äºˆå®¹å™¨æ›´å¤šçš„æƒé™ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å®¹å™¨ä¸­è¿è¡Œä¸€äº›éœ€è¦ç‰¹æƒçš„æœåŠ¡ï¼ˆå¦‚ç½‘ç»œè®¾å¤‡ç®¡ç†ã€ç¡¬ä»¶è®¾å¤‡æ¥å£ç­‰ï¼‰ï¼Œé‚£ä¹ˆé»˜è®¤çš„æƒé™å¯èƒ½å°±ä¸å¤Ÿç”¨äº†ã€‚è¿™æ—¶å€™ï¼Œ<code>--privileged=true</code> é€‰é¡¹å°±æ´¾ä¸Šäº†ç”¨åœºã€‚<br>å½“ä½¿ç”¨<code>â€“privileged=true</code>é€‰é¡¹è¿è¡Œå®¹å™¨æ—¶ï¼ŒDockerä¼šèµ‹äºˆå®¹å™¨å‡ ä¹ä¸ä¸»æœºç›¸åŒçš„æƒé™ã€‚ å…·ä½“æ¥è¯´ï¼Œè¿™ä¸ªé€‰é¡¹åšäº†ä»¥ä¸‹ä¸¤ä»¶äº‹æƒ…ï¼š</p>
<ol>
<li>ç»™å®¹å™¨æ·»åŠ äº†æ‰€æœ‰çš„<code>capabilities</code></li>
<li>å…è®¸å®¹å™¨è®¿é—®ä¸»æœºçš„æ‰€æœ‰è®¾å¤‡</li>
</ol>
<p><a href="https://github.com/docker-library/docs/blob/master/postgres/README.md">the PostgreSQL Docker Quick reference</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>ELementæ‰“åŒ…åˆ°ç”Ÿäº§ç¯å¢ƒéƒ¨åˆ†æ ·å¼ä¸¢å¤±</title>
    <url>/2024/07/30/ELement%E6%89%93%E5%8C%85%E5%88%B0%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%83%A8%E5%88%86%E6%A0%B7%E5%BC%8F%E4%B8%A2%E5%A4%B1/</url>
    <content><![CDATA[<p>ç¼–è¾‘<code>é¡¹ç›®/build/utils.js</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// Extract CSS when that option is specified</span><br><span class="line">// (which is the case during production build)</span><br><span class="line">if (options.extract) &#123;</span><br><span class="line">  return ExtractTextPlugin.extract(&#123;</span><br><span class="line">    use: loaders,</span><br><span class="line">    fallback: &#x27;vue-style-loader&#x27;,</span><br><span class="line">    publicPath: &#x27;../../&#x27;  // æ·»åŠ æ­¤å¥</span><br><span class="line">  &#125;)</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  return [&#x27;vue-style-loader&#x27;].concat(loaders)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Element</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitä½¿ç”¨</title>
    <url>/2024/07/30/Git%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h3 id="ä¸€ã€ä¸‹è½½Git-çš„Windowså®¢æˆ·ç«¯"><a href="#ä¸€ã€ä¸‹è½½Git-çš„Windowså®¢æˆ·ç«¯" class="headerlink" title="ä¸€ã€ä¸‹è½½Git çš„Windowså®¢æˆ·ç«¯"></a>ä¸€ã€ä¸‹è½½Git çš„Windowså®¢æˆ·ç«¯</h3><p>ä»<a href="https://github.com/git-for-windows/git/releases">Gitä¸‹è½½åœ°å€</a>ä¸‹è½½ï¼Œå¹¶å®‰è£…ã€‚</p>
<h3 id="äºŒã€åˆå§‹é…ç½®"><a href="#äºŒã€åˆå§‹é…ç½®" class="headerlink" title="äºŒã€åˆå§‹é…ç½®"></a>äºŒã€åˆå§‹é…ç½®</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;Your Name&quot;</span><br><span class="line">git config --global user.email &quot;email@example.com&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŒ‡å®šå…¨å±€httpä»£ç†</span></span><br><span class="line">git config --global http.proxy &#x27;http://127.0.0.1:10808&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŒ‡å®šå…¨å±€httpsä»£ç†</span>       </span><br><span class="line">git config --global https.proxy &#x27;http://127.0.0.1:10808&#x27;   </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å–æ¶ˆä»£ç†</span>  </span><br><span class="line">git config --global --unset http.proxy                                    </span><br><span class="line">git config --global --unset https.proxy</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä»…ä»…æŒ‡å®š`https://github.com`æ‰ä½¿ç”¨ä»£ç†</span></span><br><span class="line">git config --global http.https://github.com.proxy http://127.0.0.1:10808 </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ”¯æŒé•¿æ–‡ä»¶å</span></span><br><span class="line">git config --system core.longpaths true  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è§£å†³é‡è£…ç³»ç»Ÿåï¼Œå‡ºç°çš„<span class="string">&quot;fatal: detected dubious ownership in repository Error&quot;</span>é”™è¯¯</span></span><br><span class="line">git config --global --add safe.directory &#x27;*&#x27; </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é»˜è®¤ä½¿ç”¨å˜åŸº</span></span><br><span class="line">git config --global pull.rebase true  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½® Git è®°ä½å¯†ç ï¼ˆHTTP/HTTPSï¼‰</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">no helper ä¸ä½¿ç”¨ä»»ä½•å‡­æ®ç®¡ç†ç¨‹åºï¼Œæ¯æ¬¡æ“ä½œéƒ½ä¼šè¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">wincred ä½¿ç”¨ Windows Credential Managerï¼ˆWindows å‡­æ®ç®¡ç†å™¨ï¼‰ï¼Œå®ƒä¼šå¸®ä½ ä¿å­˜ç”¨æˆ·åå’Œå¯†ç ï¼Œåç»­æ“ä½œè‡ªåŠ¨ä½¿ç”¨ï¼Œå…å»é‡å¤è¾“å…¥ã€‚</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">manager	æŒ‡ Git Credential Manager (GCM)ï¼Œè¿™æ˜¯ Git å®˜æ–¹æ¨èçš„è·¨å¹³å°å‡­æ®ç®¡ç†å·¥å…·ï¼ŒåŠŸèƒ½æ›´å¼ºï¼Œæ”¯æŒå¤šç§èº«ä»½éªŒè¯æ–¹å¼ï¼ˆåŒ…æ‹¬ OAuthã€PATã€MFAç­‰ï¼‰ã€‚åœ¨æ–°ç‰ˆ Git <span class="keyword">for</span> Windows ä¸­é»˜è®¤å¯ç”¨ã€‚</span></span><br><span class="line">git config --global credential.helper manager</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong> <code>git config</code>å‘½ä»¤çš„<code>â€“global</code>å‚æ•°ï¼Œç”¨äº†è¿™ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä½ è¿™å°æœºå™¨ä¸Šæ‰€æœ‰çš„Gitä»“åº“éƒ½ä¼šä½¿ç”¨è¿™ä¸ªé…ç½®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å¯¹æŸä¸ªä»“åº“æŒ‡å®šä¸åŒçš„ç”¨æˆ·åå’ŒEmailåœ°å€ã€‚é…ç½®ä¿å­˜åœ¨ <code>~/.gitconfig</code> æ–‡ä»¶ä¸­ã€‚</p>
<h3 id="ä¸‰ã€åˆ›å»ºä»“åº“"><a href="#ä¸‰ã€åˆ›å»ºä»“åº“" class="headerlink" title="ä¸‰ã€åˆ›å»ºä»“åº“"></a>ä¸‰ã€åˆ›å»ºä»“åº“</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir -p /home/git/repo/test.git</span><br><span class="line">cd /home/git/repo/test.git</span><br><span class="line">git init</span><br></pre></td></tr></table></figure>

<h3 id="å››ã€ç»™Gitä»“åº“æ·»åŠ æ–‡ä»¶"><a href="#å››ã€ç»™Gitä»“åº“æ·»åŠ æ–‡ä»¶" class="headerlink" title="å››ã€ç»™Gitä»“åº“æ·»åŠ æ–‡ä»¶"></a>å››ã€ç»™Gitä»“åº“æ·»åŠ æ–‡ä»¶</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git add file1.txt</span><br><span class="line">git add file2.txt file3.txt</span><br><span class="line">git commit -m &quot;add 3 files.&quot;</span><br></pre></td></tr></table></figure>

<h3 id="äº”ã€æŸ¥çœ‹GitçŠ¶æ€"><a href="#äº”ã€æŸ¥çœ‹GitçŠ¶æ€" class="headerlink" title="äº”ã€æŸ¥çœ‹GitçŠ¶æ€"></a>äº”ã€æŸ¥çœ‹GitçŠ¶æ€</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>

<h3 id="å…­ã€æŸ¥çœ‹å…·ä½“ä¿®æ”¹"><a href="#å…­ã€æŸ¥çœ‹å…·ä½“ä¿®æ”¹" class="headerlink" title="å…­ã€æŸ¥çœ‹å…·ä½“ä¿®æ”¹"></a>å…­ã€æŸ¥çœ‹å…·ä½“ä¿®æ”¹</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git diff readme.txt</span><br></pre></td></tr></table></figure>

<h3 id="ä¸ƒã€ç‰ˆæœ¬æ—¥å¿—"><a href="#ä¸ƒã€ç‰ˆæœ¬æ—¥å¿—" class="headerlink" title="ä¸ƒã€ç‰ˆæœ¬æ—¥å¿—"></a>ä¸ƒã€ç‰ˆæœ¬æ—¥å¿—</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git log</span><br><span class="line">git log --pretty=oneline</span><br></pre></td></tr></table></figure>

<h3 id="å…«ã€ç‰ˆæœ¬å›é€€"><a href="#å…«ã€ç‰ˆæœ¬å›é€€" class="headerlink" title="å…«ã€ç‰ˆæœ¬å›é€€"></a>å…«ã€ç‰ˆæœ¬å›é€€</h3><p>é¦–å…ˆï¼ŒGitå¿…é¡»çŸ¥é“å½“å‰ç‰ˆæœ¬æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼Œåœ¨Gitä¸­ï¼Œç”¨<code>HEAD</code>è¡¨ç¤ºå½“å‰ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯æœ€æ–°çš„æäº¤<code>3628164â€¦882e1e0</code>ï¼ˆæ³¨æ„æˆ‘çš„æäº¤IDå’Œä½ çš„è‚¯å®šä¸ä¸€æ ·ï¼‰ï¼Œä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯<code>HEAD^</code>ï¼ˆæ³¨æ„ç¬¦å·ï¼‰ï¼Œä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯<code>HEAD^^</code>ï¼Œå½“ç„¶å¾€ä¸Š100ä¸ªç‰ˆæœ¬å†™100ä¸ª^æ¯”è¾ƒå®¹æ˜“æ•°ä¸è¿‡æ¥ï¼Œæ‰€ä»¥å†™æˆ<code>HEAD~100</code>ï¼ˆæ³¨æ„ç¬¦å·ï¼‰ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br><span class="line">HEAD is now at ea34578 add distributed</span><br></pre></td></tr></table></figure>

<p>å®šä½åˆ°æŸä¸ªç‰¹å®šç‰ˆæœ¬(ç‰ˆæœ¬å·æ²¡å¿…è¦å†™å…¨ï¼Œå‰å‡ ä½å°±å¯ä»¥äº†,ä½†éœ€ä¿è¯å…¶æ‰€ä»£è¡¨çš„ç‰ˆæœ¬å·å”¯ä¸€ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git reset --hard 3628164</span><br><span class="line">HEAD is now at 3628164 append GPL</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å‘½ä»¤å†å²</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git reflog</span><br></pre></td></tr></table></figure>

<h3 id="ä¹ã€å…¶ä»–"><a href="#ä¹ã€å…¶ä»–" class="headerlink" title="ä¹ã€å…¶ä»–"></a>ä¹ã€å…¶ä»–</h3><h4 id="fatal-unsafe-repositoryé”™è¯¯"><a href="#fatal-unsafe-repositoryé”™è¯¯" class="headerlink" title="fatal: unsafe repositoryé”™è¯¯"></a><code>fatal: unsafe repository</code>é”™è¯¯</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global --add safe.directory &quot;*&quot;</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">chown -R current_user:current_user_group ./</span><br></pre></td></tr></table></figure>

<h4 id="å…³äºåˆå¹¶é€‰é¡¹"><a href="#å…³äºåˆå¹¶é€‰é¡¹" class="headerlink" title="å…³äºåˆå¹¶é€‰é¡¹"></a>å…³äºåˆå¹¶é€‰é¡¹</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hint: You have divergent branches and need to specify how to reconcile them.</span><br><span class="line">hint: You can do so by running one of the following commands sometime before</span><br><span class="line">hint: your next pull:</span><br><span class="line">hint:</span><br><span class="line">hint:   git config pull.rebase false  # merge</span><br><span class="line">hint:   git config pull.rebase true   # rebase</span><br><span class="line">hint:   git config pull.ff only       # fast-forward only</span><br><span class="line">hint:</span><br><span class="line">hint: You can replace &quot;git config&quot; with &quot;git config --global&quot; to set a default</span><br><span class="line">hint: preference for all repositories. You can also pass --rebase, --no-rebase,</span><br><span class="line">hint: or --ff-only on the command line to override the configured default per</span><br><span class="line">hint: invocation.</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸ºåœ¨ <code>git pull</code> æ“ä½œæ—¶ï¼Œå½“å‰çš„æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯æœ‰åˆ†æ­§ï¼ˆdivergent branchesï¼‰ã€‚ç®€å•æ¥è¯´ï¼Œè¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯éƒ½æœ‰æ–°çš„æäº¤ï¼Œè€Œ Git ä¸çŸ¥é“å¦‚ä½•å°†è¿™äº›æ›´æ”¹åˆå¹¶ã€‚</p>
<p>Git æä¾›äº†å‡ ç§æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…·ä½“é€‰æ‹©å“ªç§æ–¹å¼å–å†³äºä½ æƒ³è¦å¦‚ä½•åˆå¹¶è¿™äº›åˆ†æ­§çš„æäº¤ã€‚é”™è¯¯æç¤ºä¸­ç»™å‡ºäº†å‡ ç§é€‰é¡¹ï¼š</p>
<ul>
<li>åˆå¹¶ï¼ˆmergeï¼‰ï¼š<br>git config pull.rebase false<br>è¿™å°†ä½¿ git pull æ‰§è¡Œä¸€ä¸ªæ™®é€šçš„åˆå¹¶æ“ä½œï¼Œå°†è¿œç¨‹çš„æ›´æ”¹åˆå¹¶åˆ°ä½ çš„æœ¬åœ°åˆ†æ”¯ã€‚å¦‚æœæœ‰å†²çªï¼Œä½ éœ€è¦æ‰‹åŠ¨è§£å†³ã€‚</li>
<li>å˜åŸºï¼ˆrebaseï¼‰ï¼š<br>git config pull.rebase true<br>è¿™ä¼šè®© Git ä½¿ç”¨ rebase æ¥åº”ç”¨è¿œç¨‹æ›´æ”¹ï¼Œè€Œä¸æ˜¯ç›´æ¥åˆå¹¶ã€‚è¿™æ„å‘³ç€ä½ çš„æœ¬åœ°æäº¤ä¼šè¢« â€œé‡æ–°åº”ç”¨â€ åœ¨è¿œç¨‹æäº¤ä¹‹ä¸Šï¼Œä¿æŒå†å²çš„çº¿æ€§ã€‚å¦‚æœæœ‰å†²çªï¼ŒGit ä¼šåœ¨åº”ç”¨å˜åŸºæ—¶æç¤ºä½ è§£å†³ã€‚</li>
<li>ä»…å¿«è¿›ï¼ˆfast-forward onlyï¼‰ï¼š<br>git config pull.ff only<br>å¦‚æœä½ çš„æœ¬åœ°åˆ†æ”¯æ²¡æœ‰ä»»ä½•æœ¬åœ°æäº¤ï¼Œå¹¶ä¸”åªæ˜¯è¿œç¨‹åˆ†æ”¯æœ‰æ›´æ–°ï¼Œè¿™å°†ç¡®ä¿ git pull åªèƒ½åœ¨æ²¡æœ‰ä»»ä½•åˆ†æ­§çš„æƒ…å†µä¸‹æ‰§è¡Œï¼ˆå³ï¼Œåªæœ‰åœ¨èƒ½å¿«è¿›åˆå¹¶æ—¶æ‰è¿›è¡Œï¼‰</li>
</ul>
<h3 id="å-å…‹éš†è¶…å¤§æ–‡ä»¶"><a href="#å-å…‹éš†è¶…å¤§æ–‡ä»¶" class="headerlink" title="å å…‹éš†è¶…å¤§æ–‡ä»¶"></a>å å…‹éš†è¶…å¤§æ–‡ä»¶</h3><ol>
<li><p>å…³é—­å‹ç¼©ï¼ˆä¼¼ä¹éå¿…é¡»ï¼‰</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global core.compression 0</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…‹éš†éƒ¨åˆ†</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone --depth 1 &lt;repo_URI&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿›å…¥æ–‡ä»¶å¤¹ï¼Œç»§ç»­å…‹éš†å‰©ä¸‹çš„</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd &lt;repo&gt;</span><br><span class="line">git fetch --unshallow </span><br></pre></td></tr></table></figure>

<p> æˆ–</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git fetch --depth=2147483647</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ€åï¼Œåšä¸€ä¸ªå®Œæ•´çš„æ‹‰å–è¯·æ±‚</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull --all</span><br></pre></td></tr></table></figure></li>
</ol>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">å»–é›ªå³°â€“Gitæ•™ç¨‹</a></li>
<li><a href="https://git-scm.com/book/zh/">Gitä½¿ç”¨æ‰‹å†Œ</a></li>
<li><a href="https://gist.github.com/evantoli/f8c23a37eb3558ab8765">Configure Git to use a proxy</a></li>
</ul>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>FFmpegä½¿ç”¨</title>
    <url>/2024/07/30/FFmpeg%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">ffmpeg  <span class="literal">-i</span> test.wav <span class="number">2</span>&gt;&amp;<span class="number">1</span>|grep <span class="string">&#x27;Duration&#x27;</span>|cut <span class="literal">-d</span> <span class="string">&#x27; &#x27;</span> <span class="operator">-f</span> <span class="number">4</span> |sed s/,//       <span class="comment"># è·å–æ–‡ä»¶é•¿åº¦</span></span><br><span class="line">ffmpeg <span class="operator">-f</span> concat <span class="literal">-i</span> playlist.txt <span class="literal">-c</span> <span class="built_in">copy</span> output.mp4                       <span class="comment"># åˆå¹¶æ–‡ä»¶ï¼Œ`playlist.txt`æ ¼å¼é™„å</span></span><br><span class="line">ffmpeg <span class="literal">-i</span> video.mp4 <span class="literal">-i</span> audio.mp3 <span class="literal">-vcodec</span> <span class="built_in">copy</span> <span class="literal">-acodec</span> <span class="built_in">copy</span> output.mp4     <span class="comment"># åˆå¹¶éŸ³é¢‘è§†é¢‘</span></span><br><span class="line">ffmpeg <span class="literal">-i</span> <span class="string">&quot;url.m3u8&quot;</span> <span class="literal">-c</span> <span class="built_in">copy</span> output.mp4                                   <span class="comment"># ä¸‹è½½ä¸²æµå½±ç‰‡</span></span><br><span class="line"><span class="comment"># æˆªå›¾,æ¯ç§’3å¼ ï¼Œæˆªå›¾è´¨é‡æ§åˆ¶`-qscale:v 1`å¯é€‰å€¼ä¸º`1-31`,å½“è®¾ä¸º`1`æ—¶ï¼Œå¿…é¡»åŠ ä¸Šé€‰é¡¹`-qmin 1`,å› ä¸ºé»˜è®¤`-qmin 2`</span></span><br><span class="line">ffmpeg <span class="literal">-i</span> xxx.mp4 <span class="literal">-qscale</span>:v <span class="number">1</span> <span class="literal">-qmin</span> <span class="number">1</span>  <span class="literal">-r</span> <span class="number">3</span> output_%<span class="number">03</span>d.jpg</span><br><span class="line">ffplay <span class="literal">-i</span> rtmp://ip:port/stream <span class="literal">-fflags</span> nobuffer <span class="literal">-analyzeduration</span> <span class="number">1000</span>    <span class="comment"># å‡å°‘rtmpè§†é¢‘å»¶è¿Ÿ</span></span><br><span class="line">ffplay <span class="literal">-i</span> rtsp://user:password@ip:port/stream   <span class="literal">-analyzeduration</span> <span class="number">1000</span>     <span class="comment"># å‡å°‘rtspè§†é¢‘å»¶è¿Ÿ</span></span><br><span class="line"><span class="comment"># ts æ˜¯æµï¼Œæ²¡æœ‰ç´¢å¼•çš„ï¼Œæ¯æ¬¡å¿«è¿›éƒ½è¦äºŒåˆ†æœç´¢æ‰¾ä½ç½®ï¼Œè¿™æ˜¯è®¾è®¡ä¹‹åˆå°±å†³å®šçš„ï¼Œå¿«è¿›æˆ–å®šä½åˆ°æŸç‚¹æ’­æ”¾å¡é¡¿æ— è§£ã€‚</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨ ffmpeg é‡æ–°å¤åˆ¶æ‰“åŒ… mp4ï¼Œä¸éœ€è¦ç¼–ç ï¼Œé€Ÿåº¦å¾ˆå¿«ã€‚</span></span><br><span class="line">ffmpeg <span class="literal">-i</span> test.ts <span class="literal">-acodec</span> <span class="built_in">copy</span> <span class="literal">-vcodec</span> <span class="built_in">copy</span> <span class="operator">-f</span> mp4 test.mp4</span><br><span class="line">ffmpeg <span class="literal">-i</span> input.wav <span class="literal">-filter</span>:a <span class="string">&quot;volume=0.5&quot;</span> output.wav                     <span class="comment"># è°ƒæ•´éŸ³é‡</span></span><br><span class="line">ffmpeg <span class="literal">-i</span> input.mp4 <span class="literal">-c</span> <span class="built_in">copy</span> <span class="literal">-map</span> <span class="number">0</span> output.mp4                             <span class="comment"># ä¿®å¤MP4æ—¶é—´è½´æŸå</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨æµ</span></span><br><span class="line">ffmpeg <span class="literal">-re</span> <span class="literal">-i</span> rtmp://<span class="number">58.200</span>.<span class="number">131.2</span>:<span class="number">1935</span>/livetv/cctv1 <span class="literal">-c</span> <span class="built_in">copy</span> <span class="operator">-f</span> flv rtmp://<span class="number">10.211</span>.<span class="number">55.5</span>:<span class="number">1985</span>/myapp/testv  </span><br><span class="line">ffmpeg <span class="literal">-re</span> <span class="literal">-stream_loop</span> <span class="literal">-1</span> <span class="literal">-i</span> D:\test_video.mp4 <span class="literal">-vcodec</span> libx264 <span class="literal">-acodec</span> aac <span class="operator">-f</span> flv rtmp://<span class="number">192.168</span>.<span class="number">1.100</span>:<span class="number">1935</span>/live62  <span class="comment"># æ¨mp4  &quot;-stream_loop -1&quot; æ— é™å¾ªç¯è¯»å– </span></span><br><span class="line">ffmpeg <span class="operator">-f</span> avfoundation <span class="literal">-i</span> <span class="string">&quot;1&quot;</span> <span class="literal">-vcodec</span> libx264 <span class="literal">-preset</span> ultrafast <span class="literal">-acodec</span> libfaac <span class="operator">-f</span> flv rtmp://localhost:<span class="number">1935</span>/rtmplive/home  <span class="comment"># å½•åˆ¶æ¡Œé¢å¹¶æ¨é€</span></span><br></pre></td></tr></table></figure>

<p><code>playlist.txt</code></p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">file  &#x27;17247226_part1.flv&#x27;</span><br><span class="line">file  &#x27;17247226_part2.flv&#x27;</span><br><span class="line">file  &#x27;17247226_part3.flv&#x27;</span><br></pre></td></tr></table></figure>

<p><a href="https://minuo.org/yt-dlp-complete-guide-2024">yt-dlpä½¿ç”¨</a></p>
<p>ä½¿ç”¨Cookies</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># éœ€è¦æµè§ˆå™¨å…ˆç™»å½•ç›¸å…³ç½‘ç«™</span></span><br><span class="line">yt<span class="literal">-dlp</span>.exe <span class="literal">-vU</span>  <span class="literal">--cookies-from-browser</span> firefox:<span class="string">&quot;C:\Users\FRANK\AppData\Roaming\Mozilla\Firefox\Profiles\7ypo291s.dev-edition-default\&quot;</span>  <span class="string">&#x27;url&#x27;</span></span><br><span class="line"><span class="comment"># chrome æ— æ•ˆï¼Œä¸çŸ¥æ˜¯bugï¼Œè¿˜æ˜¯è®¾ç½®æ— æ•ˆ</span></span><br><span class="line">yt<span class="literal">-dlp</span>.exe <span class="literal">-vU</span>  <span class="literal">--cookies-from-browser</span> chrome:<span class="string">&quot;C:\Users\FRANK\AppData\Local\Google\Chrome\User Data\Default\Network\Cookies&quot;</span>  <span class="string">&#x27;url&#x27;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>FFmpeg</tag>
      </tags>
  </entry>
  <entry>
    <title>IntelliJ-IDEAä¸­JDKç‰ˆæœ¬ä¸å¯¹çš„æ£€æŸ¥</title>
    <url>/2024/07/30/IntelliJ-IDEA%E4%B8%ADJDK%E7%89%88%E6%9C%AC%E4%B8%8D%E5%AF%B9%E7%9A%84%E6%A3%80%E6%9F%A5/</url>
    <content><![CDATA[<ol>
<li><code>File</code>-&gt;<code>Project Structure</code>-&gt;<code>Project</code>-&gt;<code>Porject SDK:</code></li>
<li><code>File</code>-&gt;<code>Project Structure</code>-&gt;<code>Project</code>-&gt;<code>Porject language level:</code></li>
<li><code>File</code>-&gt;<code>Project Structure</code>-&gt;<code>Modules</code>-&gt;<code>Source</code>-&gt;<code>Language level</code></li>
<li><code>File</code>-&gt;<code>Project Structure</code>-&gt;<code>Modules</code>-&gt;<code>Dependencies</code>-&gt;<code>Module SDK:</code></li>
<li><code>File</code>-&gt;<code>Settings</code>-&gt;<code>Build,Execution,Deployment</code>-&gt;<code>Compiler</code>-&gt;<code>Java Compiler</code>-&gt;<code>Pre-module bytecode version:</code></li>
<li><code>pom.xml</code>çš„<code>properties</code>èŠ‚ç‚¹è®¾ç½®<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;properties&gt;</span><br><span class="line">  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;</span><br><span class="line">  &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;</span><br><span class="line">  &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;</span><br><span class="line">&lt;/properties&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>IntelliJ-IDEAä¹‹HttpClientç»„ä»¶ä½¿ç”¨</title>
    <url>/2024/07/30/IntelliJ-IDEA%E4%B9%8BHttpClient%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h3 id="æ·»åŠ è¿è¡Œç¯å¢ƒ"><a href="#æ·»åŠ è¿è¡Œç¯å¢ƒ" class="headerlink" title="æ·»åŠ è¿è¡Œç¯å¢ƒ"></a>æ·»åŠ è¿è¡Œç¯å¢ƒ</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dev&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;host&quot;</span><span class="punctuation">:</span> <span class="string">&quot;192.168.1.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;port&quot;</span><span class="punctuation">:</span> <span class="number">8080</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="è¯·æ±‚"><a href="#è¯·æ±‚" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">### TEST POST</span><br><span class="line">POST  /rbac/user/login</span><br><span class="line">Host: &#123;&#123;host&#125;&#125;:&#123;&#123;port&#125;&#125;</span><br><span class="line">Content-Type: application/json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;verifyCode&quot;: &quot;1234&quot;,</span><br><span class="line">  &quot;sign&quot;: &quot;&quot;,</span><br><span class="line">  &quot;loginId&quot;: &quot;username&quot;,</span><br><span class="line">  &quot;loginPwd&quot;: &quot;password&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt; &#123;%</span><br><span class="line">client.global.set(&quot;Access-Token&quot;,response.body.data.token)</span><br><span class="line">client.log(&quot;æ‰“å°:&quot;+client.global.get(&quot;Access-Token&quot;))</span><br><span class="line"> %&#125;</span><br><span class="line"></span><br><span class="line">### TEST TOKEN HEADER</span><br><span class="line">GET  /biz/substation/get-count</span><br><span class="line">Host: &#123;&#123;host&#125;&#125;:&#123;&#123;port&#125;&#125;</span><br><span class="line">Accept: application/json</span><br><span class="line">Access-Token: &#123;&#123;Access-Token&#125;&#125;</span><br><span class="line"></span><br><span class="line">### TEST GET WITH PARAMETER</span><br><span class="line">GET /biz/substation/get-as-page?pageNo=1&amp;pageSize=100&amp;searchStr=</span><br><span class="line">Host: &#123;&#123;host&#125;&#125;:&#123;&#123;port&#125;&#125;</span><br><span class="line">Accept: application/json</span><br><span class="line">Access-Token: &#123;&#123;Access-Token&#125;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### TEST form-data  æ³¨æ„ä¸‹é¢çš„ç©ºæ ¼è¡Œï¼Œä¸èƒ½å°‘</span><br><span class="line">POST /file/upload</span><br><span class="line">Host: &#123;&#123;host&#125;&#125;:&#123;&#123;port&#125;&#125;</span><br><span class="line">Content-Type: multipart/form-data;boundary=boundary</span><br><span class="line"></span><br><span class="line">--boundary</span><br><span class="line">Content-Disposition: form-data;name=&quot;file&quot;; filename=&quot;151245340746448896.jpg&quot;</span><br><span class="line"></span><br><span class="line">&lt; ./151245340746448896.jpg</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>IntelliJ IDEA</tag>
      </tags>
  </entry>
  <entry>
    <title>IntelliJ-IDEAä¹‹ä¸€é”®Dockeréƒ¨ç½²Javaç¨‹åº</title>
    <url>/2024/07/30/IntelliJ-IDEA%E4%B9%8B%E4%B8%80%E9%94%AEDocker%E9%83%A8%E7%BD%B2Java%E7%A8%8B%E5%BA%8F/</url>
    <content><![CDATA[<p>åœ¨å®Œæˆæ‰“åŒ…å¥½<code>jar</code>æ­¥éª¤å<br>æ£€æŸ¥docker æœåŠ¡å™¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /usr/lib/systemd/system/docker.service</span><br><span class="line"># åœ¨ExecStart=/usr/bin/dockerdè¿½åŠ  `-H tcp://0.0.0.0:2375 -H unix://var/run/docker.sock`</span><br><span class="line"># é‡æ–°å¯åŠ¨</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>
<p>ç»™ideaå®‰è£…JetBrainså‡ºçš„<code>Docker</code>æ’ä»¶ï¼Œ<br>é…ç½®ideaçš„æ’ä»¶<code>Docker</code>,è®¾ç½®ä¸ºä¸Šé¢çš„åœ°å€<code>tcp://xxx.xxx.xxx.xxx:2375</code></p>
<p>é’ˆå¯¹javaé¡¹ç›®ï¼Œä¸å»ºè®®ä½¿ç”¨&#96;&#96;æ’ä»¶ï¼Œå› å…¶éœ€è¦æœ¬åœ°å®‰è£…dockerï¼Œå¹¶ä¸”æ— äººç»´æŠ¤ã€‚å»ºè®®å¦‚ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li><p>ä½¿ç”¨<code>docker-maven-plugin</code>ã€‚å¤åˆ¶ä»¥ä¸‹ä»£ç åˆ°<code>pom.xml</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;plugin&gt;</span><br><span class="line">  &lt;groupId&gt;com.spotify&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0.0&lt;/version&gt;</span><br><span class="line">  &lt;executions&gt;</span><br><span class="line">    &lt;!--æ‰§è¡Œmvn package,å³æ‰§è¡Œ mvn clean package docker:build--&gt;</span><br><span class="line">    &lt;execution&gt;</span><br><span class="line">      &lt;id&gt;build-image&lt;/id&gt;</span><br><span class="line">      &lt;phase&gt;package&lt;/phase&gt;</span><br><span class="line">      &lt;goals&gt;</span><br><span class="line">        &lt;goal&gt;build&lt;/goal&gt;</span><br><span class="line">      &lt;/goals&gt;</span><br><span class="line">    &lt;/execution&gt;</span><br><span class="line">  &lt;/executions&gt;</span><br><span class="line"></span><br><span class="line">  &lt;configuration&gt;</span><br><span class="line">    &lt;!-- é•œåƒåç§° --&gt;</span><br><span class="line">    &lt;imageName&gt;$&#123;project.artifactId&#125;&lt;/imageName&gt;</span><br><span class="line">    &lt;!-- æŒ‡å®šæ ‡ç­¾ --&gt;</span><br><span class="line">    &lt;imageTags&gt;</span><br><span class="line">      &lt;imageTag&gt;latest&lt;/imageTag&gt;</span><br><span class="line">    &lt;/imageTags&gt;</span><br><span class="line">    &lt;!-- åŸºç¡€é•œåƒ--&gt;</span><br><span class="line">    &lt;baseImage&gt;openjdk:8-jdk-alpine&lt;/baseImage&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- åˆ‡æ¢åˆ°å®¹å™¨å·¥ä½œç›®å½•--&gt;</span><br><span class="line">    &lt;workdir&gt;/ROOT&lt;/workdir&gt;</span><br><span class="line"></span><br><span class="line">    &lt;entryPoint&gt;[&quot;java&quot;,&quot;-jar&quot;,&quot;$&#123;project.build.finalName&#125;.jar&quot;]&lt;/entryPoint&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- æŒ‡å®šè¿œç¨‹ Docker APIåœ°å€  --&gt;</span><br><span class="line">    &lt;dockerHost&gt;http://192.168.1.20:2375&lt;/dockerHost&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- å¤åˆ¶ jaråŒ…åˆ°dockerå®¹å™¨æŒ‡å®šç›®å½•--&gt;</span><br><span class="line">    &lt;resources&gt;</span><br><span class="line">      &lt;resource&gt;</span><br><span class="line">        &lt;targetPath&gt;/ROOT&lt;/targetPath&gt;</span><br><span class="line">        &lt;!-- ç”¨äºæŒ‡å®šéœ€è¦å¤åˆ¶çš„æ ¹ç›®å½•ï¼Œ$&#123;project.build.directory&#125;è¡¨ç¤ºtargetç›®å½• --&gt;</span><br><span class="line">        &lt;directory&gt;$&#123;project.build.directory&#125;&lt;/directory&gt;</span><br><span class="line">        &lt;!-- ç”¨äºæŒ‡å®šéœ€è¦å¤åˆ¶çš„æ–‡ä»¶ï¼Œ$&#123;project.build.finalName&#125;.jarå°±æ˜¯æ‰“åŒ…åçš„targetç›®å½•ä¸‹çš„jaråŒ…åç§°ã€€--&gt;</span><br><span class="line">        &lt;include&gt;$&#123;project.build.finalName&#125;.jar&lt;/include&gt;</span><br><span class="line">      &lt;/resource&gt;</span><br><span class="line">    &lt;/resources&gt;</span><br><span class="line">  &lt;/configuration&gt;</span><br><span class="line">&lt;/plugin&gt;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå†æ¬¡æ‰§è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mvn clean package</span><br></pre></td></tr></table></figure>
<p>é€‰æ‹©<code>server</code>,æ‰¾åˆ°ç”Ÿæˆçš„é•œåƒï¼Œå³é”®<code>åˆ›å»ºå®¹å™¨</code>ï¼Œå°±èƒ½çœ‹åˆ°dockerè¿è¡Œç»“æœã€‚æˆ–è€…åˆ°å®¹å™¨é‡Œï¼Œåˆ›å»ºå®¹å™¨è¿è¡Œè¯¥imageã€‚</p>
</li>
<li><p>ä½¿ç”¨<code>jib</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;plugin&gt;</span><br><span class="line">    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.1.4&lt;/version&gt;</span><br><span class="line">    &lt;configuration&gt;</span><br><span class="line">        &lt;from&gt;</span><br><span class="line">            &lt;!-- æ³¨æ„ï¼š`docker`å®˜æ–¹åœ°å€è¦å¡«`docker.io/username/image-name:version`ï¼Œå¦‚ä¸‹ã€‚ --&gt;</span><br><span class="line">            &lt;!-- å¦‚æœæŠŠ `docker.io`æ›´æ¢ä¸º `registry.hub.docker.com`(JetBrainæ’ä»¶é‡Œé¢å¡«å†™çš„åœ°å€)æˆ–`hub.docker.com`ï¼ˆç½‘é¡µè®¿é—®çš„åœ°å€ï¼‰æˆ–`index.docker.io/v1/`(`docker info`æ˜¾ç¤ºçš„ä»“åº“)éƒ½ä¸èƒ½æˆåŠŸ--&gt;</span><br><span class="line">            &lt;image&gt;docker.io/frankbsd/openjdk8:v1&lt;/image&gt;</span><br><span class="line">            &lt;auth&gt;</span><br><span class="line">                &lt;username&gt;username&lt;/username&gt;</span><br><span class="line">                &lt;password&gt;password&lt;/password&gt;</span><br><span class="line">            &lt;/auth&gt;</span><br><span class="line">        &lt;/from&gt;</span><br><span class="line">        &lt;to&gt;</span><br><span class="line">            &lt;image&gt;docker.io/frankbsd/test-docker&lt;/image&gt;</span><br><span class="line">            &lt;auth&gt;</span><br><span class="line">                &lt;username&gt;username&lt;/username&gt;</span><br><span class="line">                &lt;password&gt;password&lt;/password&gt;</span><br><span class="line">            &lt;/auth&gt;</span><br><span class="line">        &lt;/to&gt;</span><br><span class="line">    &lt;/configuration&gt;</span><br><span class="line">    &lt;executions&gt;</span><br><span class="line">        &lt;execution&gt;</span><br><span class="line">            &lt;phase&gt;package&lt;/phase&gt;</span><br><span class="line">            &lt;goals&gt;</span><br><span class="line">                &lt;goal&gt;build&lt;/goal&gt;</span><br><span class="line">            &lt;/goals&gt;</span><br><span class="line">        &lt;/execution&gt;</span><br><span class="line">    &lt;/executions&gt;</span><br><span class="line">&lt;/plugin&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>ç„¶åæ‰§è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo docker run frankbsd/test-docker -it /bin/bash</span><br></pre></td></tr></table></figure>
<p>æˆ–spring-bootç±»webåº”ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo docker run -d --name test-docker -p 8080:8080 -it frankbsd/test-docker  </span><br></pre></td></tr></table></figure>

<p>è®¾ç½®ç§æœ‰ä»“åº“</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ docker run -d \</span><br><span class="line">    -p 5000:5000 \</span><br><span class="line">    -v /opt/data/registry:/var/lib/registry \</span><br><span class="line">    registry</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶ï¼Œåªèƒ½ä½¿ç”¨<code>127.0.0.1:5000</code>è®¿é—®<br>è¦å±€åŸŸç½‘å¯ä»¥è®¿é—®ï¼Œé¡»é…ç½®é<code>https</code>ä»“åº“åœ°å€ã€‚ç¼–è¾‘<code>/etc/docker/daemon.json</code>(ä½äºdockerå®‰è£…çš„æœºå™¨ï¼Œé<code>registry</code>é•œåƒä¸­çš„æ–‡ä»¶)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;insecure-registries&quot;: [</span><br><span class="line">    &quot;192.168.199.100:5000&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ç§æœ‰ä»“åº“æœ‰çš„é•œåƒ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># æŸ¥çœ‹ç§æœ‰ä»“åº“æ‰€æœ‰é•œåƒå</span><br><span class="line">curl ip:port/v2/_catalog</span><br><span class="line"># æŸ¥çœ‹æŸä¸ªé•œåƒçš„æ ‡ç­¾åˆ—è¡¨</span><br><span class="line">curl ip:port/v2/image-name/tags/list</span><br></pre></td></tr></table></figure>
<p>è¦åœ¨<code>jib</code>ä¸­ä½¿ç”¨é<code>https</code>çš„ç§æœ‰ä»“åº“ï¼Œéœ€è¦é…ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;allowInsecureRegistries&gt;true&lt;/allowInsecureRegistries&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>

<p>å®˜æ–¹æ²¡æœ‰ç›´æ¥æä¾›åˆ é™¤å‘½ä»¤ï¼Œä½†æœ‰apiï¼Œå¯å‚è€ƒ<a href="https://github.com/burnettk/delete-docker-registry-image">delete-docker-registry-image</a></p>
<p><a href="https://yeasy.gitbook.io/docker_practice/repository/registry">åœ¨ç§æœ‰ä»“åº“ä¸Šä¼ ã€æœç´¢ã€ä¸‹è½½é•œåƒ</a></p>
<p>è®¾ç½®ç§æœ‰ä»“åº“åï¼Œä½¿ç”¨<code>docker pull</code>ä¸èƒ½å†ç›´æ¥ä»docker hubæ‹‰å–é•œåƒï¼Œè¦ä½¿ç”¨å¦‚ä¸‹æ–¹å¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker pull docker.io/username/image-name:tag</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>IntelliJ IDEA</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Jacksonå°è£…</title>
    <url>/2024/07/31/Jackson%E5%B0%81%E8%A3%85/</url>
    <content><![CDATA[<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rl.algorithmassistance.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonInclude;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.core.JsonProcessingException;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.core.type.TypeReference;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.DeserializationFeature;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.SerializationFeature;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.StringUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JsonUtils</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">ObjectMapper</span> <span class="variable">om</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯¹è±¡çš„æ‰€æœ‰å­—æ®µå…¨éƒ¨åˆ—å…¥ï¼Œè¿˜æ˜¯å…¶ä»–çš„é€‰é¡¹ï¼Œå¯ä»¥å¿½ç•¥nullç­‰</span></span><br><span class="line">        om.setSerializationInclusion(JsonInclude.Include.ALWAYS);</span><br><span class="line">        <span class="comment">// è®¾ç½®Dateç±»å‹çš„åºåˆ—åŒ–åŠååºåˆ—åŒ–æ ¼å¼</span></span><br><span class="line">        om.setDateFormat(<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¿½ç•¥ç©ºBeanè½¬jsonçš„é”™è¯¯</span></span><br><span class="line">        om.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, <span class="literal">false</span>);</span><br><span class="line">        <span class="comment">// å¿½ç•¥æœªçŸ¥å±æ€§ï¼Œé˜²æ­¢jsonå­—ç¬¦ä¸²ä¸­å­˜åœ¨ï¼Œjavaå¯¹è±¡ä¸­ä¸å­˜åœ¨å¯¹åº”å±æ€§çš„æƒ…å†µå‡ºç°é”™è¯¯</span></span><br><span class="line">        om.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ³¨å†Œä¸€ä¸ªæ—¶é—´åºåˆ—åŒ–åŠååºåˆ—åŒ–çš„å¤„ç†æ¨¡å—ï¼Œç”¨äºè§£å†³jdk8ä¸­localDateTimeç­‰çš„åºåˆ—åŒ–é—®é¢˜</span></span><br><span class="line">        om.registerModule(<span class="keyword">new</span> <span class="title class_">JavaTimeModule</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹è±¡ =&gt; jsonå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> obj æºå¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; String <span class="title function_">toJson</span><span class="params">(T obj)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (obj != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                json = om.writeValueAsString(obj);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (JsonProcessingException e) &#123;</span><br><span class="line">                log.warn(e.getMessage(), e);</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> json;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * jsonå­—ç¬¦ä¸² =&gt; å¯¹è±¡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> json  æºjsonä¸²</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> clazz å¯¹è±¡ç±»</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt;   æ³›å‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">parse</span><span class="params">(String json, Class&lt;T&gt; clazz)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> parse(json, clazz, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * jsonå­—ç¬¦ä¸² =&gt; å¯¹è±¡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> json æºjsonä¸²</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> type å¯¹è±¡ç±»å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt;  æ³›å‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">parse</span><span class="params">(String json, TypeReference type)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> parse(json, <span class="literal">null</span>, type);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * json =&gt; å¯¹è±¡å¤„ç†æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * &lt;br&gt;</span></span><br><span class="line"><span class="comment">     * å‚æ•°clazzå’Œtypeå¿…é¡»ä¸€ä¸ªä¸ºnullï¼Œå¦ä¸€ä¸ªä¸ä¸ºnull</span></span><br><span class="line"><span class="comment">     * &lt;br&gt;</span></span><br><span class="line"><span class="comment">     * æ­¤æ–¹æ³•ä¸å¯¹å¤–æš´éœ²ï¼Œè®¿é—®æƒé™ä¸ºprivate</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> json  æºjsonä¸²</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> clazz å¯¹è±¡ç±»</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> type  å¯¹è±¡ç±»å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt;   æ³›å‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">parse</span><span class="params">(String json, Class&lt;T&gt; clazz, TypeReference type)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">T</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (StringUtils.hasText(json)) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (clazz != <span class="literal">null</span>) &#123;</span><br><span class="line">                    obj = om.readValue(json, clazz);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    obj = (T) om.readValue(json, type);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                log.warn(e.getMessage(), e);</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>IntelliJ IDEAä½¿ç”¨</title>
    <url>/2024/07/30/IntelliJ-IDEA%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="è®¾ç½®IDEAçš„é…ç½®æ–‡ä»¶"><a href="#è®¾ç½®IDEAçš„é…ç½®æ–‡ä»¶" class="headerlink" title="è®¾ç½®IDEAçš„é…ç½®æ–‡ä»¶"></a>è®¾ç½®IDEAçš„é…ç½®æ–‡ä»¶</h2><p>a. <code>C:\Users\FRANK\AppData\Roaming\JetBrains\IntelliJIdea2021.3\idea.properties</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># é¿å…ç¼–è¯‘æ—¥å¿—è¿‡é•¿ï¼Œå‰é¢çš„è¢«è¦†ç›–æ‰</span><br><span class="line">idea.cycle.buffer.size=disabled</span><br><span class="line"></span><br><span class="line"># ç¦ç”¨å¯¹ WSL çš„ P9 æ–‡ä»¶ç³»ç»ŸæŒ‚è½½æ”¯æŒï¼ˆä¹Ÿå°±æ˜¯ä¼˜åŒ–çš„æŒ‚è½½æ–¹å¼ï¼‰</span><br><span class="line"># é˜»æ­¢ IntelliJ è‡ªåŠ¨æ£€æµ‹ WSL å¹¶æç¤ºä½  â€œWSL detectedâ€ã€â€æ‰“å¼€ WSL ç›®å½•â€ã€â€WSL toolchainâ€ ç­‰åŠŸèƒ½ã€‚</span><br><span class="line"># ä¹Ÿä¸ä¼šç¦ç”¨åœ¨é¡¹ç›® SDKã€ç»ˆç«¯æˆ–è¿è¡Œé…ç½®ä¸­ä½¿ç”¨ WSLã€‚</span><br><span class="line">wsl.p9.support.disabled=true</span><br></pre></td></tr></table></figure>

<p>ã€æ³¨æ„ã€‘IdeaConfigå’ŒIDEAä¸»ç¨‹åºç›®å½•å¹¶åˆ—å­˜æ”¾åœ¨IDEAä¸‹ï¼Œå¦‚æœideaConfigå­˜æ”¾åœ¨ä¸»ç¨‹åºç›®å½•ä¸‹ï¼Œä¼šå¯¼è‡´æŠ¥é”™â€œä¸´æ—¶æ–‡ä»¶ç›®å½•åœ¨å®‰è£…æ–‡ä»¶å¤¹ä¸‹â€ï¼Œæ— æ³•æ›´æ–°</p>
<h2 id="è®¾ç½®vmoptions"><a href="#è®¾ç½®vmoptions" class="headerlink" title="è®¾ç½®vmoptions"></a>è®¾ç½®<code>vmoptions</code></h2><p>b. <code>C:\Users\FRANK\AppData\Roaming\JetBrains\IntelliJIdea2021.3\idea64.exe.vmoptions</code></p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è§£å†³`IDEA`å„ç§ä¹±ç </span></span><br><span class="line"><span class="attr">-Dfile.encoding</span>=<span class="string">UTF-8</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># æœ€å°å¯åŠ¨å†…å­˜å‚æ•°</span></span><br><span class="line"><span class="attr">-Xms1g</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># æœ€å¤§è¿è¡Œå†…å­˜å‚æ•°</span></span><br><span class="line"><span class="attr">-Xmx2g</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># ä½¿ç”¨ZGC</span></span><br><span class="line"><span class="attr">-XX</span>:<span class="string">+useZGC</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># ä¿ç•™ä»£ç å ç”¨çš„å†…å­˜å®¹é‡å‚æ•°</span></span><br><span class="line"><span class="attr">-XX</span>:<span class="string">ReservedCodeCacheSize=512m</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># å½»åº•å…³é—­ IntelliJ å¯¹ WSL çš„æ„ŸçŸ¥åŠŸèƒ½ã€‚æ‰€æœ‰ WSL Toolchain / è‡ªåŠ¨ WSL SDK / ç»ˆç«¯è·¯å¾„æ£€æµ‹ ç­‰éƒ½å°†è¢«å…³é—­ã€‚</span></span><br><span class="line"><span class="attr">-Dide.wsl.enable</span>=<span class="string">false</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># ä½¿ç”¨`ja-netfilter`å‰æ</span></span><br><span class="line"><span class="attr">--add-opens</span>=<span class="string">java.base/jdk.internal.org.objectweb.asm=ALL-UNNAMED</span></span><br><span class="line"><span class="attr">--add-opens</span>=<span class="string">java.base/jdk.internal.org.objectweb.asm.tree=ALL-UNNAMED</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥ä½¿ç”¨ \\ ä»£æ›¿ /</span></span><br><span class="line"><span class="attr">-javaagent</span>:<span class="string">D:/SystemConfig/IdeaIUConfig/jetbra/ja-netfilter.jar=jetbrains</span></span><br></pre></td></tr></table></figure>

<p><a href="https://github.com/ja-netfilter/ja-netfilter">ja-netfilter</a><br><a href="https://jetbra.in/s">jetbra</a></p>
<h2 id="é…ç½®é¡¹ç›®ç¼–ç å’ŒIDEç¼–ç "><a href="#é…ç½®é¡¹ç›®ç¼–ç å’ŒIDEç¼–ç " class="headerlink" title="é…ç½®é¡¹ç›®ç¼–ç å’ŒIDEç¼–ç "></a>é…ç½®é¡¹ç›®ç¼–ç å’ŒIDEç¼–ç </h2><p>ã€Fileã€‘â†’ã€Settingsã€‘â†’ã€Editorã€‘â†’ã€File Encodingsã€‘<br>è®¾ç½®ã€IDE Encodingã€‘ã€ã€Project Encodingã€‘ã€ã€Default encoding for properties filesã€‘ä¸º<code>UTF-8</code></p>
<h2 id="æ·»åŠ å³é”®å¿«æ·é”®"><a href="#æ·»åŠ å³é”®å¿«æ·é”®" class="headerlink" title="æ·»åŠ å³é”®å¿«æ·é”®"></a>æ·»åŠ å³é”®å¿«æ·é”®</h2><figure class="highlight plaintext"><figcaption><span>idea64.reg</span></figcaption><table><tr><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\shell\IdeaIU]</span><br><span class="line">@=&quot;Open With IntelliJ IDEA Ultimate&quot;</span><br><span class="line">&quot;Icon&quot;=&quot;D:\\Scoop\\apps\\idea-ultimate\\current\\IDE\\bin\\idea64.exe&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\shell\IdeaIU\command]</span><br><span class="line">@=&quot;\&quot;D:\\Scoop\\apps\\idea-ultimate\\current\\IDE\\bin\\idea64.exe\&quot; \&quot;%1\&quot;&quot;</span><br></pre></td></tr></table></figure>

<h2 id="JDKæ–‡æ¡£"><a href="#JDKæ–‡æ¡£" class="headerlink" title="JDKæ–‡æ¡£"></a>JDKæ–‡æ¡£</h2><p>æ–°å»ºé¡¹ç›®æˆ–æ‰“å¼€ä»»æ„å·²æœ‰é¡¹ç›®</p>
<p>æ–‡ä»¶â€“&gt;é¡¹ç›®ç»“æ„â€“&gt;SDKâ€“&gt;JDK versionâ€“&gt;æ–‡æ¡£è·¯å¾„</p>
<ul>
<li><p>æ·»åŠ æœ¬åœ°æ–‡æ¡£</p>
<ul>
<li>æ·»åŠ  JDK çš„ <code>doc\api</code>ç›®å½•</li>
</ul>
</li>
<li><p>ä½¿ç”¨åœ¨çº¿</p>
<ul>
<li>ä½¿ç”¨æœ€å³ä¾§çš„æ·»åŠ ç½‘é¡µé“¾æ¥æŒ‰é’®</li>
</ul>
</li>
</ul>
<p><a href="https://docs.oracle.com/en/java/javase/21/docs/api/">ç”²éª¨æ–‡å®˜ç½‘</a> æä¾›å…¨éƒ¨è‹±æ–‡æ–‡æ¡£<br><a href="https://cunzaima.cn/">å­˜åœ¨ç </a> æä¾›JDK 21 APIä¸­æ–‡æ–‡æ¡£<br><a href="https://www.mklab.cn/apis">mklab</a>æä¾› JDK7-21çš„APIæ–‡æ¡£ï¼Œä¸­æ–‡ç‰ˆæœ‰8å’Œ11<br><a href="https://www.apiref.com/">apiref</a>æä¾› JDK 8å’Œ11çš„ä¸­æ–‡æ–‡æ¡£<br><a href="https://www.matools.com/api">matools</a> æä¾› JDK 8å’Œ11çš„ä¸­æ–‡æ–‡æ¡£</p>
<h2 id="é…ç½®-Maven"><a href="#é…ç½®-Maven" class="headerlink" title="é…ç½® Maven"></a>é…ç½® <code>Maven</code></h2><p><a href="https://mirrors.aliyun.com/apache/maven/">ä¸‹è½½<code>Maven</code></a>æˆ–è€…ä½¿ç”¨IDEAè‡ªå¸¦Maven(ä½ç½®åœ¨<code>$&#123;IntelliJ IDEA&#125;\plugins\maven\lib\maven3</code>)</p>
<p>é…ç½®ç¯å¢ƒå˜é‡<code>MAVEN_HOME</code>ä¸º<code>D:\ProgramFiles\Java\apache-maven-3.6.0</code>æˆ–<code>D:\ProgramFiles\Java\ideaIU-2019.3.1.win\plugins\maven\lib\maven3</code><br>å¹¶å°†<code>%MAVEN_HOME%\bin</code>æ·»åŠ åˆ°<code>PATH</code>ä¸­<br>å‘½ä»¤è¡Œæµ‹è¯•</p>
<figure class="highlight pwsh"><table><tr><td class="code"><pre><span class="line">mvn <span class="literal">-v</span></span><br></pre></td></tr></table></figure>

<h3 id="çº¦å®šé…ç½®"><a href="#çº¦å®šé…ç½®" class="headerlink" title="çº¦å®šé…ç½®"></a>çº¦å®šé…ç½®</h3><p><code>Maven</code>æå€¡ä½¿ç”¨ä¸€ä¸ªå…±åŒçš„æ ‡å‡†ç›®å½•ç»“æ„ï¼Œ<code>Maven</code>ä½¿ç”¨çº¦å®šä¼˜äºé…ç½®çš„åŸåˆ™ï¼Œå¤§å®¶å°½å¯èƒ½çš„éµå®ˆè¿™æ ·çš„ç›®å½•ç»“æ„ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>ç›®å½•</th>
<th>ç›®çš„</th>
</tr>
</thead>
<tbody><tr>
<td><code>$&#123;basedir&#125;</code></td>
<td>å­˜æ”¾<code>pom.xml</code>å’Œæ‰€æœ‰çš„å­ç›®å½•</td>
</tr>
<tr>
<td><code>$&#123;basedir&#125;/src/main/java</code></td>
<td>é¡¹ç›®çš„<code>java</code>æºä»£ç </td>
</tr>
<tr>
<td><code>$&#123;basedir&#125;/src/main/resources</code></td>
<td>é¡¹ç›®çš„èµ„æºï¼Œæ¯”å¦‚è¯´<code>property</code>æ–‡ä»¶ï¼Œ<code>springmvc.xml</code></td>
</tr>
<tr>
<td><code>$&#123;basedir&#125;/src/test/java</code></td>
<td>é¡¹ç›®çš„æµ‹è¯•ç±»ï¼Œæ¯”å¦‚è¯´<code>Junit</code>ä»£ç </td>
</tr>
<tr>
<td><code>$&#123;basedir&#125;/src/test/resources</code></td>
<td>æµ‹è¯•ç”¨çš„èµ„æº</td>
</tr>
<tr>
<td><code>$&#123;basedir&#125;/src/main/webapp/WEB-INF</code></td>
<td><code>web</code>åº”ç”¨æ–‡ä»¶ç›®å½•ï¼Œ<code>web</code>é¡¹ç›®çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å­˜æ”¾<code>web.xml</code>ã€æœ¬åœ°å›¾ç‰‡ã€<code>jsp</code>è§†å›¾é¡µé¢</td>
</tr>
<tr>
<td><code>$&#123;basedir&#125;/target</code></td>
<td>æ‰“åŒ…è¾“å‡ºç›®å½•</td>
</tr>
<tr>
<td><code>$&#123;basedir&#125;/target/classes</code></td>
<td>ç¼–è¯‘è¾“å‡ºç›®å½•</td>
</tr>
<tr>
<td><code>$&#123;basedir&#125;/target/test-classes</code></td>
<td>æµ‹è¯•ç¼–è¯‘è¾“å‡ºç›®å½•</td>
</tr>
<tr>
<td><code>Test.java</code></td>
<td><code>Maven</code>åªä¼šè‡ªåŠ¨è¿è¡Œç¬¦åˆè¯¥å‘½åè§„åˆ™çš„æµ‹è¯•ç±»</td>
</tr>
<tr>
<td><code>~/.m2/repository</code></td>
<td><code>Maven</code>é»˜è®¤çš„æœ¬åœ°ä»“åº“ç›®å½•ä½ç½®ï¼ˆå¯æ›´æ”¹ï¼‰</td>
</tr>
</tbody></table>
<h3 id="è®¾ç½®æœ¬åœ°ä»“åº“"><a href="#è®¾ç½®æœ¬åœ°ä»“åº“" class="headerlink" title="è®¾ç½®æœ¬åœ°ä»“åº“"></a>è®¾ç½®æœ¬åœ°ä»“åº“</h3><p>ç¼–è¾‘<code>~/.m2/settings.xml</code></p>
<h3 id="è®¾ç½®é•œåƒ"><a href="#è®¾ç½®é•œåƒ" class="headerlink" title="è®¾ç½®é•œåƒ"></a>è®¾ç½®é•œåƒ</h3><p>åœ¨<code>mirrors</code>æ ‡ç­¾ä¸­æ·»åŠ å­èŠ‚ç‚¹:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">    <span class="comment">&lt;!-- mirrorOfè®¾ç½®</span></span><br><span class="line"><span class="comment">        *           åŒ¹é…æ‰€æœ‰ä»“åº“IDã€‚</span></span><br><span class="line"><span class="comment">        external:*  åŒ¹é…é™¤æœ¬åœ°ä¸»æœºæˆ–åŸºäºæ–‡ä»¶çš„å­˜å‚¨åº“å¤–çš„æ‰€æœ‰ä»“åº“ã€‚</span></span><br><span class="line"><span class="comment">        ä» Maven 3.8.0 å¼€å§‹ï¼Œexternal:http:* åŒ¹é…æ‰€æœ‰ä½¿ç”¨ HTTP çš„å­˜å‚¨åº“ï¼Œé™¤äº†é‚£äº›ä½¿ç”¨ localhost çš„å­˜å‚¨åº“ã€‚</span></span><br><span class="line"><span class="comment">        å¯ä»¥ä½¿ç”¨é€—å·ä½œä¸ºåˆ†éš”ç¬¦æŒ‡å®šå¤šä¸ªå­˜å‚¨åº“</span></span><br><span class="line"><span class="comment">        æ„Ÿå¹å·å¯ä»¥ä¸ä¸Šè¿°é€šé…ç¬¦ä¹‹ä¸€ç»“åˆä½¿ç”¨ä»¥æ’é™¤å­˜å‚¨åº“ ID</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        æ³¨æ„ä¸è¦åœ¨é€—å·åˆ†éš”åˆ—è¡¨ä¸­çš„æ ‡è¯†ç¬¦æˆ–é€šé…ç¬¦å‘¨å›´åŒ…å«é¢å¤–çš„ç©ºæ ¼ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        å½“æ‚¨ä½¿ç”¨é«˜çº§è¯­æ³•å¹¶é…ç½®å¤šä¸ªé•œåƒæ—¶ï¼Œå£°æ˜é¡ºåºå¾ˆé‡è¦ã€‚&lt;mirrorOf&gt;å½“ Maven</span></span><br><span class="line"><span class="comment">    æŸ¥æ‰¾æŸä¸ªå­˜å‚¨åº“çš„é•œåƒæ—¶ï¼Œå®ƒé¦–å…ˆæ£€æŸ¥ä¸å­˜å‚¨åº“æ ‡è¯†ç¬¦å®Œå…¨åŒ¹é…çš„é•œåƒã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›´æ¥åŒ¹é…ï¼ŒMavenä¼šæ ¹æ®ä¸Šé¢çš„è§„åˆ™ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰é€‰æ‹©ç¬¬ä¸€ä¸ªåŒ¹é…çš„é•œåƒå£°æ˜ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ›´æ”¹å®šä¹‰ä¸­çš„é¡ºåºæ¥å½±å“åŒ¹é…é¡ºåºsettings.xml</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        ä¾‹å­ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        * = ä¸€åˆ‡</span></span><br><span class="line"><span class="comment">        external:* = ä¸åœ¨æœ¬åœ°ä¸»æœºä¸Šä¸”ä¸åŸºäºæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹ã€‚</span></span><br><span class="line"><span class="comment">        repo,repo1 = repo æˆ– repo1</span></span><br><span class="line"><span class="comment">        *,!repo1 = é™¤ repo1 ä¹‹å¤–çš„æ‰€æœ‰å†…å®¹</span></span><br><span class="line"><span class="comment">      --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-maven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>é˜¿é‡Œäº‘å…¬å…±ä»“åº“<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="è®¾ç½®ä»“åº“"><a href="#è®¾ç½®ä»“åº“" class="headerlink" title="è®¾ç½®ä»“åº“"></a>è®¾ç½®ä»“åº“</h3><p>å¦‚æœæƒ³ä½¿ç”¨å…¶å®ƒä»£ç†ä»“åº“,å¯åœ¨<code>&lt;repositories&gt;&lt;/repositories&gt;</code>èŠ‚ç‚¹ä¸­åŠ å…¥å¯¹åº”çš„ä»“åº“ä½¿ç”¨åœ°å€ã€‚ä»¥ä½¿ç”¨springä»£ç†ä»“ä¸ºä¾‹</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>spring<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/spring<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="é…ç½®archetype"><a href="#é…ç½®archetype" class="headerlink" title="é…ç½®archetype"></a>é…ç½®<code>archetype</code></h3><p>archetypeé…ç½®(<code>maven-archetype-plugin 3.x</code>å·²ç»ä¸æ”¯æŒæ­¤é…ç½®,<code>maven-archetype-plugin 2.x</code>å¯ä»¥)</p>
<p><code>archetype</code>æ’ä»¶æœ‰ä¸€ä¸ª<code>archetypeCatalog</code>å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æŒ‡å®šä»å“ªé‡Œè·å–<code>archetype-catalog.xml</code>æ–‡ä»¶ï¼Œå¯é€‰çš„å–å€¼æœ‰ï¼š</p>
<ul>
<li><code>internal</code> åªä½¿ç”¨å†…ç½®çš„ç›®å½•æ–‡ä»¶ï¼ˆåªåŒ…å«<code>org.apache.maven.archetypes</code>åº•ä¸‹çš„æ¨¡æ¿å·¥ç¨‹ï¼‰</li>
<li><code>local</code> ä½¿ç”¨æœ¬åœ°çš„ç›®å½•æ–‡ä»¶ï¼ˆ<code>~/.m2/archetype-catalog.xml</code>ï¼‰</li>
<li><code>remote</code> ä½¿ç”¨<code>maven</code>ç½‘ç«™ä¸Šçš„ç›®å½•æ–‡ä»¶</li>
<li><code>file://path/to/archetype-catalog.xml</code> æŒ‡å®šæœ¬åœ°çš„ä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å«<code>archetype-catalog.xml</code>æŒ‡å®šç›®å½•å°±å¯ä»¥äº†</li>
<li><code>http://url/to/archetype-catalog.xml</code> æŒ‡å®šè¿œç¨‹çš„ä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å«<code>archetype-catalog.xml</code>æŒ‡å®šç›®å½•å°±å¯ä»¥äº†<br>é»˜è®¤çš„å€¼æ˜¯<code>remote,local</code>ï¼Œä¹Ÿå°±æ˜¯å…ˆæ˜¾ç¤ºå®˜æ–¹ç½‘ç«™ä¸Šçš„ï¼Œå†æ˜¾ç¤ºæœ¬åœ°çš„ã€‚</li>
</ul>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æœ‰ä¸¤ç§åšæ³•ï¼š</p>
<ul>
<li>å¦‚æœä½ è§‰å¾—<code>org.apache.maven.archetypes</code>é‡Œçš„æ¨¡æ¿å·¥ç¨‹å¤Ÿç”¨äº†ï¼Œç›´æ¥æŒ‡å®š<code>-DarchetypeCatalog=internal</code>å³å¯</li>
<li>å¦‚æœä½ æƒ³è¦å®Œæ•´çš„æ¨¡æ¿å·¥ç¨‹ï¼Œå¯ä»¥å…ˆä¸‹è½½<a href="https://repo.maven.apache.org/maven2/archetype-catalog.xml">archetype-catalog.xml</a><code>https://repo.maven.apache.org/maven2/archetype-catalog.xml</code>ï¼Œç„¶åæŠŠå®ƒæ”¾åˆ°<code>~/.m2</code>ä¸‹ï¼Œç„¶åæŒ‡å®š<code>-DarchetypeCatalog=local</code>å³å¯</li>
</ul>
<p>å‚è€ƒ</p>
<ol>
<li><a href="https://maven.apache.org/settings.html">Maven Settings Reference</a></li>
<li><a href="https://maven.apache.org/settings.html#Mirrors">Maven Settings Reference Mirrors</a></li>
<li><a href="https://maven.apache.org/guides/mini/guide-mirror-settings.html">Using Mirrors for Repositories</a></li>
<li><a href="https://swenfang.github.io/2018/06/03/Maven-Priority/">Mavenä»“åº“ç†è§£å’Œä¼˜å…ˆçº§</a></li>
<li><a href="https://maven.aliyun.com/mvn/guide">é˜¿é‡Œäº‘äº‘æ•ˆ Maven</a></li>
</ol>
<h3 id="IDEA-çš„Mavené…ç½®"><a href="#IDEA-çš„Mavené…ç½®" class="headerlink" title="IDEA çš„Mavené…ç½®"></a><code>IDEA</code> çš„<code>Maven</code>é…ç½®</h3><p>ã€Fileã€‘â†’ã€Settingsã€‘â†’ã€Buildï¼ŒExecutionï¼ŒDeploymentã€‘â†’ã€Build Toolsã€‘â†’ã€Mavenã€‘,å…¶ä¸­</p>
<ul>
<li>ã€Maven home directoryã€‘è®¾ä¸º<code>%MAVEN_HOME%</code>ï¼Œå³<code>Marven</code>çš„ç›®å½•</li>
<li>ã€User Settings fileã€‘è®¾ä¸º<code>%MAVEN_HOME%\conf\settings.xml</code>,å³é…ç½®æ–‡ä»¶</li>
<li>ã€Local repositoryã€‘è®¾ä¸º<code>E:\PackagesRepository\Java</code>,å³æœ¬åœ°å­˜æ”¾<code>maven</code>ä»“åº“çš„ç›®å½•ï¼Œé»˜è®¤ä¼šéšç€ã€User Settings fileã€‘çš„æ›´æ”¹è€Œæ›´æ”¹</li>
<li>ä¸‹ä¸€çº§ã€Runnerã€‘é‡Œã€<code>VM Options</code>ã€‘è®¾ä¸º<code>-DarchetypeCatalog=internal</code></li>
</ul>
<p><em><strong>æ³¨æ„ï¼š</strong></em><br>è¿™ç§é…ç½®æ–¹å¼ï¼Œéƒ½æ˜¯é’ˆå¯¹é¡¹ç›®çš„å…·ä½“é…ç½®ï¼Œè‹¥æ–°å»ºé¡¹ç›®ï¼Œå¯èƒ½è¿˜éœ€è¦é…ç½®ã€‚</p>
<p>å…¨å±€é…ç½®ï¼Œéƒ½æ˜¯ä»å¯åŠ¨é¡µé¢çš„ã€Configureã€‘â†’ã€Settingsã€‘å¼€å§‹ã€‚å…·ä½“è·¯å¾„å¦‚ä¸‹ï¼š<br>ã€Configureã€‘â†’ã€Settingsã€‘â†’ã€Buildï¼ŒExecutionï¼ŒDeploymentã€‘â†’ã€Build Toolsã€‘â†’ã€Mavenã€‘</p>
<h2 id="é…ç½®Gradle"><a href="#é…ç½®Gradle" class="headerlink" title="é…ç½®Gradle"></a>é…ç½®Gradle</h2><ol>
<li><a href="https://mirrors.cloud.tencent.com/gradle/">ä¸‹è½½Gradle</a>,è§£å‹åˆ°<code>D:\ProgramFiles\Java\gradle-version</code></li>
<li>é…ç½®ç¯å¢ƒå˜é‡<br><code>GRADLE_HOME</code>ï¼Œå€¼ä¸º<code>D:\ProgramFiles\Java\gradle-version</code><br><code>GRADLE_USER_HOME</code>,å€¼ä¸º<code>D:\PackagesRepository\Java\Gradle</code>,ä¸èƒ½ä¸mavenå…¬ç”¨æœ¬åœ°ä»“åº“ï¼Œåªèƒ½é€šè¿‡mavenLocal()ä½¿ç”¨mavençš„æœ¬åœ°ä»“åº“</li>
<li>æ·»åŠ <code>PATH</code><br><code>%GRADLE_HOME%\bin</code></li>
<li>å‘½ä»¤è¡Œæµ‹è¯•</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">gradle <span class="literal">-v</span></span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œä¸ºäº†åŠ å¿«gradleæ„å»ºï¼Œåœ¨å®¶ç›®å½•ä¸‹çš„.gradle&#x2F;gradle.propertiesæ–‡ä»¶ï¼ˆå¦‚æ²¡æœ‰ï¼Œå¯éœ€è¦æ–°å»ºæ–‡ä»¶ï¼‰ï¼ŒåŠ ä¸Šå¦‚ä¸‹çš„ä»£ç å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">org.gradle.parallel=true</span><br><span class="line">org.gradle.daemon=true</span><br><span class="line">org.gradle.jvmargs=-Xmx2g -XX:MaxPermSize=2048m -XX:+HeapDumpOnOutOfMemoryError</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒ</p>
<ol>
<li><a href="https://droidyue.com/blog/2017/04/16/speedup-gradle-building/">ä¸€äº›å…³äºåŠ é€ŸGradleæ„å»ºçš„ä¸ªäººç»éªŒ</a></li>
<li><a href="https://blog.csdn.net/IOT_AI/article/details/106617626">IDEAå¦‚ä½•æ­£ç¡®é…ç½®Gradle? GRADLE_USER_HOME å’Œ Gradle user homeçš„åŒºåˆ«</a></li>
</ol>
<h2 id="IDEAçš„Tomcaté…ç½®"><a href="#IDEAçš„Tomcaté…ç½®" class="headerlink" title="IDEAçš„Tomcaté…ç½®"></a><code>IDEA</code>çš„<code>Tomcat</code>é…ç½®</h2><ol>
<li><p>ã€Runã€‘â†’ã€Edit Configurationsã€‘â†’ã€Templatesã€‘â†’ã€Tomcat Serverã€‘&#x2F;ã€TomEE Serverã€‘â†’ã€+ã€‘<br>å¦å¯¹å…·ä½“é¡¹ç›®è¿˜éœ€è®¾ç½®ã€Depoymentã€‘ï¼Œå¦åˆ™ï¼Œè¿è¡Œä¸æ­£å¸¸</p>
</li>
<li><p>ã€Configureã€‘â†’ã€Settingsã€‘â†’ã€Buildï¼ŒExecutionï¼ŒDeploymentã€‘â†’ã€Application Serversã€‘â†’ã€+ã€‘â†’ã€Tomcat Serverã€‘</p>
</li>
</ol>
<h3 id="CATALINA-HOMEä¸CATALINA-BASEçš„åŒºåˆ«"><a href="#CATALINA-HOMEä¸CATALINA-BASEçš„åŒºåˆ«" class="headerlink" title="CATALINA_HOMEä¸CATALINA_BASEçš„åŒºåˆ«?"></a><code>CATALINA_HOME</code>ä¸<code>CATALINA_BASE</code>çš„åŒºåˆ«?</h3><ol>
<li><code>CATALINA_HOME</code>å³<code>Tomcat</code>çš„å®‰è£…ç›®å½•ï¼Œ<code>CATALINA_BASE</code>æ˜¯<code>Tomcat</code>çš„å·¥ä½œç›®å½•ã€‚å¦‚æœåŒæ—¶è¿è¡Œå¤šä¸ª<code>Tomcat</code>å®ä¾‹ï¼Œé€šå¸¸ä¼šé…ç½®å¤šä¸ªå·¥ä½œç›®å½•ã€‚æ¯ä¸ª<code>Tomcat</code>å®ä¾‹ç‹¬å ä¸€ä¸ªå·¥ä½œç›®å½•ï¼Œä½†æ˜¯å…±äº«ä¸€ä¸ªå®‰è£…ç›®å½•ã€‚</li>
<li><code>Tomcat</code>æ¯ä¸ªè¿è¡Œå®ä¾‹éœ€è¦ä½¿ç”¨è‡ªå·±çš„<code>conf</code>ã€<code>logs</code>ã€<code>temp</code>ã€<code>webapps</code>ã€<code>work</code>å’Œ<code>shared</code>ç›®å½•ï¼Œå› æ­¤<code>CATALINA_BASE</code>å°±æŒ‡å‘è¿™äº›ç›®å½•ã€‚ è€Œå…¶ä»–ç›®å½•ä¸»è¦åŒ…æ‹¬äº†<code>Tomcat</code>çš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œè„šæœ¬ï¼Œ<code>CATALINA_HOME</code>å°±æŒ‡å‘è¿™äº›ç›®å½•ã€‚<code>IntelliJ Idea</code>åœ¨æ¯æ¬¡é‡æ–°å¯åŠ¨<code>Tomcat</code>çš„æ—¶å€™éƒ½ä¼šé‡æ–°å»ºç«‹æˆ–è€…è¯´æ›´æ–°<code>Tomcat</code>å·¥ä½œç›®å½•çš„å†…å®¹ã€‚</li>
</ol>
<h4 id="IntelliJ-Ideaä¸­çš„Tomcaté¡¹ç›®ä¸ºä½•åœ¨-IntelliJIdea2019-1-system-tomcatä¸­ï¼Ÿ"><a href="#IntelliJ-Ideaä¸­çš„Tomcaté¡¹ç›®ä¸ºä½•åœ¨-IntelliJIdea2019-1-system-tomcatä¸­ï¼Ÿ" class="headerlink" title="IntelliJ Ideaä¸­çš„Tomcaté¡¹ç›®ä¸ºä½•åœ¨.IntelliJIdea2019.1\system\tomcatä¸­ï¼Ÿ"></a><code>IntelliJ Idea</code>ä¸­çš„<code>Tomcat</code>é¡¹ç›®ä¸ºä½•åœ¨<code>.IntelliJIdea2019.1\system\tomcat</code>ä¸­ï¼Ÿ</h4><p><code>intelliJ Idea</code>åœ¨æ¯æ¬¡å¯åŠ¨<code>Tomcat</code>æœåŠ¡å™¨çš„æ—¶å€™éƒ½ä¼šä¿®æ”¹<code>CATALINA_BASE</code></p>
<h4 id="TomcatæœåŠ¡å™¨æ˜¯å¦‚ä½•æ‰¾åˆ°localhost-8080é¡µé¢ä¸localhost-8080-demotwoé¡µé¢çš„ï¼Ÿ"><a href="#TomcatæœåŠ¡å™¨æ˜¯å¦‚ä½•æ‰¾åˆ°localhost-8080é¡µé¢ä¸localhost-8080-demotwoé¡µé¢çš„ï¼Ÿ" class="headerlink" title="TomcatæœåŠ¡å™¨æ˜¯å¦‚ä½•æ‰¾åˆ°localhost:8080é¡µé¢ä¸localhost:8080/demotwoé¡µé¢çš„ï¼Ÿ"></a><code>Tomcat</code>æœåŠ¡å™¨æ˜¯å¦‚ä½•æ‰¾åˆ°<code>localhost:8080</code>é¡µé¢ä¸<code>localhost:8080/demotwo</code>é¡µé¢çš„ï¼Ÿ</h4><ol>
<li><code>IntelliJ Idea</code>æ ¹æ®<code>CATALINA_HOME</code>çš„å¯åŠ¨<code>Tomcat</code>æœåŠ¡å™¨</li>
<li><code>IntelliJ Idea</code>åœ¨<code>CATALINA_BASE</code>æŒ‡å®šçš„ç›®å½•ä¸‹ç”Ÿæˆé¡¹ç›®ç‹¬æœ‰çš„<code>conf</code>ã€<code>logs</code>ã€<code>work</code>ç­‰æ–‡ä»¶å¤¹ã€‚</li>
<li>åœ¨<code>CATALINA_BASE</code>ä¸­çš„<code>conf</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–‡ä»¶<code>server.xml</code>çš„<code>Host</code>æ ‡ç­¾æŒ‡å®šäº†<code>Tomcat</code>çš„æ ¹ç›®å½•ï¼ˆé€šå¸¸ä¸º<code>CATALINA_HOME\webapps\ROOT</code>ï¼‰ï¼Œå³åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„<code>localhost:8080</code>å®šä½çš„å°±æ˜¯æ­¤å¤„ã€‚<code>name</code>å±æ€§å’Œ<code>appBase</code>å±æ€§èµ·åˆ°äº†ä¸€ä¸ªæ˜ å°„çš„ä½œç”¨</li>
<li><code>conf</code>çš„å­ç›®å½•<code>Catalina\localhost\</code>ä¸‹çš„<code>xml</code>æ–‡ä»¶ï¼ˆä»¥è™šæ‹Ÿè·¯å¾„å‘½åï¼‰<code>Context</code>æ ‡ç­¾ä¸­çš„<code>path</code>å±æ€§å’Œ<code>docBase</code>å±æ€§ä¹Ÿèµ·åˆ°äº†åŒæ ·çš„æ˜ å°„ä½œç”¨ã€‚å³<code>name + path</code> ï¼ˆ<code>localhost:8080/demotwo</code>ï¼‰å¯¹åº”çš„æ˜¯é¡¹ç›®çš„å‘å¸ƒè·¯å¾„ã€‚</li>
<li>å¦‚æœåœ¨å‘å¸ƒé¡¹ç›®çš„æ—¶å€™å°†è™šæ‹Ÿè·¯å¾„è®¾ç½®æˆâ€œ<code>\</code>â€ï¼Œ<code>IntelliJ Idea</code>åˆ™ä¸ä¼šç”Ÿæˆ<code>Catalina</code>å­ç›®å½•ï¼Œè€Œä¼šåœ¨<code>server.xml</code>ä¸­å°†<code>name</code>å±æ€§æ˜ å°„åˆ°é¡¹ç›®çš„å‘å¸ƒè·¯å¾„</li>
</ol>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>IntelliJ IDEA</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptä¹‹ä¸€åŸºæœ¬ç±»å‹å’Œç»“æ„è¯­å¥</title>
    <url>/2024/07/31/JavaScript%E4%B9%8B%E4%B8%80%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%92%8C%E7%BB%93%E6%9E%84%E8%AF%AD%E5%8F%A5/</url>
    <content><![CDATA[<br />
  
<h2 id="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•"><a href="#è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•" class="headerlink" title="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!"></a>è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ª<a href="https://www.liaoxuefeng.com/wiki/1022910821149312">å»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹</a>ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!</h2><h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><ol>
<li><p><code>Number</code><br>JavaScriptä¸åŒºåˆ†æ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œç»Ÿä¸€ç”¨<code>Number</code>è¡¨ç¤º  </p>
</li>
<li><p>å­—ç¬¦ä¸²<br>ç¬¦ä¸²æ˜¯ä»¥å•å¼•å·<code>&#39;</code>æˆ–åŒå¼•å·<code>&quot;</code>æ‹¬èµ·æ¥çš„ä»»æ„æ–‡æœ¬ã€‚è¯·æ³¨æ„ï¼Œ<code>&#39;&#39;</code>æˆ–<code>&quot;&quot;</code>æœ¬èº«åªæ˜¯ä¸€ç§è¡¨ç¤ºæ–¹å¼ï¼Œä¸æ˜¯å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚<br>ç”±äºå¤šè¡Œå­—ç¬¦ä¸²ç”¨<code>\n</code>å†™èµ·æ¥æ¯”è¾ƒè´¹äº‹ï¼Œæ‰€ä»¥æœ€æ–°çš„ES6æ ‡å‡†æ–°å¢äº†ä¸€ç§å¤šè¡Œå­—ç¬¦ä¸²çš„è¡¨ç¤ºæ–¹æ³•ï¼Œç”¨åå¼•å·<code>...</code>è¡¨ç¤º<br>è¦æŠŠå¤šä¸ªå­—ç¬¦ä¸²è¿æ¥èµ·æ¥ï¼Œå¯ä»¥ç”¨<code>+</code>å·è¿æ¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var name = &#x27;å°æ˜&#x27;;</span><br><span class="line">var age = 20;</span><br><span class="line">var message = `ä½ å¥½, $&#123;name&#125;, ä½ ä»Šå¹´$&#123;age&#125;å²äº†!`;</span><br></pre></td></tr></table></figure>
<p>è¦è·å–å­—ç¬¦ä¸²æŸä¸ªæŒ‡å®šä½ç½®çš„å­—ç¬¦ï¼Œä½¿ç”¨ç±»ä¼¼<code>Array</code>çš„ä¸‹æ ‡æ“ä½œï¼Œç´¢å¼•å·ä»<code>0</code>å¼€å§‹<br>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œå¦‚æœå¯¹å­—ç¬¦ä¸²çš„æŸä¸ªç´¢å¼•èµ‹å€¼ï¼Œä¸ä¼šæœ‰ä»»ä½•é”™è¯¯ï¼Œä½†æ˜¯ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•æ•ˆæœ<br>å¸¸ç”¨æ–¹æ³•:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">length</span><br><span class="line">toUpperCase</span><br><span class="line">toLowerCase</span><br><span class="line">indexOf</span><br><span class="line">substring</span><br><span class="line">s.trim(); // æ³¨æ„ï¼šIE9ä»¥ä¸‹çš„ç‰ˆæœ¬æ²¡æœ‰trim()æ–¹æ³•  </span><br></pre></td></tr></table></figure>
</li>
<li><p>å¸ƒå°”å€¼<br>å¸ƒå°”å€¼å’Œå¸ƒå°”ä»£æ•°çš„è¡¨ç¤ºå®Œå…¨ä¸€è‡´ï¼Œä¸€ä¸ªå¸ƒå°”å€¼åªæœ‰<code>true</code>ã€<code>false</code>ä¸¤ç§å€¼<br>JavaScriptæŠŠ<code>null</code>ã€<code>undefined</code>ã€<code>0</code>ã€<code>NaN</code>å’Œç©ºå­—ç¬¦ä¸²<code>&#39;&#39;</code>è§†ä¸º<code>false</code>ï¼Œå…¶ä»–å€¼ä¸€æ¦‚è§†ä¸º<code>true</code>,å…è®¸å¯¹ä»»æ„æ•°æ®ç±»å‹åšæ¯”è¾ƒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">false == 0; // true</span><br><span class="line">false === 0; // false</span><br></pre></td></tr></table></figure>
<p>è¦ç‰¹åˆ«æ³¨æ„ç›¸ç­‰è¿ç®—ç¬¦<code>==</code>ã€‚JavaScriptåœ¨è®¾è®¡æ—¶ï¼Œæœ‰ä¸¤ç§æ¯”è¾ƒè¿ç®—ç¬¦ï¼š<br>a. ç¬¬ä¸€ç§æ˜¯<code>==</code>æ¯”è¾ƒï¼Œå®ƒä¼šè‡ªåŠ¨è½¬æ¢æ•°æ®ç±»å‹å†æ¯”è¾ƒï¼Œå¾ˆå¤šæ—¶å€™ï¼Œä¼šå¾—åˆ°éå¸¸è¯¡å¼‚çš„ç»“æœï¼›<br>b. ç¬¬äºŒç§æ˜¯<code>===</code>æ¯”è¾ƒï¼Œå®ƒä¸ä¼šè‡ªåŠ¨è½¬æ¢æ•°æ®ç±»å‹ï¼Œå¦‚æœæ•°æ®ç±»å‹ä¸ä¸€è‡´ï¼Œè¿”å›<code>false</code>ï¼Œå¦‚æœä¸€è‡´ï¼Œå†æ¯”è¾ƒã€‚<br>ç”±äºJavaScriptè¿™ä¸ªè®¾è®¡ç¼ºé™·ï¼Œä¸è¦ä½¿ç”¨<code>==</code>æ¯”è¾ƒï¼Œå§‹ç»ˆåšæŒä½¿ç”¨<code>===</code>æ¯”è¾ƒã€‚<br>å¦ä¸€ä¸ªä¾‹å¤–æ˜¯<code>NaN</code>è¿™ä¸ªç‰¹æ®Šçš„<code>Number</code>ä¸æ‰€æœ‰å…¶ä»–å€¼éƒ½ä¸ç›¸ç­‰ï¼ŒåŒ…æ‹¬å®ƒè‡ªå·±ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">NaN === NaN; // false</span><br></pre></td></tr></table></figure>
<p>å”¯ä¸€èƒ½åˆ¤æ–­<code>NaN</code>çš„æ–¹æ³•æ˜¯é€šè¿‡<code>isNaN()</code>å‡½æ•°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">isNaN(NaN); // true</span><br></pre></td></tr></table></figure>
<p>æœ€åè¦æ³¨æ„æµ®ç‚¹æ•°çš„ç›¸ç­‰æ¯”è¾ƒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1 / 3 === (1 - 2 / 3); // false</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸æ˜¯JavaScriptçš„è®¾è®¡ç¼ºé™·ã€‚æµ®ç‚¹æ•°åœ¨è¿ç®—è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿè¯¯å·®ï¼Œå› ä¸ºè®¡ç®—æœºæ— æ³•ç²¾ç¡®è¡¨ç¤ºæ— é™å¾ªç¯å°æ•°ã€‚</p>
</li>
<li><p><code>null</code>å’Œ<code>undefined</code><br><code>null</code>è¡¨ç¤ºä¸€ä¸ª<code>â€œç©ºâ€</code>çš„å€¼ï¼Œå®ƒå’Œ<code>0</code>ä»¥åŠç©ºå­—ç¬¦ä¸²<code>&#39;&#39;</code>ä¸åŒï¼Œ<code>0</code>æ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œ<code>&#39;&#39;</code>è¡¨ç¤ºé•¿åº¦ä¸º<code>0</code>çš„å­—ç¬¦ä¸²ï¼Œè€Œ<code>null</code>è¡¨ç¤º<code>â€œç©ºâ€</code>ã€‚<br>åœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œä¹Ÿæœ‰ç±»ä¼¼JavaScriptçš„<code>null</code>çš„è¡¨ç¤ºï¼Œä¾‹å¦‚Javaä¹Ÿç”¨<code>null</code>ï¼ŒSwiftç”¨<code>nil</code>ï¼ŒPythonç”¨<code>None</code>è¡¨ç¤ºã€‚ä½†æ˜¯ï¼Œåœ¨JavaScriptä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªå’Œ<code>null</code>ç±»ä¼¼çš„<code>undefined</code>ï¼Œå®ƒè¡¨ç¤º<code>â€œæœªå®šä¹‰â€</code>ã€‚<br>JavaScriptçš„è®¾è®¡è€…å¸Œæœ›ç”¨<code>null</code>è¡¨ç¤ºä¸€ä¸ª<code>ç©º</code>çš„å€¼ï¼Œè€Œ<code>undefined</code>è¡¨ç¤ºå€¼<code>æœªå®šä¹‰</code>ã€‚äº‹å®è¯æ˜ï¼Œè¿™å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼ŒåŒºåˆ†ä¸¤è€…çš„æ„ä¹‰ä¸å¤§ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥ç”¨<code>null</code>ã€‚<code>undefined</code>ä»…ä»…åœ¨åˆ¤æ–­å‡½æ•°å‚æ•°æ˜¯å¦ä¼ é€’çš„æƒ…å†µä¸‹æœ‰ç”¨ã€‚  </p>
</li>
<li><p>æ•°ç»„  </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[1, 2, 3.14, &#x27;Hello&#x27;, null, true];</span><br><span class="line">new Array(1, 2, 3); // åˆ›å»ºäº†æ•°ç»„[1, 2, 3]</span><br></pre></td></tr></table></figure>
<p>ç„¶è€Œï¼Œå‡ºäºä»£ç çš„å¯è¯»æ€§è€ƒè™‘ï¼Œå¼ºçƒˆå»ºè®®ç›´æ¥ä½¿ç”¨<code>[]</code>ã€‚<br>æ•°ç»„çš„å…ƒç´ å¯ä»¥é€šè¿‡<code>ç´¢å¼•</code>æ¥è®¿é—®ã€‚è¯·æ³¨æ„ï¼Œç´¢å¼•çš„èµ·å§‹å€¼ä¸º<code>0</code>ã€‚å¤šç»´æ•°ç»„<br>å¸¸ç”¨å±æ€§æˆ–æ–¹æ³•:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">length    //è¯·æ³¨æ„: 1. ç›´æ¥ç»™Arrayçš„lengthèµ‹ä¸€ä¸ªæ–°çš„å€¼ä¼šå¯¼è‡´Arrayå¤§å°çš„å˜åŒ–; 2. å¦‚æœé€šè¿‡ç´¢å¼•èµ‹å€¼æ—¶ï¼Œç´¢å¼•è¶…è¿‡äº†èŒƒå›´ï¼ŒåŒæ ·ä¼šå¼•èµ·Arrayå¤§å°çš„å˜åŒ–ï¼š</span><br><span class="line">indexOf  </span><br><span class="line">slice    //slice()å°±æ˜¯å¯¹åº”Stringçš„substring()ç‰ˆæœ¬ï¼Œå®ƒæˆªå–Arrayçš„éƒ¨åˆ†å…ƒç´ ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„Arrayã€‚æ³¨æ„åˆ°slice()çš„èµ·æ­¢å‚æ•°åŒ…æ‹¬å¼€å§‹ç´¢å¼•ï¼Œä¸åŒ…æ‹¬ç»“æŸç´¢å¼•ã€‚å¦‚æœä¸ç»™slice()ä¼ é€’ä»»ä½•å‚æ•°ï¼Œå®ƒå°±ä¼šä»å¤´åˆ°å°¾æˆªå–æ‰€æœ‰å…ƒç´ </span><br><span class="line">push()      //å‘Arrayçš„æœ«å°¾æ·»åŠ è‹¥å¹²å…ƒç´ ï¼Œpop()åˆ™æŠŠArrayçš„æœ€åä¸€ä¸ªå…ƒç´ åˆ é™¤æ‰ï¼š</span><br><span class="line">unshift()  //æ–¹æ³•ï¼Œå¾€Arrayçš„å¤´éƒ¨æ·»åŠ è‹¥å¹²å…ƒç´ ï¼Œshift()æ–¹æ³•åˆ™æŠŠArrayçš„ç¬¬ä¸€ä¸ªå…ƒç´ åˆ æ‰</span><br><span class="line">sort()</span><br><span class="line">reverse()  </span><br><span class="line">splice()  // ä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹åˆ é™¤è‹¥å¹²å…ƒç´ ï¼Œç„¶åå†ä»è¯¥ä½ç½®æ·»åŠ è‹¥å¹²å…ƒç´ </span><br><span class="line">concat()  // è¯·æ³¨æ„ï¼Œconcat()æ–¹æ³•å¹¶æ²¡æœ‰ä¿®æ”¹å½“å‰Arrayï¼Œè€Œæ˜¯è¿”å›äº†ä¸€ä¸ªæ–°çš„Arrayã€‚å®é™…ä¸Šï¼Œconcat()æ–¹æ³•å¯ä»¥æ¥æ”¶ä»»æ„ä¸ªå…ƒç´ å’ŒArrayï¼Œå¹¶ä¸”è‡ªåŠ¨æŠŠArrayæ‹†å¼€ï¼Œç„¶åå…¨éƒ¨æ·»åŠ åˆ°æ–°çš„Arrayé‡Œ</span><br><span class="line">var arr = [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;];</span><br><span class="line">arr.concat(1, 2, [3, 4]); // [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, 1, 2, 3, 4]</span><br><span class="line">join(&#x27;-&#x27;)        //å¦‚æœArrayçš„å…ƒç´ ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå°†è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²åå†è¿æ¥ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹è±¡<br>JavaScriptçš„å¯¹è±¡æ˜¯ä¸€ç»„ç”±é”®-å€¼ç»„æˆçš„æ— åºé›†åˆã€‚ç”¨ä¸€ä¸ª{â€¦}è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡ï¼Œé”®å€¼å¯¹ä»¥<code>xxx: xxx</code>å½¢å¼ç”³æ˜ï¼Œç”¨<code>,</code>éš”å¼€ã€‚æ³¨æ„ï¼Œæœ€åä¸€ä¸ªé”®å€¼å¯¹ä¸éœ€è¦åœ¨æœ«å°¾åŠ ,ï¼Œå¦‚æœåŠ äº†ï¼Œæœ‰çš„æµè§ˆå™¨ï¼ˆå¦‚ä½ç‰ˆæœ¬çš„IEï¼‰å°†æŠ¥é”™ã€‚<br>è®¿é—®å±æ€§æ˜¯é€šè¿‡<code>.</code>æ“ä½œç¬¦å®Œæˆçš„ï¼Œä½†è¿™è¦æ±‚å±æ€§åå¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å˜é‡åã€‚å¦‚æœå±æ€§ååŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œå°±å¿…é¡»ç”¨<code>&#39;&#39;</code>æ‹¬èµ·æ¥ï¼›è®¿é—®è¿™ä¸ªå±æ€§ä¹Ÿæ— æ³•ä½¿ç”¨<code>.</code>æ“ä½œç¬¦ï¼Œå¿…é¡»ç”¨<code>[&#39;xxx&#39;]</code>æ¥è®¿é—®<br>ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ æˆ–åˆ é™¤å±æ€§ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">xiaoming.age = 18; // æ–°å¢ä¸€ä¸ªageå±æ€§</span><br><span class="line">delete xiaoming.age; // åˆ é™¤ageå±æ€§</span><br></pre></td></tr></table></figure>
<p><code>in</code>æ£€æµ‹æ˜¯å¦æ‹¥æœ‰æŸä¸€å±æ€§ã€‚è¦å°å¿ƒï¼Œå¦‚æœ<code>in</code>åˆ¤æ–­ä¸€ä¸ªå±æ€§å­˜åœ¨ï¼Œè¿™ä¸ªå±æ€§ä¸ä¸€å®šæ˜¯å¯¹è±¡è‡ªèº«æ‹¥æœ‰çš„ï¼Œå®ƒå¯èƒ½æ˜¯å¯¹è±¡ç»§æ‰¿å¾—åˆ°çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;toString&#x27; in xiaoming; // true,ä½†tostringæ˜¯ç»§æ‰¿è‡ªobjectçš„</span><br><span class="line">hasOwnProperty()    //åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å¦æ˜¯xiaomingè‡ªèº«æ‹¥æœ‰çš„ï¼Œè€Œä¸æ˜¯ç»§æ‰¿å¾—åˆ°çš„</span><br></pre></td></tr></table></figure></li>
<li><p>å˜é‡<br>å˜é‡çš„æ¦‚å¿µåŸºæœ¬ä¸Šå’Œåˆä¸­ä»£æ•°çš„æ–¹ç¨‹å˜é‡æ˜¯ä¸€è‡´çš„ï¼Œåªæ˜¯åœ¨è®¡ç®—æœºç¨‹åºä¸­ï¼Œå˜é‡ä¸ä»…å¯ä»¥æ˜¯æ•°å­—ï¼Œè¿˜å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹ã€‚<br>å˜é‡åœ¨JavaScriptä¸­å°±æ˜¯ç”¨ä¸€ä¸ªå˜é‡åè¡¨ç¤ºï¼Œå˜é‡åæ˜¯<code>å¤§å°å†™è‹±æ–‡</code>ã€<code>æ•°å­—</code>ã€<code>$</code>å’Œ<code>_</code>çš„ç»„åˆï¼Œä¸”ä¸èƒ½ç”¨æ•°å­—å¼€å¤´ã€‚å˜é‡åä¹Ÿä¸èƒ½æ˜¯JavaScriptçš„å…³é”®å­—<br>è¿™ç§å˜é‡æœ¬èº«ç±»å‹ä¸å›ºå®šçš„è¯­è¨€ç§°ä¹‹ä¸ºåŠ¨æ€è¯­è¨€ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯é™æ€è¯­è¨€ã€‚</p>
</li>
<li><p>strictæ¨¡å¼<br>JavaScriptåœ¨è®¾è®¡ä¹‹åˆï¼Œä¸ºäº†æ–¹ä¾¿åˆå­¦è€…å­¦ä¹ ï¼Œå¹¶ä¸å¼ºåˆ¶è¦æ±‚ç”¨<code>var</code>ç”³æ˜å˜é‡ã€‚è¿™ä¸ªè®¾è®¡é”™è¯¯å¸¦æ¥äº†ä¸¥é‡çš„åæœï¼šå¦‚æœä¸€ä¸ªå˜é‡æ²¡æœ‰é€šè¿‡<code>var</code>ç”³æ˜å°±è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆè¯¥å˜é‡å°±è‡ªåŠ¨è¢«ç”³æ˜ä¸ºå…¨å±€å˜é‡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">i = 10; // iç°åœ¨æ˜¯å…¨å±€å˜é‡</span><br></pre></td></tr></table></figure>
<p>åœ¨åŒä¸€ä¸ªé¡µé¢çš„ä¸åŒçš„JavaScriptæ–‡ä»¶ä¸­ï¼Œå¦‚æœéƒ½ä¸ç”¨<code>var</code>ç”³æ˜ï¼Œæ°å¥½éƒ½ä½¿ç”¨äº†å˜é‡<code>i</code>ï¼Œå°†é€ æˆå˜é‡<code>i</code>äº’ç›¸å½±å“ï¼Œäº§ç”Ÿéš¾ä»¥è°ƒè¯•çš„é”™è¯¯ç»“æœã€‚<br>ä½¿ç”¨<code>var</code>ç”³æ˜çš„å˜é‡åˆ™ä¸æ˜¯å…¨å±€å˜é‡ï¼Œå®ƒçš„èŒƒå›´è¢«é™åˆ¶åœ¨è¯¥å˜é‡è¢«ç”³æ˜çš„å‡½æ•°ä½“å†…ï¼ˆå‡½æ•°çš„æ¦‚å¿µå°†ç¨åè®²è§£ï¼‰ï¼ŒåŒåå˜é‡åœ¨ä¸åŒçš„å‡½æ•°ä½“å†…äº’ä¸å†²çªã€‚</p>
</li>
</ol>
<p>ä¸ºäº†ä¿®è¡¥JavaScriptè¿™ä¸€ä¸¥é‡è®¾è®¡ç¼ºé™·ï¼ŒECMAåœ¨åç»­è§„èŒƒä¸­æ¨å‡ºäº†<code>strict</code>æ¨¡å¼ï¼Œåœ¨<code>strict</code>æ¨¡å¼ä¸‹è¿è¡Œçš„JavaScriptä»£ç ï¼Œå¼ºåˆ¶é€šè¿‡<code>var</code>ç”³æ˜å˜é‡ï¼Œæœªä½¿ç”¨<code>var</code>ç”³æ˜å˜é‡å°±ä½¿ç”¨çš„ï¼Œå°†å¯¼è‡´è¿è¡Œé”™è¯¯ã€‚<br>å¯ç”¨<code>strict</code>æ¨¡å¼çš„æ–¹æ³•æ˜¯åœ¨JavaScriptä»£ç çš„ç¬¬ä¸€è¡Œå†™ä¸Šï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸æ”¯æŒ<code>strict</code>æ¨¡å¼çš„æµè§ˆå™¨ä¼šæŠŠå®ƒå½“åšä¸€ä¸ªå­—ç¬¦ä¸²è¯­å¥æ‰§è¡Œï¼Œæ”¯æŒ<code>strict</code>æ¨¡å¼çš„æµè§ˆå™¨å°†å¼€å¯<code>strict</code>æ¨¡å¼è¿è¡ŒJavaScriptã€‚</p>
<ol start="9">
<li><p><code>for</code>å¾ªç¯æœ€å¸¸ç”¨çš„åœ°æ–¹æ˜¯åˆ©ç”¨ç´¢å¼•æ¥éå†æ•°ç»„<br><code>for ... in</code>æŠŠä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§ä¾æ¬¡å¾ªç¯å‡ºæ¥<br>ç”±äº<code>Array</code>ä¹Ÿæ˜¯å¯¹è±¡ï¼Œè€Œå®ƒçš„æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•è¢«è§†ä¸ºå¯¹è±¡çš„å±æ€§ï¼Œå› æ­¤ï¼Œ<code>for ... in</code>å¾ªç¯å¯ä»¥ç›´æ¥å¾ªç¯å‡º<code>Array</code>çš„ç´¢å¼•ã€‚è¯·æ³¨æ„ï¼Œ<code>for ... in</code>å¯¹Arrayçš„å¾ªç¯å¾—åˆ°çš„æ˜¯<code>String</code>è€Œä¸æ˜¯<code>Number</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">while (n &gt; 0) &#123;&#125;</span><br><span class="line">do &#123; &#125; while (n &lt; 100);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Map</code>å’Œ<code>Set</code><br>JavaScriptçš„é»˜è®¤å¯¹è±¡è¡¨ç¤ºæ–¹å¼<code>&#123;&#125;</code>å¯ä»¥è§†ä¸ºå…¶ä»–è¯­è¨€ä¸­çš„<code>Map</code>æˆ–<code>Dictionary</code>çš„æ•°æ®ç»“æ„ï¼Œå³ä¸€ç»„é”®å€¼å¯¹ã€‚<br>ä½†æ˜¯JavaScriptçš„å¯¹è±¡æœ‰ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯é”®å¿…é¡»æ˜¯å­—ç¬¦ä¸²ã€‚ä½†å®é™…ä¸Š<code>Number</code>æˆ–è€…å…¶ä»–æ•°æ®ç±»å‹ä½œä¸ºé”®ä¹Ÿæ˜¯éå¸¸åˆç†çš„ã€‚<br>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€æ–°çš„ES6è§„èŒƒå¼•å…¥äº†æ–°çš„æ•°æ®ç±»å‹<code>Map</code></p>
</li>
</ol>
<p><code>Map</code> ä¸€ç»„é”®å€¼å¯¹çš„ç»“æ„ï¼Œå…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦<br>åˆå§‹åŒ–<code>Map</code>éœ€è¦ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œæˆ–è€…ç›´æ¥åˆå§‹åŒ–ä¸€ä¸ªç©º<code>Map</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var m = new Map([[&#x27;Michael&#x27;, 95], [&#x27;Bob&#x27;, 75], [&#x27;Tracy&#x27;, 85]]);</span><br><span class="line">m.set(&#x27;Adam&#x27;, 67); // æ·»åŠ æ–°çš„key-value</span><br><span class="line">m.set(&#x27;Bob&#x27;, 59);</span><br><span class="line">m.has(&#x27;Adam&#x27;); // æ˜¯å¦å­˜åœ¨key &#x27;Adam&#x27;: true</span><br><span class="line">m.get(&#x27;Adam&#x27;); // 67</span><br><span class="line">m.delete(&#x27;Adam&#x27;); // åˆ é™¤key &#x27;Adam&#x27;</span><br></pre></td></tr></table></figure>
<p>ç”±äºä¸€ä¸ª<code>key</code>åªèƒ½å¯¹åº”ä¸€ä¸ª<code>value</code>ï¼Œæ‰€ä»¥ï¼Œå¤šæ¬¡å¯¹ä¸€ä¸ª<code>key</code>æ”¾å…¥<code>value</code>ï¼Œåé¢çš„å€¼ä¼šæŠŠå‰é¢çš„å€¼å†²æ‰</p>
<p><code>Set</code>å’Œ<code>Map</code>ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç»„<code>key</code>çš„é›†åˆï¼Œä½†ä¸å­˜å‚¨<code>value</code>ã€‚ç”±äº<code>key</code>ä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥ï¼Œåœ¨<code>Set</code>ä¸­ï¼Œæ²¡æœ‰é‡å¤çš„<code>key</code><br>åˆ›å»ºä¸€ä¸ª<code>Set</code>ï¼Œéœ€è¦æä¾›ä¸€ä¸ª<code>Array</code>ä½œä¸ºè¾“å…¥ï¼Œæˆ–è€…ç›´æ¥åˆ›å»ºä¸€ä¸ªç©º<code>Set</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var s1 = new Set(); // ç©ºSet</span><br><span class="line">var s2 = new Set([1, 2, 3]); // å«1, 2, 3</span><br><span class="line">s.add(4);</span><br><span class="line">s.delete(3);</span><br></pre></td></tr></table></figure>

<ol start="11">
<li>iterable<br>éå†<code>Array</code>å¯ä»¥é‡‡ç”¨ä¸‹æ ‡å¾ªç¯ï¼Œéå†<code>Map</code>å’Œ<code>Set</code>å°±æ— æ³•ä½¿ç”¨ä¸‹æ ‡ã€‚ä¸ºäº†ç»Ÿä¸€é›†åˆç±»å‹ï¼ŒES6æ ‡å‡†å¼•å…¥äº†æ–°çš„<code>iterable</code>ç±»å‹ï¼Œ<code>Array</code>ã€<code>Map</code>å’Œ<code>Set</code>éƒ½å±äº<code>iterable</code>ç±»å‹ã€‚<br>å…·æœ‰<code>iterable</code>ç±»å‹çš„é›†åˆå¯ä»¥é€šè¿‡æ–°çš„<code>for ... of</code>å¾ªç¯æ¥éå†ã€‚<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for (var x of s) &#123; &#125; // éå†</span><br></pre></td></tr></table></figure>
<code>for ... in</code>å¾ªç¯ç”±äºå†å²é—ç•™é—®é¢˜ï¼Œå®ƒéå†çš„å®é™…ä¸Šæ˜¯å¯¹è±¡çš„å±æ€§åç§°ã€‚<br>ä¸€ä¸ª<code>Array</code>æ•°ç»„å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•è¢«è§†ä¸ºä¸€ä¸ªå±æ€§ã€‚<code>for ... in</code>å¾ªç¯å°†æŠŠé¢å¤–ç»™<code>Array</code>æ·»åŠ çš„å±æ€§åŒ…æ‹¬åœ¨å†…ï¼Œä½†<code>Array</code>çš„<code>length</code>å±æ€§å´ä¸åŒ…æ‹¬åœ¨å†…<br><code>for ... of</code>å¾ªç¯åˆ™å®Œå…¨ä¿®å¤äº†è¿™äº›é—®é¢˜ï¼Œå®ƒåªå¾ªç¯é›†åˆæœ¬èº«çš„å…ƒç´ <br><code>iterable</code>å†…ç½®çš„<code>forEach</code>æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡è¿­ä»£å°±è‡ªåŠ¨å›è°ƒè¯¥å‡½æ•°<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line">var a = [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;];</span><br><span class="line">a.forEach(function (element, index, array) &#123;</span><br><span class="line">    // element: æŒ‡å‘å½“å‰å…ƒç´ çš„å€¼</span><br><span class="line">    // index: æŒ‡å‘å½“å‰ç´¢å¼•</span><br><span class="line">    // array: æŒ‡å‘Arrayå¯¹è±¡æœ¬èº«</span><br><span class="line">    console.log(element + &#x27;, index = &#x27; + index);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<code>forEach()</code>æ–¹æ³•æ˜¯ES5.1æ ‡å‡†å¼•å…¥çš„<br><code>Set</code>æ²¡æœ‰ç´¢å¼•ï¼Œå› æ­¤å›è°ƒå‡½æ•°çš„å‰ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å…ƒç´ æœ¬èº«<br><code>Map</code>çš„å›è°ƒå‡½æ•°å‚æ•°ä¾æ¬¡ä¸ºvalueã€keyå’Œmapæœ¬èº«<br>å¦‚æœå¯¹æŸäº›å‚æ•°ä¸æ„Ÿå…´è¶£ï¼Œç”±äºJavaScriptçš„å‡½æ•°è°ƒç”¨ä¸è¦æ±‚å‚æ•°å¿…é¡»ä¸€è‡´ï¼Œå› æ­¤å¯ä»¥å¿½ç•¥å®ƒä»¬</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JWTåˆ†æ</title>
    <url>/2024/07/31/JWT%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<p><a href="https://learnku.com/articles/17883">åŸæ–‡</a></p>
<p>æœ¬ç¯‡æ–‡ç« ä¸è®¨è®º Laravel ä¸­ JWT è¿™ä¸ªæ€ä¹ˆä½¿ç”¨ï¼Œè¦è¿™æ–¹é¢å†…å®¹çš„å¯ä»¥çœ‹æˆ‘å¦ä¸€ç¯‡æ–‡ç«  <a href="https://learnku.com/articles/10885/full-use-of-jwt">JWT å®Œæ•´ä½¿ç”¨è¯¦è§£</a> ã€‚</p>
<p>åœ¨æ­¤æˆ‘è¦ä»ä¸€ä¸ªæ›´æ·±çš„å±‚æ¬¡æ¥æ¢è®¨ JWT åœ¨å®é™…è¿ç”¨ä¸­çš„ä½¿ç”¨ä»¥åŠå…¶ä¼˜ç¼ºç‚¹ï¼Œä»¥åŠ JWT å’Œ Oauth 2.0 è¿™ä¸¤è€…åˆ°åº•æœ‰ä»€ä¹ˆå·®åˆ«å’Œè”ç³»ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬ä» Token å…¥æ‰‹ï¼Œå†è”ç³»åˆ° JWTï¼Œç„¶ååˆ†æ JWT çš„ä¼˜ç¼ºç‚¹å’Œä½¿ç”¨åœºæ™¯ï¼Œæœ€åå†è”ç³»åˆ° Oauth2.0ã€‚</p>
<h3 id="ä¸€ã€Token"><a href="#ä¸€ã€Token" class="headerlink" title="ä¸€ã€Token"></a>ä¸€ã€Token</h3><p>token æ˜¯ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œé€šå¸¸å› ä¸ºä½œä¸ºé‰´æƒå‡­æ®ï¼Œæœ€å¸¸ç”¨çš„ä½¿ç”¨åœºæ™¯æ˜¯ API é‰´æƒã€‚</p>
<h4 id="1-API-é‰´æƒ"><a href="#1-API-é‰´æƒ" class="headerlink" title="1. API é‰´æƒ"></a>1. API é‰´æƒ</h4><p>é‚£ä¹ˆ API é‰´æƒä¸€èˆ¬æœ‰å‡ ç§æ–¹å¼å‘¢ï¼Ÿæˆ‘å¤§æ¦‚æ•´ç†äº†å¦‚ä¸‹ï¼š</p>
<h5 id="cookie-session"><a href="#cookie-session" class="headerlink" title="cookie + session"></a>cookie + session</h5><p>å’Œå¹³å¸¸ web ç™»é™†ä¸€æ ·çš„é‰´æƒæ–¹å¼ï¼Œå¾ˆå¸¸è§ï¼Œä¸å†èµ˜è¿°ã€‚</p>
<h5 id="HTTP-Basic"><a href="#HTTP-Basic" class="headerlink" title="HTTP Basic"></a>HTTP Basic</h5><p>å°†è´¦å·å’Œå¯†ç æ‹¼æ¥ç„¶å base64 ç¼–ç åŠ åˆ° header å¤´ä¸­ã€‚å¾ˆæ˜¾ç„¶ï¼Œå› ä¸ºè´¦å·å’Œå¯†ç å‡ ä¹æ˜¯ã€æ˜æ–‡ã€ä¼ è¾“çš„ï¼Œè€Œä¸”æ¯æ¬¡è¯·æ±‚éƒ½ä¼ ï¼Œå®‰å…¨æ€§å¯æƒ³è€ŒçŸ¥ã€‚</p>
<h5 id="HTTP-Digest"><a href="#HTTP-Digest" class="headerlink" title="HTTP Digest"></a>HTTP Digest</h5><p>å°†è´¦å·å’Œå¯†ç åŠ ä¸Šå…¶ä»–ä¸€äº›ä¿¡æ¯æ‹¼æ¥ç„¶åå–æ‘˜è¦åŠ åˆ° header å¤´ä¸­ã€‚è¿™ä¸ªå®‰å…¨æ€§æ¯”ä¸Šé¢è¦å¥½ä¸€ç‚¹ï¼Œå› ä¸ºå¦‚æœæ˜¯å–æ‘˜è¦çš„è¯ï¼Œå³ä½¿ä¿¡æ¯æ®µè¢«æˆªå–ï¼Œä¹Ÿæ— æ³•è½»æ˜“ç ´è§£å‡ºæ¥ï¼ˆå½“ç„¶ä¹Ÿæ˜¯æœ‰ç ´è§£çš„å¯èƒ½ï¼‰ã€‚</p>
<p>ä¸è¿‡å…¶å®æœ€å¤§çš„é—®é¢˜è¿˜æ˜¯ï¼šæ¯æ¬¡è¯·æ±‚éƒ½è¦å¯¹è´¦å·ã€å¯†ç å–ä¸€æ¬¡æ‘˜è¦ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡è¯·æ±‚éƒ½è¦æœ‰è´¦å·å’Œå¯†ç ï¼Œä¹Ÿå°±æ˜¯è¯´è´¦å·å’Œå¯†ç è¦ä¹ˆç¼“å­˜ä¸€ä¸‹ï¼Œè¦ä¹ˆå°±æ¯æ¬¡è¯·æ±‚è¦å»ç”¨æˆ·è¾“ä¸€æ¬¡å¯†ç ï¼Œè¿™æ ·æ˜¾ç„¶ä¸åˆé€‚ã€‚åŒæ ·ï¼Œä¸Šé¢çš„ Basic ä¹Ÿå­˜åœ¨è¿™æ ·çš„é—®é¢˜ã€‚</p>
<h5 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h5><p>token é€šè¿‡ä¸€æ¬¡ç™»å½•éªŒè¯ï¼Œå¾—åˆ°ä¸€ä¸ªé‰´æƒå­—ç¬¦ä¸²ï¼Œç„¶åä»¥åå¸¦ç€è¿™ä¸ªé‰´æƒå­—ç¬¦ä¸²è¿›è¡Œåç»­æ“ä½œï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³æ¯æ¬¡è¯·æ±‚éƒ½è¦å¸¦è´¦å·å¯†ç çš„é—®é¢˜ï¼Œè€Œä¸”ä¹Ÿä¸éœ€è¦åå¤ä½¿ç”¨è´¦å·å’Œå¯†ç ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬æ¥ä¸‹æ¥ä¸»è¦æ¢è®¨ token ç›¸å¯¹äº Cookie + Session çš„è®¤è¯æ–¹å¼æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ</p>
<h4 id="2-Token-çš„ä¼˜åŠ¿"><a href="#2-Token-çš„ä¼˜åŠ¿" class="headerlink" title="2. Token çš„ä¼˜åŠ¿"></a>2. Token çš„ä¼˜åŠ¿</h4><p>token ç›¸å¯¹äº Cookie + Session çš„ä¼˜ç‚¹ï¼Œä¸»è¦æœ‰ä¸‹é¢ä¸¤ä¸ªï¼š</p>
<h5 id="CSRF-æ”»å‡»"><a href="#CSRF-æ”»å‡»" class="headerlink" title="CSRF æ”»å‡»"></a>CSRF æ”»å‡»</h5><p>è¿™ä¸ªåŸç†ä¸å¤šåšä»‹ç»ï¼Œæ„æˆè¿™ä¸ªæ”»å‡»çš„åŸå› ï¼Œå°±åœ¨äº Cookie + Session çš„é‰´æƒæ–¹å¼ä¸­ï¼Œé‰´æƒæ•°æ®ï¼ˆcookie ä¸­çš„ session_idï¼‰æ˜¯ç”±æµè§ˆå™¨è‡ªåŠ¨æºå¸¦å‘é€åˆ°æœåŠ¡ç«¯çš„ï¼Œå€ŸåŠ©è¿™ä¸ªç‰¹æ€§ï¼Œæ”»å‡»è€…å°±å¯ä»¥é€šè¿‡è®©ç”¨æˆ·è¯¯ç‚¹æ”»å‡»é“¾æ¥ï¼Œè¾¾åˆ°æ”»å‡»æ•ˆæœã€‚è€Œ token æ˜¯é€šè¿‡å®¢æˆ·ç«¯æœ¬èº«é€»è¾‘ä½œä¸ºåŠ¨æ€å‚æ•°åŠ åˆ°è¯·æ±‚ä¸­çš„ï¼Œtoken ä¹Ÿä¸ä¼šè½»æ˜“æ³„éœ²å‡ºå»ï¼Œå› æ­¤ token åœ¨ CSRF é˜²å¾¡æ–¹é¢å­˜åœ¨å¤©ç„¶ä¼˜åŠ¿ã€‚</p>
<h5 id="é€‚åˆç§»åŠ¨åº”ç”¨"><a href="#é€‚åˆç§»åŠ¨åº”ç”¨" class="headerlink" title="é€‚åˆç§»åŠ¨åº”ç”¨"></a>é€‚åˆç§»åŠ¨åº”ç”¨</h5><p>ç§»åŠ¨ç«¯ä¸Šä¸æ”¯æŒ cookieï¼Œè€Œ token åªè¦å®¢æˆ·ç«¯èƒ½å¤Ÿè¿›è¡Œå­˜å‚¨å°±èƒ½å¤Ÿä½¿ç”¨ï¼Œå› æ­¤ token åœ¨ç§»åŠ¨ç«¯ä¸Šä¹Ÿå…·æœ‰ä¼˜åŠ¿ã€‚</p>
<h4 id="3-Token-çš„ç§ç±»"><a href="#3-Token-çš„ç§ç±»" class="headerlink" title="3. Token çš„ç§ç±»"></a>3. Token çš„ç§ç±»</h4><p>ä¸€èˆ¬æ¥è¯´ token ä¸»è¦ä¸‰ç§ï¼š</p>
<ul>
<li>è‡ªå®šä¹‰çš„ tokenï¼šå¼€å‘è€…æ ¹æ®ä¸šåŠ¡é€»è¾‘è‡ªå®šä¹‰çš„ token</li>
<li>JWTï¼šJSON Web Tokenï¼Œå®šä¹‰åœ¨ RFC 7519 ä¸­çš„ä¸€ç§ token è§„èŒƒ</li>
<li>Oauth2.0ï¼šå®šä¹‰åœ¨ RFC 6750 ä¸­çš„ä¸€ç§æˆæƒè§„èŒƒï¼Œä½†è¿™å…¶å®å¹¶ä¸æ˜¯ä¸€ç§ tokenï¼Œåªæ˜¯å…¶ä¸­ä¹Ÿæœ‰ç”¨åˆ° token<br>ä»¥ä¸Šï¼Œæˆ‘ä»”ç»†ä»‹ç»äº† API å¸¸ç”¨çš„é‰´æƒæ–¹å¼ï¼Œä»¥åŠ token ç›¸å¯¹äº cookie + session çš„ä¼˜ç‚¹ã€‚ç„¶åæ¥ä¸‹æ¥ä»”ç»†åˆ†æ JWTã€‚</li>
</ul>
<h3 id="äºŒã€JWT-çš„ç»„æˆå’Œä¼˜åŠ¿"><a href="#äºŒã€JWT-çš„ç»„æˆå’Œä¼˜åŠ¿" class="headerlink" title="äºŒã€JWT çš„ç»„æˆå’Œä¼˜åŠ¿"></a>äºŒã€JWT çš„ç»„æˆå’Œä¼˜åŠ¿</h3><p>JWT å…¨ç§° JSON Web Tokens ï¼Œæ˜¯ä¸€ç§è§„èŒƒåŒ–çš„ tokenã€‚å¯ä»¥ç†è§£ä¸ºå¯¹ token è¿™ä¸€æŠ€æœ¯æå‡ºä¸€å¥—è§„èŒƒï¼Œæ˜¯åœ¨ RFC 7519 ä¸­æå‡ºçš„ã€‚</p>
<h4 id="1-ç»„æˆ"><a href="#1-ç»„æˆ" class="headerlink" title="1. ç»„æˆ"></a>1. ç»„æˆ</h4><p>ä¸€ä¸ª JWT token æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œå¤´éƒ¨ã€è½½è·ä¸ç­¾åï¼Œä¸­é—´ç”¨ . åˆ†éš”ï¼Œä¾‹å¦‚ï¼šxxxxx.yyyyy.zzzzz</p>
<h5 id="å¤´éƒ¨ï¼ˆheaderï¼‰"><a href="#å¤´éƒ¨ï¼ˆheaderï¼‰" class="headerlink" title="å¤´éƒ¨ï¼ˆheaderï¼‰"></a>å¤´éƒ¨ï¼ˆheaderï¼‰</h5><p>å¤´éƒ¨é€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä»¤ç‰Œçš„ç±»å‹ï¼ˆå³ JWTï¼‰å’Œæ­£åœ¨ä½¿ç”¨çš„ç­¾åç®—æ³•ï¼ˆå¦‚ HMAC SHA256 æˆ– RSA.ï¼‰ã€‚<br>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;alg&quot;: &quot;HS256&quot;,</span><br><span class="line">  &quot;typ&quot;: &quot;JWT&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åç”¨ <code>Base64Url</code> ç¼–ç å¾—åˆ°å¤´éƒ¨ï¼Œå³<code>xxxxx</code>ã€‚</p>
<h5 id="è½½è·ï¼ˆPayloadï¼‰"><a href="#è½½è·ï¼ˆPayloadï¼‰" class="headerlink" title="è½½è·ï¼ˆPayloadï¼‰"></a>è½½è·ï¼ˆPayloadï¼‰</h5><p>è½½è·ä¸­æ”¾ç½®äº† token çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œä»¥å¸®åŠ©æ¥å—å®ƒçš„æœåŠ¡å™¨æ¥ç†è§£è¿™ä¸ª tokenã€‚åŒæ—¶è¿˜å¯ä»¥åŒ…å«ä¸€äº›è‡ªå®šä¹‰çš„ä¿¡æ¯ï¼Œç”¨æˆ·ä¿¡æ¯äº¤æ¢ã€‚</p>
<p>è½½è·çš„å±æ€§ä¹Ÿåˆ†ä¸‰ç±»ï¼š</p>
<ul>
<li>é¢„å®šä¹‰ï¼ˆRegisteredï¼‰</li>
<li>å…¬æœ‰ï¼ˆpublicï¼‰</li>
<li>ç§æœ‰ï¼ˆprivateï¼‰</li>
<li>é¢„å®šä¹‰çš„è½½è·<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;sub&quot;: &quot;1&quot;,</span><br><span class="line">  &quot;iss&quot;: &quot;http://localhost:8000/auth/login&quot;,</span><br><span class="line">  &quot;iat&quot;: 1451888119,</span><br><span class="line">  &quot;exp&quot;: 1454516119,</span><br><span class="line">  &quot;nbf&quot;: 1451888119,</span><br><span class="line">  &quot;jti&quot;: &quot;37c107e4609ddbcc9c096ea5ee76c667&quot;,</span><br><span class="line">  &quot;aud&quot;: &quot;dev&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>è¿™é‡Œé¢çš„å‰ 7 ä¸ªå­—æ®µéƒ½æ˜¯ç”±å®˜æ–¹æ‰€å®šä¹‰çš„ï¼Œä¹Ÿå°±æ˜¯é¢„å®šä¹‰ï¼ˆRegistered claimsï¼‰çš„ï¼Œå¹¶ä¸éƒ½æ˜¯å¿…éœ€çš„ã€‚</p>
<ul>
<li>iss (issuer)ï¼šç­¾å‘äºº</li>
<li>sub (subject)ï¼šä¸»é¢˜</li>
<li>aud (audience)ï¼šå—ä¼—</li>
<li>exp (expiration time)ï¼šè¿‡æœŸæ—¶é—´</li>
<li>nbf (Not Before)ï¼šç”Ÿæ•ˆæ—¶é—´ï¼Œåœ¨æ­¤ä¹‹å‰æ˜¯æ— æ•ˆçš„</li>
<li>iat (Issued At)ï¼šç­¾å‘æ—¶é—´</li>
<li>jti (JWT ID)ï¼šç¼–å·</li>
</ul>
<h5 id="å…¬æœ‰çš„è½½è·"><a href="#å…¬æœ‰çš„è½½è·" class="headerlink" title="å…¬æœ‰çš„è½½è·"></a>å…¬æœ‰çš„è½½è·</h5><p>åœ¨ä½¿ç”¨ JWT æ—¶å¯ä»¥é¢å¤–å®šä¹‰çš„è½½è·ã€‚ä¸ºäº†é¿å…å†²çªï¼Œåº”è¯¥ä½¿ç”¨ IANA JSON Web Token Registry ä¸­å®šä¹‰å¥½çš„ï¼Œæˆ–è€…ç»™é¢å¤–è½½è·åŠ ä¸Šç±»ä¼¼å‘½åç©ºé—´çš„å”¯ä¸€æ ‡è¯†ã€‚</p>
<h5 id="ç§æœ‰è½½è·"><a href="#ç§æœ‰è½½è·" class="headerlink" title="ç§æœ‰è½½è·"></a>ç§æœ‰è½½è·</h5><p>åœ¨ä¿¡æ¯äº¤äº’çš„åŒæ–¹ä¹‹é—´çº¦å®šå¥½çš„ï¼Œæ—¢ä¸æ˜¯é¢„å®šä¹‰è½½è·ä¹Ÿä¸æ˜¯å…¬æœ‰è½½è·çš„ä¸€ç±»è½½è·ã€‚è¿™ä¸€ç±»è½½è·å¯èƒ½ä¼šå‘ç”Ÿå†²çªï¼Œæ‰€ä»¥åº”è¯¥è°¨æ…ä½¿ç”¨ã€‚</p>
<p>å°†ä¸Šé¢çš„ json è¿›è¡Œ Base64Url ç¼–ç å¾—åˆ°è½½è·ï¼Œï¼Œå³ yyyyyã€‚</p>
<blockquote>
<p>å…³äºè½½è·çš„ç†è§£ï¼š</p>
</blockquote>
<blockquote>
<p>è¿™é‡Œä¸‰ç§è½½è·çš„å®šä¹‰åº”è¯¥æ˜ç¡®çš„ä¸€ç‚¹æ˜¯ â€”â€” å¯¹äºåä¸¤ç§è½½è·ï¼Œå®ƒå¹¶éå®šä¹‰äº†è½½è·çš„ç§ç±»ï¼Œç„¶åè®©ä½ å»é€‰ç”¨å“ªç§è½½è·ï¼Œè€Œæ˜¯å¯¹ä½ å¯èƒ½ä¼šå®šä¹‰å‡ºæ¥çš„è½½è·åšä¸€ä¸ªåˆ†ç±»ã€‚</p>
</blockquote>
<blockquote>
<p>æ¯”å¦‚ä½ å®šä¹‰äº†ä¸€ä¸ª admin è½½è·ï¼Œè¿™ä¸ªè½½è·æŒ‰å…¶åˆ†ç±»åº”è¯¥æ˜¯ç§æœ‰è½½è·ï¼Œå¯èƒ½ä¼šå’Œå…¶ä»–äººå®šä¹‰çš„å‘ç”Ÿå†²çªã€‚ä½†å¦‚æœä½ åŠ äº†ä¸€ä¸ªå‰ç¼€ï¼ˆå‘½åç©ºé—´ï¼‰ï¼Œå¦‚ namespace-adminï¼Œé‚£ä¹ˆè¿™åº”è¯¥å°±ç®—ä¸€ä¸ªå…¬æœ‰è½½è·äº†ã€‚ï¼ˆä½†å…¶å®æ ‡å‡†å¹¶æ²¡æœ‰å®šä¹‰æ€ä¹ˆå»å£°æ˜å‘½åç©ºé—´ï¼Œæ‰€ä»¥ä¸¥æ ¼æ¥è¯´ï¼Œè¿˜æ˜¯å¯èƒ½ä¼šå†²çªï¼‰</p>
</blockquote>
<blockquote>
<p>ä½†æ˜¯åœ¨ç°å®ä¸­ï¼Œå›¢é˜Ÿéƒ½æ˜¯çº¦å®šå¥½çš„äº†è¦ä½¿ç”¨çš„è½½è·ï¼Œè¿™æ ·çš„è¯ï¼Œå¥½åƒæ ¹æœ¬ä¸å­˜åœ¨å†²çªçš„å¯èƒ½ã€‚é‚£ä¸ºä»€ä¹ˆæ–‡æ¡£è¦è¿™ä¹ˆå®šä¹‰å‘¢ï¼Ÿæˆ‘çš„ç†è§£æ˜¯ï¼ŒRFC æ˜¯æå‡ºä¸€ç§æŠ€æœ¯è§„èŒƒï¼Œå‡ºå‘ç‚¹æ˜¯ä¸€å¥—é€šç”¨çš„è§„èŒƒï¼Œè€ƒè™‘çš„èŒƒå›´æ˜¯æ‰€æœ‰å¼€å‘è€…ï¼Œè€Œä¸ä»…ä»…å±€é™äºä¸€ä¸ªå¼€å‘è€…å›¢é˜Ÿã€‚å°±åƒç”¨ token åšè®¤è¯å·²ç»æ˜¯å¾ˆå¸¸è§çš„æŠ€æœ¯äº†ï¼Œä½†æ˜¯ JWT çš„æå‡ºå°±ç›¸å½“äºæå‡ºäº†ä¸€å¥—è¾ƒä¸ºé€šç”¨çš„æŠ€æœ¯è§„èŒƒã€‚æ—¢ç„¶æ˜¯ä¸ºäº†é€šç”¨ï¼Œé‚£ä¹ˆè€ƒè™‘åœ¨å¤§ç¯å¢ƒä¸‹çš„å†²çªå¯èƒ½æ€§ä¹Ÿæ˜¯å¿…é¡»çš„ã€‚</p>
</blockquote>
<h5 id="ç­¾åï¼ˆSignatureï¼‰"><a href="#ç­¾åï¼ˆSignatureï¼‰" class="headerlink" title="ç­¾åï¼ˆSignatureï¼‰"></a>ç­¾åï¼ˆSignatureï¼‰</h5><p>ç­¾åæ—¶éœ€è¦ç”¨åˆ°å‰é¢ç¼–ç è¿‡çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æœä»¥ HMACSHA256 åŠ å¯†ï¼Œå°±å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HMACSHA256(</span><br><span class="line">    base64UrlEncode(header) + &quot;.&quot; +</span><br><span class="line">    base64UrlEncode(payload),</span><br><span class="line">    secret</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>åŠ å¯†åå†è¿›è¡Œ <code>base64url</code> ç¼–ç æœ€åå¾—åˆ°çš„å­—ç¬¦ä¸²å°±æ˜¯ token çš„ç¬¬ä¸‰éƒ¨åˆ† <code>zzzzz</code>ã€‚</p>
<p>ç»„åˆä¾¿å¯ä»¥å¾—åˆ° tokenï¼š<code>xxxxx.yyyyy.zzzzz</code>ã€‚</p>
<p>ç­¾åçš„ä½œç”¨ï¼šä¿è¯ JWT æ²¡æœ‰è¢«ç¯¡æ”¹è¿‡ï¼ŒåŸç†å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>HMAC ç®—æ³•æ˜¯ä¸å¯é€†ç®—æ³•ï¼Œç±»ä¼¼ MD5 å’Œ hash ï¼Œä½†å¤šä¸€ä¸ªå¯†é’¥ï¼Œå¯†é’¥ï¼ˆå³ä¸Šé¢çš„ secretï¼‰ç”±æœåŠ¡ç«¯æŒæœ‰ï¼Œå®¢æˆ·ç«¯æŠŠ token å‘ç»™æœåŠ¡ç«¯åï¼ŒæœåŠ¡ç«¯å¯ä»¥æŠŠå…¶ä¸­çš„å¤´éƒ¨å’Œè½½è·å†åŠ ä¸Šäº‹å…ˆå…±äº«çš„ secret å†è¿›è¡Œä¸€æ¬¡ HMAC åŠ å¯†ï¼Œå¾—åˆ°çš„ç»“æœå’Œ token çš„ç¬¬ä¸‰æ®µè¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœä¸€æ ·åˆ™è¡¨æ˜æ•°æ®æ²¡æœ‰è¢«ç¯¡æ”¹ã€‚</p>
</blockquote>
<blockquote>
<p>Hash-based Message Authentication Code</p>
</blockquote>
<h5 id="2-ä½¿ç”¨"><a href="#2-ä½¿ç”¨" class="headerlink" title="2. ä½¿ç”¨"></a>2. ä½¿ç”¨</h5><p>JWT çš„ä½¿ç”¨æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>åŠ åˆ° url ä¸­ï¼š?token&#x3D;ä½ çš„token</li>
<li>åŠ åˆ° header ä¸­ï¼Œå»ºè®®ç”¨è¿™ç§ï¼Œå› ä¸ºåœ¨ https æƒ…å†µä¸‹æ›´å®‰å…¨ï¼šAuthorization:Bearer ä½ çš„token</li>
</ul>
<p>JWT åœ¨å®¢æˆ·ç«¯çš„å­˜å‚¨æœ‰ä¸‰ç§æ–¹å¼ï¼š</p>
<ul>
<li>LocalStorage</li>
<li>SessionStorage</li>
<li>Cookie [ä¸èƒ½è®¾ç½® HTTPonly]<br>ä½†æ˜¯æœ€æ¨èçš„è¿˜æ˜¯ç¬¬ä¸‰ç§ï¼Œå› ä¸ºç¬¬ä¸€äºŒç§å­˜åœ¨è·¨åŸŸè¯»å–é™åˆ¶ï¼Œè€Œ Cookie ä½¿ç”¨ä¸åŒçš„è·¨åŸŸç­–ç•¥</li>
</ul>
<p>å› ä¸ºæ²¡å¼€ HTTPonlyï¼Œæ‰€ä»¥è¦æ³¨æ„é˜²èŒƒ XSS æ¼æ´ã€‚</p>
<h5 id="Cookie-çš„è·¨åŸŸç­–ç•¥"><a href="#Cookie-çš„è·¨åŸŸç­–ç•¥" class="headerlink" title="Cookie çš„è·¨åŸŸç­–ç•¥"></a>Cookie çš„è·¨åŸŸç­–ç•¥</h5><p>å­å¯ä»¥è¯»çˆ¶ï¼Œä½†æ˜¯çˆ¶ä¸å¯ä»¥è¯»å­ï¼Œå…„å¼Ÿä¹‹é—´ä¸èƒ½äº’ç›¸è®¿é—®ã€‚</p>
<p>a.xxx.com å’Œ b.xxx.com å¯ä»¥è¯» xxx.comï¼Œä½†æ˜¯ a.xxx.com å’Œ b.xxx.com ä¸èƒ½äº’ç›¸è¯»å–ï¼Œxxx.com ä¹Ÿä¸èƒ½è¯» a.xxx.com å’Œ b.xxx.com çš„ã€‚</p>
<blockquote>
<p>ä½ å¯èƒ½ä¼šæƒ³ï¼šå­˜ Cookie é‚£æˆ‘ä¸æ˜¯åˆå˜å¾—å’Œ cookie + session ä¸€æ ·äº†å—ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>å…¶å®ä¸ç„¶ï¼Œå› ä¸ºå­˜ cookie åœ¨è¿™åªæ˜¯ç”¨åˆ°äº†å…¶å­˜å‚¨æœºåˆ¶ï¼Œè€Œæ²¡æœ‰åˆ©ç”¨å…¶å»é‰´æƒã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘åªæ˜¯ç®€å•å­˜ä¸€ä¸‹ï¼Œå¹¶æ²¡æœ‰æœŸæœ›æµè§ˆå™¨å¸¦ä¸Šå» token å»é‰´æƒï¼Œå°† token åŠ å…¥è¯·æ±‚è¿™éƒ¨åˆ†æ“ä½œè¿˜æ˜¯æˆ‘æ‰‹åŠ¨è¿›è¡Œçš„ã€‚</p>
</blockquote>
<h4 id="3-ç›¸å¯¹äºä¸€èˆ¬-token-çš„ä¼˜ç‚¹"><a href="#3-ç›¸å¯¹äºä¸€èˆ¬-token-çš„ä¼˜ç‚¹" class="headerlink" title="3. ç›¸å¯¹äºä¸€èˆ¬ token çš„ä¼˜ç‚¹"></a>3. ç›¸å¯¹äºä¸€èˆ¬ token çš„ä¼˜ç‚¹</h4><p>æ—¢ç„¶ JWT ä¹Ÿæ˜¯ä¸€ç§ tokenï¼Œé‚£ä¹ˆå®ƒç›¸å¯¹äºæ™®é€šçš„ token æœ‰ä½•ä¼˜ç‚¹å‘¢ï¼Ÿ</p>
<h5 id="æ— çŠ¶æ€"><a href="#æ— çŠ¶æ€" class="headerlink" title="æ— çŠ¶æ€"></a>æ— çŠ¶æ€</h5><p>å› ä¸º JWT çš„æœ‰æ•ˆæœŸå®Œå…¨ä¸å…¶è½½è·ä¸­ç¼–ç çš„è¿‡æœŸæ—¶é—´ï¼ŒæœåŠ¡ç«¯ä¸ç»´æŠ¤ä»»ä½•çŠ¶æ€ï¼Œå› æ­¤ JWT ã€ä¸€èˆ¬ã€æ˜¯ã€æ— çŠ¶æ€ã€çš„ï¼ˆä¸ºä»€ä¹ˆæ˜¯ä¸€èˆ¬ï¼Œåé¢ä¼šä»”ç»†è¯´ï¼‰ã€‚æ— çŠ¶æ€æœ€å¤§çš„ä¼˜åŠ¿åœ¨äºä¸‰ç‚¹ï¼š</p>
<ul>
<li>èŠ‚çœæœåŠ¡å™¨çš„èµ„æºï¼šå› ä¸ºæœåŠ¡ç«¯æ— éœ€ç»´æŠ¤ä¸€ä¸ªçŠ¶æ€ï¼Œå› æ­¤èƒ½å¤ŸèŠ‚çœæœåŠ¡ç«¯åŸå…ˆä¿å­˜è¿™äº›çŠ¶æ€æ‰€èŠ±è´¹çš„èµ„æº</li>
<li>é€‚åˆåˆ†å¸ƒå¼ï¼šå› ä¸ºæœåŠ¡ç«¯æ— éœ€ç»´æŠ¤çŠ¶æ€ï¼Œå› æ­¤å¦‚æœæœåŠ¡ç«¯æ˜¯å¤šå°æœåŠ¡å™¨ç»„æˆçš„åˆ†å¸ƒå¼é›†ç¾¤ï¼Œé‚£ä¹ˆæ— éœ€åƒã€æœ‰çŠ¶æ€ã€ä¸€æ ·äº’ç›¸åŒæ­¥å„è‡ªçš„çŠ¶æ€ã€‚</li>
<li>æ—¶é—´æ¢ç©ºé—´ï¼šå› ä¸º token çš„æ ¡éªŒæ—¶é€šè¿‡ç­¾åæ ¡éªŒæ¥è¿›è¡Œçš„ï¼Œç­¾åæ ¡éªŒæ¶ˆè€—çš„æ˜¯ CPU æ—¶é—´ï¼Œè€Œã€æœ‰çŠ¶æ€ã€æ˜¯éœ€è¦é€šè¿‡å®¢æˆ·ç«¯æä¾›çš„å‡­æ®å¯¹æœåŠ¡ç«¯ç°æœ‰çš„çŠ¶æ€è¿›è¡Œä¸€æ¬¡æŸ¥è¯¢ï¼Œæ¶ˆè€—çš„æ˜¯ I&#x2F;O å’Œå†…å­˜ã€ç£ç›˜ç©ºé—´ã€‚é€šå¸¸å¯¹äºä¸€ä¸ª Web æœåŠ¡æ¥è¯´ï¼Œå…¶å±äº I&#x2F;O å¯†é›†å‹ï¼Œå› æ­¤é€šè¿‡æ—¶é—´æ¢ç©ºé—´è¿™ä¸€æ“ä½œï¼Œå¯ä»¥æé«˜æ•´ä½“çš„ç¡¬ä»¶ä½¿ç”¨ç‡ã€‚</li>
</ul>
<h5 id="ç¼–ç æ•°æ®"><a href="#ç¼–ç æ•°æ®" class="headerlink" title="ç¼–ç æ•°æ®"></a>ç¼–ç æ•°æ®</h5><p>å› ä¸º JWT èƒ½å¤Ÿåœ¨è½½è·ä¸­ç¼–ç äº†éƒ¨åˆ†ä¿¡æ¯ï¼Œæ‰€ä»¥å¦‚æœæŠŠå¸¸ç”¨æ•°æ®ç¼–ç è¿›å»çš„è¯ï¼Œèƒ½å¤Ÿå¤§å¤§å‡å°‘æ•°æ®åº“çš„æŸ¥è¯¢æ¬¡æ•°ï¼Œä¸è¿‡æœ‰ä¸¤ç‚¹éœ€è¦é¢å¤–æ³¨æ„çš„ï¼š</p>
<ul>
<li>è½½è·ä¿¡æ¯æ˜¯æ˜æ–‡ç¼–ç çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç¼–ç æ•æ„Ÿä¿¡æ¯åœ¨é‡Œé¢ï¼Œå¦‚æœè¦ç¼–ç å¯ä»¥å…ˆåŠ å¯†å†ç¼–ç è¿›å»</li>
<li>token åœ¨æ¯æ¬¡è¯·æ±‚æ—¶éƒ½ä¼šè¿›è¡Œä¼ è¾“ï¼Œæ‰€ä»¥è½½è·ä¸­ä¸èƒ½ç¼–ç è¿‡å¤šçš„ä¿¡æ¯ï¼Œå¦åˆ™ä¼šé™ä½ä¼ è¾“æ•ˆç‡</li>
</ul>
<p>æ‰€ä»¥ JWT å°±æœ‰å››ä¸ªä¼˜ç‚¹äº†ï¼š</p>
<ul>
<li>é˜² CSRF</li>
<li>é€‚åˆç§»åŠ¨åº”ç”¨</li>
<li>æ— çŠ¶æ€</li>
<li>ç¼–ç æ•°æ®<br>å‰ä¸¤ä¸ªæ˜¯ token çš„ä¼˜åŠ¿ï¼Œåä¸¤ä¸ªæ˜¯ JWT ç‹¬ç‰¹çš„ä¼˜åŠ¿ã€‚</li>
</ul>
<h3 id="ä¸‰ã€JWT-çš„å®‰å…¨é—®é¢˜"><a href="#ä¸‰ã€JWT-çš„å®‰å…¨é—®é¢˜" class="headerlink" title="ä¸‰ã€JWT çš„å®‰å…¨é—®é¢˜"></a>ä¸‰ã€JWT çš„å®‰å…¨é—®é¢˜</h3><p>æ—¢ç„¶ä¸»è¦ä½¿ç”¨åœºæ™¯æ˜¯é‰´æƒï¼Œé‚£ä¹ˆå®‰å…¨é—®é¢˜å°±æ˜¯ä¸å¾—ä¸è€ƒè™‘çš„é—®é¢˜äº†ã€‚ä¸‹é¢å¯¹ JWT å¯èƒ½éœ€è¦çš„å®‰å…¨é—®é¢˜éƒ½è¿›è¡Œä¸€æ¬¡æ·±å…¥çš„æ¢è®¨å¹¶å¯»æ±‚æœ€ä½³çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h4 id="1-é‡æ”¾æ”»å‡»"><a href="#1-é‡æ”¾æ”»å‡»" class="headerlink" title="1. é‡æ”¾æ”»å‡»"></a>1. é‡æ”¾æ”»å‡»</h4><p>é‡æ”¾æ”»å‡»æ˜¯é€šè¿‡æŠŠåŸå…ˆçš„åŒ…è¿›è¡Œä¸€æ¬¡é‡æ”¾æ¥è¿›è¡Œæ”»å‡»çš„æ‰‹æ®µã€‚éœ€è¦å…ˆæ˜ç¡®æ˜¯çš„ cookie + session ä¹Ÿæ˜¯å­˜åœ¨é‡æ”¾æ”»å‡»çš„é—®é¢˜çš„ã€‚</p>
<p>å¸¸ç”¨çš„é˜²èŒƒé‡æ”¾æ”»å‡»çš„æªæ–½ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<h5 id="timestamp"><a href="#timestamp" class="headerlink" title="timestamp"></a>timestamp</h5><p>åœ¨è¯·æ±‚ä¸­å¤¹å¸¦ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œè®¾ç½®è¾ƒçŸ­çš„æœ‰æ•ˆæœŸï¼Œå¦‚æœä¸€ä¸ªæ–°æ¥çš„è¯·æ±‚çš„è¯·æ±‚æ—¶é—´è¶…è¿‡äº†è¯·æ±‚ä¸­çš„æœ‰æ•ˆæœŸï¼Œåˆ™è®¤ä¸ºæ— æ•ˆã€‚ä½†æ˜¯è¿™ç§ç­–ç•¥ä¹Ÿå­˜åœ¨é—®é¢˜ï¼Œå³å¦‚æœä¸€ä¸ªé»‘å®¢ã€çœ¼ç–¾æ‰‹å¿«ã€åœ¨æœ‰æ•ˆæœŸä»¥å†…å°†ä½ çš„åŒ…è¿›è¡Œäº†é‡æ”¾ï¼Œ é‚£å°±æ¥æ”»å‡»æˆåŠŸã€‚</p>
<p>è¿™ç§ç­–ç•¥å¯¹åº”åˆ° JWT ä¸­å°±æ˜¯ç»™ token è®¾ç½®ä¸€ä¸ªè¾ƒçŸ­çš„æœ‰æ•ˆæœŸã€‚</p>
<h5 id="nonce"><a href="#nonce" class="headerlink" title="nonce"></a>nonce</h5><p>åœ¨è¯·æ±‚ä¸­å¤¹å¸¦ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²ä¼ é€åˆ°å®¢æˆ·ç«¯åå³å­˜å…¥å®¢æˆ·ç«¯çš„é»‘åå•ä¸­ï¼Œå¦‚æœä¸€ä¸ªæ–°æ¥çš„è¯·æ±‚å…¶ä¸­å­˜åœ¨çš„éšæœºå­—ç¬¦ä¸²å·²ç»åœ¨é»‘åå•ä¸­åˆ™è®¤ä¸ºæ— æ•ˆã€‚ä½†æ˜¯æ˜¾ç„¶ï¼Œè¿™ä¸ªç­–ç•¥å­˜åœ¨å·¨å¤§çš„é—®é¢˜ï¼šæœåŠ¡ç«¯éœ€è¦ç»´æŠ¤ä¸€ä¸ªé»‘åå•åº“ï¼Œè¿™ä¸ªåº“çš„å¤§å°ä¼šéšç€ä¸šåŠ¡è¿è¡Œçš„æ—¶é—´è€Œå˜å¾—æ— æ¯”å·¨å¤§ï¼Œä»è€Œä¸¥é‡å½±å“æ•ˆç‡ã€‚</p>
<p>è¿™ç§ç­–ç•¥å¯¹åº”åˆ° JWT ä¸­å°±æ˜¯ç»™ token è®¾ç½®ä¸€ä¸ªé»‘åå•ï¼Œä½†æ˜¯ä¸è®¾ç½®æœ‰æ•ˆæœŸã€‚</p>
<h5 id="timestamp-nonce"><a href="#timestamp-nonce" class="headerlink" title="timestamp + nonce"></a>timestamp + nonce</h5><p>åœ¨è¯·æ±‚ä¸­å¤¹å¸¦ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ—¶é—´æˆ³ï¼Œå¦‚æœä¸€ä¸ªæ–°æ¥çš„è¯·æ±‚ï¼Œå…¶éšæœºå­—ç¬¦ä¸²å·²ç»åœ¨é»‘åå•ä¸­åˆ™è®¤ä¸ºæ— æ•ˆï¼Œæˆ–è€…ä¸€ä¸ªè¯·æ±‚çš„çš„è¯·æ±‚æ—¶é—´è¶…è¿‡äº†å…¶æœ‰æ•ˆæœŸï¼Œåˆ™ä¹Ÿè®¤ä¸ºå…¶æ— æ•ˆã€‚è¿™æ ·é»‘åå•çš„èŒƒå›´åªéœ€è®¾ç½®ä¸ºæ—¶é—´æˆ³ç­–ç•¥çš„æœ‰æ•ˆæœŸèŒƒå›´å³å¯ã€‚</p>
<p>è¿™ç§ç­–ç•¥å¯¹åº”åˆ° JWT ä¸­å°±æ˜¯ç»™ token æ—¢è®¾ç½®ä¸€ä¸ªé»‘åå•ï¼Œåˆè®¾ç½®ä¸€ä¸ªæœ‰æ•ˆæœŸã€‚</p>
<h5 id="æŒ‘æˆ˜-åº”ç­”"><a href="#æŒ‘æˆ˜-åº”ç­”" class="headerlink" title="æŒ‘æˆ˜ - åº”ç­”"></a>æŒ‘æˆ˜ - åº”ç­”</h5><p>è¿™ä¸ªå…¶å®å’Œ timestamp + nonce ç­–ç•¥ä¸€æ ·ï¼Œåªæ˜¯éšæœºå­—ç¬¦ä¸²æ˜¯æœ‰æœåŠ¡ç«¯ç”Ÿæˆç»™å®¢æˆ·ç«¯çš„ï¼Œå®¢æˆ·ç«¯æºå¸¦æœåŠ¡ç«¯æ‰€ç»™çš„éšæœºä¸²æ¥è¯·æ±‚ã€‚è¿™æ ·æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼ŸæœåŠ¡ç«¯å¯ä»¥é€šè¿‡ä¸€ä¸ªåŠ å¯†ç®—æ³•æ¥ç”Ÿæˆè¿™ä¸ªä¸²ï¼Œä½¿å…¶å’Œæ—¶é—´æˆ³ç›¸å…³ï¼ŒåŒæ—¶å®¢æˆ·ç«¯åˆæ— æ³•ä¼ªé€ ã€‚è¿™æ ·å°±ä¸éœ€è¦ç»´æŠ¤é»‘åå•äº†ã€‚åŒæ ·ä¹Ÿæ˜¯æ—¶é—´æ¢ç©ºé—´çš„ç­–ç•¥ã€‚ä½†æ˜¯æ˜¾ç„¶æ¯æ¬¡æˆ–å‡ æ¬¡è¯·æ±‚å°±è¦è¿›è¡Œä¸€æ¬¡ä¸é¢„è¯·æ±‚ä»¥å¾—åˆ°éšæœºä¸²ï¼Œå¹¶ä¸æ˜¯ç‰¹åˆ«æ–¹ä¾¿ï¼Œé€ æˆçš„é¢å¤–æ¶ˆè€—ä¹Ÿæœ‰å¾…è€ƒé‡ã€‚</p>
<h5 id="åºåˆ—å·"><a href="#åºåˆ—å·" class="headerlink" title="åºåˆ—å·"></a>åºåˆ—å·</h5><p>é€šè¿‡åœ¨è¯·æ±‚ä¸­åµŒå…¥ä¸€ä¸ªåºåˆ—å·ï¼Œæ¯æ¬¡è¯·æ±‚ä¾æ¬¡åŠ ä¸€ï¼Œå¦‚æœä¸€ä¸ªè¯·æ±‚çš„åºåˆ—å·æ—©å·²ç”¨è¿‡ï¼Œåˆ™è®¤ä¸ºæ— æ•ˆã€‚ä½†æ˜¯è¿™ä¸ªè¦ç”¨é€»è¾‘é¢å¤–ä¸€ä¸ªå…¨å±€åºåˆ—å·ï¼Œå¹¶ä¸æ˜¯ç‰¹åˆ«æ–¹ä¾¿ã€‚</p>
<h5 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h5><p>ç»ˆæè§£å†³æ–¹æ¡ˆäº†ï¼ŒHTTPS åœ¨æ¡æ‰‹è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨ç»´æŠ¤ä¸€ä¸ªéšå¼åºåˆ—å·ï¼Œè§£å†³äº†ä¸Šé¢è¦è‡ªå·±ç»´æŠ¤åºåˆ—å·çš„é—®é¢˜ã€‚</p>
<p>æ³¨æ„ï¼šä»¥ä¸Šå‡æ²¡æœ‰è®¨è®ºå®¢æˆ·ç«¯ä¸»åŠ¨é‡æ”¾çš„é—®é¢˜ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±ç ”ç©¶ä¸€ä¸‹ã€‚</p>
<h4 id="2-token-è¢«ç›—"><a href="#2-token-è¢«ç›—" class="headerlink" title="2. token è¢«ç›—"></a>2. token è¢«ç›—</h4><p>å› ä¸º token ä¸­åŒ…å«äº†ç™»é™†çŠ¶æ€ï¼Œå› æ­¤ä¸€æ—¦ token è¢«ç›—ï¼Œé‚£ä¹ˆå°±ä¼šè¢«äººç›—ç”¨èº«ä»½ã€‚é‚£ä¹ˆ token é’ˆå¯¹è¢«ç›—çš„é˜²èŒƒæªæ–½æ•´ç†å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä½¿ç”¨ HTTPS ä¼ è¾“ï¼šä»ä¼ è¾“å±‚çš„è§’åº¦è§£å†³é—®é¢˜</li>
<li>HTTPOnlyï¼šä»å­˜å‚¨å±‚çš„è§’åº¦è§£å†³é—®é¢˜ï¼Œé˜²æ­¢ XSS æ”»å‡»çªƒå– cookieï¼Œä½†æ˜¯è¿™ç§æ–¹æ¡ˆå…¶å®å­˜åœ¨é—®é¢˜ï¼Œå› ä¸ºè¿™æ · js å°±æ— æ³•è¯»å– token å¹¶æŠŠå®ƒåŠ åˆ° header å¤´ä¸­äº†ã€‚æ‰€ä»¥ä¸å¼€å¯ HTTPOnly çš„è¯å¿…é¡»è¦é¢å¤–æ³¨æ„é˜²èŒƒ XSS æ”»å‡»ã€‚</li>
<li>åœ¨ token ä¸­åµŒå…¥å®¢æˆ·ç«¯æŒ‡çº¹ï¼šé€šè¿‡å®¢æˆ·ç«¯æŒ‡çº¹ï¼Œå³ä½¿é»‘å®¢ç›—å–äº†ä½ çš„ cookieï¼Œä»–ä¹Ÿæ— æ³•ç”¨ä½ çš„ cookie è¿›è¡Œè¯·æ±‚ã€‚</li>
<li>è®¾ç½®è¾ƒçŸ­çš„ token æœ‰æ•ˆæœŸï¼šè¿™æ ·å¦‚æœ token è¢«ç›—ï¼Œåªè¦è¶…è¿‡ä¸€å®šæ—¶é™å°±æ— æ³•ä½¿ç”¨ã€‚</li>
</ul>
<h3 id="å››ã€JWT-çš„å…¶ä»–é—®é¢˜"><a href="#å››ã€JWT-çš„å…¶ä»–é—®é¢˜" class="headerlink" title="å››ã€JWT çš„å…¶ä»–é—®é¢˜"></a>å››ã€JWT çš„å…¶ä»–é—®é¢˜</h3><p>é™¤äº†å®‰å…¨é—®é¢˜ï¼ŒJWT è¿˜æœ‰è®¸å¤šå…¶ä»–éœ€è¦è€ƒè™‘çš„é—®é¢˜ã€‚</p>
<h4 id="1-æ³¨é”€é—®é¢˜"><a href="#1-æ³¨é”€é—®é¢˜" class="headerlink" title="1. æ³¨é”€é—®é¢˜"></a>1. æ³¨é”€é—®é¢˜</h4><p>å› ä¸º JWT æ˜¯æ— çŠ¶æ€çš„ï¼Œæ‰€ä»¥å®ƒçš„æœ‰æ•ˆæœŸå®Œå…¨ç”±å…¶æœ¬èº«å†³å®šï¼Œä¹Ÿå°±æ˜¯è¯´æœåŠ¡ç«¯æ— æ³•è®©ä¸€ä¸ª token å¤±æ•ˆã€‚æ˜¾ç„¶è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„é—®é¢˜ï¼Œå¯¹æ­¤ä¹Ÿæœ‰è¯¸å¤šè§£å†³æ–¹æ¡ˆï¼š</p>
<h5 id="1-1-å®¢æˆ·ç«¯ä¸»åŠ¨æ³¨é”€"><a href="#1-1-å®¢æˆ·ç«¯ä¸»åŠ¨æ³¨é”€" class="headerlink" title="1.1 å®¢æˆ·ç«¯ä¸»åŠ¨æ³¨é”€"></a>1.1 å®¢æˆ·ç«¯ä¸»åŠ¨æ³¨é”€</h5><h5 id="å®¢æˆ·ç«¯ç›´æ¥åˆ é™¤å­˜å‚¨-token-çš„-cookie"><a href="#å®¢æˆ·ç«¯ç›´æ¥åˆ é™¤å­˜å‚¨-token-çš„-cookie" class="headerlink" title="å®¢æˆ·ç«¯ç›´æ¥åˆ é™¤å­˜å‚¨ token çš„ cookie"></a>å®¢æˆ·ç«¯ç›´æ¥åˆ é™¤å­˜å‚¨ token çš„ cookie</h5><p>è¿™ç§æ–¹æ¡ˆæœ€ä¸ºç®€å•ï¼Œæ“ä½œçš„ç»“æœæ˜¯æ— è®ºå®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡ç«¯éƒ½æ²¡æœ‰è¿™ä¸ª tokenï¼Œå¯é—®é¢˜æ˜¯ï¼Œè¿™ä¸ª token å¹¶æ²¡æœ‰çœŸæ­£ä¸å¯ä½¿ç”¨ï¼Œè€Œæ˜¯å¤„äºä¸€ä¸ªæ¸¸ç¦»æ€ã€‚</p>
<h5 id="é»‘åå•ç­–ç•¥"><a href="#é»‘åå•ç­–ç•¥" class="headerlink" title="é»‘åå•ç­–ç•¥"></a>é»‘åå•ç­–ç•¥</h5><p>å®¢æˆ·ç«¯æºå¸¦è¦æ³¨é”€çš„ token è®¿é—®ä¸€ä¸ªæ³¨é”€æ¥å£ï¼ŒæœåŠ¡ç«¯æŠŠ token åŠ å…¥ä¸€ä¸ªé»‘åå•ã€‚</p>
<p>æ­¤ç­–ç•¥æ˜¯å¦ä¼šå‡ºç°é»‘åå•è¿‡å¤§çš„é—®é¢˜ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ä¸ä¼šï¼Œå› ä¸ºé»‘åå•åªéœ€ç»´æŠ¤æœ¬èº«æ²¡æœ‰è¿‡æœŸä½†åˆè¦ä½¿å…¶æ— æ•ˆçš„ tokenï¼Œè¿‡æœŸçš„ token å°±å¯ä»¥ä¸ç”¨å­˜åœ¨é»‘åå•äº†ã€‚</p>
<h5 id="1-2-æœåŠ¡ç«¯ä¸»åŠ¨æ³¨é”€-ç”¨æˆ·ä¿®æ”¹å¯†ç "><a href="#1-2-æœåŠ¡ç«¯ä¸»åŠ¨æ³¨é”€-ç”¨æˆ·ä¿®æ”¹å¯†ç " class="headerlink" title="1.2 æœåŠ¡ç«¯ä¸»åŠ¨æ³¨é”€ \ ç”¨æˆ·ä¿®æ”¹å¯†ç "></a>1.2 æœåŠ¡ç«¯ä¸»åŠ¨æ³¨é”€ \ ç”¨æˆ·ä¿®æ”¹å¯†ç </h5><h5 id="æŠŠ-token-å’Œ-uuid-ç”¨-key-value-å¯¹å­˜å‚¨åœ¨-redis"><a href="#æŠŠ-token-å’Œ-uuid-ç”¨-key-value-å¯¹å­˜å‚¨åœ¨-redis" class="headerlink" title="æŠŠ token å’Œ uuid ç”¨ key-value å¯¹å­˜å‚¨åœ¨ redis"></a>æŠŠ token å’Œ uuid ç”¨ key-value å¯¹å­˜å‚¨åœ¨ redis</h5><p>è¿™ç§æ–¹æ¡ˆçœ‹ä¸Šå»æ²¡é—®é¢˜ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œç›¸å½“äºè‡ªå·±å®ç°äº†ä¸€æ¬¡ cookie + sessionï¼ŒJWT å°±å¤±å»äº†ã€æ— çŠ¶æ€ã€è¿™ä¸€ç‰¹æ€§ï¼Œä»ä¹Ÿä¼šå¤±å»ã€æ— çŠ¶æ€ã€ç‰¹æ€§å¸¦æ¥çš„ä¸€ç³»åˆ—çš„ä¼˜ç‚¹ã€‚</p>
<h5 id="è®©æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ª-secret"><a href="#è®©æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ª-secret" class="headerlink" title="è®©æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ª secret"></a>è®©æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ª secret</h5><p>å‰é¢è®²åˆ°ç­¾å‘ token çš„æ—¶å€™ç”¨åˆ°äº† secret ï¼Œè¿™ç§ç­–ç•¥çš„æ€æƒ³å°±æ˜¯è®©æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ª secretï¼Œæ³¨é”€ä¸€ä¸ªç”¨æˆ·çš„æ—¶å€™ä¿®æ”¹å…¶ secretï¼Œå³å¯ä½¿å…¶å‰é¢ç­¾å‘çš„ token æ— æ³•é€šè¿‡æ ¡éªŒè€Œå¤±æ•ˆã€‚</p>
<p>è¿™ç§ç­–ç•¥ä¸Šå¬ä¸Šå»ä¸éœ€è¦ç»´æŠ¤ä¸€ä¸ªçŠ¶æ€ï¼Œä½†æ˜¯å®é™…ä¸Šå­˜åœ¨æ›´å¤§çš„é—®é¢˜ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œç¬¬ä¸€ç§æ–¹æ¡ˆæ˜¯é€šè¿‡ uuid åœ¨å·²ç™»å½•ç”¨æˆ·çš„ token è¡¨ä¸­æ‰¾åˆ°è¦æ³¨é”€çš„ token æ³¨é”€ã€‚cookie + session æ˜¯é€šè¿‡ session_id åœ¨å·²ç™»å½•çš„ç”¨æˆ·çš„ session è¡¨ä¸­æ‰¾åˆ°å…¶å¯¹åº”çš„ session å¹¶åˆ é™¤æ¥æ³¨é”€ã€‚è€Œæ­¤æ–¹æ¡ˆæ˜¯é€šè¿‡ uuid åœ¨æ‰€æœ‰ç”¨æˆ·ï¼ˆè€Œéå·²ç™»å½•ç”¨æˆ·ï¼‰ä¸­æ‰¾åˆ°å¯¹äºçš„ secret ä¿®æ”¹æ¥æ³¨é”€ã€‚è¿™æ ·çœ‹æ¥ä¼šå‘ç°æ•ˆç‡æ›´ä½ï¼Œå› ä¸ºæŸ¥æ‰¾èŒƒå›´æ›´å¤§äº†ã€‚</p>
<h5 id="é¢„é»‘åå•"><a href="#é¢„é»‘åå•" class="headerlink" title="é¢„é»‘åå•"></a>é¢„é»‘åå•</h5><p>æŠŠè¦æ³¨é”€çš„ç”¨æˆ·çš„ uuid å’Œå½“å‰æ—¶é—´ï¼ˆTIMEï¼‰ ç»„æˆ key-value å¯¹åŠ å…¥é¢„é»‘åå•ï¼Œä¸‹æ¬¡è¯·æ±‚æ¥æ—¶ï¼Œè‹¥å…¶ uuid å’Œé»‘åå•ä¸­çš„å¯¹åº”ï¼Œå¹¶ä¸”ç­¾å‘æ—¶é—´åœ¨ TIME ä¹‹å‰ï¼Œåˆ™å°†å…¶æ³¨é”€ã€‚è¿™æ ·æŸ¥æ‰¾èŒƒå›´å°±æ˜¯æœªè¿‡æœŸä½†åˆè¦æ³¨é”€çš„ç”¨æˆ·ã€‚å¹¶ä¸”åœ¨å®ç°é€»è¾‘ä¸Šè¿™ä¸ªé¢„é»‘åå•å¯ä»¥å’Œç­¾åçš„é»‘åå•åšåˆ°ä¸€èµ·ã€‚</p>
<blockquote>
<p>å…³äºé»‘åå•ç­–ç•¥çš„è¡¥å……ï¼š</p>
</blockquote>
<blockquote>
<p>æœ‰äººå¯èƒ½ä¼šè§‰å¾—é»‘åå•ä¹Ÿæ˜¯ä¸€ç§çŠ¶æ€ï¼Œç”¨è¿™ç§ç­–ç•¥å®ç°çš„ JWT å¹¶ä¸èƒ½ç®—çº¯æ­£çš„æ— çŠ¶æ€ã€‚è¿™ç§è¯´æ³•æ²¡é”™ï¼Œä½†æ˜¯è€ƒè™‘æ¯æ¬¡è¦æ£€ç´¢çš„æ•°æ®èŒƒå›´å¯ä»¥å¾—åˆ°ä¸‹é¢ä¸€ä¸ªå…³ç³»ï¼š</p>
</blockquote>
<blockquote>
<p>æœªè¿‡æœŸä½†è¦æå‰æ³¨é”€çš„ç”¨æˆ·æˆ– token æ•° &lt; æ‰€æœ‰å·²ç™»å½•ç”¨æˆ·æ•° &lt; æ‰€æœ‰ç”¨æˆ·æ•°</p>
</blockquote>
<blockquote>
<p>æ­¤å¤„çš„ã€ &lt; ã€åŸºæœ¬å¯ä»¥çœ‹æˆã€è¿œè¿œå°äºã€ï¼Œæ‰€ä»¥é»‘åå•ç­–ç•¥è™½ç„¶ä¹Ÿç®—æœ‰çŠ¶æ€ï¼Œä½†æ˜¯å…¶ç»´æŠ¤çš„çŠ¶æ€æ•°ä¹Ÿæ˜¯ç‰¹åˆ«å°çš„ã€‚</p>
</blockquote>
<blockquote>
<p>å¯è§ ã€é»‘åå•ã€ç­–ç•¥èƒ½å¤Ÿæœ‰æ•ˆè§£å†³ JWT çš„æ³¨é”€é—®é¢˜ã€‚</p>
</blockquote>
<h4 id="2-ç»­ç­¾é—®é¢˜"><a href="#2-ç»­ç­¾é—®é¢˜" class="headerlink" title="2. ç»­ç­¾é—®é¢˜"></a>2. ç»­ç­¾é—®é¢˜</h4><p>session å¯ä»¥è‡ªåŠ¨ç»­ç­¾ï¼Œé‚£ token å¦‚ä½•å®ç°è‡ªåŠ¨ç»­ç­¾å‘¢ï¼Ÿæˆ‘ä»¬å…ˆä»”ç»†åˆ†æä¸€ä¸‹åœ¨ web å’Œ app ç¯å¢ƒä¸­ï¼Œtoken åˆ†åˆ«å¦‚ä½•ç»­ç­¾ã€‚å…ˆå…·ä½“åˆ†æ web ç»­ç­¾å’Œ app ç»­ç­¾åˆ†åˆ«æ˜¯ä»€ä¹ˆæ ·çš„å…·ä½“éœ€æ±‚ã€‚</p>
<h5 id="web"><a href="#web" class="headerlink" title="web"></a>web</h5><p>è¶…è¿‡ä¸€æ®µæ—¶é—´æ²¡æœ‰è¯·æ±‚ï¼Œéœ€è¦é‡æ–°ç™»å½•ï¼Œè¿™ä¸ªæ—¶é—´ä¸€èˆ¬è®¾ç½®ä¸º 1-2 å°æ—¶</p>
<h5 id="app"><a href="#app" class="headerlink" title="app"></a>app</h5><p>è¶…è¿‡ä¸€æ®µè¾ƒé•¿çš„æ—¶é—´æ²¡æœ‰è¯·æ±‚ï¼Œéœ€è¦é‡æ–°ç™»å½•ï¼Œè¿™ä¸ªæ—¶é—´ä¸€èˆ¬ä¸º 15-30 å¤©</p>
<p>é‚£è¿™ä¸ªéœ€æ±‚å¯ä»¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ</p>
<h5 id="2-1-æ–¹å¼ä¸€"><a href="#2-1-æ–¹å¼ä¸€" class="headerlink" title="2.1 æ–¹å¼ä¸€"></a>2.1 æ–¹å¼ä¸€</h5><ul>
<li>æœåŠ¡ç«¯æ¥ç®¡åˆ·æ–°</li>
<li>token è®¾ç½®ä¸€ä¸ªã€è¿‡æœŸæ—¶é—´ã€</li>
<li>token è¿‡æœŸåä½†æ˜¯ä»åœ¨ã€åˆ·æ–°æ—¶é—´ã€å†…æ—¶ä»ç„¶å¯åˆ·æ–°</li>
<li>token è¿‡æœŸåè¶…è¿‡ã€åˆ·æ–°æ—¶é—´ã€å°±ä¸èƒ½å†åˆ·æ–°ï¼Œéœ€é‡æ–°ç™»å½•</li>
</ul>
<h5 id="web-1"><a href="#web-1" class="headerlink" title="web"></a>web</h5><p>å‡è®¾ä¸€ä¸ª token çš„ç­¾å‘æ—¶é—´ä¸º 12:00ï¼Œéœ€æ±‚ä¸º 2h æœªè¿›è¡Œè¯·æ±‚å°±è¦é‡æ–°ç™»å½•ã€‚åˆ™è¿‡æœŸæ—¶é—´ä¸º 1hï¼Œåˆ·æ–°æ—¶é—´ä¸º 3hã€‚</p>
<p>é‚£ä¹ˆåœ¨ 12:00 - 13:00 å…¶éƒ½æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ï¼Œå¦‚æœåœ¨ 13:00 - 15:00 è¿›è¡Œè¯·æ±‚ï¼ŒæœåŠ¡ç«¯è‡ªåŠ¨æ¢ä¸€ä¸ªæ–° token ç»™å®¢æˆ·ç«¯ï¼Œè¾¾æˆç»­ç­¾ã€‚</p>
<p>å¦‚æœ 13:00 -15:00 ä¹‹é—´æ²¡æœ‰è¿›è¡Œè¯·æ±‚ï¼Œè€Œæ˜¯åœ¨ 15:00 ä¹‹åè¿›è¡Œçš„è¯·æ±‚ï¼Œé‚£ä¹ˆåˆ¤æ–­è¿‡æœŸï¼Œéœ€é‡æ–°ç™»å½•ã€‚</p>
<p>è¿™æ ·çš„è¯ï¼Œæœ€ç»ˆçš„å®ç°æ•ˆæœæ˜¯ï¼štoken è¿‡æœŸ 2h åéœ€è¦é‡æ–°ç™»å½• ï¼Œè€Œä¸æ˜¯ token 2h æœªä½¿ç”¨éœ€è¦é‡æ–°ç™»å½•ï¼Œå¯¼è‡´çš„ç»“æœæ˜¯ï¼Œç”¨æˆ·æ˜¯ 2 - 3h æœªè¿›è¡Œè¯·æ±‚ï¼Œéœ€è¦é‡æ–°ç™»å½•ã€‚æ¯”è®¾å®šçš„éœ€æ±‚è¦å¤šä¸€ä¸ªå°æ—¶çš„ä¸ç¡®å®šæ—¶é—´ï¼Œä½†è¿™ä¹Ÿæ˜¯æ²¡åŠæ³•çš„åŠæ³•äº†ï¼Œè‡³äºä¼šä¸ä¼šå¯¹ä¸šåŠ¡é€ æˆå½±å“ï¼Œçœ‹å…·ä½“éœ€æ±‚å§ï¼Œå¤§å¤šæ•°çš„æƒ…å†µè¿˜æ˜¯ä¸ä¼šçš„ã€‚</p>
<h5 id="app-1"><a href="#app-1" class="headerlink" title="app"></a>app</h5><p>å’Œ web ç«¯ç±»ä¼¼ï¼Œè®¾ç½®æˆæ›´é•¿çš„æ—¶é—´å‘¨æœŸå³å¯ã€‚</p>
<p>å¯¹ä½¿ç”¨ Laravel å¼€å‘å¹¶ä½¿ç”¨ tymon&#x2F;jwt-auth è¿™ä¸ªæ’ä»¶çš„å¼€å‘è€…ï¼Œæœ‰ä¸ªå¿…é¡»è¦æ³¨æ„çš„åœ°æ–¹ã€‚</p>
<p>æ­¤å¤„è¿›è¡Œ token çš„åˆ·æ–°å¹¶ä¸æ˜¯é€šè¿‡ refresh è¿™ä¸ªæ“ä½œè·å¾—æ–° tokenï¼Œå› ä¸ºè¿™æ · token åœ¨ä¸æ–­çš„åˆ·æ–°è¿‡ç¨‹ä¸­ä¼šè¾¾åˆ°ä¸€ä¸ªåˆ·æ–°æ—¶é—´çš„ä¸Šé™ã€‚è€Œä¸Šé¢çš„é€»è¾‘æ˜¯æ¯æ¬¡éƒ½æ–°ç­¾å‘ä¸€ä¸ª tokenï¼Œåªè¦ä¸æ–­ç­¾å°±èƒ½å¤Ÿä¸€ç›´ä½¿ç”¨ä¸‹å»ã€‚ ç„¶åè¿™é‡Œçš„æ—§ token æ”¾å…¥é»‘åå•ï¼Œé»‘åå•æœ‰æ•ˆæœŸè®¾ç½®ä¸ºã€åˆ·æ–°æ—¶é—´ã€â€”â€” 3hã€‚</p>
<p>å½“ç„¶å¦‚æœå¼€å‘è€…è§‰å¾—è¿™æ ·ä¸æ–­ç­¾å°±èƒ½å¤Ÿä¸€ç›´ä½¿ç”¨ä¸å¤ªå¥½ï¼Œé‚£å°±å¯ä»¥è®¾ç½®æ›´é•¿çš„åˆ·æ–°æ—¶é—´ï¼Œç”¨ refresh æ“ä½œæ¥è·å–æ–° tokenï¼Œåˆ·æ–°æ—¶é—´ä¿è¯æ¯æ¬¡ç™»é™†å¾—åˆ° token åï¼Œå³ä½¿æ¯æ¬¡åŠæ—¶ç»­ç­¾ï¼Œæœ€ç»ˆä¹Ÿä¸ä¼šè¶…è¿‡åˆ·æ–°æ—¶é—´ã€‚</p>
<p>ç„¶åè¿™é‡Œåˆä¼šå‡ºç°ä¸€ä¸ªæ–°å‘ï¼š</p>
<p>å¦‚æœåˆ·æ–°æ—¶é—´è®¾ç½®ä¸º 14 å¤©ï¼Œè¿‡æœŸæ—¶é—´è®¾ç½®ä¸º 2hã€‚</p>
<p>token A åœ¨ ã€ &lt;&#x3D; 14 å¤© ã€æ—¶åˆ·æ–°å¾—åˆ° token Bï¼Œæ­¤æ—¶è‹¥å†æ‹¿ token A å»è¯·æ±‚åˆ·æ–°ï¼Œè‚¯å®šæ˜¯ä¸å…è®¸ï¼Œå¦åˆ™ token ä¼šå‡ºç°ã€ 1 å˜ N ã€çš„é—®é¢˜ï¼Œæ‰€ä»¥æ˜¾ç„¶å¿…é¡»è®¾ç½®ä¸€ä¸ªé»‘åå•å»æ”¾è¿™äº›å·²è¿‡æœŸä½†æ˜¯åˆå·²ç»åˆ·æ–°è¿‡çš„ tokenã€‚è€Œè¿™ä¸ªé»‘åå•çš„æœ‰æ•ˆæœŸèŒƒå›´åº”å½“ä¸º token çš„åˆ·æ–°æœŸï¼Œå³ 14 å¤©ã€‚ç„¶åä½ ä¼šå‘ç°å¯¹äºæ¯ä¸ªç”¨æˆ·æ¯æ¬¡ç™»é™†ï¼Œéœ€è¦ç»´æŠ¤çš„é»‘åå• token æ•°ç›®æœ€å¤§å¯è¾¾ 14 * 24 &#x2F; 2 &#x3D; 168 ä¸ªï¼Œé»‘åå•å˜å¾—å¾ˆå¤§ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¦‚æœè¦ä½¿ç”¨ refresh æ“ä½œï¼Œåˆ·æ–°æ—¶é—´åŠ¡å¿…æ˜¯è¿‡æœŸæ—¶é—´çš„å°½é‡å°çš„å€æ•°ã€‚</p>
<h5 id="2-2-æ–¹å¼äºŒ"><a href="#2-2-æ–¹å¼äºŒ" class="headerlink" title="2.2 æ–¹å¼äºŒ"></a>2.2 æ–¹å¼äºŒ</h5><ul>
<li>æ¯æ¬¡è¯·æ±‚ token éƒ½è¿›è¡Œä¸€æ¬¡åˆ·æ–°</li>
<li>token è®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´</li>
<li>token è¿‡æœŸåæ— æ³•å†åˆ·æ–°</li>
<li>token æ²¡å¿…è¦è®¾ç½®åˆ·æ–°æ—¶é—´äº†</li>
</ul>
<h5 id="web-2"><a href="#web-2" class="headerlink" title="web"></a>web</h5><p>å‡è®¾ä¸€ä¸ª token çš„ç­¾å‘æ—¶é—´ä¸º 12:00ï¼Œéœ€æ±‚ä¸º 2h æœªè¿›è¡Œè¯·æ±‚å³è¿‡æœŸã€‚åˆ™è®¾ç½®æœ‰æ•ˆæœŸ 2hï¼Œä¸éœ€è¦è®¾ç½®åˆ·æ–°æœŸã€‚é‚£ä¹ˆæ¯æ¬¡è¯·æ±‚éƒ½ä¼šæŠŠä¸€ä¸ª token æ¢æˆä¸€ä¸ªæ–° tokenã€‚å¦‚æœ 2h æ²¡æœ‰è¿›è¡Œè¯·æ±‚ï¼Œé‚£ä¹ˆä¸Šä¸€æ¬¡è¯·æ±‚çš„åˆ°çš„ token å°±ä¼šè¿‡æœŸï¼Œéœ€è¦é‡æ–°ç™»å½•ã€‚åŒæ ·æ˜¯ä¸æ–­ç­¾å°±èƒ½ä¸€ç›´ä½¿ç”¨ä¸‹å»ã€‚</p>
<p>å¦‚æœæƒ³è¦å’Œä¸Šé¢ä¸€æ ·ï¼Œä¸å¸Œæœ›æ°¸ä¹…ç»­ç­¾ï¼Œåˆ™è®¾ç½®ä¸€ä¸ªåˆ·æ–°æ—¶é—´å³å¯ã€‚è¿™ä¸ªåˆ·æ–°æ—¶é—´ä¸ä¼šå¯¼è‡´è¿›ä¸€æ­¥è†¨èƒ€ã€‚</p>
<h5 id="app-2"><a href="#app-2" class="headerlink" title="app"></a>app</h5><p>å’Œ web ç«¯ç±»ä¼¼ï¼Œè®¾ç½®æ›´é•¿æ—¶é—´å³å¯ã€‚</p>
<p>ç„¶ååˆåˆ°äº†é—®é¢˜æ—¶é—´ï¼š</p>
<ul>
<li><p>æ¯æ¬¡éƒ½åˆ·æ–° tokenï¼Œå¸¦æ¥çš„æ€§èƒ½å½±å“å¦‚ä½•ï¼Ÿ</p>
<blockquote>
<p>ä»¥å‰æ¯æ¬¡è¯·æ±‚ï¼Œéœ€è¦è¿›è¡Œä¸€æ¬¡ token ç­¾åæ ¡éªŒï¼Œè€Œç°åœ¨æ˜¯è¦ç­¾å‘ä¸€ä¸ªæ–° tokenï¼Œè¿›è¡Œçš„éƒ½æ˜¯ä¸€æ¬¡ç­¾åè¿ç®—ï¼Œé‚£ä¹ˆè¿ç®—é‡å³ä» n å˜æˆ 2nã€‚<br>å…¶æ¬¡ï¼Œæ¯æ¬¡åˆ·æ–°éƒ½è¦æŠŠæ—§ token åŠ å…¥é»‘åå•ï¼Œä¼šå¯¼è‡´é»‘åå•ç‰¹åˆ«å¤§ï¼Œè¿œè¿œæ¯”æ–¹å¼ä¸€çš„è®¾ç½®åˆ·æ–°æœŸå¤§ã€‚</p>
</blockquote>
</li>
<li><p>æ¯æ¬¡éƒ½åˆ·æ–° tokenï¼Œå¹¶å‘è¯·æ±‚æ—¶ä¼šä¸ä¼šå› ä¸º token åˆ·æ–°è€Œå¯¼è‡´åªæœ‰ä¸€ä¸ªè¯·æ±‚æˆåŠŸï¼Ÿ</p>
<blockquote>
<p>ç­”æ¡ˆæ˜¯ç¡®å®ä¼šå¯¼è‡´è¿™ä¸ªé—®é¢˜ï¼Œæ€ä¹ˆè§£å†³å‘¢ï¼Ÿè®¾ç½®ä¸€ä¸ªå®½é™æ—¶é—´ï¼Œæ¯æ¬¡ token åˆ·æ–°åï¼ŒåŸæ¥é€»è¾‘åº”è¯¥æ˜¯ç«‹åˆ»ä¸å¯ç”¨ï¼Œç°åœ¨è®¾ç½®ä¸€ä¸ªå®½é™æ—¶é—´ï¼Œè®©å…¶åœ¨ n ç§’ä¹‹å†…ä»ç„¶å¯ç”¨å³å¯ã€‚</p>
</blockquote>
</li>
</ul>
<p>æ€»ä¹‹ï¼Œè¿™ç§ç­–ç•¥ä¼šå¯¼è‡´èŠ±è´¹çš„ CPU è¿ç®—ç¿»å€ï¼Œå¹¶å¯¼è‡´å·¨å¤§çš„é»‘åå•ï¼Œç„¶åå¿…é¡»è®¾ç½®ä¸€ä¸ªå®½é™æ—¶é—´ä»¥è§£å†³å¹¶å‘è¯·æ±‚é—®é¢˜ï¼Œè‡³äºå®½é™æ—¶é—´ä¼šä¸ä¼šå¸¦æ¥å®‰å…¨é—®é¢˜ï¼Œå¾®ä¹å…¶å¾®å§ã€‚</p>
<h5 id="2-3-é»‘åå•è†¨èƒ€çš„è§£å†³æ–¹æ¡ˆ"><a href="#2-3-é»‘åå•è†¨èƒ€çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2.3 é»‘åå•è†¨èƒ€çš„è§£å†³æ–¹æ¡ˆ"></a>2.3 é»‘åå•è†¨èƒ€çš„è§£å†³æ–¹æ¡ˆ</h5><p>ä¸Šé¢è®²åˆ°ï¼Œå¯¹äºæ–¹å¼ä¸€ã€é™å®šä¸èƒ½ä¸€ç›´ç»­ç­¾ã€‘ï¼Œä¼šå¯¼è‡´å·¨å¤§çš„é»‘åå•ï¼Œå¯¹äºæ–¹å¼äºŒï¼Œæ€»ä¼šå¯¼è‡´ä¸€ä¸ªæ›´åŠ å·¨å¤§çš„é»‘åå•ã€‚é‚£æœ‰æ²¡æœ‰è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿå½“ç„¶æ˜¯æœ‰çš„ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆæƒ³ï¼Œæ—¢ç„¶ä¸€ä¸ª token è¿›è¡Œäº†åˆ·æ–°ï¼Œé‚£ä¹ˆç­¾å‘æ—¶é—´åœ¨è¿™æ¬¡åˆ·æ–°ä¹‹å‰çš„å³å¯è®¤ä¸ºæ— æ•ˆã€‚äºæ˜¯ï¼Œå’Œä¸Šé¢çš„ã€é¢„é»‘åå•ã€ç­–ç•¥ç±»ä¼¼ï¼Œæˆ‘åˆ·æ–°æ—¶ä¸æ˜¯æŠŠä¸€ä¸ª token åŠ å…¥é»‘åå•ï¼Œè€Œæ˜¯æŠŠ uuid-refresh_time ç»„æˆ key-vakue å¯¹åŠ å…¥é»‘åå•ï¼Œè¿™æ ·é’ˆå¯¹æ¯ä¸ªç”¨æˆ·çš„æ¯æ¬¡ç™»é™†ï¼Œè¦å­˜å‚¨åˆ°é»‘åå•ä¸­çš„æ¡ç›®æ•°å°±ä» N ä¸ªå˜æˆäº†ä¸€ä¸ªã€‚</p>
<p>ä½†æ˜¯è¿™æ ·è¿˜è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šå°±æ˜¯ä¸€ä¸ªç”¨æˆ·å¼€ä¸¤ä¸ªæµè§ˆå™¨ï¼Œåœ¨ä¸åŒçš„æ—¶åˆ»åœ¨åŒä¸€ä¸ªç³»ç»Ÿéƒ½ç™»é™†äº†ï¼ˆå‡è®¾ä¸šåŠ¡å…è®¸ï¼‰ï¼Œé‚£ä¹ˆä¸€ä¸ªæµè§ˆå™¨çš„ token åˆ·æ–°å°±å¯èƒ½ä¼šå¯¼è‡´å¦ä¸€ä¸ªæµè§ˆå™¨ç™»é™†å¤±æ•ˆã€‚æ‰€ä»¥å­˜å‚¨åœ¨é»‘åå•ä¸­çš„ key-value åº”è¯¥å†åŠ ä¸€ä¸ª key ä»¥ä»£è¡¨æ¯æ¬¡ç™»é™†ï¼Œå¹¶ä¸”è¿™ä¸ª key è¦åœ¨ JWT çš„è½½è·ä¸­éšç€åˆ·æ–°ä¸€ç›´ä¼ æ‰¿ã€‚</p>
<p>åŸºäºä»¥ä¸Šçš„ä¼˜åŒ–ï¼Œé»‘åå•çš„å¤§å°å˜æˆäº†ï¼šæ¯ä¸ªç”¨æˆ·åŒæ—¶ç™»é™†çš„ç³»ç»Ÿä¸ªæ•°ä¹‹å’Œï¼Œå°±å˜çš„å’Œ cookie + session ä¸€æ ·äº†ã€‚</p>
<p>æ¯”å¦‚ï¼ŒA ç³»ç»Ÿï¼ˆå‡è®¾ 2h è¿‡æœŸæ—¶é—´ï¼Œ14 å¤©åˆ·æ–°æ—¶é—´ï¼‰ï¼Œä½ ç”¨ä¸€ä¸ªæµè§ˆå™¨ç™»é™†äº†ä½ çš„è´¦å·ï¼Œæˆ‘ç”¨ Chrome æµè§ˆå™¨ç™»é™†äº†æˆ‘çš„è´¦å·ï¼Œç„¶åæˆ‘åˆç”¨ QQ æµè§ˆå™¨å†ç™»é™†æˆ‘çš„è´¦å·ï¼Œé‚£ä¹ˆé»‘åå•çš„å¤§å°å°±ä¸º ï¼š 1 + 2 &#x3D; 3</p>
<p>è€Œå¯¹äºæ–¹å¼ä¸€ã€é™å®šä¸èƒ½ä¸€ç›´ç»­ç­¾ã€‘ï¼Œé»‘åå•çš„å¤§å°ï¼ˆæœ€å¤§ï¼‰ï¼š168 + 168 * 2</p>
<p>è€Œå¯¹äºæ–¹å¼äºŒï¼Œé»‘åå•çš„å¤§å°ä¸ºï¼šä½ åœ¨ 2h å†…è¯·æ±‚çš„æ¬¡æ•° x ï¼Œæˆ‘åœ¨ Chrome æµè§ˆå™¨è¯·æ±‚çš„æ¬¡æ•° yï¼Œæˆ‘åœ¨ QQ æµè§ˆå™¨è¯·æ±‚çš„æ¬¡æ•° z ä¹‹å’Œï¼Œå³ï¼šx + y + z</p>
<h4 id="2-4-æ€»ç»“"><a href="#2-4-æ€»ç»“" class="headerlink" title="2.4 æ€»ç»“"></a>2.4 æ€»ç»“</h4><p>å¦‚æœè¦è§£å†³ç»­ç­¾é—®é¢˜ï¼Œæ–¹å¼ä¸€ã€å¯ä»¥ä¸€ç›´ç»­ç­¾ã€‘æ˜¯ä¸ªæ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œè™½ç„¶ä¼šå¸¦æ¥ä¸€ç‚¹å°é—®é¢˜ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæœ‰å¤ªå¤§çš„å½±å“ã€‚æ–¹å¼äºŒã€é™å®šä¸èƒ½ä¸€ç›´ç»­ç­¾ã€‘å’Œ æ¯æ¬¡åˆ·æ–°ä¼šè®©é»‘åå•çš„ç»´æŠ¤é‡å’Œæœ‰çŠ¶æ€å·®ä¸å¤šï¼Œä½†æ˜¯æœ‰æ›´é«˜çš„å®‰å…¨æ€§ã€‚</p>
<h5 id="3-token-æœ‰æ²¡æœ‰å¿…è¦æ¯æ¬¡åˆ·æ–°"><a href="#3-token-æœ‰æ²¡æœ‰å¿…è¦æ¯æ¬¡åˆ·æ–°" class="headerlink" title="3. token æœ‰æ²¡æœ‰å¿…è¦æ¯æ¬¡åˆ·æ–°"></a>3. token æœ‰æ²¡æœ‰å¿…è¦æ¯æ¬¡åˆ·æ–°</h5><p>æˆ‘ä»¬å…ˆåˆ—ä¸¾æ¯æ¬¡åˆ·æ–° token çš„ä¼˜ç¼ºç‚¹ï¼š</p>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>èƒ½å¤Ÿå®ç°ç»­ç­¾</li>
<li>èƒ½å¤Ÿè§£å†³é‡æ”¾</li>
<li>æ›´å®‰å…¨</li>
</ul>
<p> ç¼ºç‚¹ï¼š</p>
<ul>
<li>åŒå€çš„ CPU æ¶ˆè€—</li>
<li>å‡ ä¹å’Œæœ‰çŠ¶æ€ä¸€æ ·çš„ç©ºé—´æ¶ˆè€—</li>
<li>å¿…é¡»è®¾ç½®å®½é™æ—¶é—´è§£å†³å¹¶å‘é—®é¢˜</li>
</ul>
<p>ä¸Šé¢è®¨è®ºè¿‡ï¼Œã€ç»­ç­¾ã€å’Œã€é‡æ”¾ã€éƒ½å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼è§£å†³ã€‚åªæœ‰ã€æ›´å®‰å…¨ã€ç®—åŠä¸ªç—›ç‚¹ï¼Œä¸ºä»€ä¹ˆæ˜¯åŠä¸ªç—›ç‚¹å‘¢ï¼Ÿå› ä¸ºå¦‚æœé‡‡ç”¨ HTTPS çš„è¯ï¼Œé‚£ä¹ˆç›—å– token çš„æ‰‹æ®µå°±åªè¦ä»¥ä¸‹å‡ ç§åŠæ³•ï¼š</p>
<ul>
<li>ç ´è§£ HTTPS</li>
<li>ç›´æ¥ä»ä½ ç”µè„‘ä¸Šæ‰‹æŠ„è¿‡å»</li>
<li>XSSã€å‰é¢è¯´åˆ°ä¸ºäº†èƒ½å¤Ÿè®© js è¯»å–ï¼Œä¸èƒ½è®¾ç½® HTTPOnlyã€‘</li>
</ul>
<p>åªæœ‰ç¬¬ä¸‰ç§æ–¹æ³•å­˜åœ¨ä¸€ç‚¹å¯èƒ½æ€§ã€‚</p>
<p>æ‰€ä»¥ï¼Œè¦ä¸è¦æ¯æ¬¡åˆ·æ–°ï¼Œè¿˜æ˜¯æ ¹æ®å„ä½çš„å…·ä½“ä¸šåŠ¡æƒ…å†µè¿›è¡Œé€‰æ‹©å§ã€‚</p>
<h3 id="äº”ã€JWT-é€‚åˆç”¨æ¥åšä»€ä¹ˆ"><a href="#äº”ã€JWT-é€‚åˆç”¨æ¥åšä»€ä¹ˆ" class="headerlink" title="äº”ã€JWT é€‚åˆç”¨æ¥åšä»€ä¹ˆ"></a>äº”ã€JWT é€‚åˆç”¨æ¥åšä»€ä¹ˆ</h3><h4 id="1-æ— çŠ¶æ€çš„-RESTful-API"><a href="#1-æ— çŠ¶æ€çš„-RESTful-API" class="headerlink" title="1. æ— çŠ¶æ€çš„ RESTful API"></a>1. æ— çŠ¶æ€çš„ RESTful API</h4><p>è¿™ä¸ªæ˜¾ç„¶å¾ˆé€‚åˆã€‚</p>
<h4 id="2-SSO-å•ç‚¹ç™»å½•"><a href="#2-SSO-å•ç‚¹ç™»å½•" class="headerlink" title="2. SSO å•ç‚¹ç™»å½•"></a>2. SSO å•ç‚¹ç™»å½•</h4><p>å•ç‚¹ç™»å½•å¿…é¡»è¦å®ç°çš„ï¼š</p>
<ul>
<li>ä¼šè¯ç®¡ç†ï¼šé€šè¿‡é»‘åå•å’Œé¢„é»‘åå•è§£å†³</li>
<li>ç»­ç­¾ï¼šé€šè¿‡ç­¾åçš„è§£å†³æ–¹æ¡ˆè§£å†³<br>å¯è§ï¼Œå¯¹ JWT éƒ¨ç½²ä¸€äº›é¢å¤–é€»è¾‘ï¼ˆé»‘åå•ï¼Œç»­ç­¾ç®¡ç†ï¼‰å³å¯è®© JWT åœ¨å¤§éƒ¨åˆ†åœºæ™¯ä»£æ›¿ cookie + sessionã€‚</li>
</ul>
<h3 id="å…­ã€JWT-ä¸-Oauth2-0"><a href="#å…­ã€JWT-ä¸-Oauth2-0" class="headerlink" title="å…­ã€JWT ä¸ Oauth2.0"></a>å…­ã€JWT ä¸ Oauth2.0</h3><p>Oauth 2.0 æ˜¯å¹²å˜›çš„ä¸å†èµ˜è¿°ï¼Œå®ƒä¸ JWT å…¶å®å¹¶ä¸æ˜¯ä¸€ä¸ªå±‚é¢çš„ä¸œè¥¿ã€‚Oauth2.0 æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„ç¬¬ä¸‰æ–¹æˆæƒè§„èŒƒï¼Œè€Œ JWT æ˜¯ä¸€ä¸ª token ç»“æ„è§„èŒƒã€‚åªæ˜¯ JWT å¸¸ç”¨æ¥ç™»é™†é‰´æƒï¼Œè€Œ Oauth2.0 åœ¨æˆæƒæ—¶ä¹Ÿæ¶‰åŠåˆ°äº†ç™»é™†ï¼Œæ‰€ä»¥å°±æ¯”è¾ƒå®¹æ˜“ææ··ã€‚</p>
<p>ä½†æ˜¯åœ¨æ­¤ï¼Œæˆ‘è¦è¯´çš„æ˜¯ï¼ŒOauth 2.0 å…¶å®å¯ä»¥å’Œ JWT ç»“åˆä½¿ç”¨ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¸¸è§çš„ Oauth2.0 ç™»é™†è¿”å›ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;access_token&quot;:&quot;kag2geh11a3eh56e23hj&quot;,</span><br><span class="line">    &quot;expires_in&quot;:7200,</span><br><span class="line">    &quot;refresh_token&quot;:&quot;jgko97cq4c8wn69j&quot;,</span><br><span class="line">    &quot;scope&quot;:&quot;SCOPE&quot; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ Oauth2.0 ä¸­ï¼Œaccess_token ç”¨æ¥è¿›è¡Œæ•°æ®è¯·æ±‚ï¼Œè€Œ refresh_token ç”¨æ¥åˆ·æ–° access_tokenã€‚æ¯æ¬¡åˆ·æ–°ï¼Œä¸Šä¸€ä¸ª access_token å°±ä¼šå¤±æ•ˆï¼Œè€Œ access_token å’Œ refresh_token æ˜¾ç„¶éƒ½æ²¡æœ‰è®°å½•ä»»ä½•çŠ¶æ€ï¼Œæ‰€ä»¥å¿…é¡»ä¸ºæœåŠ¡ç«¯è¿›è¡ŒçŠ¶æ€çš„ç»´æŠ¤ã€‚</p>
<p>æŠŠ JWT å’Œ Oauth2.0 ç»“åˆåï¼Œå¯ä»¥å¾—åˆ°è¿™æ ·çš„è¿”å›ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;access_token&quot;:&quot;xxx.yyy.zzz&quot;,</span><br><span class="line">    &quot;expires_in&quot;:7200,</span><br><span class="line">    &quot;refresh_token&quot;:&quot;xxxxx.yyyyy.zzzzz&quot;,</span><br><span class="line">    &quot;scope&quot;:&quot;SCOPE&quot; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿›è¡Œç»“åˆåæœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>Oauth2.0 çš„ token ä¹Ÿèƒ½å¤Ÿå®ç°æ— çŠ¶æ€ï¼ˆè™½ç„¶ä¹Ÿè¦ç”¨åˆ°é»‘åå•ï¼‰</li>
<li>Oauth2.0 çš„ token ä¹Ÿèƒ½å¤Ÿé™„å¸¦éƒ¨åˆ†å¸¸ç”¨æ•°æ®</li>
<li>å‰é¢è®²åˆ° JWT ç»­ç­¾ï¼Œåœ¨éœ€è¦é™å®šä¸èƒ½ä¸€ç›´ç»­ç­¾çš„æƒ…å½¢ï¼Œå¯èƒ½ä¼šå¯¼è‡´é»‘åå•åº“è†¨èƒ€ï¼Œä½†æ˜¯å’Œ Oauth2.0 ç»“åˆï¼Œé€šè¿‡ refresh_token çš„æœºåˆ¶ï¼Œè®©é»‘åå•åº“ä¸­ token çš„æœ‰æ•ˆæœŸä» ã€åˆ·æ–°æ—¶é—´ã€åˆå˜å›ã€è¿‡æœŸæ—¶é—´ã€ï¼Œä»è€Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</li>
</ul>
<h3 id="ä¸ƒã€å…³äº-token-åä»¶å¿…é¡»çŸ¥é“çš„äº‹"><a href="#ä¸ƒã€å…³äº-token-åä»¶å¿…é¡»çŸ¥é“çš„äº‹" class="headerlink" title="ä¸ƒã€å…³äº token åä»¶å¿…é¡»çŸ¥é“çš„äº‹"></a>ä¸ƒã€å…³äº token åä»¶å¿…é¡»çŸ¥é“çš„äº‹</h3><p>è¿™æ˜¯æˆ‘ä» Auth0 ç»„ç»‡çš„è¿™ç¯‡æ–‡ç«  <a href="https://auth0.com/blog/refresh-tokens-what-are-they-and-when-to-use-them/">10 Things You Should Know about Tokens</a> æ•´ç†è¿‡æ¥çš„ï¼š</p>
<ul>
<li><p>Token è·å–åˆ°åéœ€è¦ä¿å­˜èµ·æ¥ä»¥ä¾¿ä¸‹æ¬¡ä½¿ç”¨ï¼Œå¯ä»¥é€‰æ‹©å­˜å‚¨åœ¨ localstorage &#x2F;sessionstorage&#x2F;cookie</p>
</li>
<li><p>Token æ˜¯åŒ…å«æœ‰æ•ˆæœŸçš„ï¼Œä½ å¿…é¡»éƒ¨ç½²ä¸€äº›é€»è¾‘æ¥è¿›è¡Œæœ‰æ•ˆæœŸçš„æ§åˆ¶</p>
</li>
<li><p>localstorage &#x2F;sessionstorage çš„è·¨åŸŸé™åˆ¶è¾ƒ cookie æ›´ä¸ºä¸¥æ ¼ï¼Œæ¨èä½¿ç”¨ cookie</p>
</li>
<li><p>åœ¨ä½ è¿›è¡Œå¼‚æ­¥è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¸€èˆ¬éƒ½ä¼šå‘é€é¢„æ£€è¯·æ±‚ï¼ˆoptionï¼‰ï¼Œåç«¯åº”å¯¹æ­¤éƒ¨ç½²ç›¸åº”çš„é€»è¾‘</p>
</li>
</ul>
<p><a href="https://cloud.tencent.com/developer/article/1046663">ä¸ºä»€ä¹ˆä¼šæœ‰ OPTIONS è¯·æ±‚ </a></p>
<ul>
<li><p>ä½¿ç”¨ cookie å¯ä»¥è½»æ¾å¤„ç†ä¸€ä¸ªæ–‡ä»¶ä¸‹è½½è¯·æ±‚ï¼Œä½†æ˜¯ token ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡ XHR æ–¹å¼è¿›è¡Œè¯·æ±‚çš„ï¼Œæ‰€ä»¥ä½ å¿…é¡»éƒ¨ç½²é¢å¤–çš„é€»è¾‘ã€‚æ¯”å¦‚ç”Ÿæˆä¸€ä¸ªå®æ—¶ ticket ï¼Œä»¥ ticket è¿›è¡Œè®¿é—®ï¼Œç„¶åæ ¡éªŒï¼Œé‡å®šå‘ï¼Œæœ€åä¸‹è½½æ–‡ä»¶ã€‚</p>
</li>
<li><p>å¤„ç† XSS æ¯”å¤„ç† CSRF æ›´å®¹æ˜“ï¼ˆè¿™ä¸€ç‚¹æˆ‘å®åœ¨æ²¡çœ‹åˆ°ä»–æ˜¯ä»€ä¹ˆä¸ªé€»è¾‘ï¼Œå¤§å®¶å¯ä»¥å»çœ‹çœ‹åŸæ–‡ï¼‰</p>
</li>
<li><p>token åœ¨æ¯æ¬¡è¯·æ±‚æ—¶éƒ½ä¼šè¢«ç¼–ç åˆ°è¯·æ±‚ä¸­ï¼Œæ‰€ä»¥è¯·æ³¨æ„ token çš„å¤§å°ï¼Œä¸è¦ç¼–ç è¿‡å¤šæ•°æ®</p>
</li>
<li><p>å¦‚æœåœ¨ token ä¸­ç¼–ç æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å¯¹ token è¿›è¡ŒåŠ å¯†</p>
</li>
<li><p>JSON Web Token å¯ä»¥ç”¨äº Oauth2.0 çš„ Bearer Token ä¸­ï¼Œèµ‹äºˆ Oauth2.0 æ— çŠ¶æ€çš„ä¼˜åŠ¿</p>
</li>
<li><p>Token ä¸æ˜¯é“¶å¼¹ï¼Œè¯·æ ¹æ®å®é™…ä¸šåŠ¡éœ€è¦è¿›è¡Œé€‰æ‹©</p>
</li>
</ul>
<h3 id="å…«ã€ç»“è¯­"><a href="#å…«ã€ç»“è¯­" class="headerlink" title="å…«ã€ç»“è¯­"></a>å…«ã€ç»“è¯­</h3><p>å‰é˜µå­å†™çš„ä¸¤ç¯‡æ–‡ç« ï¼Œæ‰¿è’™å„ä½å…³ç…§ï¼ŒæŒ‡å‡ºäº†è®¸å¤šé—®é¢˜ã€‚æœ€è¿‘å…¬å¸åˆ†äº«ï¼Œæˆ‘æ°å¥½æ‰“ç®—å¯¹ä»¥å‰æå‡ºçš„é—®é¢˜ç»“åˆæˆ‘æ–°çš„ç†è§£å†™ä¸€ç¯‡æ–‡ç« ï¼Œäºæ˜¯ä¾¿æœ‰äº†æœ¬æ–‡ï¼Œå‰é¢ä¸¤ç¯‡æ–‡ç« ï¼Œè¿‘æœŸæˆ‘ä¼šé‡æ–°æ•´ç†ä¸€ä¸‹ï¼Œè¡¥ä¸Šä¸€äº›ç»†èŠ‚ï¼Œä¿®å¤ä¸€äº›é”™è¯¯ï¼Œå„ä½è‹¥ä¸å«Œå¼ƒåˆ°æ—¶å€™å¯ä»¥å†çœ‹çœ‹ã€‚</p>
<p>JWT å®Œæ•´ä½¿ç”¨è¯¦è§£<br>JWT æ‰©å±•å…·ä½“å®ç°è¯¦è§£</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>JWT</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptä¹‹ä¸ƒé”™è¯¯å¤„ç†</title>
    <url>/2024/07/31/JavaScript%E4%B9%8B%E4%B8%83%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<br />
  
<h2 id="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•"><a href="#è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•" class="headerlink" title="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!"></a>è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ª<a href="https://www.liaoxuefeng.com/wiki/1022910821149312">å»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹</a>ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!</h2><br />
<br />
<br />

<h4 id="try-â€¦-catch-â€¦-finally"><a href="#try-â€¦-catch-â€¦-finally" class="headerlink" title="try â€¦ catch â€¦ finally"></a>try â€¦ catch â€¦ finally</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var r1, r2, s = null;</span><br><span class="line">try &#123;</span><br><span class="line">    r1 = s.length; // æ­¤å¤„åº”äº§ç”Ÿé”™è¯¯</span><br><span class="line">    r2 = 100; // è¯¥è¯­å¥ä¸ä¼šæ‰§è¡Œ</span><br><span class="line">&#125; catch (e) &#123;</span><br><span class="line">    console.log(&#x27;å‡ºé”™äº†ï¼š&#x27; + e);</span><br><span class="line">&#125; finally &#123;</span><br><span class="line">    console.log(&#x27;finally&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">console.log(&#x27;r1 = &#x27; + r1); // r1åº”ä¸ºundefined</span><br><span class="line">console.log(&#x27;r2 = &#x27; + r2); // r2åº”ä¸ºundefined</span><br></pre></td></tr></table></figure>

<h4 id="é”™è¯¯ç±»å‹"><a href="#é”™è¯¯ç±»å‹" class="headerlink" title="é”™è¯¯ç±»å‹"></a>é”™è¯¯ç±»å‹</h4><p>JavaScriptæœ‰ä¸€ä¸ªæ ‡å‡†çš„<code>Error</code>å¯¹è±¡è¡¨ç¤ºé”™è¯¯ï¼Œè¿˜æœ‰ä»<code>Error</code>æ´¾ç”Ÿçš„<code>TypeError</code>ã€<code>ReferenceError</code>ç­‰é”™è¯¯å¯¹è±¡ã€‚æˆ‘ä»¬åœ¨å¤„ç†é”™è¯¯æ—¶ï¼Œå¯ä»¥é€šè¿‡<code>catch(e)</code>æ•è·çš„å˜é‡<code>e</code>è®¿é—®é”™è¯¯å¯¹è±¡ï¼š</p>
<h4 id="æŠ›å‡ºé”™è¯¯"><a href="#æŠ›å‡ºé”™è¯¯" class="headerlink" title="æŠ›å‡ºé”™è¯¯"></a>æŠ›å‡ºé”™è¯¯</h4><p>ç¨‹åºä¹Ÿå¯ä»¥ä¸»åŠ¨æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè®©æ‰§è¡Œæµç¨‹ç›´æ¥è·³è½¬åˆ°catchå—ã€‚æŠ›å‡ºé”™è¯¯ä½¿ç”¨throwè¯­å¥ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">throw new Error(&#x27;è¾“å…¥é”™è¯¯&#x27;);</span><br></pre></td></tr></table></figure>
<p>JavaScriptå…è®¸æŠ›å‡ºä»»æ„å¯¹è±¡ï¼ŒåŒ…æ‹¬æ•°å­—ã€å­—ç¬¦ä¸²ã€‚ä½†æ˜¯ï¼Œæœ€å¥½è¿˜æ˜¯æŠ›å‡ºä¸€ä¸ªErrorå¯¹è±¡ã€‚<br>æœ€åï¼Œå½“æˆ‘ä»¬ç”¨catchæ•è·é”™è¯¯æ—¶ï¼Œä¸€å®šè¦ç¼–å†™é”™è¯¯å¤„ç†è¯­å¥<br>å› ä¸ºcatchåˆ°é”™è¯¯å´ä»€ä¹ˆéƒ½ä¸æ‰§è¡Œï¼Œå°±ä¸çŸ¥é“ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­åˆ°åº•æœ‰æ²¡æœ‰å‘ç”Ÿé”™è¯¯ã€‚<br>å¤„ç†é”™è¯¯æ—¶ï¼Œè¯·ä¸è¦ç®€å•ç²—æš´åœ°ç”¨alert()æŠŠé”™è¯¯æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚æ•™ç¨‹çš„ä»£ç ä½¿ç”¨alert()æ˜¯ä¸ºäº†ä¾¿äºæ¼”ç¤ºã€‚</p>
<h4 id="é”™è¯¯ä¼ æ’­"><a href="#é”™è¯¯ä¼ æ’­" class="headerlink" title="é”™è¯¯ä¼ æ’­"></a>é”™è¯¯ä¼ æ’­</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function getLength(s) &#123;</span><br><span class="line">    return s.length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function printLength() &#123;</span><br><span class="line">    console.log(getLength(&#x27;abc&#x27;)); // 3</span><br><span class="line">    console.log(getLength(null)); // Error!</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printLength();</span><br></pre></td></tr></table></figure>
<p>å¦‚æœåœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨å‘ç”Ÿäº†é”™è¯¯ï¼Œå®ƒè‡ªèº«æ²¡æœ‰æ•è·ï¼Œé”™è¯¯å°±ä¼šè¢«æŠ›åˆ°å¤–å±‚è°ƒç”¨å‡½æ•°ï¼Œå¦‚æœå¤–å±‚å‡½æ•°ä¹Ÿæ²¡æœ‰æ•è·ï¼Œè¯¥é”™è¯¯ä¼šä¸€ç›´æ²¿ç€å‡½æ•°è°ƒç”¨é“¾å‘ä¸ŠæŠ›å‡ºï¼Œç›´åˆ°è¢«JavaScriptå¼•æ“æ•è·ï¼Œä»£ç ç»ˆæ­¢æ‰§è¡Œã€‚<br>æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸å¿…åœ¨æ¯ä¸€ä¸ªå‡½æ•°å†…éƒ¨æ•è·é”™è¯¯ï¼Œåªéœ€è¦åœ¨åˆé€‚çš„åœ°æ–¹æ¥ä¸ªç»Ÿä¸€æ•è·ï¼Œä¸€ç½‘æ‰“å°½</p>
<h4 id="å¼‚æ­¥é”™è¯¯å¤„ç†"><a href="#å¼‚æ­¥é”™è¯¯å¤„ç†" class="headerlink" title="å¼‚æ­¥é”™è¯¯å¤„ç†"></a>å¼‚æ­¥é”™è¯¯å¤„ç†</h4><p>ç¼–å†™JavaScriptä»£ç æ—¶ï¼Œæˆ‘ä»¬è¦æ—¶åˆ»ç‰¢è®°ï¼ŒJavaScriptå¼•æ“æ˜¯ä¸€ä¸ªäº‹ä»¶é©±åŠ¨çš„æ‰§è¡Œå¼•æ“ï¼Œä»£ç æ€»æ˜¯ä»¥å•çº¿ç¨‹æ‰§è¡Œï¼Œè€Œå›è°ƒå‡½æ•°çš„æ‰§è¡Œéœ€è¦ç­‰åˆ°ä¸‹ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„äº‹ä»¶å‡ºç°åï¼Œæ‰ä¼šè¢«æ‰§è¡Œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function printTime() &#123;</span><br><span class="line">    console.log(&#x27;It is time!&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setTimeout(printTime, 1000);</span><br><span class="line">console.log(&#x27;done&#x27;);</span><br></pre></td></tr></table></figure>
<p>å¦‚æœ<code>printTime()</code>å‡½æ•°å†…éƒ¨å‘ç”Ÿäº†é”™è¯¯ï¼Œæˆ‘ä»¬è¯•å›¾ç”¨<code>try</code>åŒ…è£¹<code>setTimeout()</code>æ˜¯æ— æ•ˆçš„<br>æ¶‰åŠåˆ°å¼‚æ­¥ä»£ç ï¼Œæ— æ³•åœ¨è°ƒç”¨æ—¶æ•è·ï¼ŒåŸå› å°±æ˜¯åœ¨æ•è·çš„å½“æ—¶ï¼Œå›è°ƒå‡½æ•°å¹¶æœªæ‰§è¡Œã€‚<br>ç±»ä¼¼çš„ï¼Œå½“æˆ‘ä»¬å¤„ç†ä¸€ä¸ªäº‹ä»¶æ—¶ï¼Œåœ¨ç»‘å®šäº‹ä»¶çš„ä»£ç å¤„ï¼Œæ— æ³•æ•è·äº‹ä»¶å¤„ç†å‡½æ•°çš„é”™è¯¯ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptä¹‹ä¸‰æ ‡å‡†å¯¹è±¡</title>
    <url>/2024/07/31/JavaScript%E4%B9%8B%E4%B8%89%E6%A0%87%E5%87%86%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[<br />
  
<h2 id="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•"><a href="#è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•" class="headerlink" title="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!"></a>è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ª<a href="https://www.liaoxuefeng.com/wiki/1022910821149312">å»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹</a>ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!</h2><br />
<br />
<br />
  
<ol>
<li><p>æ ‡å‡†å¯¹è±¡<br>åœ¨JavaScriptçš„ä¸–ç•Œé‡Œï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚<br>ç”¨<code>typeof</code>æ“ä½œç¬¦è·å–å¯¹è±¡çš„ç±»å‹ï¼Œå®ƒæ€»æ˜¯è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²<br>ç‰¹åˆ«æ³¨æ„<code>null</code>çš„ç±»å‹æ˜¯<code>object</code>ï¼Œ<code>Array</code>çš„ç±»å‹ä¹Ÿæ˜¯<code>object</code>ï¼Œå¦‚æœæˆ‘ä»¬ç”¨<code>typeof</code>å°†æ— æ³•åŒºåˆ†å‡º<code>null</code>ã€<code>Array</code>å’Œé€šå¸¸æ„ä¹‰ä¸Šçš„<code>object</code>â€”â€”<code>&#123;&#125;</code>ã€‚</p>
</li>
<li><p>åŒ…è£…å¯¹è±¡<br>åœ¨JavaScriptä¸­ï¼Œä¹ŸåŒºåˆ†æ ‡å‡†ç±»å‹å’Œå®ƒçš„åŒ…è£…ç±»å‹ã€‚åŒ…è£…å¯¹è±¡ç”¨<code>new</code>åˆ›å»ºï¼Œå³ç±»å‹<code>object</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var n = new Number(123); // 123,ç”Ÿæˆäº†æ–°çš„åŒ…è£…ç±»å‹</span><br><span class="line">var b = new Boolean(true); // true,ç”Ÿæˆäº†æ–°çš„åŒ…è£…ç±»å‹</span><br><span class="line">var s = new String(&#x27;str&#x27;); // &#x27;str&#x27;,ç”Ÿæˆäº†æ–°çš„åŒ…è£…ç±»å‹</span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥é—²çš„è›‹ç–¼ä¹Ÿä¸è¦ä½¿ç”¨åŒ…è£…å¯¹è±¡ï¼å°¤å…¶æ˜¯é’ˆå¯¹<code>string</code>ç±»å‹ï¼ï¼ï¼<br>å¦‚æœæˆ‘ä»¬åœ¨ä½¿ç”¨<code>Number</code>ã€<code>Boolean</code>å’Œ<code>String</code>æ—¶ï¼Œæ²¡æœ‰å†™<code>new</code>ï¼Œæ­¤æ—¶ï¼Œ<code>Number()</code>ã€<code>Boolean</code>å’Œ<code>String()</code>è¢«å½“åšæ™®é€šå‡½æ•°ï¼ŒæŠŠä»»ä½•ç±»å‹çš„æ•°æ®è½¬æ¢ä¸º<code>number</code>ã€<code>boolean</code>å’Œ<code>string</code>ç±»å‹ï¼ˆæ³¨æ„ä¸æ˜¯å…¶åŒ…è£…ç±»å‹ï¼‰</p>
</li>
</ol>
<p>æ€»ç»“ä¸€ä¸‹ï¼Œæœ‰è¿™ä¹ˆå‡ æ¡è§„åˆ™éœ€è¦éµå®ˆï¼š</p>
<ul>
<li>ä¸è¦ä½¿ç”¨<code>new Number()</code>ã€<code>new Boolean()</code>ã€<code>new String()</code>åˆ›å»ºåŒ…è£…å¯¹è±¡ï¼›</li>
<li>ç”¨<code>parseInt()</code>æˆ–<code>parseFloat()</code>æ¥è½¬æ¢ä»»æ„ç±»å‹åˆ°<code>number</code>ï¼›</li>
<li>ç”¨<code>String()</code>æ¥è½¬æ¢ä»»æ„ç±»å‹åˆ°<code>string</code>ï¼Œæˆ–è€…ç›´æ¥è°ƒç”¨æŸä¸ªå¯¹è±¡çš„<code>toString()</code>æ–¹æ³•ï¼›</li>
<li>é€šå¸¸ä¸å¿…æŠŠä»»æ„ç±»å‹è½¬æ¢ä¸º<code>boolean</code>å†åˆ¤æ–­ï¼Œå› ä¸ºå¯ä»¥ç›´æ¥å†™<code>if (myVar) &#123;...&#125;</code>ï¼›</li>
<li><code>typeof</code>æ“ä½œç¬¦å¯ä»¥åˆ¤æ–­å‡º<code>number</code>ã€<code>boolean</code>ã€<code>string</code>ã€<code>function</code>å’Œ<code>undefined</code>ï¼›</li>
<li>åˆ¤æ–­<code>Array</code>è¦ä½¿ç”¨<code>Array.isArray(arr)</code>ï¼›</li>
<li>åˆ¤æ–­<code>null</code>è¯·ä½¿ç”¨<code>myVar === null</code>ï¼›</li>
<li>åˆ¤æ–­æŸä¸ªå…¨å±€å˜é‡æ˜¯å¦å­˜åœ¨ç”¨<code>typeof window.myVar === &#39;undefined&#39;</code>ï¼›</li>
<li>å‡½æ•°å†…éƒ¨åˆ¤æ–­æŸä¸ªå˜é‡æ˜¯å¦å­˜åœ¨ç”¨<code>typeof myVar === &#39;undefined&#39;</code>ã€‚</li>
</ul>
<p>æœ€åæœ‰ç»†å¿ƒçš„åŒå­¦æŒ‡å‡ºï¼Œä»»ä½•å¯¹è±¡éƒ½æœ‰<code>toString()</code>æ–¹æ³•å—ï¼Ÿ<code>null</code>å’Œ<code>undefined</code>å°±æ²¡æœ‰ï¼ç¡®å®å¦‚æ­¤ï¼Œè¿™ä¸¤ä¸ªç‰¹æ®Šå€¼è¦é™¤å¤–ï¼Œè™½ç„¶<code>null</code>è¿˜ä¼ªè£…æˆäº†<code>object</code>ç±»å‹ã€‚<br><code>number</code>å¯¹è±¡è°ƒç”¨<code>toString()</code>æŠ¥<code>SyntaxError</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">123.toString(); // SyntaxError</span><br></pre></td></tr></table></figure>
<p>é‡åˆ°è¿™ç§æƒ…å†µï¼Œè¦ç‰¹æ®Šå¤„ç†ä¸€ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">123..toString(); // &#x27;123&#x27;, æ³¨æ„æ˜¯ä¸¤ä¸ªç‚¹ï¼</span><br><span class="line">(123).toString(); // &#x27;123&#x27;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Date</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var d1 = new Date(2015, 5, 19, 20, 15, 30, 123);</span><br><span class="line">var d2 = Date.parse(&#x27;2015-06-24T19:49:22.875+08:00&#x27;);  // 1435146562875</span><br><span class="line">var d3 = new Date(d2); // Wed Jun 24 2015 19:49:22 GMT+0800 (CST)</span><br></pre></td></tr></table></figure>
<p>JavaScriptçš„æœˆä»½èŒƒå›´ç”¨æ•´æ•°è¡¨ç¤ºæ˜¯0~11ï¼Œ0è¡¨ç¤ºä¸€æœˆï¼Œ1è¡¨ç¤ºäºŒæœˆâ€¦â€¦<br>Dateå¯¹è±¡è¡¨ç¤ºçš„æ—¶é—´æ€»æ˜¯æŒ‰æµè§ˆå™¨æ‰€åœ¨æ—¶åŒºæ˜¾ç¤ºçš„<br>æ—¶é—´æˆ³æ˜¯ä¸€ä¸ªè‡ªå¢çš„æ•´æ•°ï¼Œå®ƒè¡¨ç¤ºä»1970å¹´1æœˆ1æ—¥é›¶æ—¶æ•´çš„GMTæ—¶åŒºå¼€å§‹çš„é‚£ä¸€åˆ»ï¼Œåˆ°ç°åœ¨çš„æ¯«ç§’æ•°ã€‚æ—¶é—´æˆ³å¯ä»¥ç²¾ç¡®åœ°è¡¨ç¤ºä¸€ä¸ªæ—¶åˆ»ï¼Œå¹¶ä¸”ä¸æ—¶åŒºæ— å…³ã€‚</p>
<ol start="4">
<li>RegExp<br>å•ä¸ªå­—ç¬¦</li>
</ol>
<ul>
<li><code>\d</code>å¯ä»¥åŒ¹é…ä¸€ä¸ªæ•°å­—ï¼Œ</li>
<li><code>\w</code>å¯ä»¥åŒ¹é…ä¸€ä¸ªå­—æ¯æˆ–æ•°å­—,</li>
<li><code>.</code>å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦,</li>
<li><code>\s</code>å¯ä»¥åŒ¹é…ä¸€ä¸ªç©ºæ ¼ï¼ˆä¹ŸåŒ…æ‹¬Tabç­‰ç©ºç™½ç¬¦ï¼‰</li>
</ul>
<p>å˜é•¿çš„å­—ç¬¦</p>
<ul>
<li><code>*</code>è¡¨ç¤ºä»»æ„ä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬0ä¸ªï¼‰ï¼Œ</li>
<li><code>+</code>è¡¨ç¤ºè‡³å°‘ä¸€ä¸ªå­—ç¬¦ï¼Œ</li>
<li><code>?</code>è¡¨ç¤º0ä¸ªæˆ–1ä¸ªå­—ç¬¦ï¼Œ</li>
<li><code>&#123;n&#125;</code>è¡¨ç¤ºnä¸ªå­—ç¬¦ï¼Œ</li>
<li><code>&#123;n,m&#125;</code>è¡¨ç¤ºn-mä¸ªå­—ç¬¦</li>
</ul>
<p>ç‰¹æ®Šå­—ç¬¦ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œè¦ç”¨<code>&#39;\&#39;</code>è½¬ä¹‰</p>
<ul>
<li><code>&#39;-&#39;</code></li>
</ul>
<p>è¿›é˜¶  </p>
<ul>
<li><code>[]</code>è¡¨ç¤ºèŒƒå›´</li>
<li><code>A|B</code>å¯ä»¥åŒ¹é…Aæˆ–B</li>
<li><code>^</code>è¡¨ç¤ºè¡Œçš„å¼€å¤´</li>
<li><code>$</code>è¡¨ç¤ºè¡Œçš„ç»“æŸ</li>
<li><code>()</code>è¡¨ç¤ºçš„å°±æ˜¯è¦æå–çš„åˆ†ç»„ï¼ˆGroupï¼‰</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//åŒ¹é…&#x27;ABC-001&#x27;æˆ–è€…&#x27;ABC\-001&#x27;,re1=/ABC-001/ä¹Ÿå¯ä»¥åŒ¹é…è¿™ä¸¤é¡¹</span><br><span class="line">var re1 = /ABC\-001/;  //  &quot;/æ­£åˆ™è¡¨è¾¾å¼/&quot;å†™å‡ºæ¥</span><br><span class="line">var re2 = new RegExp(&#x27;ABC\\-001&#x27;);  // new RegExp(&#x27;æ­£åˆ™è¡¨è¾¾å¼&#x27;)åˆ›å»ºä¸€ä¸ªRegExpå¯¹è±¡ã€‚</span><br><span class="line">re1 .test(&#x27;ABC-001&#x27;)    // true</span><br><span class="line">re1 .test(&#x27;ABC\-001&#x27;)  // true</span><br><span class="line">&#x27;a,b;; c  d&#x27;.split(/[\s\,\;]+/); // [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span><br><span class="line">var re = /^(\d&#123;3&#125;)-(\d&#123;3,8&#125;)$/;</span><br><span class="line">re.exec(&#x27;010-12345&#x27;); // [&#x27;010-12345&#x27;, &#x27;010&#x27;, &#x27;12345&#x27;]ï¼Œä¹Ÿå¯ä»¥åˆ†ç»„&#x27;010\-12345&#x27;</span><br><span class="line">re.exec(&#x27;010 12345&#x27;); // null</span><br></pre></td></tr></table></figure>

<p>è´ªå©ªåŒ¹é…å’Œéè´ªå©ªåŒ¹é…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var re = /^(\d+)(0*)$/;</span><br><span class="line">re.exec(&#x27;102300&#x27;); // [&#x27;102300&#x27;, &#x27;102300&#x27;, &#x27;&#x27;],è´ªå©ªåŒ¹é…</span><br><span class="line">var re = /^(\d+?)(0*)$/;</span><br><span class="line">re.exec(&#x27;102300&#x27;); // [&#x27;102300&#x27;, &#x27;1023&#x27;, &#x27;00&#x27;]ï¼ŒåŠ ä¸ª?å¯ä»¥è®©\d+é‡‡ç”¨éè´ªå©ªåŒ¹é…</span><br></pre></td></tr></table></figure>

<p>ç‰¹æ®Šæ ‡å¿—</p>
<ul>
<li>gæ ‡å¿—ï¼Œè¡¨ç¤ºå…¨å±€åŒ¹é…</li>
<li>iæ ‡å¿—ï¼Œè¡¨ç¤ºå¿½ç•¥å¤§å°å†™ï¼Œ</li>
<li>mæ ‡å¿—ï¼Œè¡¨ç¤ºæ‰§è¡Œå¤šè¡ŒåŒ¹é…</li>
</ul>
<p>å¤šæ¬¡æ‰§è¡Œexec()æ–¹æ³•æ¥æœç´¢ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²ã€‚æ¯æ¬¡è¿è¡Œexec()ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ¬èº«ä¼šæ›´æ–°lastIndexå±æ€§ï¼Œè¡¨ç¤ºä¸Šæ¬¡åŒ¹é…åˆ°çš„æœ€åç´¢å¼•<br>ä½¿ç”¨<code>/^...$/</code>ï¼Œé‚£æ ·åªä¼šæœ€å¤šåŒ¹é…ä¸€æ¬¡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var r1 = /test/g;</span><br><span class="line">var r2 = new RegExp(&#x27;test&#x27;, &#x27;g&#x27;);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>JSON<br>JSONæ˜¯JavaScript Object Notationçš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ç§æ•°æ®äº¤æ¢æ ¼å¼ã€‚ä¸ºé“æ ¼æ‹‰æ–¯Â·å…‹ç½—å…‹ç¦ç‰¹ï¼ˆDouglas Crockfordï¼‰2002å¹´å‘æ˜ã€‚<br>å­—ç¬¦é›†å¿…é¡»æ˜¯<code>UTF-8</code>ï¼ŒJSONçš„å­—ç¬¦ä¸²ä¹Ÿè§„å®šå¿…é¡»ç”¨åŒå¼•å·<code>&quot;&quot;</code>ï¼Œ<code>Object</code>çš„é”®ä¹Ÿå¿…é¡»ç”¨åŒå¼•å·<code>&quot;&quot;</code>ã€‚</li>
</ol>
<p>æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li><code>number</code>ï¼šå’ŒJavaScriptçš„<code>number</code>å®Œå…¨ä¸€è‡´ï¼›</li>
<li><code>boolean</code>ï¼šå°±æ˜¯JavaScriptçš„<code>true</code>æˆ–<code>false</code>ï¼›</li>
<li><code>string</code>ï¼šå°±æ˜¯JavaScriptçš„<code>string</code>ï¼›</li>
<li><code>null</code>ï¼šå°±æ˜¯JavaScriptçš„<code>null</code>ï¼›</li>
<li><code>array</code>ï¼šå°±æ˜¯JavaScriptçš„Arrayè¡¨ç¤ºæ–¹å¼â€”â€”<code>[]</code>ï¼›</li>
<li><code>object</code>ï¼šå°±æ˜¯JavaScriptçš„<code>&#123; ... &#125;</code>è¡¨ç¤ºæ–¹å¼ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">console.log(JSON.stringify(xiaoming));</span><br><span class="line"></span><br><span class="line">// ç¬¬äºŒä¸ªå‚æ•°ç”¨äºæ§åˆ¶å¦‚ä½•ç­›é€‰å¯¹è±¡çš„é”®å€¼</span><br><span class="line">console.log(JSON.stringify(xiaoming, null, &#x27;  &#x27;));</span><br><span class="line">// ä¼ å…¥Array,è¾“å‡ºæŒ‡å®šçš„å±æ€§</span><br><span class="line">console.log(JSON.stringify(xiaoming, [&#x27;name&#x27;, &#x27;skills&#x27;], &#x27;  &#x27;));</span><br><span class="line">// ä¼ å…¥ä¸€ä¸ªå‡½æ•°</span><br><span class="line">function convert(key, value) &#123;</span><br><span class="line">    if (typeof value === &#x27;string&#x27;) &#123;</span><br><span class="line">        return value.toUpperCase();</span><br><span class="line">    &#125;</span><br><span class="line">    return value;</span><br><span class="line">&#125;</span><br><span class="line">console.log(JSON.stringify(xiaoming, convert, &#x27;  &#x27;));</span><br></pre></td></tr></table></figure>

<p>è‡ªå®šä¹‰<code>toJSON()</code>æ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var xiaoming = &#123;</span><br><span class="line">    name: &#x27;å°æ˜&#x27;,</span><br><span class="line">    age: 14,</span><br><span class="line">    gender: true,</span><br><span class="line">    height: 1.65,</span><br><span class="line">    grade: null,</span><br><span class="line">    &#x27;middle-school&#x27;: &#x27;\&quot;W3C\&quot; Middle School&#x27;,</span><br><span class="line">    skills: [&#x27;JavaScript&#x27;, &#x27;Java&#x27;, &#x27;Python&#x27;, &#x27;Lisp&#x27;],</span><br><span class="line">    toJSON: function () &#123;</span><br><span class="line">        return &#123; // åªè¾“å‡ºnameå’Œageï¼Œå¹¶ä¸”æ”¹å˜äº†keyï¼š</span><br><span class="line">            &#x27;Name&#x27;: this.name,</span><br><span class="line">            &#x27;Age&#x27;: this.age</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">console.log(JSON.stringify(xiaoming)); // &#x27;&#123;&quot;Name&quot;:&quot;å°æ˜&quot;,&quot;Age&quot;:14&#125;&#x27;</span><br></pre></td></tr></table></figure>

<p>ååºåˆ—åŒ–</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">JSON.parse(&#x27;&#123;&quot;name&quot;:&quot;å°æ˜&quot;,&quot;age&quot;:14&#125;&#x27;)</span><br><span class="line">JSON.parse(&#x27;true&#x27;); </span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptä¹‹äºŒå‡½æ•°</title>
    <url>/2024/07/31/JavaScript%E4%B9%8B%E4%BA%8C%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<br />
  
<h2 id="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•"><a href="#è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•" class="headerlink" title="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!"></a>è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ª<a href="https://www.liaoxuefeng.com/wiki/1022910821149312">å»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹</a>ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!</h2><br />
<br />
<br />
  
<ol>
<li><p>å‡½æ•°å®šä¹‰å’Œè°ƒç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function abs(x) &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ²¡æœ‰<code>return</code>è¯­å¥ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•åä¹Ÿä¼šè¿”å›ç»“æœï¼Œåªæ˜¯ç»“æœä¸º<code>undefined</code>ã€‚<br>ç”±äºJavaScriptçš„å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸Šè¿°å®šä¹‰çš„<code>abs()</code>å‡½æ•°å®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œè€Œå‡½æ•°å<code>abs</code>å¯ä»¥è§†ä¸ºæŒ‡å‘è¯¥å‡½æ•°çš„å˜é‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var abs = function (x) &#123;&#125;;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œ<code>function (x) &#123; ... &#125;</code>æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå®ƒæ²¡æœ‰å‡½æ•°åã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°èµ‹å€¼ç»™äº†å˜é‡<code>abs</code>ï¼Œæ‰€ä»¥ï¼Œé€šè¿‡å˜é‡<code>abs</code>å°±å¯ä»¥è°ƒç”¨è¯¥å‡½æ•°<br>ä¸Šè¿°ä¸¤ç§å®šä¹‰å®Œå…¨ç­‰ä»·ï¼Œæ³¨æ„ç¬¬äºŒç§æ–¹å¼æŒ‰ç…§å®Œæ•´è¯­æ³•éœ€è¦åœ¨å‡½æ•°ä½“æœ«å°¾åŠ ä¸€ä¸ª<code>;</code>ï¼Œè¡¨ç¤ºèµ‹å€¼è¯­å¥ç»“æŸã€‚<br>ç”±äºJavaScriptå…è®¸ä¼ å…¥ä»»æ„ä¸ªå‚æ•°è€Œä¸å½±å“è°ƒç”¨ï¼Œå› æ­¤ä¼ å…¥çš„å‚æ•°æ¯”å®šä¹‰çš„å‚æ•°å¤šä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œè™½ç„¶å‡½æ•°å†…éƒ¨å¹¶ä¸éœ€è¦è¿™äº›å‚æ•°;ä¼ å…¥çš„å‚æ•°æ¯”å®šä¹‰çš„å°‘ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼š<br>è¦é¿å…æ”¶åˆ°<code>undefined</code>ï¼Œå¯ä»¥å¯¹å‚æ•°è¿›è¡Œæ£€æŸ¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function abs(x) &#123;</span><br><span class="line">    if (typeof x !== &#x27;number&#x27;) &#123;</span><br><span class="line">        throw &#x27;Not a number&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>arguments</code><br>åªåœ¨å‡½æ•°å†…éƒ¨èµ·ä½œç”¨ï¼Œå¹¶ä¸”æ°¸è¿œæŒ‡å‘å½“å‰å‡½æ•°çš„è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚<code>arguments</code>ç±»ä¼¼Arrayä½†å®ƒä¸æ˜¯ä¸€ä¸ªArrayã€‚å¸¸ç”¨äºåˆ¤æ–­ä¼ å…¥å‚æ•°çš„ä¸ªæ•°</p>
</li>
<li><p><code>rest</code>å‚æ•°<br>ES6æ ‡å‡†å¼•å…¥äº†<code>rest</code>å‚æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function foo(a, b, ...rest) &#123;</span><br><span class="line">    console.log(&#x27;a = &#x27; + a);</span><br><span class="line">    console.log(&#x27;b = &#x27; + b);</span><br><span class="line">    console.log(rest);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>rest</code>å‚æ•°åªèƒ½å†™åœ¨æœ€åï¼Œå‰é¢ç”¨<code>...</code>æ ‡è¯†ï¼Œä»è¿è¡Œç»“æœå¯çŸ¥ï¼Œä¼ å…¥çš„å‚æ•°å…ˆç»‘å®š<code>a</code>ã€<code>b</code>ï¼Œå¤šä½™çš„å‚æ•°ä»¥æ•°ç»„å½¢å¼äº¤ç»™å˜é‡<code>rest</code><br>å¦‚æœä¼ å…¥çš„å‚æ•°è¿æ­£å¸¸å®šä¹‰çš„å‚æ•°éƒ½æ²¡å¡«æ»¡ï¼Œä¹Ÿä¸è¦ç´§ï¼Œ<code>rest</code>å‚æ•°ä¼šæ¥æ”¶ä¸€ä¸ªç©ºæ•°ç»„ï¼ˆæ³¨æ„ä¸æ˜¯<code>undefined</code>ï¼‰</p>
</li>
</ol>
<p>å°å¿ƒä½ çš„<code>return</code>è¯­å¥<br>JavaScriptå¼•æ“æœ‰ä¸€ä¸ªåœ¨è¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å·çš„æœºåˆ¶<br>å¦‚æœæŠŠ<code>return</code>è¯­å¥æ‹†æˆä¸¤è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    return</span><br><span class="line">        &#123; name: &#x27;foo&#x27; &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(); // undefined</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç å®é™…ä¸Šå˜æˆäº†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    return; // è‡ªåŠ¨æ·»åŠ äº†åˆ†å·ï¼Œç›¸å½“äºreturn undefined;</span><br><span class="line">        &#123; name: &#x27;foo&#x27; &#125;; // è¿™è¡Œè¯­å¥å·²ç»æ²¡æ³•æ‰§è¡Œåˆ°äº†</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>å˜é‡ä½œç”¨åŸŸä¸è§£æ„èµ‹å€¼<br>åœ¨JavaScriptä¸­ï¼Œç”¨<code>var</code>ç”³æ˜çš„å˜é‡å®é™…ä¸Šæ˜¯æœ‰ä½œç”¨åŸŸçš„ã€‚<br>å¦‚æœä¸€ä¸ªå˜é‡åœ¨å‡½æ•°ä½“å†…éƒ¨ç”³æ˜ï¼Œåˆ™è¯¥å˜é‡çš„ä½œç”¨åŸŸä¸ºæ•´ä¸ªå‡½æ•°ä½“ï¼Œåœ¨å‡½æ•°ä½“å¤–ä¸å¯å¼•ç”¨è¯¥å˜é‡ï¼š<br>å¦‚æœä¸¤ä¸ªä¸åŒçš„å‡½æ•°å„è‡ªç”³æ˜äº†åŒä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆè¯¥å˜é‡åªåœ¨å„è‡ªçš„å‡½æ•°ä½“å†…èµ·ä½œç”¨ã€‚æ¢å¥è¯è¯´ï¼Œä¸åŒå‡½æ•°å†…éƒ¨çš„åŒåå˜é‡äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å½±å“<br>ç”±äºJavaScriptçš„å‡½æ•°å¯ä»¥åµŒå¥—ï¼Œæ­¤æ—¶ï¼Œå†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°å®šä¹‰çš„å˜é‡ï¼Œåè¿‡æ¥åˆ™ä¸è¡Œ<br>JavaScriptçš„å‡½æ•°åœ¨æŸ¥æ‰¾å˜é‡æ—¶ä»è‡ªèº«å‡½æ•°å®šä¹‰å¼€å§‹ï¼Œä»â€œå†…â€å‘â€œå¤–â€æŸ¥æ‰¾ã€‚å¦‚æœå†…éƒ¨å‡½æ•°å®šä¹‰äº†ä¸å¤–éƒ¨å‡½æ•°é‡åçš„å˜é‡ï¼Œåˆ™å†…éƒ¨å‡½æ•°çš„å˜é‡å°†â€œå±è”½â€å¤–éƒ¨å‡½æ•°çš„å˜é‡</p>
</li>
<li><p>å˜é‡æå‡<br>JavaScriptçš„å‡½æ•°å®šä¹‰æœ‰ä¸ªç‰¹ç‚¹ï¼Œå®ƒä¼šå…ˆæ‰«ææ•´ä¸ªå‡½æ•°ä½“çš„è¯­å¥ï¼ŒæŠŠæ‰€æœ‰ç”³æ˜çš„å˜é‡â€œæå‡â€åˆ°å‡½æ•°é¡¶éƒ¨ï¼Œä½†ä¸ä¼šæå‡å˜é‡çš„èµ‹å€¼<br>ç”±äºJavaScriptçš„è¿™ä¸€æ€ªå¼‚çš„â€œç‰¹æ€§â€ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰å˜é‡æ—¶ï¼Œè¯·ä¸¥æ ¼éµå®ˆâ€œåœ¨å‡½æ•°å†…éƒ¨é¦–å…ˆç”³æ˜æ‰€æœ‰å˜é‡â€è¿™ä¸€è§„åˆ™ã€‚æœ€å¸¸è§çš„åšæ³•æ˜¯ç”¨ä¸€ä¸ªvarç”³æ˜å‡½æ•°å†…éƒ¨ç”¨åˆ°çš„æ‰€æœ‰å˜é‡ã€‚</p>
</li>
<li><p>å…¨å±€ä½œç”¨åŸŸ<br>ä¸åœ¨ä»»ä½•å‡½æ•°å†…å®šä¹‰çš„å˜é‡å°±å…·æœ‰å…¨å±€ä½œç”¨åŸŸã€‚å®é™…ä¸Šï¼ŒJavaScripté»˜è®¤æœ‰ä¸€ä¸ªå…¨å±€å¯¹è±¡<code>window</code>ï¼Œå…¨å±€ä½œç”¨åŸŸçš„å˜é‡å®é™…ä¸Šè¢«ç»‘å®šåˆ°<code>window</code>çš„ä¸€ä¸ªå±æ€§<br>ä»¥å˜é‡æ–¹å¼<code>var foo = function () &#123;&#125;</code>å®šä¹‰çš„å‡½æ•°å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå› æ­¤ï¼Œé¡¶å±‚å‡½æ•°çš„å®šä¹‰ä¹Ÿè¢«è§†ä¸ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¹¶ç»‘å®šåˆ°<code>window</code>å¯¹è±¡<br><code>alert()</code>å‡½æ•°å…¶å®ä¹Ÿæ˜¯<code>window</code>çš„ä¸€ä¸ªå˜é‡<br>JavaScriptå®é™…ä¸Šåªæœ‰ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸã€‚ä»»ä½•å˜é‡ï¼ˆå‡½æ•°ä¹Ÿè§†ä¸ºå˜é‡ï¼‰ï¼Œå¦‚æœæ²¡æœ‰åœ¨å½“å‰å‡½æ•°ä½œç”¨åŸŸä¸­æ‰¾åˆ°ï¼Œå°±ä¼šç»§ç»­å¾€ä¸ŠæŸ¥æ‰¾ï¼Œæœ€åå¦‚æœåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ä¹Ÿæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™æŠ¥<code>ReferenceError</code>é”™è¯¯ã€‚</p>
</li>
<li><p>åå­—ç©ºé—´<br>å…¨å±€å˜é‡ä¼šç»‘å®šåˆ°<code>window</code>ä¸Šï¼Œä¸åŒçš„JavaScriptæ–‡ä»¶å¦‚æœä½¿ç”¨äº†ç›¸åŒçš„å…¨å±€å˜é‡ï¼Œæˆ–è€…å®šä¹‰äº†ç›¸åŒåå­—çš„é¡¶å±‚å‡½æ•°ï¼Œéƒ½ä¼šé€ æˆå‘½åå†²çªï¼Œå¹¶ä¸”å¾ˆéš¾è¢«å‘ç°ã€‚<br>å‡å°‘å†²çªçš„ä¸€ä¸ªæ–¹æ³•æ˜¯æŠŠè‡ªå·±çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°å…¨éƒ¨ç»‘å®šåˆ°ä¸€ä¸ªå…¨å±€å˜é‡ä¸­ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var MYAPP = &#123;&#125;;  // å”¯ä¸€çš„å…¨å±€å˜é‡MYAPP</span><br><span class="line">MYAPP.name = &#x27;myapp&#x27;;  // å…¶ä»–å˜é‡</span><br><span class="line">MYAPP.version = 1.0;</span><br><span class="line">// å…¶ä»–å‡½æ•°</span><br><span class="line">MYAPP.foo = function () &#123;</span><br><span class="line">    return &#x27;foo&#x27;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æŠŠè‡ªå·±çš„ä»£ç å…¨éƒ¨æ”¾å…¥å”¯ä¸€çš„åå­—ç©ºé—´<code>MYAPP</code>ä¸­ï¼Œä¼šå¤§å¤§å‡å°‘å…¨å±€å˜é‡å†²çªçš„å¯èƒ½ã€‚è®¸å¤šè‘—åçš„JavaScriptåº“éƒ½æ˜¯è¿™ä¹ˆå¹²çš„ï¼š<code>jQuery</code>ï¼Œ<code>YUI</code>ï¼Œ<code>underscore</code>ç­‰ç­‰ã€‚</p>
</li>
<li><p>å±€éƒ¨ä½œç”¨åŸŸ<br>ç”±äºJavaScriptçš„å˜é‡ä½œç”¨åŸŸå®é™…ä¸Šæ˜¯å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬åœ¨<code>for</code>å¾ªç¯ç­‰è¯­å¥å—ä¸­æ˜¯æ— æ³•å®šä¹‰å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸçš„å˜é‡çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">    for (var i=0; i&lt;100; i++) &#123;</span><br><span class="line">        //</span><br><span class="line">    &#125;</span><br><span class="line">    i += 100; // ä»ç„¶å¯ä»¥å¼•ç”¨å˜é‡i</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†è§£å†³å—çº§ä½œç”¨åŸŸï¼ŒES6å¼•å…¥äº†æ–°çš„å…³é”®å­—<code>let</code>ï¼Œç”¨<code>let</code>æ›¿ä»£<code>var</code>å¯ä»¥ç”³æ˜ä¸€ä¸ªå—çº§ä½œç”¨åŸŸçš„å˜é‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">    var sum = 0;</span><br><span class="line">    for (let i=0; i&lt;100; i++) &#123;</span><br><span class="line">        sum += i;</span><br><span class="line">    &#125;</span><br><span class="line">    // SyntaxError:</span><br><span class="line">    i += 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¸¸é‡<br>ç”±äº<code>var</code>å’Œ<code>let</code>ç”³æ˜çš„æ˜¯å˜é‡ï¼Œå¦‚æœè¦ç”³æ˜ä¸€ä¸ªå¸¸é‡ï¼Œåœ¨ES6ä¹‹å‰æ˜¯ä¸è¡Œçš„ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡æ¥è¡¨ç¤ºâ€œè¿™æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸è¦ä¿®æ”¹å®ƒçš„å€¼â€ï¼š<br>ES6æ ‡å‡†å¼•å…¥äº†æ–°çš„å…³é”®å­—<code>const</code>æ¥å®šä¹‰å¸¸é‡ï¼Œ<code>const</code>ä¸<code>let</code>éƒ½å…·æœ‰å—çº§ä½œç”¨åŸŸï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line"></span><br><span class="line">const PI = 3.14;</span><br><span class="line">PI = 3; // æŸäº›æµè§ˆå™¨ä¸æŠ¥é”™ï¼Œä½†æ˜¯æ— æ•ˆæœï¼</span><br></pre></td></tr></table></figure>
</li>
<li><p>è§£æ„èµ‹å€¼<br>ä»ES6å¼€å§‹ï¼ŒJavaScriptå¼•å…¥äº†è§£æ„èµ‹å€¼ï¼Œå¯ä»¥åŒæ—¶å¯¹ä¸€ç»„å˜é‡è¿›è¡Œèµ‹å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// å¦‚æœæµè§ˆå™¨æ”¯æŒè§£æ„èµ‹å€¼å°±ä¸ä¼šæŠ¥é”™:</span><br><span class="line">var [x, y, z] = [&#x27;hello&#x27;, &#x27;JavaScript&#x27;, &#x27;ES6&#x27;];</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œå¯¹æ•°ç»„å…ƒç´ è¿›è¡Œè§£æ„èµ‹å€¼æ—¶ï¼Œå¤šä¸ªå˜é‡è¦ç”¨<code>[...]</code>æ‹¬èµ·æ¥ã€‚<br>å¦‚æœæ•°ç»„æœ¬èº«è¿˜æœ‰åµŒå¥—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢çš„å½¢å¼è¿›è¡Œè§£æ„èµ‹å€¼ï¼Œæ³¨æ„åµŒå¥—å±‚æ¬¡å’Œä½ç½®è¦ä¿æŒä¸€è‡´</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">let [x, [y, z]] = [&#x27;hello&#x27;, [&#x27;JavaScript&#x27;, &#x27;ES6&#x27;]];</span><br></pre></td></tr></table></figure>
<p>è§£æ„èµ‹å€¼è¿˜å¯ä»¥å¿½ç•¥æŸäº›å…ƒç´ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">let [, , z] = [&#x27;hello&#x27;, &#x27;JavaScript&#x27;, &#x27;ES6&#x27;]; // å¿½ç•¥å‰ä¸¤ä¸ªå…ƒç´ ï¼Œåªå¯¹zèµ‹å€¼ç¬¬ä¸‰ä¸ªå…ƒç´ </span><br></pre></td></tr></table></figure>
<p>å¦‚æœéœ€è¦ä»ä¸€ä¸ªå¯¹è±¡ä¸­å–å‡ºè‹¥å¹²å±æ€§ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ï¼Œä¾¿äºå¿«é€Ÿè·å–å¯¹è±¡çš„æŒ‡å®šå±æ€§ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">    name: &#x27;å°æ˜&#x27;,</span><br><span class="line">    age: 20,</span><br><span class="line">    gender: &#x27;male&#x27;,</span><br><span class="line">    passport: &#x27;G-12345678&#x27;,</span><br><span class="line">    school: &#x27;No.4 middle school&#x27;</span><br><span class="line">&#125;;</span><br><span class="line">var &#123;name, age, passport&#125; = person;</span><br></pre></td></tr></table></figure>
<p>å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œè§£æ„èµ‹å€¼æ—¶ï¼ŒåŒæ ·å¯ä»¥ç›´æ¥å¯¹åµŒå¥—çš„å¯¹è±¡å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œåªè¦ä¿è¯å¯¹åº”çš„å±‚æ¬¡æ˜¯ä¸€è‡´çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">    name: &#x27;å°æ˜&#x27;,</span><br><span class="line">    age: 20,</span><br><span class="line">    gender: &#x27;male&#x27;,</span><br><span class="line">    passport: &#x27;G-12345678&#x27;,</span><br><span class="line">    school: &#x27;No.4 middle school&#x27;,</span><br><span class="line">    address: &#123;</span><br><span class="line">        city: &#x27;Beijing&#x27;,</span><br><span class="line">        street: &#x27;No.1 Road&#x27;,</span><br><span class="line">        zipcode: &#x27;100001&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var &#123;name, address: &#123;city, zip&#125;&#125; = person;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨è§£æ„èµ‹å€¼å¯¹å¯¹è±¡å±æ€§è¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¦‚æœå¯¹åº”çš„å±æ€§ä¸å­˜åœ¨ï¼Œå˜é‡å°†è¢«èµ‹å€¼ä¸º<code>undefined</code>ï¼Œè¿™å’Œå¼•ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„å±æ€§è·å¾—<code>undefined</code>æ˜¯ä¸€è‡´çš„ã€‚å¦‚æœè¦ä½¿ç”¨çš„å˜é‡åå’Œå±æ€§åä¸ä¸€è‡´ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„è¯­æ³•è·å–</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">    name: &#x27;å°æ˜&#x27;,</span><br><span class="line">    age: 20,</span><br><span class="line">    gender: &#x27;male&#x27;,</span><br><span class="line">    passport: &#x27;G-12345678&#x27;,</span><br><span class="line">    school: &#x27;No.4 middle school&#x27;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let &#123;name, passport:id&#125; = person;  // æ³¨æ„: passportä¸æ˜¯å˜é‡ï¼Œè€Œæ˜¯ä¸ºäº†è®©å˜é‡idè·å¾—passportå±æ€§</span><br><span class="line">name; // &#x27;å°æ˜&#x27;</span><br><span class="line">id; // &#x27;G-12345678&#x27;</span><br><span class="line">passport; // Uncaught ReferenceError: passport is not defined</span><br></pre></td></tr></table></figure>
<p>è§£æ„èµ‹å€¼è¿˜å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ï¼Œè¿™æ ·å°±é¿å…äº†ä¸å­˜åœ¨çš„å±æ€§è¿”å›<code>undefined</code>çš„é—®é¢˜</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">    name: &#x27;å°æ˜&#x27;,</span><br><span class="line">    age: 20,</span><br><span class="line">    gender: &#x27;male&#x27;,</span><br><span class="line">    passport: &#x27;G-12345678&#x27;</span><br><span class="line">&#125;;</span><br><span class="line">// å¦‚æœpersonå¯¹è±¡æ²¡æœ‰singleå±æ€§ï¼Œé»˜è®¤èµ‹å€¼ä¸ºtrue:</span><br><span class="line">var &#123;name, single=true&#125; = person;</span><br><span class="line">name; // &#x27;å°æ˜&#x27;</span><br><span class="line">single; // true</span><br></pre></td></tr></table></figure>
<p>æœ‰äº›æ—¶å€™ï¼Œå¦‚æœå˜é‡å·²ç»è¢«å£°æ˜äº†ï¼Œå†æ¬¡èµ‹å€¼çš„æ—¶å€™ï¼Œæ­£ç¡®çš„å†™æ³•ä¹Ÿä¼šæŠ¥è¯­æ³•é”™è¯¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var x, y;  // å£°æ˜å˜é‡</span><br><span class="line">&#123;x, y&#125; = &#123; name: &#x27;å°æ˜&#x27;, x: 100, y: 200&#125;;  // è§£æ„èµ‹å€¼,ä¼šæŠ¥è¯­æ³•é”™è¯¯: Uncaught SyntaxError: Unexpected token =</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯å› ä¸ºJavaScriptå¼•æ“æŠŠ<code>&#123;</code>å¼€å¤´çš„è¯­å¥å½“ä½œäº†å—å¤„ç†ï¼Œäºæ˜¯<code>=</code>ä¸å†åˆæ³•ã€‚è§£å†³æ–¹æ³•æ˜¯ç”¨å°æ‹¬å·æ‹¬èµ·æ¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(&#123;x, y&#125; = &#123; name: &#x27;å°æ˜&#x27;, x: 100, y: 200&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–¹æ³•<br>åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ç»‘å®šå‡½æ•°ï¼Œç§°ä¸ºè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚<br>ç»‘å®šåˆ°å¯¹è±¡ä¸Šçš„å‡½æ•°ç§°ä¸ºæ–¹æ³•ï¼Œå®ƒåœ¨å†…éƒ¨ä½¿ç”¨äº†ä¸€ä¸ª<code>this</code>å…³é”®å­—ï¼Œå…¶å§‹ç»ˆæŒ‡å‘å½“å‰å¯¹è±¡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var xiaoming = &#123;</span><br><span class="line">    name: &#x27;å°æ˜&#x27;,</span><br><span class="line">    birth: 1990,</span><br><span class="line">    age: function () &#123;</span><br><span class="line">        var y = new Date().getFullYear();</span><br><span class="line">        return y - this.birth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æ‹†å¼€å†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function getAge() &#123;</span><br><span class="line">    var y = new Date().getFullYear();</span><br><span class="line">    return y - this.birth;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var xiaoming = &#123;</span><br><span class="line">    name: &#x27;å°æ˜&#x27;,</span><br><span class="line">    birth: 1990,</span><br><span class="line">    age: getAge</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); // 25, æ­£å¸¸ç»“æœ</span><br><span class="line">getAge(); // NaN</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä»¥å¯¹è±¡çš„æ–¹æ³•å½¢å¼è°ƒç”¨ï¼Œæ¯”å¦‚<code>xiaoming.age()</code>ï¼Œè¯¥å‡½æ•°çš„<code>this</code>æŒ‡å‘è¢«è°ƒç”¨çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯<code>xiaoming</code>ï¼Œè¿™æ˜¯ç¬¦åˆæˆ‘ä»¬é¢„æœŸçš„ã€‚<br>å¦‚æœå•ç‹¬è°ƒç”¨å‡½æ•°ï¼Œæ¯”å¦‚<code>getAge()</code>ï¼Œæ­¤æ—¶ï¼Œè¯¥å‡½æ•°çš„<code>this</code>æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯<code>window</code>ã€‚<br>å¦‚æœè¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var fn = xiaoming.age; // å…ˆæ‹¿åˆ°xiaomingçš„ageå‡½æ•°</span><br><span class="line">fn(); // NaN</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼è¦ä¿è¯<code>this</code>æŒ‡å‘æ­£ç¡®ï¼Œå¿…é¡»ç”¨<code>obj.xxx()</code>çš„å½¢å¼è°ƒç”¨ï¼<br>ç”±äºè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„è®¾è®¡é”™è¯¯ã€‚ECMAå†³å®šï¼Œåœ¨<code>strict</code>æ¨¡å¼ä¸‹è®©å‡½æ•°çš„<code>this</code>æŒ‡å‘<code>undefined</code>ï¼Œå› æ­¤ï¼Œåœ¨<code>strict</code>æ¨¡å¼ä¸‹ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚è¿™ä¸ªå†³å®šåªæ˜¯è®©é”™è¯¯åŠæ—¶æš´éœ²å‡ºæ¥ï¼Œå¹¶æ²¡æœ‰è§£å†³<code>this</code>åº”è¯¥æŒ‡å‘çš„æ­£ç¡®ä½ç½®ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line"></span><br><span class="line">var xiaoming = &#123;</span><br><span class="line">    name: &#x27;å°æ˜&#x27;,</span><br><span class="line">    birth: 1990,</span><br><span class="line">    age: function () &#123;</span><br><span class="line">        function getAgeFromBirth() &#123;</span><br><span class="line">            var y = new Date().getFullYear();</span><br><span class="line">            return y - this.birth;</span><br><span class="line">        &#125;</span><br><span class="line">        return getAgeFromBirth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); // Uncaught TypeError: Cannot read property &#x27;birth&#x27; of undefined</span><br></pre></td></tr></table></figure>
<p>ç»“æœåˆæŠ¥é”™äº†ï¼åŸå› æ˜¯<code>this</code>æŒ‡é’ˆåªåœ¨<code>age</code>æ–¹æ³•çš„å‡½æ•°å†…æŒ‡å‘<code>xiaoming</code>ï¼Œåœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å‡½æ•°ï¼Œ<code>this</code>åˆæŒ‡å‘<code>undefined</code>äº†ï¼ï¼ˆåœ¨é<code>strict</code>æ¨¡å¼ä¸‹ï¼Œå®ƒé‡æ–°æŒ‡å‘å…¨å±€å¯¹è±¡<code>window</code>ï¼ï¼‰<br>ä¿®å¤çš„åŠæ³•ä¹Ÿä¸æ˜¯æ²¡æœ‰ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ª<code>that</code>å˜é‡é¦–å…ˆæ•è·<code>this</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line"></span><br><span class="line">var xiaoming = &#123;</span><br><span class="line">    name: &#x27;å°æ˜&#x27;,</span><br><span class="line">    birth: 1990,</span><br><span class="line">    age: function () &#123;</span><br><span class="line">        var that = this; // åœ¨æ–¹æ³•å†…éƒ¨ä¸€å¼€å§‹å°±æ•è·this</span><br><span class="line">        function getAgeFromBirth() &#123;</span><br><span class="line">            var y = new Date().getFullYear();</span><br><span class="line">            return y - that.birth; // ç”¨thatè€Œä¸æ˜¯this</span><br><span class="line">        &#125;</span><br><span class="line">        return getAgeFromBirth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); // 25</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>apply()</code>å’Œ<code>call()</code><br>æŒ‡å®šå‡½æ•°çš„<code>this</code>æŒ‡å‘å“ªä¸ªå¯¹è±¡ï¼Œå¯ä»¥ç”¨å‡½æ•°æœ¬èº«çš„<code>apply</code>æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯éœ€è¦ç»‘å®šçš„<code>this</code>å˜é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>Array</code>ï¼Œè¡¨ç¤ºå‡½æ•°æœ¬èº«çš„å‚æ•°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function getAge() &#123;</span><br><span class="line">    var y = new Date().getFullYear();</span><br><span class="line">    return y - this.birth;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var xiaoming = &#123;</span><br><span class="line">    name: &#x27;å°æ˜&#x27;,</span><br><span class="line">    birth: 1990,</span><br><span class="line">    age: getAge</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); // 25</span><br><span class="line">getAge.apply(xiaoming, []); // 25, thisæŒ‡å‘xiaoming, å‚æ•°ä¸ºç©º</span><br></pre></td></tr></table></figure></li>
</ol>
<p><code>apply()</code>æŠŠå‚æ•°æ‰“åŒ…æˆ<code>Array</code>å†ä¼ å…¥ï¼›<br><code>call()</code>æŠŠå‚æ•°æŒ‰é¡ºåºä¼ å…¥<br>å¯¹æ™®é€šå‡½æ•°è°ƒç”¨ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠthisç»‘å®šä¸ºnullã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Math.max.apply(null, [3, 5, 4]); // 5</span><br><span class="line">Math.max.call(null, 3, 5, 4); // 5</span><br></pre></td></tr></table></figure>

<ol start="13">
<li><p>è£…é¥°å™¨<br>JavaScriptçš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åŠ¨æ€çš„ï¼Œå³ä½¿å†…ç½®çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é‡æ–°æŒ‡å‘æ–°çš„å‡½æ•°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line"></span><br><span class="line">var count = 0;</span><br><span class="line">var oldParseInt = parseInt; // ä¿å­˜åŸå‡½æ•°</span><br><span class="line"></span><br><span class="line">window.parseInt = function () &#123;</span><br><span class="line">    count += 1;</span><br><span class="line">    return oldParseInt.apply(null, arguments); // è°ƒç”¨åŸå‡½æ•°</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é«˜é˜¶å‡½æ•°<br>JavaScriptçš„å‡½æ•°å…¶å®éƒ½æŒ‡å‘æŸä¸ªå˜é‡ã€‚æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚</p>
</li>
</ol>
<p>14.1 Arrayä¸­çš„mapå’Œreduce</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">arr.map(String);  // æŠŠArrayçš„æ‰€æœ‰æ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure>

<p><code>reduce()</code>æŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨è¿™ä¸ª<code>Array</code>çš„<code>[x1, x2, x3...]</code>ä¸Šï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œ<code>reduce()</code>æŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—ï¼Œå…¶æ•ˆæœå°±æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[x1, x2, x3, x4].reduce(f) = f(f(f(x1, x2), x3), x4)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;].map(parseInt) // While one might expect [1, 2, 3], the actual result is [1, NaN, NaN].</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜:parseInt is often used with one argument, but takes two. The first is an expression and the second is the radix to the callback function, Array.prototype.map passes 3 arguments:</p>
<ul>
<li>the element</li>
<li>the index</li>
<li>the array<br>The third argument is ignored by parseIntâ€”but not the second one! This is the source of possible confusion.<br>Here is a concise example of the iteration steps:</li>
<li>parseInt(string, radix) -&gt; map(parseInt(value, index))</li>
<li>first iteration  (index is 0):  <code>parseInt(&quot;1&quot;, 0)</code>  &#x3D;&gt; 1</li>
<li>second iteration (index is 1):  <code>parseInt(&quot;2&quot;, 1)</code>  &#x3D;&gt; NaN</li>
<li>third iteration  (index is 2):  <code>parseInt(&quot;3&quot;, 2)</code>  &#x3D;&gt; NaN<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">parseInt(string)</span><br><span class="line">parseInt(string, radix)</span><br></pre></td></tr></table></figure>
<code>radix</code>å¯é€‰ã€‚è¡¨ç¤ºè¦è§£æçš„æ•°å­—çš„åŸºæ•°ã€‚è¯¥å€¼ä»‹äº 2 ~ 36 ä¹‹é—´ã€‚<br>å¦‚æœçœç•¥è¯¥å‚æ•°æˆ–å…¶å€¼ä¸º 0ï¼Œåˆ™æ•°å­—å°†ä»¥ 10 ä¸ºåŸºç¡€æ¥è§£æã€‚<br>å¦‚æœè¯¥å‚æ•°å°äº 2 æˆ–è€…å¤§äº 36ï¼Œåˆ™ <code>parseInt()</code> å°†è¿”å› <code>NaN</code>ã€‚å¦‚æœ<code>string</code>ä¸åœ¨<code>radix</code>è¿›åˆ¶çš„èŒƒå›´å†…ï¼Œä¹Ÿè¿”å›<code>NaN</code>,å¦‚<code>parseInt(&quot;3&quot;, 2)</code>  &#x3D;&gt; NaN</li>
</ul>
<p>14.2 <code>filter()</code><br>ç”¨äºæŠŠ<code>Array</code>çš„æŸäº›å…ƒç´ è¿‡æ»¤æ‰ï¼Œç„¶åè¿”å›å‰©ä¸‹çš„å…ƒç´ ã€‚<code>filter()</code>æŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œç„¶åæ ¹æ®è¿”å›å€¼æ˜¯<code>true</code>è¿˜æ˜¯<code>false</code>å†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´ ã€‚<br>å›è°ƒå‡½æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var r = arr.filter(function (element, index, self) &#123;</span><br><span class="line">    console.log(element); // ä¾æ¬¡æ‰“å°&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;</span><br><span class="line">    console.log(index); // ä¾æ¬¡æ‰“å°0, 1, 2</span><br><span class="line">    console.log(self); // selfå°±æ˜¯å˜é‡arr</span><br><span class="line">    return true;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>å»é™¤Arrayçš„é‡å¤å…ƒç´ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">r = arr.filter(function (element, index, self) &#123;</span><br><span class="line">    return self.indexOf(element) === index;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>14.3 <code>sort()</code><br>å¯¹å­—ç¬¦ä¸²æ’åºï¼Œæ˜¯æŒ‰ç…§<code>ASCII</code>çš„å¤§å°æ¯”è¾ƒçš„<br><code>Array</code>çš„<code>sort()</code>æ–¹æ³•é»˜è®¤æŠŠæ‰€æœ‰å…ƒç´ å…ˆè½¬æ¢ä¸º<code>String</code>å†æ’åº<br>è‡ªå®šä¹‰çš„æ’åº:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">arr.sort(function (x, y) &#123;</span><br><span class="line">    if (x &lt; y) &#123;</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line">    if (x &gt; y) &#123;</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><code>sort()</code>æ–¹æ³•ä¼šç›´æ¥å¯¹<code>Array</code>è¿›è¡Œä¿®æ”¹ï¼Œå®ƒè¿”å›çš„ç»“æœä»æ˜¯å½“å‰<code>Array</code></p>
<p>14.4 å…¶ä»–æ–¹æ³•<br><code>every()</code>æ–¹æ³•å¯ä»¥åˆ¤æ–­æ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦æ»¡è¶³æµ‹è¯•æ¡ä»¶<br><code>find()</code>æ–¹æ³•ç”¨äºæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œè¿”å›è¿™ä¸ªå…ƒç´ ï¼Œå¦åˆ™ï¼Œè¿”å›<code>undefined</code><br><code>findIndex()</code>å’Œ<code>find()</code>ç±»ä¼¼ï¼Œä¹Ÿæ˜¯æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¸åŒä¹‹å¤„åœ¨äº<code>findIndex()</code>ä¼šè¿”å›è¿™ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å›<code>-1</code><br><code>forEach()</code>å’Œ<code>map()</code>ç±»ä¼¼ï¼Œå®ƒä¹ŸæŠŠæ¯ä¸ªå…ƒç´ ä¾æ¬¡ä½œç”¨äºä¼ å…¥çš„å‡½æ•°ï¼Œä½†ä¸ä¼šè¿”å›æ–°çš„æ•°ç»„ã€‚<code>forEach()</code>å¸¸ç”¨äºéå†æ•°ç»„ï¼Œå› æ­¤ï¼Œä¼ å…¥çš„å‡½æ•°ä¸éœ€è¦è¿”å›å€¼</p>
<ol start="15">
<li><p>é—­åŒ…<br>é«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æœå€¼è¿”å›</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function lazy_sum(arr) &#123;</span><br><span class="line">    var sum = function () &#123;</span><br><span class="line">        return arr.reduce(function (x, y) &#123;</span><br><span class="line">            return x + y;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    return sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬è°ƒç”¨<code>lazy_sum()</code>æ—¶ï¼Œè¿”å›çš„å¹¶ä¸æ˜¯æ±‚å’Œç»“æœï¼Œè€Œæ˜¯æ±‚å’Œå‡½æ•°<code>sum</code><br>åœ¨å‡½æ•°<code>lazy_sum</code>ä¸­åˆå®šä¹‰äº†å‡½æ•°<code>sum</code>ï¼Œå¹¶ä¸”ï¼Œå†…éƒ¨å‡½æ•°<code>sum</code>å¯ä»¥å¼•ç”¨å¤–éƒ¨å‡½æ•°<code>lazy_sum</code>çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ï¼Œå½“<code>lazy_sum</code>è¿”å›å‡½æ•°<code>sum</code>æ—¶ï¼Œç›¸å…³å‚æ•°å’Œå˜é‡éƒ½ä¿å­˜åœ¨è¿”å›çš„å‡½æ•°ä¸­ï¼Œè¿™ç§ç¨‹åºç»“æ„ç§°ä¸ºâ€œé—­åŒ…ï¼ˆClosureï¼‰â€<br>æ³¨æ„ï¼Œå½“æˆ‘ä»¬è°ƒç”¨<code>lazy_sum()</code>æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå³ä½¿ä¼ å…¥ç›¸åŒçš„å‚æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var arr=[1, 2, 3, 4, 5]</span><br><span class="line">var f1 = lazy_sum(arr);</span><br><span class="line">var f2 = lazy_sum(arr);</span><br><span class="line">f1==f2   //false</span><br><span class="line">f1 === f2; // false</span><br></pre></td></tr></table></figure>
<p>è¿”å›çš„å‡½æ•°å¹¶æ²¡æœ‰ç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯ç›´åˆ°è°ƒç”¨äº†<code>f()</code>æ‰æ‰§è¡Œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function count() &#123;</span><br><span class="line">    var arr = [];</span><br><span class="line">    for (var i=1; i&lt;=3; i++) &#123;</span><br><span class="line">        arr.push(function () &#123;</span><br><span class="line">            return i * i;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var results = count();</span><br><span class="line">var f1 = results[0];</span><br><span class="line">var f2 = results[1];</span><br><span class="line">var f3 = results[2];</span><br></pre></td></tr></table></figure>
<p>å¾ˆå¯èƒ½è®¤ä¸ºè°ƒç”¨<code>f1()</code>ï¼Œ<code>f2()</code>å’Œ<code>f3()</code>ç»“æœåº”è¯¥æ˜¯<code>1</code>ï¼Œ<code>4</code>ï¼Œ<code>9</code>ï¼Œä½†å®é™…ç»“æœæ˜¯ï¼šéƒ½æ˜¯<code>16</code>ã€‚åŸå› å°±åœ¨äºè¿”å›çš„å‡½æ•°å¼•ç”¨äº†å˜é‡<code>i</code>ï¼Œä½†å®ƒå¹¶éç«‹åˆ»æ‰§è¡Œã€‚ç­‰åˆ°3ä¸ªå‡½æ•°éƒ½è¿”å›æ—¶ï¼Œå®ƒä»¬æ‰€å¼•ç”¨çš„å˜é‡<code>i</code>å·²ç»å˜æˆäº†<code>4</code>ï¼Œå› æ­¤æœ€ç»ˆç»“æœä¸º<code>16</code>ã€‚<br>è¿”å›é—­åŒ…æ—¶ç‰¢è®°çš„ä¸€ç‚¹å°±æ˜¯ï¼šè¿”å›å‡½æ•°ä¸è¦å¼•ç”¨ä»»ä½•å¾ªç¯å˜é‡ï¼Œæˆ–è€…åç»­ä¼šå‘ç”Ÿå˜åŒ–çš„å˜é‡ã€‚<br>å¦‚æœä¸€å®šè¦å¼•ç”¨å¾ªç¯å˜é‡æ€ä¹ˆåŠï¼Ÿæ–¹æ³•æ˜¯å†åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œç”¨è¯¥å‡½æ•°çš„å‚æ•°ç»‘å®šå¾ªç¯å˜é‡å½“å‰çš„å€¼ï¼Œæ— è®ºè¯¥å¾ªç¯å˜é‡åç»­å¦‚ä½•æ›´æ”¹ï¼Œå·²ç»‘å®šåˆ°å‡½æ•°å‚æ•°çš„å€¼ä¸å˜ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function count() &#123;</span><br><span class="line">    var arr = [];</span><br><span class="line">    for (var i=1; i&lt;=3; i++) &#123;</span><br><span class="line">        arr.push((function (n) &#123;</span><br><span class="line">            return function () &#123;</span><br><span class="line">                return n * n;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)(i));</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>â€œåˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶ç«‹åˆ»æ‰§è¡Œâ€çš„è¯­æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(function (x) &#123;</span><br><span class="line">    return x * x;</span><br><span class="line">&#125;)(3); // 9</span><br></pre></td></tr></table></figure>
<p>ç†è®ºä¸Šè®²ï¼Œåˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶ç«‹åˆ»æ‰§è¡Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function (x) &#123; return x * x &#125; (3);</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ç”±äºJavaScriptè¯­æ³•è§£æçš„é—®é¢˜ï¼Œä¼šæŠ¥<code>SyntaxError</code>é”™è¯¯ï¼Œå› æ­¤éœ€è¦ç”¨æ‹¬å·æŠŠæ•´ä¸ªå‡½æ•°å®šä¹‰æ‹¬èµ·æ¥</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(function (x) &#123; return x * x &#125;) (3);</span><br></pre></td></tr></table></figure>
<p>é€šå¸¸ï¼Œä¸€ä¸ªç«‹å³æ‰§è¡Œçš„åŒ¿åå‡½æ•°å¯ä»¥æŠŠå‡½æ•°ä½“æ‹†å¼€ï¼Œä¸€èˆ¬è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(function (x) &#123;</span><br><span class="line">    return x * x;</span><br><span class="line">&#125;)(3);</span><br></pre></td></tr></table></figure>
<p>åœ¨æ²¡æœ‰<code>class</code>æœºåˆ¶ï¼Œåªæœ‰å‡½æ•°çš„è¯­è¨€é‡Œï¼Œå€ŸåŠ©é—­åŒ…ï¼ŒåŒæ ·å¯ä»¥å°è£…ä¸€ä¸ªç§æœ‰å˜é‡ã€‚æˆ‘ä»¬ç”¨JavaScriptåˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line">function create_counter(initial) &#123;</span><br><span class="line">    var x = initial || 0;</span><br><span class="line">    return &#123;</span><br><span class="line">        inc: function () &#123;</span><br><span class="line">            x += 1;</span><br><span class="line">            return x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¢å¥è¯è¯´ï¼Œé—­åŒ…å°±æ˜¯æºå¸¦çŠ¶æ€çš„å‡½æ•°ï¼Œå¹¶ä¸”å®ƒçš„çŠ¶æ€å¯ä»¥å®Œå…¨å¯¹å¤–éšè—èµ·æ¥ã€‚<br>é—­åŒ…è¿˜å¯ä»¥æŠŠå¤šå‚æ•°çš„å‡½æ•°å˜æˆå•å‚æ•°çš„å‡½æ•°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line">function make_pow(n) &#123;</span><br><span class="line">    return function (x) &#123;</span><br><span class="line">        return Math.pow(x, n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var pow2 = make_pow(2);</span><br><span class="line">var pow3 = make_pow(3);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç®­å¤´å‡½æ•°<br>ES6æ ‡å‡†æ–°å¢äº†ä¸€ç§æ–°çš„å‡½æ•°ï¼šArrow Functionï¼ˆç®­å¤´å‡½æ•°ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">x =&gt; x * x</span><br></pre></td></tr></table></figure>
<p>ç›¸å½“äºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function (x) &#123;</span><br><span class="line">    return x * x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç®­å¤´å‡½æ•°ç›¸å½“äºåŒ¿åå‡½æ•°ï¼Œå¹¶ä¸”ç®€åŒ–äº†å‡½æ•°å®šä¹‰ã€‚ç®­å¤´å‡½æ•°æœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§åƒä¸Šé¢çš„ï¼ŒåªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿<code>&#123; ... &#125;</code>å’Œ<code>return</code>éƒ½çœç•¥æ‰äº†ã€‚è¿˜æœ‰ä¸€ç§å¯ä»¥åŒ…å«å¤šæ¡è¯­å¥ï¼Œè¿™æ—¶å€™å°±ä¸èƒ½çœç•¥<code>&#123; ... &#125;</code>å’Œ<code>return</code><br>å¦‚æœå‚æ•°ä¸æ˜¯ä¸€ä¸ªï¼Œå°±éœ€è¦ç”¨æ‹¬å·<code>()</code>æ‹¬èµ·æ¥<br>å¦‚æœè¦è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå°±è¦æ³¨æ„ï¼Œå¦‚æœæ˜¯å•è¡¨è¾¾å¼ï¼Œè¿™ä¹ˆå†™çš„è¯ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">x =&gt; &#123; foo: x &#125;  // SyntaxError</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºå’Œå‡½æ•°ä½“çš„<code>&#123; ... &#125;</code>æœ‰è¯­æ³•å†²çªï¼Œæ‰€ä»¥è¦æ”¹ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">x =&gt; (&#123; foo: x &#125;)  // ok</span><br></pre></td></tr></table></figure>
</li>
<li><p>this<br>ç®­å¤´å‡½æ•°çœ‹ä¸Šå»æ˜¯åŒ¿åå‡½æ•°çš„ä¸€ç§ç®€å†™ï¼Œä½†å®é™…ä¸Šï¼Œç®­å¤´å‡½æ•°å’ŒåŒ¿åå‡½æ•°æœ‰ä¸ªæ˜æ˜¾çš„åŒºåˆ«ï¼šç®­å¤´å‡½æ•°å†…éƒ¨çš„<code>this</code>æ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œç”±ä¸Šä¸‹æ–‡ç¡®å®šã€‚<br>å›é¡¾å‰é¢çš„ä¾‹å­ï¼Œç”±äºJavaScriptå‡½æ•°å¯¹<code>this</code>ç»‘å®šçš„é”™è¯¯å¤„ç†ï¼Œä¸‹é¢çš„ä¾‹å­æ— æ³•å¾—åˆ°é¢„æœŸç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">    birth: 1990,</span><br><span class="line">    getAge: function () &#123;</span><br><span class="line">        var b = this.birth; // 1990</span><br><span class="line">        console.log(b);</span><br><span class="line">        var fn = function () &#123;</span><br><span class="line">            return new Date().getFullYear() - this.birth; // thisæŒ‡å‘windowæˆ–undefined</span><br><span class="line">        &#125;;</span><br><span class="line">        return fn();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œç®­å¤´å‡½æ•°å®Œå…¨ä¿®å¤äº†<code>this</code>çš„æŒ‡å‘ï¼Œ<code>this</code>æ€»æ˜¯æŒ‡å‘è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯å¤–å±‚è°ƒç”¨è€…<code>obj</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">    birth: 1990,</span><br><span class="line">    getAge: function () &#123;</span><br><span class="line">        var b = this.birth; // 1990</span><br><span class="line">        var fn = () =&gt; new Date().getFullYear() - this.birth; // thisæŒ‡å‘objå¯¹è±¡</span><br><span class="line">        return fn();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.getAge(); // 25</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä»¥å‰çš„é‚£ç§hackå†™æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var that = this;</span><br></pre></td></tr></table></figure>
<p>å°±ä¸å†éœ€è¦äº†ã€‚</p>
</li>
</ol>
<p>ç”±äº<code>this</code>åœ¨ç®­å¤´å‡½æ•°ä¸­å·²ç»æŒ‰ç…§è¯æ³•ä½œç”¨åŸŸç»‘å®šäº†ï¼Œæ‰€ä»¥ï¼Œç”¨<code>call()</code>æˆ–è€…<code>apply()</code>è°ƒç”¨ç®­å¤´å‡½æ•°æ—¶ï¼Œæ— æ³•å¯¹<code>this</code>è¿›è¡Œç»‘å®šï¼Œå³ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°è¢«å¿½ç•¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">    birth: 1990,</span><br><span class="line">    getAge: function (year) &#123;</span><br><span class="line">        var b = this.birth; // 1990</span><br><span class="line">        var fn = (y) =&gt; y - this.birth; // this.birthä»æ˜¯1990</span><br><span class="line">        return fn.call(&#123;birth:2000&#125;, year);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.getAge(2015); // 25</span><br></pre></td></tr></table></figure>

<ol start="18">
<li><code>generator</code><br><code>generator</code>ï¼ˆç”Ÿæˆå™¨ï¼‰æ˜¯ES6æ ‡å‡†å¼•å…¥çš„æ–°çš„æ•°æ®ç±»å‹ã€‚ä¸€ä¸ª<code>generator</code>çœ‹ä¸Šå»åƒä¸€ä¸ªå‡½æ•°ï¼Œä½†å¯ä»¥è¿”å›å¤šæ¬¡ã€‚<br>å®šä¹‰å¦‚ä¸‹ï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function* foo(x) &#123;</span><br><span class="line">    yield x + 1;</span><br><span class="line">    yield x + 2;</span><br><span class="line">    return x + 3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<code>generator</code>ç”±<code>function*</code>å®šä¹‰ï¼ˆæ³¨æ„å¤šå‡ºçš„<code>*</code>å·ï¼‰ï¼Œå¹¶ä¸”ï¼Œé™¤äº†<code>return</code>è¯­å¥ï¼Œè¿˜å¯ä»¥ç”¨<code>yield</code>è¿”å›å¤šæ¬¡ã€‚<br>å¸¸è§„æ–æ³¢é‚£æ•°åˆ—<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function fib(max) &#123;</span><br><span class="line">    var</span><br><span class="line">        t,</span><br><span class="line">        a = 0,</span><br><span class="line">        b = 1,</span><br><span class="line">        arr = [0, 1];</span><br><span class="line">    while (arr.length &lt; max) &#123;</span><br><span class="line">        [a, b] = [b, a + b];</span><br><span class="line">        arr.push(b);</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
ä½¿ç”¨<code>generator</code>ï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function* fib(max) &#123;</span><br><span class="line">    var</span><br><span class="line">        t,</span><br><span class="line">        a = 0,</span><br><span class="line">        b = 1,</span><br><span class="line">        n = 0;</span><br><span class="line">    while (n &lt; max) &#123;</span><br><span class="line">        yield a;</span><br><span class="line">        [a, b] = [b, a + b];</span><br><span class="line">        n ++;</span><br><span class="line">    &#125;</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
ç›´æ¥è°ƒç”¨<code>generator fib(5)</code>ï¼Œä»…ä»…æ˜¯åˆ›å»ºäº†ä¸€ä¸ª<code>generator</code>å¯¹è±¡ï¼Œè¿˜æ²¡æœ‰å»æ‰§è¡Œå®ƒ<br>è°ƒç”¨<code>generator</code>å¯¹è±¡æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€æ˜¯ä¸æ–­åœ°è°ƒç”¨<code>generator</code>å¯¹è±¡çš„<code>next()</code>æ–¹æ³•<br><code>next()</code>æ–¹æ³•ä¼šæ‰§è¡Œ<code>generator</code>çš„ä»£ç ï¼Œç„¶åï¼Œæ¯æ¬¡é‡åˆ°<code>yield x;</code>å°±è¿”å›ä¸€ä¸ªå¯¹è±¡<code>&#123;value: x, done: true/false&#125;</code>ï¼Œç„¶åâ€œæš‚åœâ€ã€‚è¿”å›çš„<code>value</code>å°±æ˜¯<code>yield</code>çš„è¿”å›å€¼ï¼Œ<code>done</code>è¡¨ç¤ºè¿™ä¸ª<code>generator</code>æ˜¯å¦å·²ç»æ‰§è¡Œç»“æŸäº†ã€‚å¦‚æœ<code>done</code>ä¸º<code>true</code>ï¼Œåˆ™<code>value</code>å°±æ˜¯<code>return</code>çš„è¿”å›å€¼ã€‚å½“æ‰§è¡Œåˆ°<code>done</code>ä¸º<code>true</code>æ—¶ï¼Œè¿™ä¸ª<code>generator</code>å¯¹è±¡å°±å·²ç»å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œä¸è¦å†ç»§ç»­è°ƒç”¨<code>next()</code>äº†ã€‚<br>ç¬¬äºŒä¸ªæ–¹æ³•æ˜¯ç›´æ¥ç”¨<code>for ... of</code>å¾ªç¯è¿­ä»£<code>generator</code>å¯¹è±¡ï¼Œè¿™ç§æ–¹å¼ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±åˆ¤æ–­<code>done</code>ï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for (var x of fib(10)) &#123;</span><br><span class="line">    console.log(x); // ä¾æ¬¡è¾“å‡º0, 1, 1, 2, 3, ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
å› ä¸º<code>generator</code>å¯ä»¥åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¤šæ¬¡è¿”å›ï¼Œæ‰€ä»¥å®ƒçœ‹ä¸Šå»å°±åƒä¸€ä¸ªå¯ä»¥è®°ä½æ‰§è¡ŒçŠ¶æ€çš„å‡½æ•°ï¼Œåˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå†™ä¸€ä¸ª<code>generator</code>å°±å¯ä»¥å®ç°éœ€è¦ç”¨é¢å‘å¯¹è±¡æ‰èƒ½å®ç°çš„åŠŸèƒ½ã€‚<br>ç”¨ä¸€ä¸ªå¯¹è±¡æ¥ä¿å­˜çŠ¶æ€ï¼Œå¾—è¿™ä¹ˆå†™ï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var fib = &#123;</span><br><span class="line">    a: 0,</span><br><span class="line">    b: 1,</span><br><span class="line">    n: 0,</span><br><span class="line">    max: 5,</span><br><span class="line">    next: function () &#123;</span><br><span class="line">        var</span><br><span class="line">            r = this.a,</span><br><span class="line">            t = this.a + this.b;</span><br><span class="line">        this.a = this.b;</span><br><span class="line">        this.b = t;</span><br><span class="line">        if (this.n &lt; this.max) &#123;</span><br><span class="line">            this.n ++;</span><br><span class="line">            return r;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return undefined;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<code>generator</code>è¿˜æœ‰å¦ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„ï¼Œå°±æ˜¯æŠŠå¼‚æ­¥å›è°ƒä»£ç å˜æˆâ€œåŒæ­¥â€ä»£ç ã€‚<code>AJAX</code>ä¼šç”¨åˆ°ã€‚<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line">function* next_id() &#123;</span><br><span class="line">    var i=0;</span><br><span class="line">    while(true)&#123;</span><br><span class="line">        yield ++i;</span><br><span class="line">    &#125;</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptä¹‹äº”æµè§ˆå™¨</title>
    <url>/2024/07/31/JavaScript%E4%B9%8B%E4%BA%94%E6%B5%8F%E8%A7%88%E5%99%A8/</url>
    <content><![CDATA[<br />
  
<h2 id="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•"><a href="#è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•" class="headerlink" title="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!"></a>è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ª<a href="https://www.liaoxuefeng.com/wiki/1022910821149312">å»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹</a>ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!</h2><br />
<br />
<br />
  
<p>JavaScriptçš„å‡ºç°å°±æ˜¯ä¸ºäº†èƒ½åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ</p>
<p>ç›®å‰ä¸»æµçš„æµè§ˆå™¨åˆ†è¿™ä¹ˆå‡ ç§ï¼š</p>
<ul>
<li><p>IE 6~11ï¼šå›½å†…ç”¨å¾—æœ€å¤šçš„IEæµè§ˆå™¨ï¼Œå†æ¥å¯¹W3Cæ ‡å‡†æ”¯æŒå·®ã€‚ä»IE10å¼€å§‹æ”¯æŒES6æ ‡å‡†ï¼›</p>
</li>
<li><p>Chromeï¼šGoogleå‡ºå“çš„åŸºäºWebkitå†…æ ¸æµè§ˆå™¨ï¼Œå†…ç½®äº†éå¸¸å¼ºæ‚çš„JavaScriptå¼•æ“â€”â€”V8ã€‚ç”±äºChromeä¸€ç»å®‰è£…å°±æ—¶åˆ»ä¿æŒè‡ªå‡çº§ï¼Œæ‰€ä»¥ä¸ç”¨ç®¡å®ƒçš„ç‰ˆæœ¬ï¼Œæœ€æ–°ç‰ˆæ—©å°±æ”¯æŒES6äº†ï¼›</p>
</li>
<li><p>Safariï¼šAppleçš„Macç³»ç»Ÿè‡ªå¸¦çš„åŸºäºWebkitå†…æ ¸çš„æµè§ˆå™¨ï¼Œä»OS X 10.7 Lionè‡ªå¸¦çš„6.1ç‰ˆæœ¬å¼€å§‹æ”¯æŒES6ï¼Œç›®å‰æœ€æ–°çš„OS X 10.11 El Capitanè‡ªå¸¦çš„Safariç‰ˆæœ¬æ˜¯9.xï¼Œæ—©å·²æ”¯æŒES6ï¼›</p>
</li>
<li><p>Firefoxï¼šMozillaè‡ªå·±ç ”åˆ¶çš„Geckoå†…æ ¸å’ŒJavaScriptå¼•æ“OdinMonkeyã€‚æ—©æœŸçš„FirefoxæŒ‰ç‰ˆæœ¬å‘å¸ƒï¼Œåæ¥ç»ˆäºèªæ˜åœ°å­¦ä¹ Chromeçš„åšæ³•è¿›è¡Œè‡ªå‡çº§ï¼Œæ—¶åˆ»ä¿æŒæœ€æ–°ï¼›</p>
</li>
<li><p>ç§»åŠ¨è®¾å¤‡ä¸Šç›®å‰iOSå’ŒAndroidä¸¤å¤§é˜µè¥åˆ†åˆ«ä¸»è¦ä½¿ç”¨Appleçš„Safariå’ŒGoogleçš„Chromeï¼Œç”±äºä¸¤è€…éƒ½æ˜¯Webkitæ ¸å¿ƒï¼Œç»“æœHTML5é¦–å…ˆåœ¨æ‰‹æœºä¸Šå…¨é¢æ™®åŠï¼ˆæ¡Œé¢ç»å¯¹æ˜¯Microsoftæ‹–äº†åè…¿ï¼‰ï¼Œå¯¹JavaScriptçš„æ ‡å‡†æ”¯æŒä¹Ÿå¾ˆå¥½ï¼Œæœ€æ–°ç‰ˆæœ¬å‡æ”¯æŒES6ã€‚</p>
</li>
<li><p>å…¶ä»–æµè§ˆå™¨å¦‚Operaç­‰ç”±äºå¸‚åœºä»½é¢å¤ªå°å°±è¢«è‡ªåŠ¨å¿½ç•¥äº†ã€‚</p>
</li>
</ul>
<p>å¦å¤–è¿˜è¦æ³¨æ„è¯†åˆ«å„ç§å›½äº§æµè§ˆå™¨ï¼Œå¦‚æŸæŸå®‰å…¨æµè§ˆå™¨ï¼ŒæŸæŸæ—‹é£æµè§ˆå™¨ï¼Œå®ƒä»¬åªæ˜¯åšäº†ä¸€ä¸ªå£³ï¼Œå…¶æ ¸å¿ƒè°ƒç”¨çš„æ˜¯IEï¼Œä¹Ÿæœ‰å·ç§°åŒæ—¶æ”¯æŒIEå’ŒWebkitçš„â€œåŒæ ¸â€æµè§ˆå™¨ã€‚</p>
<p>ä¸åŒçš„æµè§ˆå™¨å¯¹JavaScriptæ”¯æŒçš„å·®å¼‚ä¸»è¦æ˜¯ï¼Œæœ‰äº›APIçš„æ¥å£ä¸ä¸€æ ·ï¼Œæ¯”å¦‚AJAXï¼ŒFileæ¥å£ã€‚å¯¹äºES6æ ‡å‡†ï¼Œä¸åŒçš„æµè§ˆå™¨å¯¹å„ä¸ªç‰¹æ€§æ”¯æŒä¹Ÿä¸ä¸€æ ·ã€‚</p>
<p>åœ¨ç¼–å†™JavaScriptçš„æ—¶å€™ï¼Œå°±è¦å……åˆ†è€ƒè™‘åˆ°æµè§ˆå™¨çš„å·®å¼‚ï¼Œå°½é‡è®©åŒä¸€ä»½JavaScriptä»£ç èƒ½è¿è¡Œåœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­ã€‚</p>
<p>æµè§ˆå™¨å¯¹è±¡</p>
<p>JavaScriptå¯ä»¥è·å–æµè§ˆå™¨æä¾›çš„å¾ˆå¤šå¯¹è±¡ï¼Œå¹¶è¿›è¡Œæ“ä½œã€‚</p>
<p><code>window</code><br>å……å½“å…¨å±€ä½œç”¨åŸŸï¼Œè€Œä¸”è¡¨ç¤ºæµè§ˆå™¨çª—å£ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">innerWidth</span><br><span class="line">innerHeight</span><br><span class="line">outerWidth</span><br><span class="line">outerHeight</span><br></pre></td></tr></table></figure>

<p><code>navigator</code><br>è¡¨ç¤ºæµè§ˆå™¨çš„ä¿¡æ¯ï¼Œæœ€å¸¸ç”¨çš„å±æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li>navigator.appNameï¼šæµè§ˆå™¨åç§°ï¼›</li>
<li>navigator.appVersionï¼šæµè§ˆå™¨ç‰ˆæœ¬ï¼›</li>
<li>navigator.languageï¼šæµè§ˆå™¨è®¾ç½®çš„è¯­è¨€ï¼›</li>
<li>navigator.platformï¼šæ“ä½œç³»ç»Ÿç±»å‹ï¼›</li>
<li>navigator.userAgentï¼šæµè§ˆå™¨è®¾å®šçš„<code>User-Agent</code>å­—ç¬¦ä¸²ã€‚<br><strong>è¯·æ³¨æ„</strong>ï¼Œnavigatorçš„ä¿¡æ¯å¯ä»¥å¾ˆå®¹æ˜“åœ°è¢«ç”¨æˆ·ä¿®æ”¹ï¼Œæ‰€ä»¥JavaScriptè¯»å–çš„å€¼ä¸ä¸€å®šæ˜¯æ­£ç¡®çš„ã€‚<br>å……åˆ†åˆ©ç”¨JavaScriptå¯¹ä¸å­˜åœ¨å±æ€§è¿”å›undefinedçš„ç‰¹æ€§ï¼Œç›´æ¥ç”¨çŸ­è·¯è¿ç®—ç¬¦||è®¡ç®—<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var width = window.innerWidth || document.body.clientWidth;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><code>screen</code></p>
<ul>
<li>screen.widthï¼šå±å¹•å®½åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½ï¼›</li>
<li>screen.heightï¼šå±å¹•é«˜åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½ï¼›</li>
<li>screen.colorDepthï¼šè¿”å›é¢œè‰²ä½æ•°ï¼Œå¦‚8ã€16ã€24ã€‚</li>
</ul>
<p><code>location</code><br>è¡¨ç¤ºå½“å‰é¡µé¢çš„URLä¿¡æ¯<br>location.protocol; &#x2F;&#x2F; â€˜httpâ€™<br>location.host; &#x2F;&#x2F; â€˜<a href="http://www.example.com/">www.example.com</a>â€˜<br>location.port; &#x2F;&#x2F; â€˜8080â€™<br>location.pathname; &#x2F;&#x2F; â€˜&#x2F;path&#x2F;index.htmlâ€™<br>location.search; &#x2F;&#x2F; â€˜?a&#x3D;1&amp;b&#x3D;2â€™<br>location.hash; &#x2F;&#x2F; â€˜TOPâ€™</p>
<p><code>document</code><br><code>document</code>å¯¹è±¡è¡¨ç¤ºå½“å‰é¡µé¢ã€‚ç”±äºHTMLåœ¨æµè§ˆå™¨ä¸­ä»¥DOMå½¢å¼è¡¨ç¤ºä¸ºæ ‘å½¢ç»“æ„ï¼Œ<code>document</code>å¯¹è±¡å°±æ˜¯æ•´ä¸ªDOMæ ‘çš„æ ¹èŠ‚ç‚¹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">title</span><br><span class="line">// Cookieæ˜¯ç”±æœåŠ¡å™¨å‘é€çš„key-valueæ ‡ç¤ºç¬¦ã€‚</span><br><span class="line">// å› ä¸ºHTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œä½†æ˜¯æœåŠ¡å™¨è¦åŒºåˆ†åˆ°åº•æ˜¯å“ªä¸ªç”¨æˆ·å‘è¿‡æ¥çš„è¯·æ±‚ï¼Œå°±å¯ä»¥ç”¨Cookieæ¥åŒºåˆ†ã€‚</span><br><span class="line">// å½“ä¸€ä¸ªç”¨æˆ·æˆåŠŸç™»å½•åï¼ŒæœåŠ¡å™¨å‘é€ä¸€ä¸ªCookieç»™æµè§ˆå™¨ï¼Œä¾‹å¦‚user=ABC123XYZ(åŠ å¯†çš„å­—ç¬¦ä¸²)...ï¼Œæ­¤åï¼Œæµè§ˆå™¨è®¿é—®è¯¥ç½‘ç«™æ—¶ï¼Œä¼šåœ¨è¯·æ±‚å¤´é™„ä¸Šè¿™ä¸ªCookieï¼ŒæœåŠ¡å™¨æ ¹æ®Cookieå³å¯åŒºåˆ†å‡ºç”¨æˆ·ã€‚</span><br><span class="line">// Cookieè¿˜å¯ä»¥å­˜å‚¨ç½‘ç«™çš„ä¸€äº›è®¾ç½®ï¼Œä¾‹å¦‚ï¼Œé¡µé¢æ˜¾ç¤ºçš„è¯­è¨€ç­‰ç­‰ã€‚</span><br><span class="line">cookie  </span><br><span class="line">getElementById()</span><br><span class="line">getElementsByTagName()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç”±äºJavaScriptèƒ½è¯»å–åˆ°é¡µé¢çš„Cookieï¼Œè€Œç”¨æˆ·çš„ç™»å½•ä¿¡æ¯é€šå¸¸ä¹Ÿå­˜åœ¨Cookieä¸­ï¼Œè¿™å°±é€ æˆäº†å·¨å¤§çš„å®‰å…¨éšæ‚£ï¼Œè¿™æ˜¯å› ä¸ºåœ¨HTMLé¡µé¢ä¸­å¼•å…¥ç¬¬ä¸‰æ–¹çš„JavaScriptä»£ç æ˜¯å…è®¸çš„ã€‚å¦‚æœå¼•å…¥çš„ç¬¬ä¸‰æ–¹çš„JavaScriptä¸­å­˜åœ¨æ¶æ„ä»£ç ï¼Œåˆ™<a href="http://www.foo.comç½‘ç«™å°†ç›´æ¥è·å–åˆ°www.example.comç½‘ç«™çš„ç”¨æˆ·ç™»å½•ä¿¡æ¯./">www.foo.comç½‘ç«™å°†ç›´æ¥è·å–åˆ°www.example.comç½‘ç«™çš„ç”¨æˆ·ç™»å½•ä¿¡æ¯ã€‚</a><br>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒæœåŠ¡å™¨åœ¨è®¾ç½®Cookieæ—¶å¯ä»¥ä½¿ç”¨httpOnlyï¼Œè®¾å®šäº†httpOnlyçš„Cookieå°†ä¸èƒ½è¢«JavaScriptè¯»å–ã€‚è¿™ä¸ªè¡Œä¸ºç”±æµè§ˆå™¨å®ç°ï¼Œä¸»æµæµè§ˆå™¨å‡æ”¯æŒhttpOnlyé€‰é¡¹ï¼ŒIEä»IE6 SP1å¼€å§‹æ”¯æŒã€‚<br><em><strong>ä¸ºäº†ç¡®ä¿å®‰å…¨ï¼ŒæœåŠ¡å™¨ç«¯åœ¨è®¾ç½®Cookieæ—¶ï¼Œåº”è¯¥å§‹ç»ˆåšæŒä½¿ç”¨httpOnly</strong></em>ã€‚</p>
<p><code>history</code><br><em><strong>ä»»ä½•æƒ…å†µï¼Œä½ éƒ½ä¸åº”è¯¥ä½¿ç”¨historyè¿™ä¸ªå¯¹è±¡äº†</strong></em>ã€‚å¯¹äºç°ä»£Webé¡µé¢æ¥è¯´ï¼Œç”±äºå¤§é‡ä½¿ç”¨AJAXå’Œé¡µé¢äº¤äº’ï¼Œç®€å•ç²—æš´åœ°è°ƒç”¨history.back()å¯èƒ½ä¼šè®©ç”¨æˆ·æ„Ÿåˆ°éå¸¸æ„¤æ€’ã€‚</p>
<h3 id="æ“ä½œDOM"><a href="#æ“ä½œDOM" class="headerlink" title="æ“ä½œDOM"></a>æ“ä½œDOM</h3><p>DOMæ˜¯ä¸€ä¸ªæ ‘å½¢ç»“æ„ã€‚æ“ä½œä¸€ä¸ªDOMèŠ‚ç‚¹å®é™…ä¸Šå°±æ˜¯è¿™ä¹ˆå‡ ä¸ªæ“ä½œï¼š</p>
<ul>
<li>æ›´æ–°ï¼šæ›´æ–°è¯¥DOMèŠ‚ç‚¹çš„å†…å®¹ï¼Œç›¸å½“äºæ›´æ–°äº†è¯¥DOMèŠ‚ç‚¹è¡¨ç¤ºçš„HTMLçš„å†…å®¹ï¼›</li>
<li>éå†ï¼šéå†è¯¥DOMèŠ‚ç‚¹ä¸‹çš„å­èŠ‚ç‚¹ï¼Œä»¥ä¾¿è¿›è¡Œè¿›ä¸€æ­¥æ“ä½œï¼›</li>
<li>æ·»åŠ ï¼šåœ¨è¯¥DOMèŠ‚ç‚¹ä¸‹æ–°å¢ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œç›¸å½“äºåŠ¨æ€å¢åŠ äº†ä¸€ä¸ªHTMLèŠ‚ç‚¹ï¼›</li>
<li>åˆ é™¤ï¼šå°†è¯¥èŠ‚ç‚¹ä»HTMLä¸­åˆ é™¤ï¼Œç›¸å½“äºåˆ æ‰äº†è¯¥DOMèŠ‚ç‚¹çš„å†…å®¹ä»¥åŠå®ƒåŒ…å«çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">document.getElementById()</span><br><span class="line">document.getElementsByTagName()</span><br><span class="line">document.getElementsByClassName()  //CSSé€‰æ‹©å™¨,å…ˆå®šä½çˆ¶èŠ‚ç‚¹ï¼Œå†ä»çˆ¶èŠ‚ç‚¹å¼€å§‹é€‰æ‹©ï¼Œä»¥ç¼©å°èŒƒå›´</span><br><span class="line">querySelector()  //ä½ç‰ˆæœ¬çš„IE&lt;8ä¸æ”¯æŒquerySelectorå’ŒquerySelectorAllã€‚IE8ä»…æœ‰é™æ”¯æŒ</span><br><span class="line">querySelectorAll()</span><br><span class="line">children</span><br><span class="line">firstElementChild</span><br><span class="line">lastElementChild</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸¥æ ¼åœ°è®²ï¼Œæˆ‘ä»¬è¿™é‡Œçš„DOMèŠ‚ç‚¹æ˜¯æŒ‡<code>Element</code>ï¼Œä½†æ˜¯DOMèŠ‚ç‚¹å®é™…ä¸Šæ˜¯<code>Node</code>ï¼Œåœ¨HTMLä¸­ï¼Œ<code>Node</code>åŒ…æ‹¬<code>Element</code>ã€<code>Comment</code>ã€<code>CDATA_SECTION</code>ç­‰å¾ˆå¤šç§ï¼Œä»¥åŠæ ¹èŠ‚ç‚¹<code>Document</code>ç±»å‹ï¼Œä½†æ˜¯ï¼Œç»å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬åªå…³å¿ƒ<code>Element</code>ï¼Œä¹Ÿå°±æ˜¯å®é™…æ§åˆ¶é¡µé¢ç»“æ„çš„<code>Node</code>ï¼Œå…¶ä»–ç±»å‹çš„<code>Node</code>å¿½ç•¥å³å¯ã€‚æ ¹èŠ‚ç‚¹<code>Document</code>å·²ç»è‡ªåŠ¨ç»‘å®šä¸ºå…¨å±€å˜é‡<code>document</code></p>
<h4 id="æ›´æ–°DOM"><a href="#æ›´æ–°DOM" class="headerlink" title="æ›´æ–°DOM"></a>æ›´æ–°DOM</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// ä¸ä½†å¯ä»¥ä¿®æ”¹ä¸€ä¸ªDOMèŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ï¼Œè¿˜å¯ä»¥ç›´æ¥é€šè¿‡HTMLç‰‡æ®µä¿®æ”¹DOMèŠ‚ç‚¹å†…éƒ¨çš„å­æ ‘</span><br><span class="line">// ç”¨innerHTMLæ—¶è¦æ³¨æ„ï¼Œæ˜¯å¦éœ€è¦å†™å…¥HTMLã€‚å¦‚æœå†™å…¥çš„å­—ç¬¦ä¸²æ˜¯é€šè¿‡ç½‘ç»œæ‹¿åˆ°çš„ï¼Œè¦æ³¨æ„å¯¹å­—ç¬¦ç¼–ç æ¥é¿å…XSSæ”»å‡»</span><br><span class="line">innerHTML  </span><br><span class="line">// innerTextæˆ–textContentå±æ€§,è‡ªåŠ¨å¯¹å­—ç¬¦ä¸²è¿›è¡ŒHTMLç¼–ç ï¼Œä¿è¯æ— æ³•è®¾ç½®ä»»ä½•HTMLæ ‡ç­¾</span><br><span class="line">// åŒºåˆ«åœ¨äºï¼šinnerTextä¸è¿”å›éšè—å…ƒç´ çš„æ–‡æœ¬ï¼Œè€ŒtextContentè¿”å›æ‰€æœ‰æ–‡æœ¬</span><br><span class="line">innerText  </span><br><span class="line">textContent      </span><br></pre></td></tr></table></figure>

<h4 id="æ’å…¥DOM"><a href="#æ’å…¥DOM" class="headerlink" title="æ’å…¥DOM"></a>æ’å…¥DOM</h4><ul>
<li>å¦‚æœè¿™ä¸ªDOMèŠ‚ç‚¹æ˜¯ç©ºçš„ï¼Œä¾‹å¦‚ï¼Œ<code>&lt;div&gt;&lt;/div&gt;</code>ï¼Œé‚£ä¹ˆï¼Œç›´æ¥ä½¿ç”¨<code>innerHTML = &#39;&lt;span&gt;child&lt;/span&gt;&#39;</code>å°±å¯ä»¥ä¿®æ”¹DOMèŠ‚ç‚¹çš„å†…å®¹ï¼Œç›¸å½“äºâ€œæ’å…¥â€äº†æ–°çš„DOMèŠ‚ç‚¹<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">list.appendChild(js);  // æŠŠä¸€ä¸ªå­èŠ‚ç‚¹æ·»åŠ åˆ°çˆ¶èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹</span><br><span class="line">document.createElement(&#x27;p&#x27;)</span><br><span class="line">// ä½¿ç”¨insertBeforeé‡ç‚¹æ˜¯è¦æ‹¿åˆ°ä¸€ä¸ªâ€œå‚è€ƒå­èŠ‚ç‚¹â€çš„å¼•ç”¨ã€‚å¾ˆå¤šæ—¶å€™ï¼Œéœ€è¦å¾ªç¯ä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿­ä»£childrenå±æ€§å®ç°</span><br><span class="line">parentElement.insertBefore(newElement, referenceElement);</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="åˆ é™¤DOM"><a href="#åˆ é™¤DOM" class="headerlink" title="åˆ é™¤DOM"></a>åˆ é™¤DOM</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var removed = parent.removeChild(self);</span><br></pre></td></tr></table></figure>
<p>å½“éå†ä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹å¹¶è¿›è¡Œåˆ é™¤æ“ä½œæ—¶ï¼Œè¦æ³¨æ„ï¼Œ<code>children</code>å±æ€§æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œå¹¶ä¸”å®ƒåœ¨å­èŠ‚ç‚¹å˜åŒ–æ—¶ä¼šå®æ—¶æ›´æ–°ã€‚</p>
<h4 id="æ“ä½œè¡¨å•"><a href="#æ“ä½œè¡¨å•" class="headerlink" title="æ“ä½œè¡¨å•"></a>æ“ä½œè¡¨å•</h4><p>ç”¨JavaScriptæ“ä½œè¡¨å•å’Œæ“ä½œDOMæ˜¯ç±»ä¼¼çš„ï¼Œå› ä¸ºè¡¨å•æœ¬èº«ä¹Ÿæ˜¯DOMæ ‘ã€‚<br>HTMLè¡¨å•çš„è¾“å…¥æ§ä»¶ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ–‡æœ¬æ¡†ï¼Œå¯¹åº”çš„&lt;input type=&quot;text&quot;&gt;ï¼Œç”¨äºè¾“å…¥æ–‡æœ¬ï¼›</span><br><span class="line">å£ä»¤æ¡†ï¼Œå¯¹åº”çš„&lt;input type=&quot;password&quot;&gt;ï¼Œç”¨äºè¾“å…¥å£ä»¤ï¼›</span><br><span class="line">å•é€‰æ¡†ï¼Œå¯¹åº”çš„&lt;input type=&quot;radio&quot;&gt;ï¼Œç”¨äºé€‰æ‹©ä¸€é¡¹ï¼›</span><br><span class="line">å¤é€‰æ¡†ï¼Œå¯¹åº”çš„&lt;input type=&quot;checkbox&quot;&gt;ï¼Œç”¨äºé€‰æ‹©å¤šé¡¹ï¼›</span><br><span class="line">ä¸‹æ‹‰æ¡†ï¼Œå¯¹åº”çš„&lt;select&gt;ï¼Œç”¨äºé€‰æ‹©ä¸€é¡¹ï¼›</span><br><span class="line">éšè—æ–‡æœ¬ï¼Œå¯¹åº”çš„&lt;input type=&quot;hidden&quot;&gt;ï¼Œç”¨æˆ·ä¸å¯è§ï¼Œä½†è¡¨å•æäº¤æ—¶ä¼šæŠŠéšè—æ–‡æœ¬å‘é€åˆ°æœåŠ¡å™¨ã€‚</span><br></pre></td></tr></table></figure>

<p><code>input</code>,<code>text</code>ã€<code>password</code>ã€<code>hidden</code>ä»¥åŠ<code>select</code>å¯ä»¥ç›´æ¥é€šè¿‡<code>value</code>è·å–å€¼ã€‚ã€‚ä½†æ˜¯ï¼Œå¯¹äºå•é€‰æ¡†å’Œå¤é€‰æ¡†ï¼Œ<code>value</code>å±æ€§è¿”å›çš„æ°¸è¿œæ˜¯<code>HTMLé¢„è®¾çš„å€¼</code>ï¼Œè€Œæˆ‘ä»¬éœ€è¦è·å¾—çš„å®é™…æ˜¯ç”¨æˆ·æ˜¯å¦â€œå‹¾ä¸Šäº†â€é€‰é¡¹ï¼Œæ‰€ä»¥åº”è¯¥ç”¨<code>checked</code>åˆ¤æ–­</p>
<p><code>input</code>,<code>text</code>ã€<code>password</code>ã€<code>hidden</code>ä»¥åŠ<code>select</code>å¯ä»¥ç›´æ¥è®¾ç½®<code>value</code>ï¼›å¯¹äºå•é€‰æ¡†å’Œå¤é€‰æ¡†ï¼Œè®¾ç½®<code>checked</code>ä¸º<code>true</code>æˆ–<code>false</code>å³å¯ã€‚</p>
<p>HTML5æ–°å¢äº†å¤§é‡æ ‡å‡†æ§ä»¶ï¼Œå¸¸ç”¨çš„åŒ…æ‹¬<code>date</code>ã€<code>datetime</code>ã€<code>datetime-local</code>ã€<code>color</code>ç­‰ï¼Œå®ƒä»¬éƒ½ä½¿ç”¨<code>&lt;input&gt;</code>æ ‡ç­¾<br>ä¸æ”¯æŒHTML5çš„æµè§ˆå™¨æ— æ³•è¯†åˆ«æ–°çš„æ§ä»¶ï¼Œä¼šæŠŠå®ƒä»¬å½“åš<code>type=&quot;text&quot;</code>æ¥æ˜¾ç¤ºã€‚æ”¯æŒHTML5çš„æµè§ˆå™¨å°†è·å¾—æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œ<code>type=&quot;date&quot;</code>ç±»å‹çš„<code>input</code>çš„<code>value</code>å°†ä¿è¯æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„<code>YYYY-MM-DD</code>æ ¼å¼çš„æ—¥æœŸï¼Œæˆ–è€…ç©ºå­—ç¬¦ä¸²ã€‚</p>
<p>æäº¤è¡¨å•<br>æ–¹å¼ä¸€æ˜¯é€šè¿‡<code>&lt;form&gt;</code>å…ƒç´ çš„<code>submit()</code>æ–¹æ³•æäº¤ä¸€ä¸ªè¡¨å•,ç¼ºç‚¹æ˜¯æ‰°ä¹±äº†æµè§ˆå™¨å¯¹formçš„æ­£å¸¸æäº¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- HTML --&gt;</span><br><span class="line">&lt;form id=&quot;test-form&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;test&quot;&gt;</span><br><span class="line">    &lt;button type=&quot;button&quot; onclick=&quot;doSubmitForm()&quot;&gt;Submit&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">function doSubmitForm() &#123;</span><br><span class="line">    var form = document.getElementById(&#x27;test-form&#x27;);</span><br><span class="line">    // å¯ä»¥åœ¨æ­¤ä¿®æ”¹formçš„input...</span><br><span class="line">    // æäº¤form:</span><br><span class="line">    form.submit();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>æµè§ˆå™¨é»˜è®¤ç‚¹å‡»<code>&lt;button type=&quot;submit&quot;&gt;</code>æ—¶æäº¤è¡¨å•ï¼Œæˆ–è€…ç”¨æˆ·åœ¨æœ€åä¸€ä¸ªè¾“å…¥æ¡†æŒ‰å›è½¦é”®.ã€‚å› æ­¤ï¼Œç¬¬äºŒç§æ–¹å¼æ˜¯å“åº”<code>&lt;form&gt;</code>æœ¬èº«çš„<code>onsubmit</code>äº‹ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- HTML --&gt;</span><br><span class="line">&lt;form id=&quot;test-form&quot; onsubmit=&quot;return checkForm()&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;test&quot;&gt;</span><br><span class="line">    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">function checkForm() &#123;</span><br><span class="line">    var form = document.getElementById(&#x27;test-form&#x27;);</span><br><span class="line">    // å¯ä»¥åœ¨æ­¤ä¿®æ”¹formçš„input...</span><br><span class="line">    // ç»§ç»­ä¸‹ä¸€æ­¥:</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„è¦return trueæ¥å‘Šè¯‰æµè§ˆå™¨ç»§ç»­æäº¤ï¼Œå¦‚æœreturn falseï¼Œæµè§ˆå™¨å°†ä¸ä¼šç»§ç»­æäº¤formï¼Œè¿™ç§æƒ…å†µé€šå¸¸å¯¹åº”ç”¨æˆ·è¾“å…¥æœ‰è¯¯ï¼Œæç¤ºç”¨æˆ·é”™è¯¯ä¿¡æ¯åç»ˆæ­¢æäº¤formã€‚</p>
<p>è¦æƒ³ä¸æ”¹å˜ç”¨æˆ·çš„è¾“å…¥ï¼Œå¯ä»¥åˆ©ç”¨<code>&lt;input type=&quot;hidden&quot;&gt;</code>å®ç°ã€‚æ²¡æœ‰nameå±æ€§çš„<code>&lt;input&gt;</code>çš„æ•°æ®ä¸ä¼šè¢«æäº¤</p>
<h4 id="æ“ä½œæ–‡ä»¶"><a href="#æ“ä½œæ–‡ä»¶" class="headerlink" title="æ“ä½œæ–‡ä»¶"></a>æ“ä½œæ–‡ä»¶</h4><p>åœ¨HTMLè¡¨å•ä¸­ï¼Œå¯ä»¥ä¸Šä¼ æ–‡ä»¶çš„å”¯ä¸€æ§ä»¶å°±æ˜¯<code>&lt;input type=&quot;file&quot;&gt;</code>ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> å½“ä¸€ä¸ªè¡¨å•åŒ…å«<code>&lt;input type=&quot;file&quot;&gt;</code>æ—¶ï¼Œè¡¨å•çš„<code>enctype</code>å¿…é¡»æŒ‡å®šä¸º<code>multipart/form-data</code>ï¼Œ<code>method</code>å¿…é¡»æŒ‡å®šä¸º<code>post</code>ï¼Œæµè§ˆå™¨æ‰èƒ½æ­£ç¡®ç¼–ç å¹¶ä»¥<code>multipart/form-data</code>æ ¼å¼å‘é€è¡¨å•çš„æ•°æ®ã€‚</p>
<p>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæµè§ˆå™¨åªå…è®¸ç”¨æˆ·ç‚¹å‡»<code>&lt;input type=&quot;file&quot;&gt;</code>æ¥é€‰æ‹©æœ¬åœ°æ–‡ä»¶ï¼Œç”¨JavaScriptå¯¹<code>&lt;input type=&quot;file&quot;&gt;</code>çš„<code>value</code>èµ‹å€¼æ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„ã€‚å½“ç”¨æˆ·é€‰æ‹©äº†ä¸Šä¼ æŸä¸ªæ–‡ä»¶åï¼ŒJavaScriptä¹Ÿæ— æ³•è·å¾—è¯¥æ–‡ä»¶çš„çœŸå®è·¯å¾„</p>
<p>ç”±äºJavaScriptå¯¹ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶æ“ä½œéå¸¸æœ‰é™ï¼Œå°¤å…¶æ˜¯æ— æ³•è¯»å–æ–‡ä»¶å†…å®¹ï¼Œä½¿å¾—å¾ˆå¤šéœ€è¦æ“ä½œæ–‡ä»¶çš„ç½‘é¡µä¸å¾—ä¸ç”¨Flashè¿™æ ·çš„ç¬¬ä¸‰æ–¹æ’ä»¶æ¥å®ç°ã€‚<br>HTML5çš„File APIæä¾›äº†<code>File</code>å’Œ<code>FileReader</code>ä¸¤ä¸ªä¸»è¦å¯¹è±¡ï¼Œå¯ä»¥è·å¾—æ–‡ä»¶ä¿¡æ¯å¹¶è¯»å–æ–‡ä»¶ã€‚</p>
<p>å›è°ƒ<br>ä¸Šé¢çš„ä»£ç è¿˜æ¼”ç¤ºäº†JavaScriptçš„ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§å°±æ˜¯å•çº¿ç¨‹æ‰§è¡Œæ¨¡å¼ã€‚åœ¨JavaScriptä¸­ï¼Œæµè§ˆå™¨çš„JavaScriptæ‰§è¡Œå¼•æ“åœ¨æ‰§è¡ŒJavaScriptä»£ç æ—¶ï¼Œæ€»æ˜¯ä»¥å•çº¿ç¨‹æ¨¡å¼æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•æ—¶å€™ï¼ŒJavaScriptä»£ç éƒ½ä¸å¯èƒ½åŒæ—¶æœ‰å¤šäº1ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œã€‚</p>
<h4 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h4><p>AJAXä¸æ˜¯JavaScriptçš„è§„èŒƒï¼Œå®ƒåªæ˜¯ä¸€ä¸ªå“¥ä»¬â€œå‘æ˜â€çš„ç¼©å†™ï¼šAsynchronous JavaScript and XMLï¼Œæ„æ€å°±æ˜¯ç”¨JavaScriptæ‰§è¡Œå¼‚æ­¥ç½‘ç»œè¯·æ±‚ã€‚<br>AJAXè¯·æ±‚æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦é€šè¿‡å›è°ƒå‡½æ•°è·å¾—å“åº”ã€‚åœ¨ç°ä»£æµè§ˆå™¨ä¸Šå†™AJAXä¸»è¦ä¾é <code>XMLHttpRequest</code>å¯¹è±¡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line">function success(text) &#123;</span><br><span class="line">    var textarea = document.getElementById(&#x27;test-response-text&#x27;);</span><br><span class="line">    textarea.value = text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function fail(code) &#123;</span><br><span class="line">    var textarea = document.getElementById(&#x27;test-response-text&#x27;);</span><br><span class="line">    textarea.value = &#x27;Error code: &#x27; + code;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var request = new XMLHttpRequest(); // æ–°å»ºXMLHttpRequestå¯¹è±¡</span><br><span class="line"></span><br><span class="line">request.onreadystatechange = function () &#123; // çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå‡½æ•°è¢«å›è°ƒ</span><br><span class="line">    if (request.readyState === 4) &#123; // æˆåŠŸå®Œæˆ</span><br><span class="line">        // åˆ¤æ–­å“åº”ç»“æœ:</span><br><span class="line">        if (request.status === 200) &#123;</span><br><span class="line">            // æˆåŠŸï¼Œé€šè¿‡responseTextæ‹¿åˆ°å“åº”çš„æ–‡æœ¬:</span><br><span class="line">            return success(request.responseText);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            // å¤±è´¥ï¼Œæ ¹æ®å“åº”ç åˆ¤æ–­å¤±è´¥åŸå› :</span><br><span class="line">            return fail(request.status);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // HTTPè¯·æ±‚è¿˜åœ¨ç»§ç»­...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‘é€è¯·æ±‚:</span><br><span class="line">request.open(&#x27;GET&#x27;, &#x27;/api/categories&#x27;);</span><br><span class="line">request.send();</span><br><span class="line"></span><br><span class="line">alert(&#x27;è¯·æ±‚å·²å‘é€ï¼Œè¯·ç­‰å¾…å“åº”...&#x27;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var request;</span><br><span class="line">if (window.XMLHttpRequest) &#123;</span><br><span class="line">    request = new XMLHttpRequest();</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    request = new ActiveXObject(&#x27;Microsoft.XMLHTTP&#x27;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡æ£€æµ‹<code>window</code>å¯¹è±¡æ˜¯å¦æœ‰<code>XMLHttpRequest</code>å±æ€§æ¥ç¡®å®šæµè§ˆå™¨æ˜¯å¦æ”¯æŒæ ‡å‡†çš„<code>XMLHttpRequest</code>ã€‚<strong>æ³¨æ„</strong>ï¼Œä¸è¦æ ¹æ®æµè§ˆå™¨çš„<code>navigator.userAgent</code>æ¥æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒæŸä¸ªJavaScriptç‰¹æ€§ï¼Œä¸€æ˜¯å› ä¸ºè¿™ä¸ªå­—ç¬¦ä¸²æœ¬èº«å¯ä»¥ä¼ªé€ ï¼ŒäºŒæ˜¯é€šè¿‡IEç‰ˆæœ¬åˆ¤æ–­JavaScriptç‰¹æ€§å°†éå¸¸å¤æ‚</p>
<p><code>XMLHttpRequest</code>å¯¹è±¡çš„<code>open()</code>æ–¹æ³•æœ‰3ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šæ˜¯<code>GET</code>è¿˜æ˜¯<code>POST</code>ï¼Œç¬¬äºŒä¸ªå‚æ•°æŒ‡å®š<code>URL</code>åœ°å€ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®šæ˜¯å¦ä½¿ç”¨å¼‚æ­¥ï¼Œé»˜è®¤æ˜¯<code>true</code>ï¼Œæ‰€ä»¥ä¸ç”¨å†™ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼Œåƒä¸‡ä¸è¦æŠŠç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®šä¸º<code>false</code>ï¼Œå¦åˆ™æµè§ˆå™¨å°†åœæ­¢å“åº”ï¼Œç›´åˆ°AJAXè¯·æ±‚å®Œæˆã€‚å¦‚æœè¿™ä¸ªè¯·æ±‚è€—æ—¶10ç§’ï¼Œé‚£ä¹ˆ10ç§’å†…ä½ ä¼šå‘ç°æµè§ˆå™¨å¤„äºâ€œå‡æ­»â€çŠ¶æ€ã€‚</p>
<p>æœ€åè°ƒç”¨<code>send()</code>æ–¹æ³•æ‰çœŸæ­£å‘é€è¯·æ±‚ã€‚<code>GET</code>è¯·æ±‚ä¸éœ€è¦å‚æ•°ï¼Œ<code>POST</code>è¯·æ±‚éœ€è¦æŠŠ<code>body</code>éƒ¨åˆ†ä»¥å­—ç¬¦ä¸²æˆ–è€…<code>FormData</code>å¯¹è±¡ä¼ è¿›å»</p>
<p>å®‰å…¨é™åˆ¶<br>ä¸Šé¢ä»£ç çš„URLä½¿ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„ã€‚å¦‚æœä½ æŠŠå®ƒæ”¹ä¸º<code>&#39;http://www.sina.com.cn/&#39;</code>ï¼Œå†è¿è¡Œï¼Œè‚¯å®šæŠ¥é”™ã€‚åœ¨Chromeçš„æ§åˆ¶å°é‡Œï¼Œè¿˜å¯ä»¥çœ‹åˆ°é”™è¯¯ä¿¡æ¯ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºæµè§ˆå™¨çš„<code>åŒæºç­–ç•¥</code>å¯¼è‡´çš„ã€‚<code>é»˜è®¤æƒ…å†µä¸‹ï¼ŒJavaScriptåœ¨å‘é€AJAXè¯·æ±‚æ—¶ï¼ŒURLçš„åŸŸåå¿…é¡»å’Œå½“å‰é¡µé¢å®Œå…¨ä¸€è‡´</code>ã€‚</p>
<p>å®Œå…¨ä¸€è‡´çš„æ„æ€æ˜¯ï¼Œ<code>åŸŸåè¦ç›¸åŒï¼ˆwww.example.comå’Œexample.comä¸åŒï¼‰ï¼Œåè®®è¦ç›¸åŒï¼ˆhttpå’Œhttpsä¸åŒï¼‰ï¼Œç«¯å£å·è¦ç›¸åŒï¼ˆé»˜è®¤æ˜¯:80ç«¯å£ï¼Œå®ƒå’Œ:8080å°±ä¸åŒï¼‰</code>ã€‚æœ‰çš„æµè§ˆå™¨å£å­æ¾ä¸€ç‚¹ï¼Œå…è®¸ç«¯å£ä¸åŒï¼Œå¤§å¤šæ•°æµè§ˆå™¨éƒ½ä¼šä¸¥æ ¼éµå®ˆè¿™ä¸ªé™åˆ¶ã€‚</p>
<p>JavaScriptè¯·æ±‚å¤–åŸŸï¼ˆå°±æ˜¯å…¶ä»–ç½‘ç«™ï¼‰çš„URL:</p>
<ul>
<li>ä¸€æ˜¯é€šè¿‡Flashæ’ä»¶å‘é€HTTPè¯·æ±‚ï¼Œè¿™ç§æ–¹å¼å¯ä»¥ç»•è¿‡æµè§ˆå™¨çš„å®‰å…¨é™åˆ¶ï¼Œä½†å¿…é¡»å®‰è£…Flashï¼Œå¹¶ä¸”è·ŸFlashäº¤äº’ã€‚</li>
<li>äºŒæ˜¯é€šè¿‡åœ¨åŒæºåŸŸåä¸‹æ¶è®¾ä¸€ä¸ªä»£ç†æœåŠ¡å™¨æ¥è½¬å‘ï¼ŒJavaScriptè´Ÿè´£æŠŠè¯·æ±‚å‘é€åˆ°ä»£ç†æœåŠ¡å™¨,ä»£ç†æœåŠ¡å™¨å†æŠŠç»“æœè¿”å›ï¼Œè¿™æ ·å°±éµå®ˆäº†æµè§ˆå™¨çš„åŒæºç­–ç•¥ã€‚<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;/proxy?url=http://www.sina.com.cn&#x27;</span><br></pre></td></tr></table></figure></li>
<li>ç¬¬ä¸‰ç§æ–¹å¼ç§°ä¸ºJSONPï¼Œå®ƒæœ‰ä¸ªé™åˆ¶ï¼Œåªèƒ½ç”¨GETè¯·æ±‚ï¼Œå¹¶ä¸”è¦æ±‚è¿”å›JavaScriptã€‚è¿™ç§æ–¹å¼è·¨åŸŸå®é™…ä¸Šæ˜¯åˆ©ç”¨äº†æµè§ˆå™¨å…è®¸è·¨åŸŸå¼•ç”¨JavaScriptèµ„æº</li>
</ul>
<h4 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h4><p>å¦‚æœæµè§ˆå™¨æ”¯æŒHTML5ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¸€åŠ³æ°¸é€¸åœ°ä½¿ç”¨æ–°çš„è·¨åŸŸç­–ç•¥ï¼šCORSäº†ã€‚<br>CORSå…¨ç§°Cross-Origin Resource Sharingï¼Œæ˜¯HTML5è§„èŒƒå®šä¹‰çš„å¦‚ä½•è·¨åŸŸè®¿é—®èµ„æºã€‚<br><code>Origin</code>è¡¨ç¤ºæœ¬åŸŸï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨å½“å‰é¡µé¢çš„åŸŸã€‚å½“JavaScriptå‘å¤–åŸŸï¼ˆå¦‚sina.comï¼‰å‘èµ·è¯·æ±‚åï¼Œæµè§ˆå™¨æ”¶åˆ°å“åº”åï¼Œé¦–å…ˆæ£€æŸ¥<code>Access-Control-Allow-Origin</code>æ˜¯å¦åŒ…å«æœ¬åŸŸï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ­¤æ¬¡è·¨åŸŸè¯·æ±‚æˆåŠŸï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™è¯·æ±‚å¤±è´¥ï¼ŒJavaScriptå°†æ— æ³•è·å–åˆ°å“åº”çš„ä»»ä½•æ•°æ®ã€‚è·¨åŸŸèƒ½å¦æˆåŠŸï¼Œå–å†³äºå¯¹æ–¹æœåŠ¡å™¨æ˜¯å¦æ„¿æ„ç»™ä½ è®¾ç½®ä¸€ä¸ªæ­£ç¡®çš„<code>Access-Control-Allow-Origin</code>ï¼Œå†³å®šæƒå§‹ç»ˆåœ¨å¯¹æ–¹æ‰‹ä¸­<br>ç®€å•è¯·æ±‚åŒ…æ‹¬<code>GET</code>ã€<code>HEAD</code>å’Œ<code>POST</code>ï¼ˆ<code>POST</code>çš„<code>Content-Type</code>ç±»å‹ ä»…é™<code>application/x-www-form-urlencoded</code>ã€<code>multipart/form-data</code>å’Œ<code>text/plain</code>ï¼‰ï¼Œå¹¶ä¸”ä¸èƒ½å‡ºç°ä»»ä½•è‡ªå®šä¹‰å¤´ï¼ˆä¾‹å¦‚ï¼Œ<code>X-Custom: 12345</code>ï¼‰ï¼Œé€šå¸¸èƒ½æ»¡è¶³90%çš„éœ€æ±‚ã€‚</p>
<p>å¯¹äº<code>PUT</code>ã€<code>DELETE</code>ä»¥åŠå…¶ä»–ç±»å‹å¦‚<code>application/json</code>çš„<code>POST</code>è¯·æ±‚ï¼Œåœ¨å‘é€AJAXè¯·æ±‚ä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šå…ˆå‘é€ä¸€ä¸ª<code>OPTIONS</code>è¯·æ±‚ï¼ˆç§°ä¸º<code>preflighted</code>è¯·æ±‚ï¼‰åˆ°è¿™ä¸ª<code>URL</code>ä¸Šï¼Œè¯¢é—®ç›®æ ‡æœåŠ¡å™¨æ˜¯å¦æ¥å—</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">OPTIONS /path/to/resource HTTP/1.1</span><br><span class="line">Host: bar.com</span><br><span class="line">Origin: http://my.com</span><br><span class="line">Access-Control-Request-Method: POST</span><br></pre></td></tr></table></figure>
<p>æœåŠ¡å™¨å¿…é¡»å“åº”å¹¶æ˜ç¡®æŒ‡å‡ºå…è®¸çš„Methodï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Access-Control-Allow-Origin: http://my.com</span><br><span class="line">Access-Control-Allow-Methods: POST, GET, PUT, OPTIONS</span><br><span class="line">Access-Control-Max-Age: 86400</span><br></pre></td></tr></table></figure>
<p>æµè§ˆå™¨ç¡®è®¤æœåŠ¡å™¨å“åº”çš„Access-Control-Allow-Methodså¤´ç¡®å®åŒ…å«å°†è¦å‘é€çš„AJAXè¯·æ±‚çš„Methodï¼Œæ‰ä¼šç»§ç»­å‘é€AJAXï¼Œå¦åˆ™ï¼ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p>
<p>ç”±äºä»¥POSTã€PUTæ–¹å¼ä¼ é€JSONæ ¼å¼çš„æ•°æ®åœ¨RESTä¸­å¾ˆå¸¸è§ï¼Œæ‰€ä»¥è¦è·¨åŸŸæ­£ç¡®å¤„ç†POSTå’ŒPUTè¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯å¿…é¡»æ­£ç¡®å“åº”OPTIONSè¯·æ±‚ã€‚<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS">CORSæ–‡æ¡£</a></p>
<h4 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function callback() &#123;</span><br><span class="line">    console.log(&#x27;Done&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">console.log(&#x27;before setTimeout()&#x27;);</span><br><span class="line">setTimeout(callback, 1000); // 1ç§’é’Ÿåè°ƒç”¨callbackå‡½æ•°</span><br><span class="line">console.log(&#x27;after setTimeout()&#x27;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">new Promise(function (resolve, reject) &#123;</span><br><span class="line">    console.log(&#x27;start new Promise...&#x27;);</span><br><span class="line">    var timeOut = Math.random() * 2;</span><br><span class="line">    console.log(&#x27;set timeout to: &#x27; + timeOut + &#x27; seconds.&#x27;);</span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">        if (timeOut &lt; 1) &#123;</span><br><span class="line">            console.log(&#x27;call resolve()...&#x27;);</span><br><span class="line">            resolve(&#x27;200 OK&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            console.log(&#x27;call reject()...&#x27;);</span><br><span class="line">            reject(&#x27;timeout in &#x27; + timeOut + &#x27; seconds.&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, timeOut * 1000);</span><br><span class="line">&#125;).then(function (r) &#123;</span><br><span class="line">    console.log(&#x27;Done: &#x27; + r);</span><br><span class="line">&#125;).catch(function (reason) &#123;</span><br><span class="line">    console.log(&#x27;Failed: &#x27; + reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 0.5ç§’åè¿”å›input*inputçš„è®¡ç®—ç»“æœ:</span><br><span class="line">function multiply(input) &#123;</span><br><span class="line">    return new Promise(function (resolve, reject) &#123;</span><br><span class="line">        console.log(&#x27;calculating &#x27; + input + &#x27; x &#x27; + input + &#x27;...&#x27;);</span><br><span class="line">        setTimeout(resolve, 500, input * input);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 0.5ç§’åè¿”å›input+inputçš„è®¡ç®—ç»“æœ:</span><br><span class="line">function add(input) &#123;</span><br><span class="line">    return new Promise(function (resolve, reject) &#123;</span><br><span class="line">        console.log(&#x27;calculating &#x27; + input + &#x27; + &#x27; + input + &#x27;...&#x27;);</span><br><span class="line">        setTimeout(resolve, 500, input + input);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var p = new Promise(function (resolve, reject) &#123;</span><br><span class="line">    console.log(&#x27;start new Promise...&#x27;);</span><br><span class="line">    resolve(123);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.then(multiply)</span><br><span class="line"> .then(add)</span><br><span class="line"> .then(multiply)</span><br><span class="line"> .then(add)</span><br><span class="line"> .then(function (result) &#123;</span><br><span class="line">    console.log(&#x27;Got value: &#x27; + result);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;use strict&#x27;;</span><br><span class="line"></span><br><span class="line">// ajaxå‡½æ•°å°†è¿”å›Promiseå¯¹è±¡:</span><br><span class="line">function ajax(method, url, data) &#123;</span><br><span class="line">    var request = new XMLHttpRequest();</span><br><span class="line">    return new Promise(function (resolve, reject) &#123;</span><br><span class="line">        request.onreadystatechange = function () &#123;</span><br><span class="line">            if (request.readyState === 4) &#123;</span><br><span class="line">                if (request.status === 200) &#123;</span><br><span class="line">                    resolve(request.responseText);</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    reject(request.status);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        request.open(method, url);</span><br><span class="line">        request.send(data);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Promiseè¿˜å¯ä»¥å¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var p1 = new Promise(function (resolve, reject) &#123;</span><br><span class="line">    setTimeout(resolve, 500, &#x27;P1&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">var p2 = new Promise(function (resolve, reject) &#123;</span><br><span class="line">    setTimeout(resolve, 600, &#x27;P2&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">// åŒæ—¶æ‰§è¡Œp1å’Œp2ï¼Œå¹¶åœ¨å®ƒä»¬éƒ½å®Œæˆåæ‰§è¡Œthen:</span><br><span class="line">Promise.all([p1, p2]).then(function (results) &#123;</span><br><span class="line">    console.log(results); // è·å¾—ä¸€ä¸ªArray: [&#x27;P1&#x27;, &#x27;P2&#x27;]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var p1 = new Promise(function (resolve, reject) &#123;</span><br><span class="line">    setTimeout(resolve, 500, &#x27;P1&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">var p2 = new Promise(function (resolve, reject) &#123;</span><br><span class="line">    setTimeout(resolve, 600, &#x27;P2&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">Promise.race([p1, p2]).then(function (result) &#123;</span><br><span class="line">    console.log(result); // &#x27;P1&#x27;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h4><p>Canvasæ˜¯HTML5æ–°å¢çš„ç»„ä»¶ï¼Œå®ƒå°±åƒä¸€å—å¹•å¸ƒï¼Œå¯ä»¥ç”¨JavaScriptåœ¨ä¸Šé¢ç»˜åˆ¶å„ç§å›¾è¡¨ã€åŠ¨ç”»ç­‰ã€‚<br>æ²¡æœ‰Canvasçš„å¹´ä»£ï¼Œç»˜å›¾åªèƒ½å€ŸåŠ©Flashæ’ä»¶å®ç°ï¼Œé¡µé¢ä¸å¾—ä¸ç”¨JavaScriptå’ŒFlashè¿›è¡Œäº¤äº’ã€‚</p>
<p>Canvasé™¤äº†èƒ½ç»˜åˆ¶åŸºæœ¬çš„å½¢çŠ¶å’Œæ–‡æœ¬ï¼Œè¿˜å¯ä»¥å®ç°åŠ¨ç”»ã€ç¼©æ”¾ã€å„ç§æ»¤é•œå’Œåƒç´ è½¬æ¢ç­‰é«˜çº§æ“ä½œã€‚å¦‚æœè¦å®ç°éå¸¸å¤æ‚çš„æ“ä½œï¼Œè€ƒè™‘ä»¥ä¸‹ä¼˜åŒ–æ–¹æ¡ˆï¼š</p>
<ul>
<li>é€šè¿‡åˆ›å»ºä¸€ä¸ªä¸å¯è§çš„Canvasæ¥ç»˜å›¾ï¼Œç„¶åå°†æœ€ç»ˆç»˜åˆ¶ç»“æœå¤åˆ¶åˆ°é¡µé¢çš„å¯è§Canvasä¸­ï¼›</li>
<li>å°½é‡ä½¿ç”¨æ•´æ•°åæ ‡è€Œä¸æ˜¯æµ®ç‚¹æ•°ï¼›</li>
<li>å¯ä»¥åˆ›å»ºå¤šä¸ªé‡å çš„Canvasç»˜åˆ¶ä¸åŒçš„å±‚ï¼Œè€Œä¸æ˜¯åœ¨ä¸€ä¸ªCanvasä¸­ç»˜åˆ¶éå¸¸å¤æ‚çš„å›¾ï¼›</li>
<li>èƒŒæ™¯å›¾ç‰‡å¦‚æœä¸å˜å¯ä»¥ç›´æ¥ç”¨<img>æ ‡ç­¾å¹¶æ”¾åˆ°æœ€åº•å±‚ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptä¹‹å…­jQuery</title>
    <url>/2024/07/31/JavaScript%E4%B9%8B%E5%85%ADjQuery/</url>
    <content><![CDATA[<br />
  
<h2 id="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•"><a href="#è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•" class="headerlink" title="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!"></a>è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ª<a href="https://www.liaoxuefeng.com/wiki/1022910821149312">å»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹</a>ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!</h2><br />
<br />
<br />

<p>æ±Ÿæ¹–ä¼ è¨€ï¼Œå…¨ä¸–ç•Œå¤§çº¦æœ‰80~90%çš„ç½‘ç«™ç›´æ¥æˆ–é—´æ¥åœ°ä½¿ç”¨äº†jQueryã€‚<br>jQueryè¿™ä¹ˆæµè¡Œï¼Œè‚¯å®šæ˜¯å› ä¸ºå®ƒè§£å†³äº†ä¸€äº›å¾ˆé‡è¦çš„é—®é¢˜ã€‚å®é™…ä¸Šï¼ŒjQueryèƒ½å¸®æˆ‘ä»¬å¹²è¿™äº›äº‹æƒ…ï¼š</p>
<ul>
<li>æ¶ˆé™¤æµè§ˆå™¨å·®å¼‚ï¼šä½ ä¸éœ€è¦è‡ªå·±å†™å†—é•¿çš„ä»£ç æ¥é’ˆå¯¹ä¸åŒçš„æµè§ˆå™¨æ¥ç»‘å®šäº‹ä»¶ï¼Œç¼–å†™AJAXç­‰ä»£ç ï¼›</li>
<li>ç®€æ´çš„æ“ä½œDOMçš„æ–¹æ³•ï¼šå†™<code>$(&#39;#test&#39;)</code>è‚¯å®šæ¯”<code>document.getElementById(&#39;test&#39;)</code>æ¥å¾—ç®€æ´ï¼›</li>
<li>è½»æ¾å®ç°åŠ¨ç”»ã€ä¿®æ”¹CSSç­‰å„ç§æ“ä½œã€‚</li>
<li>jQueryçš„ç†å¿µâ€œWrite Less, Do Moreâ€œï¼Œè®©ä½ å†™æ›´å°‘çš„ä»£ç ï¼Œå®Œæˆæ›´å¤šçš„å·¥ä½œï¼</li>
</ul>
<p>jQueryæœ‰1.xå’Œ2.xä¸¤ä¸ªä¸»è¦ç‰ˆæœ¬ï¼ŒåŒºåˆ«åœ¨äº2.xç§»é™¤äº†å¯¹å¤è€çš„IE 6ã€7ã€8çš„æ”¯æŒï¼Œå› æ­¤2.xçš„ä»£ç æ›´ç²¾ç®€ã€‚é€‰æ‹©å“ªä¸ªç‰ˆæœ¬ä¸»è¦å–å†³äºä½ æ˜¯å¦æƒ³æ”¯æŒIE 6~8ã€‚<br>ç›®å‰jQueryï¼Œå·²æ›´æ–°åˆ°3.6ç‰ˆæœ¬</p>
<p>ä½¿ç”¨jQuery</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">	...</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    ...</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¦å·"><a href="#ç¬¦å·" class="headerlink" title="$ç¬¦å·"></a><code>$</code>ç¬¦å·</h4><p><code>$</code>æ˜¯è‘—åçš„<code>jQuery</code>ç¬¦å·ã€‚å®é™…ä¸Šï¼Œ<code>jQuery</code>æŠŠæ‰€æœ‰åŠŸèƒ½å…¨éƒ¨å°è£…åœ¨ä¸€ä¸ªå…¨å±€å˜é‡<code>jQuery</code>ä¸­ï¼Œè€Œ<code>$</code>ä¹Ÿæ˜¯ä¸€ä¸ªåˆæ³•çš„å˜é‡åï¼Œå®ƒæ˜¯å˜é‡<code>jQuery</code>çš„åˆ«å</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">window.jQuery; // jQuery(selector, context)</span><br><span class="line">window.$; // jQuery(selector, context)</span><br><span class="line">$ === jQuery; // true</span><br><span class="line">typeof($); // &#x27;function&#x27;</span><br></pre></td></tr></table></figure>
<p><code>$</code>æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œäºæ˜¯<code>$</code>é™¤äº†å¯ä»¥ç›´æ¥è°ƒç”¨å¤–ï¼Œä¹Ÿå¯ä»¥æœ‰å¾ˆå¤šå…¶ä»–å±æ€§ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼Œä½ çœ‹åˆ°çš„<code>$</code>å‡½æ•°åå¯èƒ½ä¸æ˜¯<code>jQuery(selector, context)</code>ï¼Œå› ä¸ºå¾ˆå¤šJavaScriptå‹ç¼©å·¥å…·å¯ä»¥å¯¹å‡½æ•°åå’Œå‚æ•°æ”¹åï¼Œæ‰€ä»¥å‹ç¼©è¿‡çš„<code>jQuery</code>æºç <code>$</code>å‡½æ•°å¯èƒ½å˜æˆ<code>a(b, c)</code>ã€‚</p>
<p>ç»å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½ç›´æ¥ç”¨<code>$</code>ï¼ˆå› ä¸ºå†™èµ·æ¥æ›´ç®€å•å˜›ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœ<code>$</code>è¿™ä¸ªå˜é‡ä¸å¹¸åœ°è¢«å ç”¨äº†ï¼Œè€Œä¸”è¿˜ä¸èƒ½æ”¹ï¼Œé‚£æˆ‘ä»¬å°±åªèƒ½è®©<code>jQuery</code>æŠŠ<code>$</code>å˜é‡äº¤å‡ºæ¥ï¼Œç„¶åå°±åªèƒ½ä½¿ç”¨<code>jQuery</code>è¿™ä¸ªå˜é‡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$; // jQuery(selector, context)</span><br><span class="line">jQuery.noConflict();</span><br><span class="line">$; // undefined</span><br><span class="line">jQuery; // jQuery(selector, context)</span><br></pre></td></tr></table></figure>
<p>è¿™ç§é»‘é­”æ³•çš„åŸç†æ˜¯<code>jQuery</code>åœ¨å ç”¨<code>$</code>ä¹‹å‰ï¼Œå…ˆåœ¨å†…éƒ¨ä¿å­˜äº†åŸæ¥çš„<code>$</code>,è°ƒç”¨<code>jQuery.noConflict()</code>æ—¶ä¼šæŠŠåŸæ¥ä¿å­˜çš„å˜é‡è¿˜åŸã€‚</p>
<h3 id="1ã€é€‰æ‹©å™¨"><a href="#1ã€é€‰æ‹©å™¨" class="headerlink" title="1ã€é€‰æ‹©å™¨"></a>1ã€é€‰æ‹©å™¨</h3><p>é€‰æ‹©å™¨æ˜¯<code>jQuery</code>çš„æ ¸å¿ƒã€‚ä¸€ä¸ªé€‰æ‹©å™¨å†™å‡ºæ¥ç±»ä¼¼<code>$(&#39;#dom-id&#39;)</code>ã€‚jQueryçš„é€‰æ‹©å™¨å°±æ˜¯å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªDOMèŠ‚ç‚¹ã€‚</p>
<h4 id="1-1-å¦‚æœæŸä¸ªDOMèŠ‚ç‚¹æœ‰idå±æ€§ï¼Œåˆ©ç”¨jQueryæŸ¥æ‰¾å¦‚ä¸‹ï¼š"><a href="#1-1-å¦‚æœæŸä¸ªDOMèŠ‚ç‚¹æœ‰idå±æ€§ï¼Œåˆ©ç”¨jQueryæŸ¥æ‰¾å¦‚ä¸‹ï¼š" class="headerlink" title="1.1 å¦‚æœæŸä¸ªDOMèŠ‚ç‚¹æœ‰idå±æ€§ï¼Œåˆ©ç”¨jQueryæŸ¥æ‰¾å¦‚ä¸‹ï¼š"></a>1.1 å¦‚æœæŸä¸ªDOMèŠ‚ç‚¹æœ‰idå±æ€§ï¼Œåˆ©ç”¨jQueryæŸ¥æ‰¾å¦‚ä¸‹ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// æŸ¥æ‰¾&lt;div id=&quot;abc&quot;&gt;:</span><br><span class="line">var div = $(&#x27;#abc&#x27;);</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œ<code>#abc</code>ä»¥<code>#</code>å¼€å¤´ã€‚è¿”å›çš„å¯¹è±¡æ˜¯<code>jQuery</code>å¯¹è±¡ã€‚<br>ä»€ä¹ˆæ˜¯jQueryå¯¹è±¡ï¼ŸjQueryå¯¹è±¡ç±»ä¼¼æ•°ç»„ï¼Œå®ƒçš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå¼•ç”¨äº†DOMèŠ‚ç‚¹çš„å¯¹è±¡ã€‚<br>ä»¥ä¸Šé¢çš„æŸ¥æ‰¾ä¸ºä¾‹ï¼Œå¦‚æœ<code>id</code>ä¸º<code>abc</code>çš„<code>&lt;div&gt;</code>å­˜åœ¨ï¼Œè¿”å›çš„<code>jQuery</code>å¯¹è±¡å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[&lt;div id=&quot;abc&quot;&gt;...&lt;/div&gt;]</span><br></pre></td></tr></table></figure>
<p>å¦‚æœ<code>id</code>ä¸º<code>abc</code>çš„<code>&lt;div&gt;</code>ä¸å­˜åœ¨ï¼Œè¿”å›çš„<code>jQuery</code>å¯¹è±¡å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[]</span><br></pre></td></tr></table></figure>
<p>æ€»ä¹‹jQueryçš„é€‰æ‹©å™¨ä¸ä¼šè¿”å›<code>undefined</code>æˆ–è€…<code>null</code>ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯ä½ ä¸å¿…åœ¨ä¸‹ä¸€è¡Œåˆ¤æ–­<code>if (div === undefined)</code>ã€‚</p>
<p><code>jQuery</code>å¯¹è±¡å’Œ<code>DOM</code>å¯¹è±¡ä¹‹é—´å¯ä»¥äº’ç›¸è½¬åŒ–ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var div = $(&#x27;#abc&#x27;); // jQueryå¯¹è±¡</span><br><span class="line">var divDom = div.get(0); // å‡è®¾å­˜åœ¨divï¼Œè·å–ç¬¬1ä¸ªDOMå…ƒç´ </span><br><span class="line">var another = $(divDom); // é‡æ–°æŠŠDOMåŒ…è£…ä¸ºjQueryå¯¹è±¡</span><br></pre></td></tr></table></figure>
<p>é€šå¸¸æƒ…å†µä¸‹ä½ ä¸éœ€è¦è·å–<code>DOM</code>å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨<code>jQuery</code>å¯¹è±¡æ›´åŠ æ–¹ä¾¿ã€‚å¦‚æœä½ æ‹¿åˆ°äº†ä¸€ä¸ª<code>DOM</code>å¯¹è±¡ï¼Œé‚£å¯ä»¥ç®€å•åœ°è°ƒç”¨<code>$(aDomObject)</code>æŠŠå®ƒå˜æˆ<code>jQuery</code>å¯¹è±¡ï¼Œè¿™æ ·å°±å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨<code>jQuery</code>çš„APIäº†ã€‚</p>
<h4 id="1-2-æŒ‰tagæŸ¥æ‰¾åªéœ€è¦å†™ä¸Štagåç§°å°±å¯ä»¥äº†"><a href="#1-2-æŒ‰tagæŸ¥æ‰¾åªéœ€è¦å†™ä¸Štagåç§°å°±å¯ä»¥äº†" class="headerlink" title="1.2 æŒ‰tagæŸ¥æ‰¾åªéœ€è¦å†™ä¸Štagåç§°å°±å¯ä»¥äº†"></a>1.2 æŒ‰tagæŸ¥æ‰¾åªéœ€è¦å†™ä¸Štagåç§°å°±å¯ä»¥äº†</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var ps = $(&#x27;p&#x27;); // è¿”å›æ‰€æœ‰&lt;p&gt;èŠ‚ç‚¹</span><br><span class="line">ps.length; // æ•°ä¸€æ•°é¡µé¢æœ‰å¤šå°‘ä¸ª&lt;p&gt;èŠ‚ç‚¹</span><br></pre></td></tr></table></figure>

<h4 id="1-3-æŒ‰classæŸ¥æ‰¾æ³¨æ„åœ¨classåç§°å‰åŠ ä¸€ä¸ª"><a href="#1-3-æŒ‰classæŸ¥æ‰¾æ³¨æ„åœ¨classåç§°å‰åŠ ä¸€ä¸ª" class="headerlink" title="1.3 æŒ‰classæŸ¥æ‰¾æ³¨æ„åœ¨classåç§°å‰åŠ ä¸€ä¸ª"></a>1.3 æŒ‰classæŸ¥æ‰¾æ³¨æ„åœ¨classåç§°å‰åŠ ä¸€ä¸ª</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var a = $(&#x27;.red&#x27;); // æ‰€æœ‰èŠ‚ç‚¹åŒ…å«`class=&quot;red&quot;`éƒ½å°†è¿”å›</span><br><span class="line">// ä¾‹å¦‚:</span><br><span class="line">// &lt;div class=&quot;red&quot;&gt;...&lt;/div&gt;</span><br><span class="line">// &lt;p class=&quot;green red&quot;&gt;...&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p>é€šå¸¸å¾ˆå¤šèŠ‚ç‚¹æœ‰å¤šä¸ªclassï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾åŒæ—¶åŒ…å«redå’Œgreençš„èŠ‚ç‚¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var a = $(&#x27;.red.green&#x27;); // æ³¨æ„æ²¡æœ‰ç©ºæ ¼ï¼</span><br><span class="line">// ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ï¼š</span><br><span class="line">// &lt;div class=&quot;red green&quot;&gt;...&lt;/div&gt;</span><br><span class="line">// &lt;div class=&quot;blue green red&quot;&gt;...&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-4-æŒ‰å±æ€§æŸ¥æ‰¾"><a href="#1-4-æŒ‰å±æ€§æŸ¥æ‰¾" class="headerlink" title="1.4 æŒ‰å±æ€§æŸ¥æ‰¾"></a>1.4 æŒ‰å±æ€§æŸ¥æ‰¾</h4><p>ä¸€ä¸ªDOMèŠ‚ç‚¹é™¤äº†idå’Œclasså¤–è¿˜å¯ä»¥æœ‰å¾ˆå¤šå±æ€§ï¼Œå¾ˆå¤šæ—¶å€™æŒ‰å±æ€§æŸ¥æ‰¾ä¼šéå¸¸æ–¹ä¾¿ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªè¡¨å•ä¸­æŒ‰å±æ€§æ¥æŸ¥æ‰¾ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var email = $(&#x27;[name=email]&#x27;); // æ‰¾å‡º&lt;??? name=&quot;email&quot;&gt;</span><br><span class="line">var passwordInput = $(&#x27;[type=password]&#x27;); // æ‰¾å‡º&lt;??? type=&quot;password&quot;&gt;</span><br><span class="line">var a = $(&#x27;[items=&quot;A B&quot;]&#x27;); // æ‰¾å‡º&lt;??? items=&quot;A B&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>å½“å±æ€§çš„å€¼åŒ…å«ç©ºæ ¼ç­‰ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œéœ€è¦ç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚<br>å±æ€§æŸ¥æ‰¾è¿˜å¯ä»¥ä½¿ç”¨å‰ç¼€æŸ¥æ‰¾æˆ–è€…åç¼€æŸ¥æ‰¾ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var icons = $(&#x27;[name^=icon]&#x27;); // æ‰¾å‡ºæ‰€æœ‰nameå±æ€§å€¼ä»¥iconå¼€å¤´çš„DOM</span><br><span class="line">// ä¾‹å¦‚: name=&quot;icon-1&quot;, name=&quot;icon-2&quot;</span><br><span class="line">var names = $(&#x27;[name$=with]&#x27;); // æ‰¾å‡ºæ‰€æœ‰nameå±æ€§å€¼ä»¥withç»“å°¾çš„DOM</span><br><span class="line">// ä¾‹å¦‚: name=&quot;startswith&quot;, name=&quot;endswith&quot;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–¹æ³•å°¤å…¶é€‚åˆé€šè¿‡<code>class</code>å±æ€§æŸ¥æ‰¾ï¼Œä¸”ä¸å—<code>class</code>åŒ…å«å¤šä¸ªåç§°çš„å½±å“ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var icons = $(&#x27;[class^=&quot;icon-&quot;]&#x27;); // æ‰¾å‡ºæ‰€æœ‰classåŒ…å«è‡³å°‘ä¸€ä¸ªä»¥`icon-`å¼€å¤´çš„DOM</span><br><span class="line">// ä¾‹å¦‚: class=&quot;icon-clock&quot;, class=&quot;abc icon-home&quot;</span><br></pre></td></tr></table></figure>

<h4 id="1-5-ç»„åˆæŸ¥æ‰¾"><a href="#1-5-ç»„åˆæŸ¥æ‰¾" class="headerlink" title="1.5 ç»„åˆæŸ¥æ‰¾"></a>1.5 ç»„åˆæŸ¥æ‰¾</h4><p>ç»„åˆæŸ¥æ‰¾å°±æ˜¯æŠŠä¸Šè¿°ç®€å•é€‰æ‹©å™¨ç»„åˆèµ·æ¥ä½¿ç”¨ã€‚å¦‚æœæˆ‘ä»¬æŸ¥æ‰¾<code>$(&#39;[name=email]&#39;)</code>ï¼Œå¾ˆå¯èƒ½æŠŠè¡¨å•å¤–çš„<code>&lt;div name=&quot;email&quot;&gt;</code>ä¹Ÿæ‰¾å‡ºæ¥ï¼Œä½†æˆ‘ä»¬åªå¸Œæœ›æŸ¥æ‰¾<code>&lt;input&gt;</code>ï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var emailInput = $(&#x27;input[name=email]&#x27;); // ä¸ä¼šæ‰¾å‡º&lt;div name=&quot;email&quot;&gt;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„</strong>ï¼šTagå’ŒAttributeä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼<br>åŒæ ·çš„ï¼Œæ ¹æ®<code>tag</code>å’Œ<code>class</code>æ¥ç»„åˆæŸ¥æ‰¾ä¹Ÿå¾ˆå¸¸è§ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var tr = $(&#x27;tr.red&#x27;); // æ‰¾å‡º&lt;tr class=&quot;red ...&quot;&gt;...&lt;/tr&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-6-å¤šé¡¹é€‰æ‹©å™¨"><a href="#1-6-å¤šé¡¹é€‰æ‹©å™¨" class="headerlink" title="1.6 å¤šé¡¹é€‰æ‹©å™¨"></a>1.6 å¤šé¡¹é€‰æ‹©å™¨</h4><p>å¤šé¡¹é€‰æ‹©å™¨å°±æ˜¯æŠŠå¤šä¸ªé€‰æ‹©å™¨ç”¨<code>,</code>ç»„åˆèµ·æ¥ä¸€å—é€‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(&#x27;p,div&#x27;); // æŠŠ&lt;p&gt;å’Œ&lt;div&gt;éƒ½é€‰å‡ºæ¥</span><br><span class="line">$(&#x27;p.red,p.green&#x27;); // æŠŠ&lt;p class=&quot;red&quot;&gt;å’Œ&lt;p class=&quot;green&quot;&gt;éƒ½é€‰å‡ºæ¥</span><br></pre></td></tr></table></figure>
<p>è¦æ³¨æ„çš„æ˜¯ï¼Œé€‰å‡ºæ¥çš„å…ƒç´ æ˜¯æŒ‰ç…§å®ƒä»¬åœ¨HTMLä¸­å‡ºç°çš„é¡ºåºæ’åˆ—çš„ï¼Œè€Œä¸”ä¸ä¼šæœ‰é‡å¤å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ<code>&lt;p class=&quot;red green&quot;&gt;</code>ä¸ä¼šè¢«ä¸Šé¢çš„<code>$(&#39;p.red,p.green&#39;)</code>é€‰æ‹©ä¸¤æ¬¡ã€‚</p>
<h3 id="2ã€å±‚çº§é€‰æ‹©å™¨ï¼ˆDescendant-Selectorï¼‰"><a href="#2ã€å±‚çº§é€‰æ‹©å™¨ï¼ˆDescendant-Selectorï¼‰" class="headerlink" title="2ã€å±‚çº§é€‰æ‹©å™¨ï¼ˆDescendant Selectorï¼‰"></a>2ã€å±‚çº§é€‰æ‹©å™¨ï¼ˆDescendant Selectorï¼‰</h3><h4 id="2-1-å±‚çº§é€‰æ‹©å™¨ï¼ˆDescendant-Selectorï¼‰"><a href="#2-1-å±‚çº§é€‰æ‹©å™¨ï¼ˆDescendant-Selectorï¼‰" class="headerlink" title="2.1 å±‚çº§é€‰æ‹©å™¨ï¼ˆDescendant Selectorï¼‰"></a>2.1 å±‚çº§é€‰æ‹©å™¨ï¼ˆDescendant Selectorï¼‰</h4><p>å› ä¸ºDOMçš„ç»“æ„å°±æ˜¯å±‚çº§ç»“æ„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»å¸¸è¦æ ¹æ®å±‚çº§å…³ç³»è¿›è¡Œé€‰æ‹©ã€‚<br>å¦‚æœä¸¤ä¸ªDOMå…ƒç´ å…·æœ‰å±‚çº§å…³ç³»ï¼Œå°±å¯ä»¥ç”¨<code>$(&#39;ancestor descendant&#39;)</code>æ¥é€‰æ‹©ï¼Œå±‚çº§ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚<br>è¿™ç§å±‚çº§é€‰æ‹©å™¨ç›¸æ¯”å•ä¸ªçš„é€‰æ‹©å™¨å¥½å¤„åœ¨äºï¼Œå®ƒç¼©å°äº†é€‰æ‹©èŒƒå›´ï¼Œå› ä¸ºé¦–å…ˆè¦å®šä½çˆ¶èŠ‚ç‚¹ï¼Œæ‰èƒ½é€‰æ‹©ç›¸åº”çš„å­èŠ‚ç‚¹ï¼Œè¿™æ ·é¿å…äº†é¡µé¢å…¶ä»–ä¸ç›¸å…³çš„å…ƒç´ ã€‚å¤šå±‚é€‰æ‹©ä¹Ÿæ˜¯å…è®¸çš„</p>
<h4 id="2-2-å­é€‰æ‹©å™¨ï¼ˆChild-Selectorï¼‰"><a href="#2-2-å­é€‰æ‹©å™¨ï¼ˆChild-Selectorï¼‰" class="headerlink" title="2.2 å­é€‰æ‹©å™¨ï¼ˆChild Selectorï¼‰"></a>2.2 å­é€‰æ‹©å™¨ï¼ˆChild Selectorï¼‰</h4><p>å­é€‰æ‹©å™¨<code>$(&#39;parent&gt;child&#39;)</code>ç±»ä¼¼å±‚çº§é€‰æ‹©å™¨ï¼Œä½†æ˜¯é™å®šäº†å±‚çº§å…³ç³»å¿…é¡»æ˜¯çˆ¶å­å…³ç³»ï¼Œå°±æ˜¯<code>&lt;child&gt;</code>èŠ‚ç‚¹å¿…é¡»æ˜¯<code>&lt;parent&gt;</code>èŠ‚ç‚¹çš„ç›´å±å­èŠ‚ç‚¹ã€‚</p>
<h4 id="2-3-è¿‡æ»¤å™¨ï¼ˆFilterï¼‰"><a href="#2-3-è¿‡æ»¤å™¨ï¼ˆFilterï¼‰" class="headerlink" title="2.3 è¿‡æ»¤å™¨ï¼ˆFilterï¼‰"></a>2.3 è¿‡æ»¤å™¨ï¼ˆFilterï¼‰</h4><p>è¿‡æ»¤å™¨ä¸€èˆ¬ä¸å•ç‹¬ä½¿ç”¨ï¼Œå®ƒé€šå¸¸é™„åŠ åœ¨é€‰æ‹©å™¨ä¸Šï¼Œå¸®åŠ©æˆ‘ä»¬æ›´ç²¾ç¡®åœ°å®šä½å…ƒç´ ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(&#x27;ul.lang li&#x27;); // é€‰å‡ºJavaScriptã€Pythonå’ŒLua 3ä¸ªèŠ‚ç‚¹</span><br><span class="line"></span><br><span class="line">$(&#x27;ul.lang li:first-child&#x27;); // ä»…é€‰å‡ºJavaScript</span><br><span class="line">$(&#x27;ul.lang li:last-child&#x27;); // ä»…é€‰å‡ºLua</span><br><span class="line">$(&#x27;ul.lang li:nth-child(2)&#x27;); // é€‰å‡ºç¬¬Nä¸ªå…ƒç´ ï¼ŒNä»1å¼€å§‹</span><br><span class="line">$(&#x27;ul.lang li:nth-child(even)&#x27;); // é€‰å‡ºåºå·ä¸ºå¶æ•°çš„å…ƒç´ </span><br><span class="line">$(&#x27;ul.lang li:nth-child(odd)&#x27;); // é€‰å‡ºåºå·ä¸ºå¥‡æ•°çš„å…ƒç´ </span><br></pre></td></tr></table></figure>

<h4 id="2-4ã€è¡¨å•ç›¸å…³"><a href="#2-4ã€è¡¨å•ç›¸å…³" class="headerlink" title="2.4ã€è¡¨å•ç›¸å…³"></a>2.4ã€è¡¨å•ç›¸å…³</h4><p>é’ˆå¯¹è¡¨å•å…ƒç´ ï¼ŒjQueryè¿˜æœ‰ä¸€ç»„ç‰¹æ®Šçš„é€‰æ‹©å™¨ï¼š</p>
<ul>
<li><code>:input</code>ï¼šå¯ä»¥é€‰æ‹©<code>&lt;input&gt;</code>ï¼Œ<code>&lt;textarea&gt;</code>ï¼Œ<code>&lt;select&gt;</code>å’Œ<code>&lt;button&gt;</code>ï¼›</li>
<li><code>:file</code>ï¼šå¯ä»¥é€‰æ‹©<code>&lt;input type=&quot;file&quot;&gt;</code>ï¼Œå’Œ<code>input[type=file]</code>ä¸€æ ·ï¼›</li>
<li><code>:checkbox</code>ï¼šå¯ä»¥é€‰æ‹©å¤é€‰æ¡†ï¼Œå’Œ<code>input[type=checkbox]</code>ä¸€æ ·ï¼›</li>
<li><code>:radio</code>ï¼šå¯ä»¥é€‰æ‹©å•é€‰æ¡†ï¼Œå’Œ<code>input[type=radio]</code>ä¸€æ ·ï¼›</li>
<li><code>:focus</code>ï¼šå¯ä»¥é€‰æ‹©å½“å‰è¾“å…¥ç„¦ç‚¹çš„å…ƒç´ ï¼Œä¾‹å¦‚æŠŠå…‰æ ‡æ”¾åˆ°ä¸€ä¸ª<code>&lt;input&gt;</code>ä¸Šï¼Œç”¨<code>$(&#39;input:focus&#39;)</code>å°±å¯ä»¥é€‰å‡ºï¼›</li>
<li><code>:checked</code>ï¼šé€‰æ‹©å½“å‰å‹¾ä¸Šçš„å•é€‰æ¡†å’Œå¤é€‰æ¡†ï¼Œç”¨è¿™ä¸ªé€‰æ‹©å™¨å¯ä»¥ç«‹åˆ»è·å¾—ç”¨æˆ·é€‰æ‹©çš„é¡¹ç›®ï¼Œå¦‚<code>$(&#39;input[type=radio]:checked&#39;)</code>ï¼›</li>
<li><code>:enabled</code>ï¼šå¯ä»¥é€‰æ‹©å¯ä»¥æ­£å¸¸è¾“å…¥çš„<code>&lt;input&gt;</code>ã€<code>&lt;select&gt;</code> ç­‰ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰ç°æ‰çš„è¾“å…¥ï¼›</li>
<li><code>:disabled</code>ï¼šå’Œ<code>:enabled</code>æ­£å¥½ç›¸åï¼Œé€‰æ‹©é‚£äº›ä¸èƒ½è¾“å…¥çš„ã€‚<br>æ­¤å¤–ï¼ŒjQueryè¿˜æœ‰å¾ˆå¤šæœ‰ç”¨çš„é€‰æ‹©å™¨ï¼Œä¾‹å¦‚ï¼Œé€‰å‡ºå¯è§çš„æˆ–éšè—çš„å…ƒç´ ï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(&#x27;div:visible&#x27;); // æ‰€æœ‰å¯è§çš„div</span><br><span class="line">$(&#x27;div:hidden&#x27;); // æ‰€æœ‰éšè—çš„div</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3ã€æŸ¥æ‰¾å’Œè¿‡æ»¤"><a href="#3ã€æŸ¥æ‰¾å’Œè¿‡æ»¤" class="headerlink" title="3ã€æŸ¥æ‰¾å’Œè¿‡æ»¤"></a>3ã€æŸ¥æ‰¾å’Œè¿‡æ»¤</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- HTMLç»“æ„ --&gt;</span><br><span class="line">&lt;ul class=&quot;lang&quot;&gt;</span><br><span class="line">    &lt;li class=&quot;js dy&quot;&gt;JavaScript&lt;/li&gt;</span><br><span class="line">    &lt;li class=&quot;dy&quot;&gt;Python&lt;/li&gt;</span><br><span class="line">    &lt;li id=&quot;swift&quot;&gt;Swift&lt;/li&gt;</span><br><span class="line">    &lt;li class=&quot;dy&quot;&gt;Scheme&lt;/li&gt;</span><br><span class="line">    &lt;li name=&quot;haskell&quot;&gt;Haskell&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>

<p>é€šå¸¸æƒ…å†µä¸‹é€‰æ‹©å™¨å¯ä»¥ç›´æ¥å®šä½åˆ°æˆ‘ä»¬æƒ³è¦çš„å…ƒç´ ï¼Œä½†æ˜¯ï¼Œå½“æˆ‘ä»¬æ‹¿åˆ°ä¸€ä¸ªjQueryå¯¹è±¡åï¼Œè¿˜å¯ä»¥ä»¥è¿™ä¸ªå¯¹è±¡ä¸ºåŸºå‡†ï¼Œè¿›è¡ŒæŸ¥æ‰¾å’Œè¿‡æ»¤ã€‚</p>
<h4 id="3-1-æŸ¥æ‰¾"><a href="#3-1-æŸ¥æ‰¾" class="headerlink" title="3.1 æŸ¥æ‰¾"></a>3.1 æŸ¥æ‰¾</h4><p>æœ€å¸¸è§çš„æŸ¥æ‰¾æ˜¯åœ¨æŸä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ä¸­æŸ¥æ‰¾ï¼Œä½¿ç”¨find()æ–¹æ³•ï¼Œå®ƒæœ¬èº«åˆæ¥æ”¶ä¸€ä¸ªä»»æ„çš„é€‰æ‹©å™¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var ul = $(&#x27;ul.lang&#x27;); // è·å¾—&lt;ul&gt;</span><br><span class="line">var dy = ul.find(&#x27;.dy&#x27;); // è·å¾—JavaScript, Python, Scheme</span><br><span class="line">var swf = ul.find(&#x27;#swift&#x27;); // è·å¾—Swift</span><br><span class="line">var hsk = ul.find(&#x27;[name=haskell]&#x27;); // è·å¾—Haskell</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¦ä»å½“å‰èŠ‚ç‚¹å¼€å§‹å‘ä¸ŠæŸ¥æ‰¾ï¼Œä½¿ç”¨<code>parent()</code>æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var swf = $(&#x27;#swift&#x27;); // è·å¾—Swift</span><br><span class="line">var parent = swf.parent(); // è·å¾—Swiftçš„ä¸Šå±‚èŠ‚ç‚¹&lt;ul&gt;</span><br><span class="line">var a = swf.parent(&#x27;.red&#x27;); // è·å¾—Swiftçš„ä¸Šå±‚èŠ‚ç‚¹&lt;ul&gt;ï¼ŒåŒæ—¶ä¼ å…¥è¿‡æ»¤æ¡ä»¶ã€‚å¦‚æœulä¸ç¬¦åˆæ¡ä»¶ï¼Œè¿”å›ç©ºjQueryå¯¹è±¡</span><br></pre></td></tr></table></figure>

<p>å¯¹äºä½äºåŒä¸€å±‚çº§çš„èŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡<code>next()</code>å’Œ<code>prev()</code>æ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var swift = $(&#x27;#swift&#x27;);</span><br><span class="line"></span><br><span class="line">swift.next(); // Scheme</span><br><span class="line">swift.next(&#x27;[name=haskell]&#x27;); // ç©ºçš„jQueryå¯¹è±¡ï¼Œå› ä¸ºSwiftçš„ä¸‹ä¸€ä¸ªå…ƒç´ Schemeä¸ç¬¦åˆæ¡ä»¶[name=haskell]</span><br><span class="line"></span><br><span class="line">swift.prev(); // Python</span><br><span class="line">swift.prev(&#x27;.dy&#x27;); // Pythonï¼Œå› ä¸ºPythonåŒæ—¶ç¬¦åˆè¿‡æ»¤å™¨æ¡ä»¶.dy</span><br></pre></td></tr></table></figure>

<h4 id="3-2-è¿‡æ»¤"><a href="#3-2-è¿‡æ»¤" class="headerlink" title="3.2 è¿‡æ»¤"></a>3.2 è¿‡æ»¤</h4><p>å’Œå‡½æ•°å¼ç¼–ç¨‹çš„mapã€filterç±»ä¼¼ï¼ŒjQueryå¯¹è±¡ä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ³•ã€‚<br><code>filter()</code>æ–¹æ³•å¯ä»¥è¿‡æ»¤æ‰ä¸ç¬¦åˆé€‰æ‹©å™¨æ¡ä»¶çš„èŠ‚ç‚¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var langs = $(&#x27;ul.lang li&#x27;); // æ‹¿åˆ°JavaScript, Python, Swift, Schemeå’ŒHaskell</span><br><span class="line">var a = langs.filter(&#x27;.dy&#x27;); // æ‹¿åˆ°JavaScript, Python, Scheme</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œè¦ç‰¹åˆ«æ³¨æ„å‡½æ•°å†…éƒ¨çš„<code>this</code>è¢«ç»‘å®šä¸º<code>DOM</code>å¯¹è±¡ï¼Œä¸æ˜¯<code>jQuery</code>å¯¹è±¡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var langs = $(&#x27;ul.lang li&#x27;); // æ‹¿åˆ°JavaScript, Python, Swift, Schemeå’ŒHaskell</span><br><span class="line">langs.filter(function () &#123;</span><br><span class="line">    return this.innerHTML.indexOf(&#x27;S&#x27;) === 0; // è¿”å›Så¼€å¤´çš„èŠ‚ç‚¹</span><br><span class="line">&#125;); // æ‹¿åˆ°Swift, Scheme</span><br></pre></td></tr></table></figure>
<p><code>map()</code>æ–¹æ³•æŠŠä¸€ä¸ªjQueryå¯¹è±¡åŒ…å«çš„è‹¥å¹²DOMèŠ‚ç‚¹è½¬åŒ–ä¸ºå…¶ä»–å¯¹è±¡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var langs = $(&#x27;ul.lang li&#x27;); // æ‹¿åˆ°JavaScript, Python, Swift, Schemeå’ŒHaskell</span><br><span class="line">var arr = langs.map(function () &#123;</span><br><span class="line">    return this.innerHTML;</span><br><span class="line">&#125;).get(); // ç”¨get()æ‹¿åˆ°åŒ…å«stringçš„Arrayï¼š[&#x27;JavaScript&#x27;, &#x27;Python&#x27;, &#x27;Swift&#x27;, &#x27;Scheme&#x27;, &#x27;Haskell&#x27;]</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼Œä¸€ä¸ªjQueryå¯¹è±¡å¦‚æœåŒ…å«äº†ä¸æ­¢ä¸€ä¸ªDOMèŠ‚ç‚¹ï¼Œ<code>first()</code>ã€<code>last()</code>å’Œ<code>slice()</code>æ–¹æ³•å¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„<code>jQuery</code>å¯¹è±¡ï¼ŒæŠŠä¸éœ€è¦çš„DOMèŠ‚ç‚¹å»æ‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var langs = $(&#x27;ul.lang li&#x27;); // æ‹¿åˆ°JavaScript, Python, Swift, Schemeå’ŒHaskell</span><br><span class="line">var js = langs.first(); // JavaScriptï¼Œç›¸å½“äº$(&#x27;ul.lang li:first-child&#x27;)</span><br><span class="line">var haskell = langs.last(); // Haskell, ç›¸å½“äº$(&#x27;ul.lang li:last-child&#x27;)</span><br><span class="line">var sub = langs.slice(2, 4); // Swift, Scheme, å‚æ•°å’Œæ•°ç»„çš„slice()æ–¹æ³•ä¸€è‡´</span><br></pre></td></tr></table></figure>


<h3 id="æ“ä½œDOM"><a href="#æ“ä½œDOM" class="headerlink" title="æ“ä½œDOM"></a>æ“ä½œDOM</h3><p>æœ‰çš„æµè§ˆå™¨åªæœ‰innerHTMLï¼Œæœ‰çš„æµè§ˆå™¨æ”¯æŒinnerTextï¼Œæœ‰äº†jQueryå¯¹è±¡ï¼Œä¸éœ€è¦è€ƒè™‘æµè§ˆå™¨å·®å¼‚äº†ï¼Œå…¨éƒ¨ç»Ÿä¸€æ“ä½œï¼</p>
<p>jQueryå¯¹è±¡çš„<code>text()</code>å’Œ<code>html()</code>æ–¹æ³•åˆ†åˆ«è·å–èŠ‚ç‚¹çš„æ–‡æœ¬å’ŒåŸå§‹HTMLæ–‡æœ¬ï¼›ï¼Œä¼ å…¥å‚æ•°å°±å˜æˆè®¾ç½®æ–‡æœ¬æˆ–è€…è®¾ç½®HTMLå†…å®¹ã€‚<br>ä¸€ä¸ªjQueryå¯¹è±¡å¯ä»¥åŒ…å«0ä¸ªæˆ–ä»»æ„ä¸ªDOMå¯¹è±¡ï¼Œå®ƒçš„æ–¹æ³•å®é™…ä¸Šä¼šä½œç”¨åœ¨å¯¹åº”çš„æ¯ä¸ªDOMèŠ‚ç‚¹ä¸Šã€‚<br>æ‰€ä»¥jQueryå¯¹è±¡çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯æˆ‘ä»¬å¯ä»¥æ‰§è¡Œä¸€ä¸ªæ“ä½œï¼Œä½œç”¨åœ¨å¯¹åº”çš„ä¸€ç»„DOMèŠ‚ç‚¹ä¸Šã€‚å³ä½¿é€‰æ‹©å™¨æ²¡æœ‰è¿”å›ä»»ä½•DOMèŠ‚ç‚¹ï¼Œè°ƒç”¨jQueryå¯¹è±¡çš„æ–¹æ³•ä»ç„¶ä¸ä¼šæŠ¥é”™ã€‚è¿™æ„å‘³ç€jQueryå¸®ä½ å…å»äº†è®¸å¤šifè¯­å¥ã€‚</p>
<p>ä¿®æ”¹CSS</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- HTMLç»“æ„ --&gt;</span><br><span class="line">&lt;ul id=&quot;test-css&quot;&gt;</span><br><span class="line">    &lt;li class=&quot;lang dy&quot;&gt;&lt;span&gt;JavaScript&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li class=&quot;lang&quot;&gt;&lt;span&gt;Java&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li class=&quot;lang dy&quot;&gt;&lt;span&gt;Python&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li class=&quot;lang&quot;&gt;&lt;span&gt;Swift&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li class=&quot;lang dy&quot;&gt;&lt;span&gt;Scheme&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
<p>jQueryå¯¹è±¡çš„css(â€˜nameâ€™, â€˜valueâ€™)æ–¹æ³•ä½¿ç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(&#x27;#test-css li.dy&gt;span&#x27;).css(&#x27;background-color&#x27;, &#x27;#ffd351&#x27;).css(&#x27;color&#x27;, &#x27;red&#x27;);</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„</strong>ï¼ŒjQueryå¯¹è±¡çš„æ‰€æœ‰æ–¹æ³•éƒ½è¿”å›ä¸€ä¸ªjQueryå¯¹è±¡ï¼ˆå¯èƒ½æ˜¯æ–°çš„ä¹Ÿå¯èƒ½æ˜¯è‡ªèº«ï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥è¿›è¡Œé“¾å¼è°ƒç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">**var div = $(&#x27;#test-div&#x27;);</span><br><span class="line">div.css(&#x27;color&#x27;); // &#x27;#000033&#x27;, è·å–CSSå±æ€§</span><br><span class="line">div.css(&#x27;color&#x27;, &#x27;#336699&#x27;); // è®¾ç½®CSSå±æ€§</span><br><span class="line">div.css(&#x27;color&#x27;, &#x27;&#x27;); // æ¸…é™¤CSSå±æ€§</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†å’ŒJavaScriptä¿æŒä¸€è‡´ï¼ŒCSSå±æ€§å¯ä»¥ç”¨<code>&#39;background-color&#39;</code>å’Œ<code>&#39;backgroundColor&#39;</code>ä¸¤ç§æ ¼å¼ã€‚<br><code>css()</code>æ–¹æ³•å°†ä½œç”¨äºDOMèŠ‚ç‚¹çš„<code>style</code>å±æ€§ï¼Œå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§ã€‚å¦‚æœè¦ä¿®æ”¹<code>class</code>å±æ€§ï¼Œå¯ä»¥ç”¨jQueryæä¾›çš„ä¸‹åˆ—æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var div = $(&#x27;#test-div&#x27;);</span><br><span class="line">div.hasClass(&#x27;highlight&#x27;); // falseï¼Œ classæ˜¯å¦åŒ…å«highlight</span><br><span class="line">div.addClass(&#x27;highlight&#x27;); // æ·»åŠ highlightè¿™ä¸ªclass</span><br><span class="line">div.removeClass(&#x27;highlight&#x27;); // åˆ é™¤highlightè¿™ä¸ªclass</span><br></pre></td></tr></table></figure>

<h4 id="æ˜¾ç¤ºå’Œéšè—DOM"><a href="#æ˜¾ç¤ºå’Œéšè—DOM" class="headerlink" title="æ˜¾ç¤ºå’Œéšè—DOM"></a>æ˜¾ç¤ºå’Œéšè—DOM</h4><p>è¦éšè—ä¸€ä¸ªDOMï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®<code>CSS</code>çš„<code>display</code>å±æ€§ä¸º<code>none</code>ï¼Œåˆ©ç”¨<code>css()</code>æ–¹æ³•å°±å¯ä»¥å®ç°ã€‚ä¸è¿‡ï¼Œè¦æ˜¾ç¤ºè¿™ä¸ªDOMå°±éœ€è¦æ¢å¤åŸæœ‰çš„<code>display</code>å±æ€§ï¼Œè¿™å°±å¾—å…ˆè®°ä¸‹æ¥åŸæœ‰çš„<code>display</code>å±æ€§åˆ°åº•æ˜¯<code>block</code>è¿˜æ˜¯<code>inline</code>è¿˜æ˜¯åˆ«çš„å€¼ã€‚</p>
<p>è€ƒè™‘åˆ°æ˜¾ç¤ºå’Œéšè—DOMå…ƒç´ ä½¿ç”¨éå¸¸æ™®éï¼ŒjQueryç›´æ¥æä¾›<code>show()</code>å’Œ<code>hide()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸ç”¨å…³å¿ƒå®ƒæ˜¯å¦‚ä½•ä¿®æ”¹<code>display</code>å±æ€§çš„ï¼Œæ€»ä¹‹å®ƒèƒ½æ­£å¸¸å·¥ä½œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var a = $(&#x27;a[target=_blank]&#x27;);</span><br><span class="line">a.hide(); // éšè—</span><br><span class="line">a.show(); // æ˜¾ç¤º</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„</strong>ï¼Œéšè—DOMèŠ‚ç‚¹å¹¶æœªæ”¹å˜DOMæ ‘çš„ç»“æ„ï¼Œå®ƒåªå½±å“DOMèŠ‚ç‚¹çš„æ˜¾ç¤ºã€‚è¿™å’Œåˆ é™¤DOMèŠ‚ç‚¹æ˜¯ä¸åŒçš„ã€‚</p>
<h4 id="è·å–DOMä¿¡æ¯"><a href="#è·å–DOMä¿¡æ¯" class="headerlink" title="è·å–DOMä¿¡æ¯"></a>è·å–DOMä¿¡æ¯</h4><p>åˆ©ç”¨jQueryå¯¹è±¡çš„è‹¥å¹²æ–¹æ³•ï¼Œæˆ‘ä»¬ç›´æ¥å¯ä»¥è·å–DOMçš„é«˜å®½ç­‰ä¿¡æ¯ï¼Œè€Œæ— éœ€é’ˆå¯¹ä¸åŒæµè§ˆå™¨ç¼–å†™ç‰¹å®šä»£ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// æµè§ˆå™¨å¯è§†çª—å£å¤§å°:</span><br><span class="line">$(window).width(); // 800</span><br><span class="line">$(window).height(); // 600</span><br><span class="line"></span><br><span class="line">// HTMLæ–‡æ¡£å¤§å°:</span><br><span class="line">$(document).width(); // 800</span><br><span class="line">$(document).height(); // 3500</span><br><span class="line"></span><br><span class="line">// æŸä¸ªdivçš„å¤§å°:</span><br><span class="line">var div = $(&#x27;#test-div&#x27;);</span><br><span class="line">div.width(); // 600</span><br><span class="line">div.height(); // 300</span><br><span class="line">div.width(400); // è®¾ç½®CSSå±æ€§ width: 400pxï¼Œæ˜¯å¦ç”Ÿæ•ˆè¦çœ‹CSSæ˜¯å¦æœ‰æ•ˆ</span><br><span class="line">div.height(&#x27;200px&#x27;); // è®¾ç½®CSSå±æ€§ height: 200pxï¼Œæ˜¯å¦ç”Ÿæ•ˆè¦çœ‹CSSæ˜¯å¦æœ‰æ•ˆ</span><br></pre></td></tr></table></figure>

<p><code>attr()</code>å’Œ<code>removeAttr()</code>æ–¹æ³•ç”¨äºæ“ä½œDOMèŠ‚ç‚¹çš„å±æ€§ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// &lt;div id=&quot;test-div&quot; name=&quot;Test&quot; start=&quot;1&quot;&gt;...&lt;/div&gt;</span><br><span class="line">var div = $(&#x27;#test-div&#x27;);</span><br><span class="line">div.attr(&#x27;data&#x27;); // undefined, å±æ€§ä¸å­˜åœ¨</span><br><span class="line">div.attr(&#x27;name&#x27;); // &#x27;Test&#x27;</span><br><span class="line">div.attr(&#x27;name&#x27;, &#x27;Hello&#x27;); // divçš„nameå±æ€§å˜ä¸º&#x27;Hello&#x27;</span><br><span class="line">div.removeAttr(&#x27;name&#x27;); // åˆ é™¤nameå±æ€§</span><br><span class="line">div.attr(&#x27;name&#x27;); // undefined</span><br></pre></td></tr></table></figure>

<p><code>prop()</code>æ–¹æ³•å’Œ<code>attr()</code>ç±»ä¼¼ï¼Œä½†æ˜¯HTML5è§„å®šæœ‰ä¸€ç§å±æ€§åœ¨DOMèŠ‚ç‚¹ä¸­å¯ä»¥æ²¡æœ‰å€¼ï¼Œåªæœ‰å‡ºç°ä¸ä¸å‡ºç°ä¸¤ç§ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;input id=&quot;test-radio&quot; type=&quot;radio&quot; name=&quot;test&quot; checked value=&quot;1&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>ç­‰ä»·äº</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;input id=&quot;test-radio&quot; type=&quot;radio&quot; name=&quot;test&quot; checked=&quot;checked&quot; value=&quot;1&quot;&gt;</span><br></pre></td></tr></table></figure>
<p><code>attr()</code>å’Œ<code>prop()</code>å¯¹äºå±æ€§<code>checked</code>å¤„ç†æœ‰æ‰€ä¸åŒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var radio = $(&#x27;#test-radio&#x27;);</span><br><span class="line">radio.attr(&#x27;checked&#x27;); // &#x27;checked&#x27;,ä½†prop(&#x27;checked&#x27;)å’Œis(&#x27;:checked&#x27;)æ˜¯false;è¿”å›&#x27;undefined&#x27;æ—¶ï¼Œprop(&#x27;checked&#x27;)å’Œis(&#x27;:checked&#x27;)ä¹Ÿå¯èƒ½æ˜¯true</span><br><span class="line">radio.prop(&#x27;checked&#x27;); // true</span><br></pre></td></tr></table></figure>
<p>prop()<code>è¿”å›å€¼æ›´åˆç†ä¸€äº›ã€‚ä¸è¿‡ï¼Œç”¨</code>is()&#96;æ–¹æ³•åˆ¤æ–­æ›´å¥½ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var radio = $(&#x27;#test-radio&#x27;);</span><br><span class="line">radio.is(&#x27;:checked&#x27;); // true</span><br></pre></td></tr></table></figure>
<p>ç±»ä¼¼çš„å±æ€§è¿˜æœ‰<code>selected</code>ï¼Œå¤„ç†æ—¶æœ€å¥½ç”¨<code>is(&#39;:selected&#39;)</code><br>è·å–<code>checked</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(&quot;#id&quot;).is(&quot;:checked&quot;)</span><br><span class="line">$(&quot;#id&quot;).prop(&quot;checked&quot;)</span><br><span class="line">$(&quot;#id&quot;).get(0).checked)</span><br><span class="line">document.getElementById(&quot;#id&quot;).checked</span><br></pre></td></tr></table></figure>
<p>è®¾ç½®<code>checked</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(&quot;#id&quot;).prop(&quot;checked&quot;,true)</span><br><span class="line">$(&quot;#id&quot;).get(0).checked = true</span><br><span class="line">document.getElementById(&quot;#id&quot;).checked = true</span><br></pre></td></tr></table></figure>

<h4 id="æ“ä½œè¡¨å•"><a href="#æ“ä½œè¡¨å•" class="headerlink" title="æ“ä½œè¡¨å•"></a>æ“ä½œè¡¨å•</h4><p>å¯¹äºè¡¨å•å…ƒç´ ï¼ŒjQueryå¯¹è±¡ç»Ÿä¸€æä¾›<code>val()</code>æ–¹æ³•è·å–å’Œè®¾ç½®å¯¹åº”çš„<code>value</code>å±æ€§</p>
<h3 id="ä¿®æ”¹DOMç»“æ„"><a href="#ä¿®æ”¹DOMç»“æ„" class="headerlink" title="ä¿®æ”¹DOMç»“æ„"></a>ä¿®æ”¹DOMç»“æ„</h3><h4 id="æ·»åŠ DOM"><a href="#æ·»åŠ DOM" class="headerlink" title="æ·»åŠ DOM"></a>æ·»åŠ DOM</h4><p>è¦æ·»åŠ æ–°çš„DOMèŠ‚ç‚¹ï¼Œé™¤äº†é€šè¿‡jQueryçš„<code>html()</code>è¿™ç§æš´åŠ›æ–¹æ³•å¤–ï¼Œè¿˜å¯ä»¥ç”¨<code>append()</code>æ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;test-div&quot;&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;&lt;span&gt;JavaScript&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;span&gt;Python&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;span&gt;Swift&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var ul = $(&#x27;#test-div&gt;ul&#x27;);</span><br><span class="line">ul.append(&#x27;&lt;li&gt;&lt;span&gt;Haskell&lt;/span&gt;&lt;/li&gt;&#x27;); //ä¼ å…¥HTMLç‰‡æ®µ</span><br><span class="line"></span><br><span class="line">// åˆ›å»ºDOMå¯¹è±¡:</span><br><span class="line">var ps = document.createElement(&#x27;li&#x27;);</span><br><span class="line">ps.innerHTML = &#x27;&lt;span&gt;Pascal&lt;/span&gt;&#x27;;</span><br><span class="line">// æ·»åŠ DOMå¯¹è±¡:</span><br><span class="line">ul.append(ps);</span><br><span class="line"></span><br><span class="line">// æ·»åŠ jQueryå¯¹è±¡:</span><br><span class="line">ul.append($(&#x27;#scheme&#x27;));</span><br><span class="line"></span><br><span class="line">// æ·»åŠ å‡½æ•°å¯¹è±¡:</span><br><span class="line">ul.append(function (index, html) &#123;</span><br><span class="line">    return &#x27;&lt;li&gt;&lt;span&gt;Language - &#x27; + index + &#x27;&lt;/span&gt;&lt;/li&gt;&#x27;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¼ å…¥å‡½æ•°æ—¶ï¼Œè¦æ±‚è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€DOMå¯¹è±¡æˆ–è€…jQueryå¯¹è±¡ã€‚å› ä¸ºjQueryçš„<code>append()</code>å¯èƒ½ä½œç”¨äºä¸€ç»„DOMèŠ‚ç‚¹ï¼Œåªæœ‰ä¼ å…¥å‡½æ•°æ‰èƒ½é’ˆå¯¹æ¯ä¸ªDOMç”Ÿæˆä¸åŒçš„å­èŠ‚ç‚¹ã€‚<br><code>append()</code>æŠŠDOMæ·»åŠ åˆ°æœ€åï¼Œ<code>prepend()</code>åˆ™æŠŠDOMæ·»åŠ åˆ°æœ€å‰ã€‚</p>
<p>å¦å¤–<strong>æ³¨æ„</strong>ï¼Œå¦‚æœè¦æ·»åŠ çš„DOMèŠ‚ç‚¹å·²ç»å­˜åœ¨äºHTMLæ–‡æ¡£ä¸­ï¼Œå®ƒä¼šé¦–å…ˆä»æ–‡æ¡£ç§»é™¤ï¼Œç„¶åå†æ·»åŠ ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨<code>append()</code>ï¼Œä½ å¯ä»¥ç§»åŠ¨ä¸€ä¸ªDOMèŠ‚ç‚¹ã€‚ä¹Ÿè¦é˜²æ­¢é”™è¯¯è¦†ç›–</p>
<p>å¦‚æœè¦æŠŠæ–°èŠ‚ç‚¹æ’å…¥åˆ°æŒ‡å®šä½ç½®ï¼Œä¾‹å¦‚ï¼ŒJavaScriptå’ŒPythonä¹‹é—´ï¼Œé‚£ä¹ˆï¼Œå¯ä»¥å…ˆå®šä½åˆ°JavaScriptï¼Œç„¶åç”¨<code>after()</code>æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var js = $(&#x27;#test-div&gt;ul&gt;li:first-child&#x27;);</span><br><span class="line">js.after(&#x27;&lt;li&gt;&lt;span&gt;Lua&lt;/span&gt;&lt;/li&gt;&#x27;);</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒçº§èŠ‚ç‚¹å¯ä»¥ç”¨<code>after()</code>æˆ–è€…<code>before()</code>æ–¹æ³•ã€‚</p>
<h4 id="åˆ é™¤èŠ‚ç‚¹"><a href="#åˆ é™¤èŠ‚ç‚¹" class="headerlink" title="åˆ é™¤èŠ‚ç‚¹"></a>åˆ é™¤èŠ‚ç‚¹</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var li = $(&#x27;#test-div&gt;ul&gt;li&#x27;);</span><br><span class="line">li.remove(); // æ‰€æœ‰&lt;li&gt;å…¨è¢«åˆ é™¤</span><br></pre></td></tr></table></figure>
<h4 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h4><p>å› ä¸ºJavaScriptåœ¨æµè§ˆå™¨ä¸­ä»¥å•çº¿ç¨‹æ¨¡å¼è¿è¡Œï¼Œé¡µé¢åŠ è½½åï¼Œä¸€æ—¦é¡µé¢ä¸Šæ‰€æœ‰çš„JavaScriptä»£ç è¢«æ‰§è¡Œå®Œåï¼Œå°±åªèƒ½ä¾èµ–è§¦å‘äº‹ä»¶æ¥æ‰§è¡ŒJavaScriptä»£ç ã€‚</p>
<p>æµè§ˆå™¨åœ¨æ¥æ”¶åˆ°ç”¨æˆ·çš„é¼ æ ‡æˆ–é”®ç›˜è¾“å…¥åï¼Œä¼šè‡ªåŠ¨åœ¨å¯¹åº”çš„DOMèŠ‚ç‚¹ä¸Šè§¦å‘ç›¸åº”çš„äº‹ä»¶ã€‚å¦‚æœè¯¥èŠ‚ç‚¹å·²ç»ç»‘å®šäº†å¯¹åº”çš„JavaScriptå¤„ç†å‡½æ•°ï¼Œè¯¥å‡½æ•°å°±ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚</p>
<p>ç”±äºä¸åŒçš„æµè§ˆå™¨ç»‘å®šäº‹ä»¶çš„ä»£ç éƒ½ä¸å¤ªä¸€æ ·ï¼Œæ‰€ä»¥ç”¨jQueryæ¥å†™ä»£ç ï¼Œå°±å±è”½äº†ä¸åŒæµè§ˆå™¨çš„å·®å¼‚ï¼Œæˆ‘ä»¬æ€»æ˜¯ç¼–å†™ç›¸åŒçš„ä»£ç ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾è¦åœ¨ç”¨æˆ·ç‚¹å‡»äº†è¶…é“¾æ¥æ—¶å¼¹å‡ºæç¤ºæ¡†ï¼Œæˆ‘ä»¬ç”¨jQueryè¿™æ ·ç»‘å®šä¸€ä¸ªclickäº‹ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* HTML:</span><br><span class="line"> *</span><br><span class="line"> * &lt;a id=&quot;test-link&quot; href=&quot;#0&quot;&gt;ç‚¹æˆ‘è¯•è¯•&lt;/a&gt;</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">// è·å–è¶…é“¾æ¥çš„jQueryå¯¹è±¡:</span><br><span class="line">var a = $(&#x27;#test-link&#x27;);</span><br><span class="line">a.on(&#x27;click&#x27;, function () &#123;</span><br><span class="line">    alert(&#x27;Hello!&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>onæ–¹æ³•ç”¨æ¥ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ä¼ å…¥äº‹ä»¶åç§°å’Œå¯¹åº”çš„å¤„ç†å‡½æ•°ã€‚</p>
<p>å¦ä¸€ç§æ›´ç®€åŒ–çš„å†™æ³•æ˜¯ç›´æ¥è°ƒç”¨click()æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a.click(function () &#123;</span><br><span class="line">    alert(&#x27;Hello!&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ä¸¤è€…å®Œå…¨ç­‰ä»·ã€‚æˆ‘ä»¬é€šå¸¸ç”¨åé¢çš„å†™æ³•ã€‚<br>jQueryèƒ½å¤Ÿç»‘å®šçš„äº‹ä»¶ä¸»è¦åŒ…æ‹¬ï¼š</p>
<ol>
<li>é¼ æ ‡äº‹ä»¶</li>
</ol>
<ul>
<li>click: é¼ æ ‡å•å‡»æ—¶è§¦å‘ï¼›</li>
<li>dblclickï¼šé¼ æ ‡åŒå‡»æ—¶è§¦å‘ï¼›</li>
<li>mouseenterï¼šé¼ æ ‡è¿›å…¥æ—¶è§¦å‘ï¼›</li>
<li>mouseleaveï¼šé¼ æ ‡ç§»å‡ºæ—¶è§¦å‘ï¼›</li>
<li>mousemoveï¼šé¼ æ ‡åœ¨DOMå†…éƒ¨ç§»åŠ¨æ—¶è§¦å‘ï¼›</li>
<li>hoverï¼šé¼ æ ‡è¿›å…¥å’Œé€€å‡ºæ—¶è§¦å‘ä¸¤ä¸ªå‡½æ•°ï¼Œç›¸å½“äºmouseenteråŠ ä¸Šmouseleaveã€‚</li>
</ul>
<ol start="2">
<li>é”®ç›˜äº‹ä»¶<br>é”®ç›˜äº‹ä»¶ä»…ä½œç”¨åœ¨å½“å‰ç„¦ç‚¹çš„DOMä¸Šï¼Œé€šå¸¸æ˜¯<code>&lt;input&gt;</code>å’Œ<code>&lt;textarea&gt;</code>ã€‚</li>
</ol>
<ul>
<li>keydownï¼šé”®ç›˜æŒ‰ä¸‹æ—¶è§¦å‘ï¼›</li>
<li>keyupï¼šé”®ç›˜æ¾å¼€æ—¶è§¦å‘ï¼›</li>
<li>keypressï¼šæŒ‰ä¸€æ¬¡é”®åè§¦å‘ã€‚</li>
</ul>
<ol start="3">
<li>å…¶ä»–äº‹ä»¶</li>
</ol>
<ul>
<li>focusï¼šå½“DOMè·å¾—ç„¦ç‚¹æ—¶è§¦å‘ï¼›</li>
<li>blurï¼šå½“DOMå¤±å»ç„¦ç‚¹æ—¶è§¦å‘ï¼›</li>
<li>changeï¼šå½“<code>&lt;input&gt;</code>ã€<code>&lt;select&gt;</code>æˆ–<code>&lt;textarea&gt;</code>çš„å†…å®¹æ”¹å˜æ—¶è§¦å‘ï¼›</li>
<li>submitï¼šå½“<code>&lt;form&gt;</code>æäº¤æ—¶è§¦å‘ï¼›</li>
<li>readyï¼šå½“é¡µé¢è¢«è½½å…¥å¹¶ä¸”DOMæ ‘å®Œæˆåˆå§‹åŒ–åè§¦å‘ã€‚</li>
</ul>
<p>å…¶ä¸­ï¼Œ<code>ready</code>ä»…ä½œç”¨äº<code>document</code>å¯¹è±¡ã€‚ç”±äº<code>ready</code>äº‹ä»¶åœ¨<code>DOM</code>å®Œæˆåˆå§‹åŒ–åè§¦å‘ï¼Œä¸”åªè§¦å‘ä¸€æ¬¡ï¼Œæ‰€ä»¥éå¸¸é€‚åˆç”¨æ¥å†™å…¶ä»–çš„<em>åˆå§‹åŒ–ä»£ç </em>ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æƒ³ç»™ä¸€ä¸ª<code>&lt;form&gt;</code>è¡¨å•ç»‘å®š<code>submit</code>äº‹ä»¶ï¼Œä¸‹é¢çš„ä»£ç æ²¡æœ‰é¢„æœŸçš„æ•ˆæœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        // ä»£ç æœ‰è¯¯:</span><br><span class="line">        $(&#x27;#testForm&#x27;).on(&#x27;submit&#x27;, function () &#123;</span><br><span class="line">            alert(&#x27;submit!&#x27;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form id=&quot;testForm&quot;&gt;</span><br><span class="line">        ...</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºJavaScriptåœ¨æ­¤æ‰§è¡Œçš„æ—¶å€™ï¼Œ<code>&lt;form&gt;</code>å°šæœªè½½å…¥æµè§ˆå™¨ï¼Œæ‰€ä»¥<code>$(&#39;#testForm)</code>è¿”å›<code>[]</code>ï¼Œå¹¶æ²¡æœ‰ç»‘å®šäº‹ä»¶åˆ°ä»»ä½•DOMä¸Šã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬è‡ªå·±çš„åˆå§‹åŒ–ä»£ç å¿…é¡»æ”¾åˆ°<code>document</code>å¯¹è±¡çš„<code>ready</code>äº‹ä»¶ä¸­ï¼Œä¿è¯DOMå·²å®Œæˆåˆå§‹åŒ–ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        $(document).on(&#x27;ready&#x27;, function () &#123;</span><br><span class="line">            $(&#x27;#testForm).on(&#x27;submit&#x27;, function () &#123;</span><br><span class="line">                alert(&#x27;submit!&#x27;);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form id=&quot;testForm&quot;&gt;</span><br><span class="line">        ...</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å†™å°±æ²¡æœ‰é—®é¢˜äº†ã€‚å› ä¸ºç›¸å…³ä»£ç ä¼šåœ¨DOMæ ‘åˆå§‹åŒ–åå†æ‰§è¡Œã€‚ã€ä»»ç„¶æ— å“åº”ï¼Ÿï¼Ÿã€‘<br>ç”±äºreadyäº‹ä»¶ä½¿ç”¨éå¸¸æ™®éï¼Œæ‰€ä»¥å¯ä»¥è¿™æ ·ç®€åŒ–ã€æ­£å¸¸ã€‘ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(document).ready(function () &#123;</span><br><span class="line">    // on(&#x27;submit&#x27;, function)ä¹Ÿå¯ä»¥ç®€åŒ–:</span><br><span class="line">    $(&#x27;#testForm).submit(function () &#123;</span><br><span class="line">        alert(&#x27;submit!&#x27;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ç”šè‡³è¿˜å¯ä»¥å†ç®€åŒ–ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(function () &#123;</span><br><span class="line">    // init...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„è¿™ç§å†™æ³•æœ€ä¸ºå¸¸è§ã€‚å¦‚æœä½ é‡åˆ°<code>$(function () &#123;...&#125;)</code>çš„å½¢å¼ï¼Œç‰¢è®°è¿™æ˜¯<code>document</code>å¯¹è±¡çš„<code>ready</code>äº‹ä»¶å¤„ç†å‡½æ•°ã€‚<br>å®Œå…¨å¯ä»¥åå¤ç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå®ƒä»¬ä¼šä¾æ¬¡æ‰§è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(function () &#123;</span><br><span class="line">    console.log(&#x27;init A...&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">$(function () &#123;</span><br><span class="line">    console.log(&#x27;init B...&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line">$(function () &#123;</span><br><span class="line">    console.log(&#x27;init C...&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="äº‹ä»¶å‚æ•°"><a href="#äº‹ä»¶å‚æ•°" class="headerlink" title="äº‹ä»¶å‚æ•°"></a><strong>äº‹ä»¶å‚æ•°</strong></h4><p>æœ‰äº›äº‹ä»¶ï¼Œå¦‚<code>mousemove</code>å’Œ<code>keypress</code>ï¼Œæˆ‘ä»¬éœ€è¦è·å–é¼ æ ‡ä½ç½®å’ŒæŒ‰é”®çš„å€¼ï¼Œå¦åˆ™ç›‘å¬è¿™äº›äº‹ä»¶å°±æ²¡ä»€ä¹ˆæ„ä¹‰äº†ã€‚æ‰€æœ‰äº‹ä»¶éƒ½ä¼šä¼ å…¥<code>Event</code>å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¯ä»¥ä»<code>Event</code>å¯¹è±¡ä¸Šè·å–åˆ°æ›´å¤šçš„ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(function () &#123;</span><br><span class="line">    $(&#x27;#testMouseMoveDiv&#x27;).mousemove(function (e) &#123;</span><br><span class="line">        $(&#x27;#testMouseMoveSpan&#x27;).text(&#x27;pageX = &#x27; + e.pageX + &#x27;, pageY = &#x27; + e.pageY);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h4 id="å–æ¶ˆç»‘å®š"><a href="#å–æ¶ˆç»‘å®š" class="headerlink" title="å–æ¶ˆç»‘å®š"></a>å–æ¶ˆç»‘å®š</h4><p>ä¸€ä¸ªå·²è¢«ç»‘å®šçš„äº‹ä»¶å¯ä»¥è§£é™¤ç»‘å®šï¼Œé€šè¿‡<code>off(&#39;click&#39;, function)</code>å®ç°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function hello() &#123;</span><br><span class="line">    alert(&#x27;hello!&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a.click(hello); // ç»‘å®šäº‹ä»¶</span><br><span class="line"></span><br><span class="line">// 10ç§’é’Ÿåè§£é™¤ç»‘å®š:</span><br><span class="line">setTimeout(function () &#123;</span><br><span class="line">    a.off(&#x27;click&#x27;, hello);</span><br><span class="line">&#125;, 10000);</span><br></pre></td></tr></table></figure>

<p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œä¸‹é¢è¿™ç§å†™æ³•æ˜¯æ— æ•ˆçš„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// ç»‘å®šäº‹ä»¶:</span><br><span class="line">a.click(function () &#123;</span><br><span class="line">    alert(&#x27;hello!&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// è§£é™¤ç»‘å®š:</span><br><span class="line">a.off(&#x27;click&#x27;, function () &#123;</span><br><span class="line">    alert(&#x27;hello!&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯å› ä¸ºä¸¤ä¸ªåŒ¿åå‡½æ•°è™½ç„¶é•¿å¾—ä¸€æ¨¡ä¸€æ ·ï¼Œä½†æ˜¯å®ƒä»¬æ˜¯ä¸¤ä¸ªä¸åŒçš„å‡½æ•°å¯¹è±¡ï¼Œ<code>off(&#39;click&#39;, function () &#123;...&#125;)</code>æ— æ³•ç§»é™¤å·²ç»‘å®šçš„ç¬¬ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚</p>
<p>ä¸ºäº†å®ç°ç§»é™¤æ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨<code>off(&#39;click&#39;)</code>ä¸€æ¬¡æ€§ç§»é™¤å·²ç»‘å®šçš„<code>click</code>äº‹ä»¶çš„æ‰€æœ‰å¤„ç†å‡½æ•°ã€‚</p>
<p>åŒç†ï¼Œæ— å‚æ•°è°ƒç”¨<code>off()</code>ä¸€æ¬¡æ€§ç§»é™¤å·²ç»‘å®šçš„æ‰€æœ‰ç±»å‹çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</p>
<h4 id="äº‹ä»¶è§¦å‘æ¡ä»¶"><a href="#äº‹ä»¶è§¦å‘æ¡ä»¶" class="headerlink" title="äº‹ä»¶è§¦å‘æ¡ä»¶"></a>äº‹ä»¶è§¦å‘æ¡ä»¶</h4><p>ä¸€ä¸ªéœ€è¦æ³¨æ„çš„é—®é¢˜æ˜¯ï¼Œäº‹ä»¶çš„è§¦å‘æ€»æ˜¯ç”±ç”¨æˆ·æ“ä½œå¼•å‘çš„ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç›‘æ§æ–‡æœ¬æ¡†çš„å†…å®¹æ”¹åŠ¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var input = $(&#x27;#test-input&#x27;);</span><br><span class="line">input.change(function () &#123;</span><br><span class="line">    console.log(&#x27;changed...&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>å½“ç”¨æˆ·åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥æ—¶ï¼Œå°±ä¼šè§¦å‘<code>change</code>äº‹ä»¶ã€‚ä½†æ˜¯ï¼Œå¦‚æœç”¨JavaScriptä»£ç å»æ”¹åŠ¨æ–‡æœ¬æ¡†çš„å€¼ï¼Œå°†ä¸ä¼šè§¦å‘<code>change</code>äº‹ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var input = $(&#x27;#test-input&#x27;);</span><br><span class="line">input.val(&#x27;change it!&#x27;); // æ— æ³•è§¦å‘changeäº‹ä»¶</span><br></pre></td></tr></table></figure>

<p>æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›ç”¨ä»£ç è§¦å‘changeäº‹ä»¶ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨æ— å‚æ•°çš„change()æ–¹æ³•æ¥è§¦å‘è¯¥äº‹ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var input = $(&#x27;#test-input&#x27;);</span><br><span class="line">input.val(&#x27;change it!&#x27;);</span><br><span class="line">input.change(); // è§¦å‘changeäº‹ä»¶</span><br></pre></td></tr></table></figure>
<p><code>input.change()</code>ç›¸å½“äº<code>input.trigger(&#39;change&#39;)</code>ï¼Œå®ƒæ˜¯<code>trigger()</code>æ–¹æ³•çš„ç®€å†™ã€‚</p>
<p>ä¸ºä»€ä¹ˆæˆ‘ä»¬å¸Œæœ›æ‰‹åŠ¨è§¦å‘ä¸€ä¸ªäº‹ä»¶å‘¢ï¼Ÿå¦‚æœä¸è¿™ä¹ˆåšï¼Œå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¾—å†™ä¸¤ä»½ä¸€æ¨¡ä¸€æ ·çš„ä»£ç ã€‚</p>
<h3 id="æµè§ˆå™¨å®‰å…¨é™åˆ¶"><a href="#æµè§ˆå™¨å®‰å…¨é™åˆ¶" class="headerlink" title="æµè§ˆå™¨å®‰å…¨é™åˆ¶"></a>æµè§ˆå™¨å®‰å…¨é™åˆ¶</h3><p>åœ¨æµè§ˆå™¨ä¸­ï¼Œæœ‰äº›JavaScriptä»£ç åªæœ‰åœ¨ç”¨æˆ·è§¦å‘ä¸‹æ‰èƒ½æ‰§è¡Œï¼Œä¾‹å¦‚ï¼Œ<code>window.open()</code>å‡½æ•°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// æ— æ³•å¼¹å‡ºæ–°çª—å£ï¼Œå°†è¢«æµè§ˆå™¨å±è”½:</span><br><span class="line">$(function () &#123;</span><br><span class="line">    window.open(&#x27;/&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>è¿™äº›â€œæ•æ„Ÿä»£ç â€åªèƒ½ç”±ç”¨æˆ·æ“ä½œæ¥è§¦å‘ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var button1 = $(&#x27;#testPopupButton1&#x27;);</span><br><span class="line">var button2 = $(&#x27;#testPopupButton2&#x27;);</span><br><span class="line"></span><br><span class="line">function popupTestWindow() &#123;</span><br><span class="line">    window.open(&#x27;/&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">button1.click(function () &#123;</span><br><span class="line">    popupTestWindow();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">button2.click(function () &#123;</span><br><span class="line">    // ä¸ç«‹åˆ»æ‰§è¡ŒpopupTestWindow()ï¼Œ3ç§’åæ‰§è¡Œ:</span><br><span class="line">    setTimeout(popupTestWindow, 3000);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å½“ç”¨æˆ·ç‚¹å‡»<code>button1</code>æ—¶ï¼Œ<code>click</code>äº‹ä»¶è¢«è§¦å‘ï¼Œç”±äº<code>popupTestWindow()</code>åœ¨<code>click</code>äº‹ä»¶å¤„ç†å‡½æ•°å†…æ‰§è¡Œï¼Œè¿™æ˜¯æµè§ˆå™¨å…è®¸çš„ï¼Œè€Œ<code>button2</code>çš„<code>click</code>äº‹ä»¶å¹¶æœªç«‹åˆ»æ‰§è¡Œ<code>popupTestWindow()</code>ï¼Œå»¶è¿Ÿæ‰§è¡Œçš„<code>popupTestWindow()</code>å°†è¢«æµè§ˆå™¨æ‹¦æˆªã€‚</p>
<h4 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h4><p>show &#x2F; hide<br>ç›´æ¥ä»¥æ— å‚æ•°å½¢å¼è°ƒç”¨show()å’Œhide()ï¼Œä¼šæ˜¾ç¤ºå’Œéšè—DOMå…ƒç´ ã€‚ä½†æ˜¯ï¼Œåªè¦ä¼ é€’ä¸€ä¸ªæ—¶é—´å‚æ•°è¿›å»ï¼Œå°±å˜æˆäº†åŠ¨ç”»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var div = $(&#x27;#test-show-hide&#x27;);</span><br><span class="line">div.hide(3000); // åœ¨3ç§’é’Ÿå†…é€æ¸æ¶ˆå¤±</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´ä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯â€™slowâ€™ï¼Œâ€™fastâ€™è¿™äº›å­—ç¬¦ä¸²,toggle()æ–¹æ³•åˆ™æ ¹æ®å½“å‰çŠ¶æ€å†³å®šæ˜¯show()è¿˜æ˜¯hide()ã€‚<br>show()å’Œhide()æ˜¯ä»å·¦ä¸Šè§’é€æ¸å±•å¼€æˆ–æ”¶ç¼©çš„ï¼Œè€ŒslideUp()å’ŒslideDown()åˆ™æ˜¯åœ¨å‚ç›´æ–¹å‘é€æ¸å±•å¼€æˆ–æ”¶ç¼©çš„ã€‚<br>fadeIn()å’ŒfadeOut()çš„åŠ¨ç”»æ•ˆæœæ˜¯æ·¡å…¥æ·¡å‡ºï¼Œä¹Ÿå°±æ˜¯é€šè¿‡ä¸æ–­è®¾ç½®DOMå…ƒç´ çš„opacityå±æ€§æ¥å®ç°ï¼Œè€ŒfadeToggle()åˆ™æ ¹æ®å…ƒç´ æ˜¯å¦å¯è§æ¥å†³å®šä¸‹ä¸€æ­¥åŠ¨ä½œï¼š</p>
<h4 id="è‡ªå®šä¹‰åŠ¨ç”»"><a href="#è‡ªå®šä¹‰åŠ¨ç”»" class="headerlink" title="è‡ªå®šä¹‰åŠ¨ç”»"></a>è‡ªå®šä¹‰åŠ¨ç”»</h4><p>å¦‚æœä¸Šè¿°åŠ¨ç”»æ•ˆæœè¿˜ä¸èƒ½æ»¡è¶³ä½ çš„è¦æ±‚ï¼Œé‚£å°±ç¥­å‡ºæœ€åå¤§æ‹›ï¼šanimate()ï¼Œå®ƒå¯ä»¥å®ç°ä»»æ„åŠ¨ç”»æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ä¼ å…¥çš„å‚æ•°å°±æ˜¯DOMå…ƒç´ æœ€ç»ˆçš„CSSçŠ¶æ€å’Œæ—¶é—´ï¼ŒjQueryåœ¨æ—¶é—´æ®µå†…ä¸æ–­è°ƒæ•´CSSç›´åˆ°è¾¾åˆ°æˆ‘ä»¬è®¾å®šçš„å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var div = $(&#x27;#test-animate&#x27;);</span><br><span class="line">div.animate(&#123;</span><br><span class="line">    opacity: 0.25,</span><br><span class="line">    width: &#x27;256px&#x27;,</span><br><span class="line">    height: &#x27;256px&#x27;</span><br><span class="line">&#125;, 3000); // åœ¨3ç§’é’Ÿå†…CSSè¿‡æ¸¡åˆ°è®¾å®šå€¼</span><br></pre></td></tr></table></figure>
<p>animate()è¿˜å¯ä»¥å†ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œå½“åŠ¨ç”»ç»“æŸæ—¶ï¼Œè¯¥å‡½æ•°å°†è¢«è°ƒç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var div = $(&#x27;#test-animate&#x27;);</span><br><span class="line">div.animate(&#123;</span><br><span class="line">    opacity: 0.25,</span><br><span class="line">    width: &#x27;256px&#x27;,</span><br><span class="line">    height: &#x27;256px&#x27;</span><br><span class="line">&#125;, 3000, function () &#123;</span><br><span class="line">    console.log(&#x27;åŠ¨ç”»å·²ç»“æŸ&#x27;);</span><br><span class="line">    // æ¢å¤è‡³åˆå§‹çŠ¶æ€:</span><br><span class="line">    $(this).css(&#x27;opacity&#x27;, &#x27;1.0&#x27;).css(&#x27;width&#x27;, &#x27;128px&#x27;).css(&#x27;height&#x27;, &#x27;128px&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="ä¸²è¡ŒåŠ¨ç”»"><a href="#ä¸²è¡ŒåŠ¨ç”»" class="headerlink" title="ä¸²è¡ŒåŠ¨ç”»"></a>ä¸²è¡ŒåŠ¨ç”»</h4><p>jQueryçš„åŠ¨ç”»æ•ˆæœè¿˜å¯ä»¥ä¸²è¡Œæ‰§è¡Œï¼Œé€šè¿‡delay()æ–¹æ³•è¿˜å¯ä»¥å®ç°æš‚åœï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°æ›´å¤æ‚çš„åŠ¨ç”»æ•ˆæœï¼Œè€Œä»£ç å´ç›¸å½“ç®€å•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var div = $(&#x27;#test-animates&#x27;);</span><br><span class="line">// åŠ¨ç”»æ•ˆæœï¼šslideDown - æš‚åœ - æ”¾å¤§ - æš‚åœ - ç¼©å°</span><br><span class="line">div.slideDown(2000)</span><br><span class="line">   .delay(1000)</span><br><span class="line">   .animate(&#123;</span><br><span class="line">       width: &#x27;256px&#x27;,</span><br><span class="line">       height: &#x27;256px&#x27;</span><br><span class="line">   &#125;, 2000)</span><br><span class="line">   .delay(1000)</span><br><span class="line">   .animate(&#123;</span><br><span class="line">       width: &#x27;128px&#x27;,</span><br><span class="line">       height: &#x27;128px&#x27;</span><br><span class="line">   &#125;, 2000);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="ä¸ºä»€ä¹ˆæœ‰çš„åŠ¨ç”»æ²¡æœ‰æ•ˆæœ"><a href="#ä¸ºä»€ä¹ˆæœ‰çš„åŠ¨ç”»æ²¡æœ‰æ•ˆæœ" class="headerlink" title="ä¸ºä»€ä¹ˆæœ‰çš„åŠ¨ç”»æ²¡æœ‰æ•ˆæœ"></a>ä¸ºä»€ä¹ˆæœ‰çš„åŠ¨ç”»æ²¡æœ‰æ•ˆæœ</h4><p>ä½ å¯èƒ½ä¼šé‡åˆ°ï¼Œæœ‰çš„åŠ¨ç”»å¦‚slideUp()æ ¹æœ¬æ²¡æœ‰æ•ˆæœã€‚è¿™æ˜¯å› ä¸ºjQueryåŠ¨ç”»çš„åŸç†æ˜¯é€æ¸æ”¹å˜CSSçš„å€¼ï¼Œå¦‚heightä»100pxé€æ¸å˜ä¸º0ã€‚ä½†æ˜¯å¾ˆå¤šä¸æ˜¯blockæ€§è´¨çš„DOMå…ƒç´ ï¼Œå¯¹å®ƒä»¬è®¾ç½®heightæ ¹æœ¬å°±ä¸èµ·ä½œç”¨ï¼Œæ‰€ä»¥åŠ¨ç”»ä¹Ÿå°±æ²¡æœ‰æ•ˆæœã€‚</p>
<p>æ­¤å¤–ï¼ŒjQueryä¹Ÿæ²¡æœ‰å®ç°å¯¹background-colorçš„åŠ¨ç”»æ•ˆæœï¼Œç”¨animate()è®¾ç½®background-colorä¹Ÿæ²¡æœ‰æ•ˆæœã€‚è¿™ç§æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨CSS3çš„transitionå®ç°åŠ¨ç”»æ•ˆæœã€‚</p>
<h4 id="ajax"><a href="#ajax" class="headerlink" title="ajax"></a>ajax</h4><p>jQueryåœ¨å…¨å±€å¯¹è±¡<code>jQuery</code>ï¼ˆä¹Ÿå°±æ˜¯<code>$</code>ï¼‰ç»‘å®šäº†<code>ajax()</code>å‡½æ•°ï¼Œå¯ä»¥å¤„ç†<code>AJAX</code>è¯·æ±‚ã€‚<code>ajax(url, settings)</code>å‡½æ•°éœ€è¦æ¥æ”¶ä¸€ä¸ª<code>URL</code>å’Œä¸€ä¸ªå¯é€‰çš„<code>settings</code>å¯¹è±¡ï¼Œå¸¸ç”¨çš„é€‰é¡¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>asyncï¼šæ˜¯å¦å¼‚æ­¥æ‰§è¡ŒAJAXè¯·æ±‚ï¼Œé»˜è®¤ä¸ºtrueï¼Œåƒä¸‡ä¸è¦æŒ‡å®šä¸ºfalseï¼›</li>
<li>methodï¼šå‘é€çš„Methodï¼Œç¼ºçœä¸ºâ€™GETâ€™ï¼Œå¯æŒ‡å®šä¸ºâ€™POSTâ€™ã€â€™PUTâ€™ç­‰ï¼›</li>
<li>contentTypeï¼šå‘é€POSTè¯·æ±‚çš„æ ¼å¼ï¼Œé»˜è®¤å€¼ä¸º<code>&#39;application/x-www-form-urlencoded; charset=UTF-8&#39;</code>ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸º<code>text/plain</code>ã€<code>application/json</code>ï¼›</li>
<li>dataï¼šå‘é€çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•°ç»„æˆ–objectã€‚å¦‚æœæ˜¯<code>GET</code>è¯·æ±‚ï¼Œ<code>data</code>å°†è¢«è½¬æ¢æˆ<code>query</code>é™„åŠ åˆ°<code>URL</code>ä¸Šï¼Œå¦‚æœæ˜¯<code>POST</code>è¯·æ±‚ï¼Œæ ¹æ®<code>contentType</code>æŠŠ<code>data</code>åºåˆ—åŒ–æˆåˆé€‚çš„æ ¼å¼ï¼›</li>
<li>headersï¼šå‘é€çš„é¢å¤–çš„HTTPå¤´ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªobjectï¼›</li>
<li>dataTypeï¼šæ¥æ”¶çš„æ•°æ®æ ¼å¼ï¼Œå¯ä»¥æŒ‡å®šä¸º<code>&#39;html&#39;</code>ã€<code>&#39;xml&#39;</code>ã€<code>&#39;json&#39;</code>ã€<code>&#39;text&#39;</code>ç­‰ï¼Œç¼ºçœæƒ…å†µä¸‹æ ¹æ®å“åº”çš„<code>Content-Type</code>çŒœæµ‹ã€‚</li>
</ul>
<p>ä¸‹é¢çš„ä¾‹å­å‘é€ä¸€ä¸ªGETè¯·æ±‚ï¼Œå¹¶è¿”å›ä¸€ä¸ªJSONæ ¼å¼çš„æ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var jqxhr = $.ajax(&#x27;/api/categories&#x27;, &#123;</span><br><span class="line">    dataType: &#x27;json&#x27;</span><br><span class="line">&#125;);</span><br><span class="line">// è¯·æ±‚å·²ç»å‘é€äº†</span><br></pre></td></tr></table></figure>

<p>jQueryçš„jqXHRå¯¹è±¡ç±»ä¼¼ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é“¾å¼å†™æ³•æ¥å¤„ç†å„ç§å›è°ƒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var jqxhr = $.ajax(&#x27;/api/categories&#x27;, &#123;</span><br><span class="line">    dataType: &#x27;json&#x27;</span><br><span class="line">&#125;).done(function (data) &#123;</span><br><span class="line">    ajaxLog(&#x27;æˆåŠŸ, æ”¶åˆ°çš„æ•°æ®: &#x27; + JSON.stringify(data));</span><br><span class="line">&#125;).fail(function (xhr, status) &#123;</span><br><span class="line">    ajaxLog(&#x27;å¤±è´¥: &#x27; + xhr.status + &#x27;, åŸå› : &#x27; + status);</span><br><span class="line">&#125;).always(function () &#123;</span><br><span class="line">    ajaxLog(&#x27;è¯·æ±‚å®Œæˆ: æ— è®ºæˆåŠŸæˆ–å¤±è´¥éƒ½ä¼šè°ƒç”¨&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>get</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var jqxhr = $.get(&#x27;/path/to/resource&#x27;, &#123;</span><br><span class="line">    name: &#x27;Bob Lee&#x27;,</span><br><span class="line">    check: 1</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒä¸ªå‚æ•°å¦‚æœæ˜¯objectï¼ŒjQueryè‡ªåŠ¨æŠŠå®ƒå˜æˆquery stringç„¶ååŠ åˆ°URLåé¢ï¼Œå®é™…çš„URLæ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/path/to/resource?name=Bob%20Lee&amp;check=1</span><br></pre></td></tr></table></figure>

<p>post<br>ä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°é»˜è®¤è¢«åºåˆ—åŒ–ä¸º<code>application/x-www-form-urlencoded</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var jqxhr = $.post(&#x27;/path/to/resource&#x27;, &#123;</span><br><span class="line">    name: &#x27;Bob Lee&#x27;,</span><br><span class="line">    check: 1</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>å®é™…æ„é€ çš„æ•°æ®<code>name=Bob%20Lee&amp;check=1</code>ä½œä¸ºPOSTçš„<code>body</code>è¢«å‘é€<br>getJSON</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var jqxhr = $.getJSON(&#x27;/path/to/resource&#x27;, &#123;</span><br><span class="line">    name: &#x27;Bob Lee&#x27;,</span><br><span class="line">    check: 1</span><br><span class="line">&#125;).done(function (data) &#123;</span><br><span class="line">    // dataå·²ç»è¢«è§£æä¸ºJSONå¯¹è±¡äº†</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="å®‰å…¨é™åˆ¶"><a href="#å®‰å…¨é™åˆ¶" class="headerlink" title="å®‰å…¨é™åˆ¶"></a>å®‰å…¨é™åˆ¶</h4><p>jQueryçš„AJAXå®Œå…¨å°è£…çš„æ˜¯JavaScriptçš„AJAXæ“ä½œï¼Œæ‰€ä»¥å®ƒçš„å®‰å…¨é™åˆ¶å’Œå‰é¢è®²çš„ç”¨JavaScriptå†™AJAXå®Œå…¨ä¸€æ ·ã€‚<br>å¦‚æœéœ€è¦ä½¿ç”¨JSONPï¼Œå¯ä»¥åœ¨<code>ajax()</code>ä¸­è®¾ç½®<code>jsonp: &#39;callback&#39;</code>ï¼Œè®©jQueryå®ç°JSONPè·¨åŸŸåŠ è½½æ•°æ®ã€‚</p>
<h4 id="ç¼–å†™jQueryæ’ä»¶"><a href="#ç¼–å†™jQueryæ’ä»¶" class="headerlink" title="ç¼–å†™jQueryæ’ä»¶"></a>ç¼–å†™jQueryæ’ä»¶</h4><p>ç»™jQueryå¯¹è±¡ç»‘å®šä¸€ä¸ªæ–°æ–¹æ³•æ˜¯é€šè¿‡æ‰©å±•<code>$.fn</code>å¯¹è±¡å®ç°çš„ã€‚è®©æˆ‘ä»¬æ¥ç¼–å†™ç¬¬ä¸€ä¸ªæ‰©å±•â€”â€”<code>highlight1()</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$.fn.highlight1 = function () &#123;</span><br><span class="line">    // thiså·²ç»‘å®šä¸ºå½“å‰jQueryå¯¹è±¡:</span><br><span class="line">    this.css(&#x27;backgroundColor&#x27;, &#x27;#fffceb&#x27;).css(&#x27;color&#x27;, &#x27;#d85030&#x27;);</span><br><span class="line">    return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„åˆ°å‡½æ•°å†…éƒ¨çš„<code>this</code>åœ¨è°ƒç”¨æ—¶è¢«ç»‘å®šä¸ºjQueryå¯¹è±¡ï¼Œæ‰€ä»¥å‡½æ•°å†…éƒ¨ä»£ç å¯ä»¥æ­£å¸¸è°ƒç”¨æ‰€æœ‰jQueryå¯¹è±¡çš„æ–¹æ³•ã€‚</p>
<p>ä¸ºä»€ä¹ˆæœ€åè¦<code>return this;</code>ï¼Ÿå› ä¸ºjQueryå¯¹è±¡æ”¯æŒé“¾å¼æ“ä½œï¼Œæˆ‘ä»¬è‡ªå·±å†™çš„æ‰©å±•æ–¹æ³•ä¹Ÿè¦èƒ½ç»§ç»­é“¾å¼ä¸‹å»</p>
<p>å¸¦å‚æ•°çš„æ‰©å¼ </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$.fn.highlight2 = function (options) &#123;</span><br><span class="line">    // è¦è€ƒè™‘åˆ°å„ç§æƒ…å†µ:</span><br><span class="line">    // optionsä¸ºundefined</span><br><span class="line">    // optionsåªæœ‰éƒ¨åˆ†key</span><br><span class="line">    var bgcolor = options &amp;&amp; options.backgroundColor || &#x27;#fffceb&#x27;;</span><br><span class="line">    var color = options &amp;&amp; options.color || &#x27;#d85030&#x27;;</span><br><span class="line">    this.css(&#x27;backgroundColor&#x27;, bgcolor).css(&#x27;color&#x27;, color);</span><br><span class="line">    return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºé»˜è®¤å€¼çš„å¤„ç†ï¼Œæˆ‘ä»¬ç”¨äº†ä¸€ä¸ªç®€å•çš„<code>&amp;&amp;</code>å’Œ<code>||</code>çŸ­è·¯æ“ä½œç¬¦ï¼Œæ€»èƒ½å¾—åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„å€¼ã€‚<br>å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨jQueryæä¾›çš„è¾…åŠ©æ–¹æ³•<code>$.extend(target, obj1, obj2, ...)</code>ï¼Œå®ƒæŠŠå¤šä¸ª<code>object</code>å¯¹è±¡çš„å±æ€§åˆå¹¶åˆ°ç¬¬ä¸€ä¸ª<code>target</code>å¯¹è±¡ä¸­ï¼Œé‡åˆ°åŒåå±æ€§ï¼Œæ€»æ˜¯ä½¿ç”¨é åçš„å¯¹è±¡çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¶Šå¾€åä¼˜å…ˆçº§è¶Šé«˜ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// æŠŠé»˜è®¤å€¼å’Œç”¨æˆ·ä¼ å…¥çš„optionsåˆå¹¶åˆ°å¯¹è±¡&#123;&#125;ä¸­å¹¶è¿”å›:</span><br><span class="line">var opts = $.extend(&#123;&#125;, &#123;</span><br><span class="line">    backgroundColor: &#x27;#00a8e6&#x27;,</span><br><span class="line">    color: &#x27;#ffffff&#x27;</span><br><span class="line">&#125;, options);</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬è®¾å®šçš„é»˜è®¤å€¼åº”è¯¥èƒ½å…è®¸ç”¨æˆ·ä¿®æ”¹,æ”¾å…¨å±€å˜é‡è‚¯å®šä¸åˆé€‚ï¼Œæœ€ä½³åœ°ç‚¹æ˜¯<code>$.fn.highlight2</code>è¿™ä¸ªå‡½æ•°å¯¹è±¡æœ¬èº«</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$.fn.highlight = function (options) &#123;</span><br><span class="line">    // åˆå¹¶é»˜è®¤å€¼å’Œç”¨æˆ·è®¾å®šå€¼:</span><br><span class="line">    var opts = $.extend(&#123;&#125;, $.fn.highlight.defaults, options);</span><br><span class="line">    this.css(&#x27;backgroundColor&#x27;, opts.backgroundColor).css(&#x27;color&#x27;, opts.color);</span><br><span class="line">    return this;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è®¾å®šé»˜è®¤å€¼:</span><br><span class="line">$.fn.highlight.defaults = &#123;</span><br><span class="line">    color: &#x27;#d85030&#x27;,</span><br><span class="line">    backgroundColor: &#x27;#fff8de&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”¨æˆ·ä½¿ç”¨æ—¶ï¼Œåªéœ€ä¸€æ¬¡æ€§è®¾å®šé»˜è®¤å€¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$.fn.highlight.defaults.color = &#x27;#fff&#x27;;</span><br><span class="line">$.fn.highlight.defaults.backgroundColor = &#x27;#000&#x27;;</span><br></pre></td></tr></table></figure>

<p>ç¼–å†™ä¸€ä¸ªjQueryæ’ä»¶çš„åŸåˆ™ï¼š</p>
<ol>
<li>ç»™<code>$.fn</code>ç»‘å®šå‡½æ•°ï¼Œå®ç°æ’ä»¶çš„ä»£ç é€»è¾‘ï¼›</li>
<li>æ’ä»¶å‡½æ•°æœ€åè¦<code>return this;</code>ä»¥æ”¯æŒé“¾å¼è°ƒç”¨ï¼›</li>
<li>æ’ä»¶å‡½æ•°è¦æœ‰é»˜è®¤å€¼ï¼Œç»‘å®šåœ¨<code>$.fn.&lt;pluginName&gt;.defaults</code>ä¸Šï¼›</li>
<li>ç”¨æˆ·åœ¨è°ƒç”¨æ—¶å¯ä¼ å…¥è®¾å®šå€¼ä»¥ä¾¿è¦†ç›–é»˜è®¤å€¼ã€‚</li>
</ol>
<h4 id="é’ˆå¯¹ç‰¹å®šå…ƒç´ çš„æ‰©å±•"><a href="#é’ˆå¯¹ç‰¹å®šå…ƒç´ çš„æ‰©å±•" class="headerlink" title="é’ˆå¯¹ç‰¹å®šå…ƒç´ çš„æ‰©å±•"></a>é’ˆå¯¹ç‰¹å®šå…ƒç´ çš„æ‰©å±•</h4><p>jQueryå¯¹è±¡çš„æœ‰äº›æ–¹æ³•åªèƒ½ä½œç”¨åœ¨ç‰¹å®šDOMå…ƒç´ ä¸Šï¼Œæ¯”å¦‚<code>submit()</code>æ–¹æ³•åªèƒ½é’ˆå¯¹<code>form</code>ã€‚</p>
<p>ç»™æ‰€æœ‰æŒ‡å‘å¤–é“¾çš„è¶…é“¾æ¥åŠ ä¸Šè·³è½¬æç¤º:<br>è°ƒç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(&#x27;#main a&#x27;).external();</span><br></pre></td></tr></table></figure>
<p>æ‰©å±•æ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$.fn.external = function () &#123;</span><br><span class="line">    // returnè¿”å›çš„each()è¿”å›ç»“æœï¼Œæ”¯æŒé“¾å¼è°ƒç”¨:</span><br><span class="line">    return this.filter(&#x27;a&#x27;).each(function () &#123;</span><br><span class="line">        // æ³¨æ„: each()å†…éƒ¨çš„å›è°ƒå‡½æ•°çš„thisç»‘å®šä¸ºDOMæœ¬èº«!</span><br><span class="line">        var a = $(this);</span><br><span class="line">        var url = a.attr(&#x27;href&#x27;);</span><br><span class="line">        if (url &amp;&amp; (url.indexOf(&#x27;http://&#x27;)===0 || url.indexOf(&#x27;https://&#x27;)===0)) &#123;</span><br><span class="line">            a.attr(&#x27;href&#x27;, &#x27;#0&#x27;)</span><br><span class="line">             .removeAttr(&#x27;target&#x27;)</span><br><span class="line">             .append(&#x27; &lt;i class=&quot;uk-icon-external-link&quot;&gt;&lt;/i&gt;&#x27;)</span><br><span class="line">             .click(function () &#123;</span><br><span class="line">                if(confirm(&#x27;ä½ ç¡®å®šè¦å‰å¾€&#x27; + url + &#x27;ï¼Ÿ&#x27;)) &#123;</span><br><span class="line">                    window.open(url);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptä¹‹å››é¢å‘å¯¹è±¡ç¼–ç¨‹</title>
    <url>/2024/07/31/JavaScript%E4%B9%8B%E5%9B%9B%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<br />
  
<h2 id="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•"><a href="#è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•" class="headerlink" title="è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ªå»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!"></a>è¯´æ˜ï¼Œè¯¥å­¦ä¹ å†…å®¹æ¥è‡ª<a href="https://www.liaoxuefeng.com/wiki/1022910821149312">å»–é›ªå³°è€å¸ˆâ€”-JavaScriptæ•™ç¨‹</a>ï¼Œæ¬¢è¿è®¿é—®åŸåˆ›è€…ç½‘ç«™ï¼Œæœ¬å¤„ä»…ä»…ä½œä¸ºé˜²æ­¢è‡ªå·±é—å¿˜çš„è®°å½•!</h2><br />
<br />
<br />
  
<ol>
<li><p>æ ‡å‡†å¯¹è±¡<br>åœ¨JavaScriptçš„ä¸–ç•Œé‡Œï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚<br>ç”¨<code>typeof</code>æ“ä½œç¬¦è·å–å¯¹è±¡çš„ç±»å‹ï¼Œå®ƒæ€»æ˜¯è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²<br>ç‰¹åˆ«æ³¨æ„<code>null</code>çš„ç±»å‹æ˜¯<code>object</code>ï¼Œ<code>Array</code>çš„ç±»å‹ä¹Ÿæ˜¯<code>object</code>ï¼Œå¦‚æœæˆ‘ä»¬ç”¨<code>typeof</code>å°†æ— æ³•åŒºåˆ†å‡º<code>null</code>ã€<code>Array</code>å’Œé€šå¸¸æ„ä¹‰ä¸Šçš„<code>object</code>â€”â€”<code>&#123;&#125;</code>ã€‚</p>
</li>
<li><p>åŒ…è£…å¯¹è±¡<br>åœ¨JavaScriptä¸­ï¼Œä¹ŸåŒºåˆ†æ ‡å‡†ç±»å‹å’Œå®ƒçš„åŒ…è£…ç±»å‹ã€‚åŒ…è£…å¯¹è±¡ç”¨<code>new</code>åˆ›å»ºï¼Œå³ç±»å‹<code>object</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var n = new Number(123); // 123,ç”Ÿæˆäº†æ–°çš„åŒ…è£…ç±»å‹</span><br><span class="line">var b = new Boolean(true); // true,ç”Ÿæˆäº†æ–°çš„åŒ…è£…ç±»å‹</span><br><span class="line">var s = new String(&#x27;str&#x27;); // &#x27;str&#x27;,ç”Ÿæˆäº†æ–°çš„åŒ…è£…ç±»å‹</span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥é—²çš„è›‹ç–¼ä¹Ÿä¸è¦ä½¿ç”¨åŒ…è£…å¯¹è±¡ï¼å°¤å…¶æ˜¯é’ˆå¯¹<code>string</code>ç±»å‹ï¼ï¼ï¼<br>å¦‚æœæˆ‘ä»¬åœ¨ä½¿ç”¨<code>Number</code>ã€<code>Boolean</code>å’Œ<code>String</code>æ—¶ï¼Œæ²¡æœ‰å†™<code>new</code>ï¼Œæ­¤æ—¶ï¼Œ<code>Number()</code>ã€<code>Boolean</code>å’Œ<code>String()</code>è¢«å½“åšæ™®é€šå‡½æ•°ï¼ŒæŠŠä»»ä½•ç±»å‹çš„æ•°æ®è½¬æ¢ä¸º<code>number</code>ã€<code>boolean</code>å’Œ<code>string</code>ç±»å‹ï¼ˆæ³¨æ„ä¸æ˜¯å…¶åŒ…è£…ç±»å‹ï¼‰</p>
</li>
</ol>
<p>æ€»ç»“ä¸€ä¸‹ï¼Œæœ‰è¿™ä¹ˆå‡ æ¡è§„åˆ™éœ€è¦éµå®ˆï¼š</p>
<ul>
<li>ä¸è¦ä½¿ç”¨<code>new Number()</code>ã€<code>new Boolean()</code>ã€<code>new String()</code>åˆ›å»ºåŒ…è£…å¯¹è±¡ï¼›</li>
<li>ç”¨<code>parseInt()</code>æˆ–<code>parseFloat()</code>æ¥è½¬æ¢ä»»æ„ç±»å‹åˆ°<code>number</code>ï¼›</li>
<li>ç”¨<code>String()</code>æ¥è½¬æ¢ä»»æ„ç±»å‹åˆ°<code>string</code>ï¼Œæˆ–è€…ç›´æ¥è°ƒç”¨æŸä¸ªå¯¹è±¡çš„<code>toString()</code>æ–¹æ³•ï¼›</li>
<li>é€šå¸¸ä¸å¿…æŠŠä»»æ„ç±»å‹è½¬æ¢ä¸º<code>boolean</code>å†åˆ¤æ–­ï¼Œå› ä¸ºå¯ä»¥ç›´æ¥å†™<code>if (myVar) &#123;...&#125;</code>ï¼›</li>
<li><code>typeof</code>æ“ä½œç¬¦å¯ä»¥åˆ¤æ–­å‡º<code>number</code>ã€<code>boolean</code>ã€<code>string</code>ã€<code>function</code>å’Œ<code>undefined</code>ï¼›</li>
<li>åˆ¤æ–­<code>Array</code>è¦ä½¿ç”¨<code>Array.isArray(arr)</code>ï¼›</li>
<li>åˆ¤æ–­<code>null</code>è¯·ä½¿ç”¨<code>myVar === null</code>ï¼›</li>
<li>åˆ¤æ–­æŸä¸ªå…¨å±€å˜é‡æ˜¯å¦å­˜åœ¨ç”¨<code>typeof window.myVar === &#39;undefined&#39;</code>ï¼›</li>
<li>å‡½æ•°å†…éƒ¨åˆ¤æ–­æŸä¸ªå˜é‡æ˜¯å¦å­˜åœ¨ç”¨<code>typeof myVar === &#39;undefined&#39;</code>ã€‚</li>
</ul>
<p>æœ€åæœ‰ç»†å¿ƒçš„åŒå­¦æŒ‡å‡ºï¼Œä»»ä½•å¯¹è±¡éƒ½æœ‰<code>toString()</code>æ–¹æ³•å—ï¼Ÿ<code>null</code>å’Œ<code>undefined</code>å°±æ²¡æœ‰ï¼ç¡®å®å¦‚æ­¤ï¼Œè¿™ä¸¤ä¸ªç‰¹æ®Šå€¼è¦é™¤å¤–ï¼Œè™½ç„¶<code>null</code>è¿˜ä¼ªè£…æˆäº†<code>object</code>ç±»å‹ã€‚<br><code>number</code>å¯¹è±¡è°ƒç”¨<code>toString()</code>æŠ¥<code>SyntaxError</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">123.toString(); // SyntaxError</span><br></pre></td></tr></table></figure>
<p>é‡åˆ°è¿™ç§æƒ…å†µï¼Œè¦ç‰¹æ®Šå¤„ç†ä¸€ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">123..toString(); // &#x27;123&#x27;, æ³¨æ„æ˜¯ä¸¤ä¸ªç‚¹ï¼</span><br><span class="line">(123).toString(); // &#x27;123&#x27;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Date</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var d1 = new Date(2015, 5, 19, 20, 15, 30, 123);</span><br><span class="line">var d2 = Date.parse(&#x27;2015-06-24T19:49:22.875+08:00&#x27;);  // 1435146562875</span><br><span class="line">var d3 = new Date(d2); // Wed Jun 24 2015 19:49:22 GMT+0800 (CST)</span><br></pre></td></tr></table></figure>
<p>JavaScriptçš„æœˆä»½èŒƒå›´ç”¨æ•´æ•°è¡¨ç¤ºæ˜¯0~11ï¼Œ0è¡¨ç¤ºä¸€æœˆï¼Œ1è¡¨ç¤ºäºŒæœˆâ€¦â€¦<br>Dateå¯¹è±¡è¡¨ç¤ºçš„æ—¶é—´æ€»æ˜¯æŒ‰æµè§ˆå™¨æ‰€åœ¨æ—¶åŒºæ˜¾ç¤ºçš„<br>æ—¶é—´æˆ³æ˜¯ä¸€ä¸ªè‡ªå¢çš„æ•´æ•°ï¼Œå®ƒè¡¨ç¤ºä»1970å¹´1æœˆ1æ—¥é›¶æ—¶æ•´çš„GMTæ—¶åŒºå¼€å§‹çš„é‚£ä¸€åˆ»ï¼Œåˆ°ç°åœ¨çš„æ¯«ç§’æ•°ã€‚æ—¶é—´æˆ³å¯ä»¥ç²¾ç¡®åœ°è¡¨ç¤ºä¸€ä¸ªæ—¶åˆ»ï¼Œå¹¶ä¸”ä¸æ—¶åŒºæ— å…³ã€‚</p>
<ol start="4">
<li>RegExp<br>å•ä¸ªå­—ç¬¦</li>
</ol>
<ul>
<li><code>\d</code>å¯ä»¥åŒ¹é…ä¸€ä¸ªæ•°å­—ï¼Œ</li>
<li><code>\w</code>å¯ä»¥åŒ¹é…ä¸€ä¸ªå­—æ¯æˆ–æ•°å­—,</li>
<li><code>.</code>å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦,</li>
<li><code>\s</code>å¯ä»¥åŒ¹é…ä¸€ä¸ªç©ºæ ¼ï¼ˆä¹ŸåŒ…æ‹¬Tabç­‰ç©ºç™½ç¬¦ï¼‰</li>
</ul>
<p>å˜é•¿çš„å­—ç¬¦</p>
<ul>
<li><code>*</code>è¡¨ç¤ºä»»æ„ä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬0ä¸ªï¼‰ï¼Œ</li>
<li><code>+</code>è¡¨ç¤ºè‡³å°‘ä¸€ä¸ªå­—ç¬¦ï¼Œ</li>
<li><code>?</code>è¡¨ç¤º0ä¸ªæˆ–1ä¸ªå­—ç¬¦ï¼Œ</li>
<li><code>&#123;n&#125;</code>è¡¨ç¤ºnä¸ªå­—ç¬¦ï¼Œ</li>
<li><code>&#123;n,m&#125;</code>è¡¨ç¤ºn-mä¸ªå­—ç¬¦</li>
</ul>
<p>ç‰¹æ®Šå­—ç¬¦ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œè¦ç”¨<code>&#39;\&#39;</code>è½¬ä¹‰</p>
<ul>
<li><code>&#39;-&#39;</code></li>
</ul>
<p>è¿›é˜¶  </p>
<ul>
<li><code>[]</code>è¡¨ç¤ºèŒƒå›´</li>
<li><code>A|B</code>å¯ä»¥åŒ¹é…Aæˆ–B</li>
<li><code>^</code>è¡¨ç¤ºè¡Œçš„å¼€å¤´</li>
<li><code>$</code>è¡¨ç¤ºè¡Œçš„ç»“æŸ</li>
<li><code>()</code>è¡¨ç¤ºçš„å°±æ˜¯è¦æå–çš„åˆ†ç»„ï¼ˆGroupï¼‰</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//åŒ¹é…&#x27;ABC-001&#x27;æˆ–è€…&#x27;ABC\-001&#x27;,re1=/ABC-001/ä¹Ÿå¯ä»¥åŒ¹é…è¿™ä¸¤é¡¹</span><br><span class="line">var re1 = /ABC\-001/;  //  &quot;/æ­£åˆ™è¡¨è¾¾å¼/&quot;å†™å‡ºæ¥</span><br><span class="line">var re2 = new RegExp(&#x27;ABC\\-001&#x27;);  // new RegExp(&#x27;æ­£åˆ™è¡¨è¾¾å¼&#x27;)åˆ›å»ºä¸€ä¸ªRegExpå¯¹è±¡ã€‚</span><br><span class="line">re1 .test(&#x27;ABC-001&#x27;)    // true</span><br><span class="line">re1 .test(&#x27;ABC\-001&#x27;)  // true</span><br><span class="line">&#x27;a,b;; c  d&#x27;.split(/[\s\,\;]+/); // [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span><br><span class="line">var re = /^(\d&#123;3&#125;)-(\d&#123;3,8&#125;)$/;</span><br><span class="line">re.exec(&#x27;010-12345&#x27;); // [&#x27;010-12345&#x27;, &#x27;010&#x27;, &#x27;12345&#x27;]ï¼Œä¹Ÿå¯ä»¥åˆ†ç»„&#x27;010\-12345&#x27;</span><br><span class="line">re.exec(&#x27;010 12345&#x27;); // null</span><br></pre></td></tr></table></figure>

<p>è´ªå©ªåŒ¹é…å’Œéè´ªå©ªåŒ¹é…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var re = /^(\d+)(0*)$/;</span><br><span class="line">re.exec(&#x27;102300&#x27;); // [&#x27;102300&#x27;, &#x27;102300&#x27;, &#x27;&#x27;],è´ªå©ªåŒ¹é…</span><br><span class="line">var re = /^(\d+?)(0*)$/;</span><br><span class="line">re.exec(&#x27;102300&#x27;); // [&#x27;102300&#x27;, &#x27;1023&#x27;, &#x27;00&#x27;]ï¼ŒåŠ ä¸ª?å¯ä»¥è®©\d+é‡‡ç”¨éè´ªå©ªåŒ¹é…</span><br></pre></td></tr></table></figure>

<p>ç‰¹æ®Šæ ‡å¿—</p>
<ul>
<li>gæ ‡å¿—ï¼Œè¡¨ç¤ºå…¨å±€åŒ¹é…</li>
<li>iæ ‡å¿—ï¼Œè¡¨ç¤ºå¿½ç•¥å¤§å°å†™ï¼Œ</li>
<li>mæ ‡å¿—ï¼Œè¡¨ç¤ºæ‰§è¡Œå¤šè¡ŒåŒ¹é…</li>
</ul>
<p>å¤šæ¬¡æ‰§è¡Œexec()æ–¹æ³•æ¥æœç´¢ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²ã€‚æ¯æ¬¡è¿è¡Œexec()ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ¬èº«ä¼šæ›´æ–°lastIndexå±æ€§ï¼Œè¡¨ç¤ºä¸Šæ¬¡åŒ¹é…åˆ°çš„æœ€åç´¢å¼•<br>ä½¿ç”¨<code>/^...$/</code>ï¼Œé‚£æ ·åªä¼šæœ€å¤šåŒ¹é…ä¸€æ¬¡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var r1 = /test/g;</span><br><span class="line">var r2 = new RegExp(&#x27;test&#x27;, &#x27;g&#x27;);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>JSON<br>JSONæ˜¯JavaScript Object Notationçš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ç§æ•°æ®äº¤æ¢æ ¼å¼ã€‚ä¸ºé“æ ¼æ‹‰æ–¯Â·å…‹ç½—å…‹ç¦ç‰¹ï¼ˆDouglas Crockfordï¼‰2002å¹´å‘æ˜ã€‚<br>å­—ç¬¦é›†å¿…é¡»æ˜¯<code>UTF-8</code>ï¼ŒJSONçš„å­—ç¬¦ä¸²ä¹Ÿè§„å®šå¿…é¡»ç”¨åŒå¼•å·<code>&quot;&quot;</code>ï¼Œ<code>Object</code>çš„é”®ä¹Ÿå¿…é¡»ç”¨åŒå¼•å·<code>&quot;&quot;</code>ã€‚</li>
</ol>
<p>æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li><code>number</code>ï¼šå’ŒJavaScriptçš„<code>number</code>å®Œå…¨ä¸€è‡´ï¼›</li>
<li><code>boolean</code>ï¼šå°±æ˜¯JavaScriptçš„<code>true</code>æˆ–<code>false</code>ï¼›</li>
<li><code>string</code>ï¼šå°±æ˜¯JavaScriptçš„<code>string</code>ï¼›</li>
<li><code>null</code>ï¼šå°±æ˜¯JavaScriptçš„<code>null</code>ï¼›</li>
<li><code>array</code>ï¼šå°±æ˜¯JavaScriptçš„Arrayè¡¨ç¤ºæ–¹å¼â€”â€”<code>[]</code>ï¼›</li>
<li><code>object</code>ï¼šå°±æ˜¯JavaScriptçš„<code>&#123; ... &#125;</code>è¡¨ç¤ºæ–¹å¼ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">console.log(JSON.stringify(xiaoming));</span><br><span class="line"></span><br><span class="line">// ç¬¬äºŒä¸ªå‚æ•°ç”¨äºæ§åˆ¶å¦‚ä½•ç­›é€‰å¯¹è±¡çš„é”®å€¼</span><br><span class="line">console.log(JSON.stringify(xiaoming, null, &#x27;  &#x27;));</span><br><span class="line">// ä¼ å…¥Array,è¾“å‡ºæŒ‡å®šçš„å±æ€§</span><br><span class="line">console.log(JSON.stringify(xiaoming, [&#x27;name&#x27;, &#x27;skills&#x27;], &#x27;  &#x27;));</span><br><span class="line">// ä¼ å…¥ä¸€ä¸ªå‡½æ•°</span><br><span class="line">function convert(key, value) &#123;</span><br><span class="line">    if (typeof value === &#x27;string&#x27;) &#123;</span><br><span class="line">        return value.toUpperCase();</span><br><span class="line">    &#125;</span><br><span class="line">    return value;</span><br><span class="line">&#125;</span><br><span class="line">console.log(JSON.stringify(xiaoming, convert, &#x27;  &#x27;));</span><br></pre></td></tr></table></figure>

<p>è‡ªå®šä¹‰<code>toJSON()</code>æ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var xiaoming = &#123;</span><br><span class="line">    name: &#x27;å°æ˜&#x27;,</span><br><span class="line">    age: 14,</span><br><span class="line">    gender: true,</span><br><span class="line">    height: 1.65,</span><br><span class="line">    grade: null,</span><br><span class="line">    &#x27;middle-school&#x27;: &#x27;\&quot;W3C\&quot; Middle School&#x27;,</span><br><span class="line">    skills: [&#x27;JavaScript&#x27;, &#x27;Java&#x27;, &#x27;Python&#x27;, &#x27;Lisp&#x27;],</span><br><span class="line">    toJSON: function () &#123;</span><br><span class="line">        return &#123; // åªè¾“å‡ºnameå’Œageï¼Œå¹¶ä¸”æ”¹å˜äº†keyï¼š</span><br><span class="line">            &#x27;Name&#x27;: this.name,</span><br><span class="line">            &#x27;Age&#x27;: this.age</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">console.log(JSON.stringify(xiaoming)); // &#x27;&#123;&quot;Name&quot;:&quot;å°æ˜&quot;,&quot;Age&quot;:14&#125;&#x27;</span><br></pre></td></tr></table></figure>

<p>ååºåˆ—åŒ–</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">JSON.parse(&#x27;&#123;&quot;name&quot;:&quot;å°æ˜&quot;,&quot;age&quot;:14&#125;&#x27;)</span><br><span class="line">JSON.parse(&#x27;true&#x27;); </span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaè¯»å–Properties</title>
    <url>/2024/07/31/Java%E8%AF%BB%E5%8F%96Properties/</url>
    <content><![CDATA[<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸Šæ¬¡æœ€åæ‰“å¼€çš„æ–‡ä»¶:</span></span><br><span class="line"><span class="attr">last_open_file</span>=<span class="string">/data/hello.txt</span></span><br><span class="line"><span class="comment"># è‡ªåŠ¨ä¿å­˜æ–‡ä»¶çš„æ—¶é—´é—´éš”:</span></span><br><span class="line"><span class="attr">auto_save_interval</span>=<span class="string">60</span></span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•ä¸€: å±æ€§è®¾ç½®å¿…é¡»ä½äº<code>src/main/resources/setting.properties</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;user.dir:   &quot;</span> + System.getProperty(<span class="string">&quot;user.dir&quot;</span>));</span><br><span class="line">    <span class="type">InputStream</span> <span class="variable">resourceAsStream</span> <span class="operator">=</span> App.class.getResourceAsStream(<span class="string">&quot;/setting.properties&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;resourceAsStream path:  &quot;</span>+App.class.getResource(<span class="string">&quot;&quot;</span>).getPath());</span><br><span class="line">    <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        properties.load(resourceAsStream);</span><br><span class="line">        <span class="type">String</span> <span class="variable">pathField</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;last_open_file&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">intervalField</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;auto_save_interval&quot;</span>, <span class="string">&quot;120&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;pathField: &quot;</span> + pathField + <span class="string">&quot;,  intervalField: &quot;</span> + intervalField);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•äºŒï¼šæ­¤æ—¶<code>setting.properties</code>éœ€è¦æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œä¸<code>src</code>ç›®å½•åŒçº§åˆ«</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;setting.properties&quot;</span>;</span><br><span class="line">    <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        properties.load(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(filePath));</span><br><span class="line">        <span class="type">String</span> <span class="variable">pathField</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;last_open_file&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">intervalField</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;auto_save_interval&quot;</span>, <span class="string">&quot;120&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;pathField: &quot;</span> + pathField + <span class="string">&quot;, intervalField: &quot;</span> + intervalField);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxæ‰¹é‡ç»ˆæ­¢è¿›ç¨‹</title>
    <url>/2024/07/31/Linux%E6%89%B9%E9%87%8F%E7%BB%88%E6%AD%A2%E8%BF%9B%E7%A8%8B/</url>
    <content><![CDATA[<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">kill</span> $(ps aux|grep <span class="string">&#x27;[d]otnet Eson.MMS.API.dll&#x27;</span> |awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line">ps -aux|grep java|grep -v grep | awk <span class="string">&#x27;&#123; print $2&#125;&#x27;</span> |xargs -t <span class="built_in">kill</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxåˆ é™¤ä¸ªåˆ«å¤–çš„æ‰€æœ‰æ–‡ä»¶</title>
    <url>/2024/07/31/Linux%E5%88%A0%E9%99%A4%E4%B8%AA%E5%88%AB%E5%A4%96%E7%9A%84%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<p>åˆ é™¤å½“å‰ç›®å½•ä¸‹ï¼Œé™¤â€œLogsâ€å¤–çš„ æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">find . -maxdepth 1 -not -name &#x27;Logs&#x27; -delete</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm !(important.txt)</span><br><span class="line">rm !(*.txt)</span><br><span class="line">rm !(h*)</span><br><span class="line">rm [0-9]*</span><br><span class="line">rm !([0-9]*)</span><br><span class="line">rm [a-c]*</span><br><span class="line">rm -f $(find . -maxdepth 1 -type f -name &quot;*&quot; ! -name &quot;important.txt&quot;)</span><br><span class="line">rm -rf $(find . -name &quot;*&quot; ! -name &quot;important.txt&quot;)</span><br><span class="line">find . -maxdepth 1 -type f ! -name &quot;important.txt&quot; -exec rm &#123;&#125; \;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxç›‘æ§æ–‡ä»¶è¶…é‡é”™è¯¯</title>
    <url>/2024/07/31/Linux%E7%9B%91%E6%8E%A7%E6%96%87%E4%BB%B6%E8%B6%85%E9%87%8F%E9%94%99%E8%AF%AF/</url>
    <content><![CDATA[<p>ä¸´æ—¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> fs.inotify.max_user_watches=524288</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> fs.inotify.max_user_watches=524288 | <span class="built_in">sudo</span> <span class="built_in">tee</span> -a /etc/sysctl.conf &amp;&amp; <span class="built_in">sudo</span> sysctl -p</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>MD5çš„C#å®ç°</title>
    <url>/2024/07/31/MD5%E7%9A%84C-%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<h3 id="ä¸€ã€16ä½å®ç°æ–¹æ³•"><a href="#ä¸€ã€16ä½å®ç°æ–¹æ³•" class="headerlink" title="ä¸€ã€16ä½å®ç°æ–¹æ³•"></a>ä¸€ã€16ä½å®ç°æ–¹æ³•</h3><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 16ä½MD5åŠ å¯†</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strForEncrypt&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">EncryptTo16BitMD5</span>(<span class="params"><span class="built_in">string</span> strForEncrypt</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    MD5 md5 = <span class="keyword">new</span> MD5CryptoServiceProvider();</span><br><span class="line">    <span class="built_in">string</span> result = BitConverter.ToString(md5.ComputeHash(Encoding.Default.GetBytes(strForEncrypt)), <span class="number">4</span>, <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result.Replace(<span class="string">&quot;-&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="äºŒã€32ä½å®ç°æ–¹æ³•"><a href="#äºŒã€32ä½å®ç°æ–¹æ³•" class="headerlink" title="äºŒã€32ä½å®ç°æ–¹æ³•"></a>äºŒã€32ä½å®ç°æ–¹æ³•</h3><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 32ä½MD5åŠ å¯†</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strForEncrypt&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">EncryptTo32BitMD5</span>(<span class="params"><span class="built_in">string</span> strForEncrypt</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//æ³¨æ„å’Œ16ä½çš„åŒºåˆ«ï¼Ÿï¼Ÿï¼Ÿ</span></span><br><span class="line">    MD5 md5 = MD5.Create();</span><br><span class="line">    <span class="built_in">byte</span>[] s = md5.ComputeHash(Encoding.UTF8.GetBytes(strForEncrypt));</span><br><span class="line"></span><br><span class="line">    StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; s.Length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        result.Append(s[i].ToString(<span class="string">&quot;X3&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result.ToString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>Mavenä½¿ç”¨</title>
    <url>/2024/07/30/Maven%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>åŸåˆ›è€…<a href="https://www.jianshu.com/p/b4ef9978d85d">Maven å…¥é—¨æŒ‡å—</a><br>å®˜æ–¹èµ„æ–™<a href="http://maven.apache.org/guides/getting-started/index.html#">Maven Getting Started Guide</a></p>
<h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">mvn <span class="literal">-B</span> <span class="string">&quot;archetype:generate&quot;</span> <span class="string">&quot;-DarchetypeGroupId=org.apache.maven.archetypes&quot;</span>  <span class="string">&quot;-DgroupId=com.mycompany.app&quot;</span>  <span class="string">&quot;-DartifactId=my-app&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong> å‚æ•°è¦ä½¿ç”¨å¼•å·<code>&quot;&quot;</code>åŒ…èµ·æ¥ã€‚å¦‚ä¸‹å‘½ä»¤åœ¨Windowsç³»ç»Ÿæ— æ³•è¿è¡ŒæˆåŠŸ</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">mvn <span class="literal">-B</span> archetype:generate  <span class="literal">-DarchetypeGroupId</span>=org.apache.maven.archetypes  <span class="literal">-DgroupId</span>=com.mycompany.app  <span class="literal">-DartifactId</span>=my<span class="literal">-app</span></span><br></pre></td></tr></table></figure>

<p>è‹¥åœæ­¢åœ¨<code>Generating project in Batch mode</code>ï¼Œæ˜¯å› ä¸ºè¦ä½¿ç”¨<a href="https://repo.maven.apache.org/maven2/archetype-catalog.xml">archetype-catalog.xml</a>æ–‡ä»¶ï¼Œå¯ä»¥å…ˆä¸‹è½½ä¸‹æ¥ï¼Œæ”¾åœ¨<code>D:\PackagesRepository\Java\org\apache\maven\archetype\archetype-catalog\3.2.0\</code>ç›®å½•ä¸‹é¢ï¼Œç„¶ååœ¨æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ï¼Œæ·»åŠ å‚æ•°<code>&quot;-DarchetypeCatalog=local&quot;</code>,ä»¥ä½¿ç”¨ä¸‹è½½çš„æœ¬åœ°<code>archetype-catalog.xml</code>æ–‡ä»¶ã€‚</p>
<h2 id="IntelliJ-IDEAä¸­è®¾ç½®"><a href="#IntelliJ-IDEAä¸­è®¾ç½®" class="headerlink" title="IntelliJ IDEAä¸­è®¾ç½®"></a>IntelliJ IDEAä¸­è®¾ç½®</h2><p>â€œBuild,Execution,Deploymentâ€â€”&gt;â€Build Toolsâ€â€”&gt;â€Mavenâ€â€”&gt;â€Runnerâ€â€”&gt;â€Propertiesâ€æ·»åŠ å±æ€§</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">-DarchetypeCatalog</span>=internal</span><br></pre></td></tr></table></figure>

<h2 id="æŒ‡å®šç¼–ç å’ŒJAVAç‰ˆæœ¬"><a href="#æŒ‡å®šç¼–ç å’ŒJAVAç‰ˆæœ¬" class="headerlink" title="æŒ‡å®šç¼–ç å’ŒJAVAç‰ˆæœ¬"></a>æŒ‡å®šç¼–ç å’ŒJAVAç‰ˆæœ¬</h2><p>ç¼–è¾‘<code>pom.xml</code>ï¼ŒæŒ‡å®šç¼–ç å’ŒJAVAç‰ˆæœ¬ï¼Œå¦åˆ™ï¼Œå¯èƒ½å¯¼è‡´ä½¿ç”¨Windowsç³»ç»Ÿçš„é»˜è®¤<code>GBK</code>ç¼–ç å’Œ<code>ä¸å†æ”¯æŒæºé€‰é¡¹ 5ã€‚è¯·ä½¿ç”¨ 6 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚ä¸å†æ”¯æŒç›®æ ‡é€‰é¡¹ 1.5ã€‚è¯·ä½¿ç”¨ 1.6 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</code>é”™è¯¯ã€‚</p>
<p>JDK 8å’Œä¹‹å‰çš„ç‰ˆæœ¬</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>JDK 9å’Œä¹‹åçš„ç‰ˆæœ¬</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">maven.compiler.release</span>&gt;</span>9<span class="tag">&lt;/<span class="name">maven.compiler.release</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç‰¹åˆ«çš„é’ˆå¯¹Springé¡¹ç›®ï¼Œæ·»åŠ å¦‚ä¸‹å±æ€§</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é’ˆå¯¹<code>maven-compiler-plugin</code> ç»„ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span>&gt;</span>17<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">target</span>&gt;</span>17<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å¦‚ä¸‹ä»£ç ä»¥ä½¿jaråŒ…å¯ä»¥æ‰§è¡Œï¼Œå¦åˆ™ä¼šæŠ¥é”™<code>jarä¸­æ²¡æœ‰ä¸»æ¸…å•å±æ€§</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä¿®æ”¹ç¼–è¯‘å‡ºæ¥çš„jaråŒ…åï¼Œä»…ä¸º&#123;artifactId&#125;.jar--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>$&#123;project.artifactId&#125;<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-jar-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">addClasspath</span>&gt;</span>true<span class="tag">&lt;/<span class="name">addClasspath</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- æ­¤å¤„ä¸ºä¸»å…¥å£,å¦‚æœ‰åŒ…åï¼Œéœ€è¦å¡«å†™å®Œæ•´è·¯å¾„--&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>org.example.App<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span> </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡ŒjaråŒ…çš„å‘½ä»¤ä¸º:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java -jar xxx.jar</span><br></pre></td></tr></table></figure>

<h2 id="åŒ…å†²çª"><a href="#åŒ…å†²çª" class="headerlink" title="åŒ…å†²çª"></a>åŒ…å†²çª</h2><h3 id="å¦‚ä½•äº§ç”Ÿï¼Ÿ"><a href="#å¦‚ä½•äº§ç”Ÿï¼Ÿ" class="headerlink" title="å¦‚ä½•äº§ç”Ÿï¼Ÿ"></a>å¦‚ä½•äº§ç”Ÿï¼Ÿ</h3><p>ä¾‹å¦‚ï¼š</p>
<blockquote>
<p>A-&gt;B-&gt;C-&gt;D1<br>E-&gt;F-&gt;D2</p>
</blockquote>
<p>å‡è®¾D1,D2åˆ†åˆ«ä¸º D çš„ä¸åŒç‰ˆæœ¬ã€‚å¦‚æœ <code>pom.xml</code> æ–‡ä»¶ä¸­å¼•å…¥äº† <code>A</code> å’Œ <code>E</code> ä¹‹åï¼ŒæŒ‰ç…§ Maven ä¼ é€’ä¾èµ–åŸåˆ™ï¼Œå·¥ç¨‹å†…éœ€è¦å¼•å…¥çš„å®é™… Jar åŒ…å°†ä¼šæœ‰ï¼šA B C D1 å’Œ E F D2ï¼Œå› æ­¤ D1,D2 å°†ä¼šäº§ç”ŸåŒ…å†²çªã€‚</p>
<h3 id="å¦‚ä½•è§£å†³"><a href="#å¦‚ä½•è§£å†³" class="headerlink" title="å¦‚ä½•è§£å†³"></a>å¦‚ä½•è§£å†³</h3><p>Maven è§£æ <code>pom.xml</code> æ–‡ä»¶æ—¶ï¼ŒåŒä¸€ä¸ª <code>jar</code> åŒ…åªä¼šä¿ç•™ä¸€ä¸ªï¼Œè¿™æ ·æœ‰æ•ˆçš„é¿å…å› å¼•å…¥ä¸¤ä¸ª <code>jar</code> åŒ…å¯¼è‡´çš„å·¥ç¨‹è¿è¡Œä¸ç¨³å®šæ€§ã€‚</p>
<h4 id="Maven-é»˜è®¤å¤„ç†ç­–ç•¥"><a href="#Maven-é»˜è®¤å¤„ç†ç­–ç•¥" class="headerlink" title="Maven é»˜è®¤å¤„ç†ç­–ç•¥"></a>Maven é»˜è®¤å¤„ç†ç­–ç•¥</h4><ul>
<li><p>æœ€çŸ­è·¯å¾„ä¼˜å…ˆ<br>Maven é¢å¯¹ D1 å’Œ D2 æ—¶ï¼Œä¼šé»˜è®¤é€‰æ‹©æœ€çŸ­è·¯å¾„çš„é‚£ä¸ª jar åŒ…ï¼Œå³ D2ã€‚E-&gt;F-&gt;D2 æ¯” A-&gt;B-&gt;C-&gt;D1 è·¯å¾„çŸ­ 1ã€‚</p>
</li>
<li><p>æœ€å…ˆå£°æ˜ä¼˜å…ˆ<br>å¦‚æœè·¯å¾„ä¸€æ ·çš„è¯ï¼Œä¾‹å¦‚ï¼š A-&gt;B-&gt;C1, E-&gt;F-&gt;C2 ï¼Œä¸¤ä¸ªä¾èµ–è·¯å¾„é•¿åº¦éƒ½æ˜¯ 2ï¼Œé‚£ä¹ˆå°±é€‰æ‹©æœ€å…ˆå£°æ˜ã€‚</p>
</li>
<li><p>ç§»é™¤ä¾èµ–<br>å¦‚æœæˆ‘ä»¬ä¸æƒ³é€šè¿‡ A-&gt;B-&gt;-&gt;D1 å¼•å…¥ D1 çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨å£°æ˜å¼•å…¥ A çš„æ—¶å€™å°† D1 æ’é™¤æ‰ï¼Œè¿™æ ·ä¹Ÿé¿å…äº†åŒ…å†²çªã€‚<br>ä¾‹å¦‚ï¼šå°† zookeeper çš„ jline ä¾èµ–æ’é™¤</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.zookeeper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>zookeeper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jline<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jline<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="æ£€æµ‹å·¥å…·"><a href="#æ£€æµ‹å·¥å…·" class="headerlink" title="æ£€æµ‹å·¥å…·"></a>æ£€æµ‹å·¥å…·</h4><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">mvn dependency:help</span><br><span class="line">mvn dependency:analyze</span><br><span class="line">mvn dependency:tree</span><br><span class="line">mvn dependency:tree <span class="literal">-Dverbose</span></span><br></pre></td></tr></table></figure>

<h2 id="ä¾èµ–ç®¡ç†è§£å†³ä»€ä¹ˆé—®é¢˜"><a href="#ä¾èµ–ç®¡ç†è§£å†³ä»€ä¹ˆé—®é¢˜" class="headerlink" title="ä¾èµ–ç®¡ç†è§£å†³ä»€ä¹ˆé—®é¢˜"></a>ä¾èµ–ç®¡ç†è§£å†³ä»€ä¹ˆé—®é¢˜</h2><p>å½“åŒä¸€ä¸ªå·¥ç¨‹å†…æœ‰å¤šä¸ªæ¨¡å—æ—¶ï¼Œå¹¶ä¸”è¦æ±‚å¤šä¸ªæ¨¡å—ä½¿ç”¨æŸä¸ª <code>jar</code> åŒ…çš„ç›¸åŒç‰ˆæœ¬ï¼Œä¸ºäº†æ–¹ä¾¿ç»Ÿä¸€ç‰ˆæœ¬å·ï¼Œå‡çº§ç‰ˆæœ¬å·ï¼Œéœ€è¦æå–å‡ºä¸€ä¸ªçˆ¶äº²æ¨¡å—æ¥ç®¡ç†å­æ¨¡å—å…±åŒä¾èµ–çš„ <code>jar</code> åŒ…ç‰ˆæœ¬ã€‚</p>
<p>ä¾‹å¦‚ï¼šæœ‰ä¸¤ä¸ªæ¨¡å— projectA, projectBï¼Œå®ƒä»¬çš„ä¾èµ–åˆ†åˆ«å¦‚ä¸‹æ‰€ç¤º</p>
<p>projectA</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>group-a<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>artifact-a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>group-c<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>excluded-artifact<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>group-d<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>artifact-a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">type</span>&gt;</span>bar<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>projectB</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>group-b<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>artifact-b<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">type</span>&gt;</span>war<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>group-d<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>artifact-a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">type</span>&gt;</span>bar<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>projectA å’Œ projectB å…±åŒä¾èµ–äº† <code>group-d/artifact-a/1.0</code>ï¼Œæå–å…¬å…±ä¾èµ–ï¼Œç”Ÿæˆ <code>parent(group-c,artifact-a)</code>ï¼Œ parent ä¾èµ–å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>group-d<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>artifact-a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">type</span>&gt;</span>bar<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åˆ™ projectA å’Œ projectB å‡ä¸éœ€è¦æŒ‡å®š <code>group-d/artifact-a</code> çš„ <code>version</code> ä¿¡æ¯ï¼Œæœªæ¥å‡çº§ <code>version</code> ä¿¡æ¯æ—¶ï¼Œåªéœ€è¦åœ¨ parent å†…éƒ¨æŒ‡å®šã€‚</p>
<p>projectA:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>group-a<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>artifact-a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>group-c<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>excluded-artifact<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>group-c<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>artifact-a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>projectB:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>group-c<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>artifact-b<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">type</span>&gt;</span>war<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>group-c<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>artifact-a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="ä¾èµ–èŒƒå›´"><a href="#ä¾èµ–èŒƒå›´" class="headerlink" title="ä¾èµ–èŒƒå›´"></a>ä¾èµ–èŒƒå›´</h2><p>å¦‚æœä¸æ˜¾ç¤ºæ‰§è¡Œ <code>&lt;scope&gt;</code> å±æ€§æ—¶ï¼Œé»˜è®¤ <code>&lt;scope&gt;compile&lt;/scope&gt;</code>ã€‚</p>
<p><code>scope</code> æœ‰å¦‚ä¸‹å±æ€§ï¼š<code>compile</code>, <code>provided</code>, <code>runtime</code>, <code>test</code>, <code>system</code> ç­‰ã€‚è¯¦ç»†å‚è€ƒï¼š<a href="https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope">ä¾èµ–èŒƒå›´</a></p>
<h2 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h2><ol>
<li>é¡¹ç›®ä¸­æºä»£ç ä½¿ç”¨çš„ <code>jar</code> åŒ…ä¸€å®šåœ¨ <code>pom.xml</code> ä¸­æ˜¾ç¤ºå¼•ç”¨ã€‚</li>
<li>ç»å¸¸ <code>check</code> ä¸€ä¸‹åŒ…å†²çªï¼Œæ£€æŸ¥æ˜¯å¦éœ€è¦å¤„ç†ã€‚</li>
<li>å½“ä½¿ç”¨å¤šä¸ªæ¨¡å—æ—¶ï¼Œparent ä¸€å®šè¦ä½¿ç”¨åŒ…ç®¡ç†æ¨¡å—æ¥è§„èŒƒ <code>Jar</code> åŒ…ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯åŒ…ä¾èµ–æ¨¡å—ç›´æ¥å¼•å…¥ä¾èµ–ã€‚ <code>dependencyManagement</code> vs <code>dependencies</code></li>
</ol>
<h2 id="æ‰“åŒ…æ’ä»¶"><a href="#æ‰“åŒ…æ’ä»¶" class="headerlink" title="æ‰“åŒ…æ’ä»¶"></a>æ‰“åŒ…æ’ä»¶</h2><table>
<thead>
<tr>
<th>æ’ä»¶</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>maven-jar-plugin</td>
<td>maven é»˜è®¤æ‰“åŒ…æ’ä»¶ï¼Œç”¨æ¥åˆ›å»º project jar</td>
</tr>
<tr>
<td>maven-shade-plugin</td>
<td>ç”¨æ¥æ‰“å¯æ‰§è¡ŒåŒ…ï¼Œexecutable(fat) jar</td>
</tr>
<tr>
<td>maven-assembly-plugin</td>
<td>æ”¯æŒå®šåˆ¶åŒ–æ‰“åŒ…æ–¹å¼ï¼Œä¾‹å¦‚ apache é¡¹ç›®çš„æ‰“åŒ…æ–¹å¼</td>
</tr>
</tbody></table>
<h3 id="maven-shade-pluginä½¿ç”¨"><a href="#maven-shade-pluginä½¿ç”¨" class="headerlink" title="maven-shade-pluginä½¿ç”¨"></a>maven-shade-pluginä½¿ç”¨</h3><h4 id="åŸºæœ¬æ‰“åŒ…"><a href="#åŸºæœ¬æ‰“åŒ…" class="headerlink" title="åŸºæœ¬æ‰“åŒ…"></a>åŸºæœ¬æ‰“åŒ…</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shade-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- put your configurations here --&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">goal</span>&gt;</span>shade<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„è®¾ç½®å°† goal shade:shade ç»‘å®šåˆ° phase package ä¸Šã€‚æ‰§è¡Œå‘½ä»¤</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">mvn clean package</span><br></pre></td></tr></table></figure>

<h4 id="å°†è¯¥å·¥ç¨‹ä¾èµ–çš„éƒ¨åˆ†-Jar-åŒ…-include-exclude-æ‰"><a href="#å°†è¯¥å·¥ç¨‹ä¾èµ–çš„éƒ¨åˆ†-Jar-åŒ…-include-exclude-æ‰" class="headerlink" title="å°†è¯¥å·¥ç¨‹ä¾èµ–çš„éƒ¨åˆ† Jar åŒ… include&#x2F;exclude æ‰"></a>å°†è¯¥å·¥ç¨‹ä¾èµ–çš„éƒ¨åˆ† Jar åŒ… include&#x2F;exclude æ‰</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shade-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- put your configurations here --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactSet</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>classworlds:classworlds<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>junit:junit<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>jmock:*<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>*:xml-apis<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>org.apache.maven:lib:tests<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>log4j:log4j:jar:<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">artifactSet</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>shade<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="å°†ä¾èµ–çš„æŸä¸ª-Jar-åŒ…å†…éƒ¨çš„ç±»æˆ–è€…èµ„æº-include-exclude-æ‰"><a href="#å°†ä¾èµ–çš„æŸä¸ª-Jar-åŒ…å†…éƒ¨çš„ç±»æˆ–è€…èµ„æº-include-exclude-æ‰" class="headerlink" title="å°†ä¾èµ–çš„æŸä¸ª Jar åŒ…å†…éƒ¨çš„ç±»æˆ–è€…èµ„æº include/exclude æ‰"></a>å°†ä¾èµ–çš„æŸä¸ª <code>Jar</code> åŒ…å†…éƒ¨çš„ç±»æˆ–è€…èµ„æº <code>include/exclude</code> æ‰</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shade-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- put your configurations here --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filters</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifact</span>&gt;</span>junit:junit<span class="tag">&lt;/<span class="name">artifact</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">include</span>&gt;</span>junit/framework/**<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">include</span>&gt;</span>org/junit/**<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>org/junit/experimental/**<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>org/junit/runners/**<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifact</span>&gt;</span>*:*<span class="tag">&lt;/<span class="name">artifact</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>META-INF/*.SF<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>META-INF/*.DSA<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>META-INF/*.RSA<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">filters</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>shade<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="maven-shade-plugin-è‡ªåŠ¨å°†æ‰€æœ‰ä¸ä½¿ç”¨çš„ç±»å…¨éƒ¨æ’é™¤æ‰ï¼Œå°†-jar-æœ€å°åŒ–"><a href="#maven-shade-plugin-è‡ªåŠ¨å°†æ‰€æœ‰ä¸ä½¿ç”¨çš„ç±»å…¨éƒ¨æ’é™¤æ‰ï¼Œå°†-jar-æœ€å°åŒ–" class="headerlink" title="maven-shade-plugin è‡ªåŠ¨å°†æ‰€æœ‰ä¸ä½¿ç”¨çš„ç±»å…¨éƒ¨æ’é™¤æ‰ï¼Œå°† jar æœ€å°åŒ–"></a>maven-shade-plugin è‡ªåŠ¨å°†æ‰€æœ‰ä¸ä½¿ç”¨çš„ç±»å…¨éƒ¨æ’é™¤æ‰ï¼Œå°† <code>jar</code> æœ€å°åŒ–</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shade-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- put your configurations here --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">minimizeJar</span>&gt;</span>true<span class="tag">&lt;/<span class="name">minimizeJar</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>shade<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é»˜è®¤ä¼šç”Ÿæˆä¸€ä¸ªJaråŒ…å’Œä¸€ä¸ªä»¥ <code>-shaded</code>ä¸ºç»“å°¾çš„<code>uber-jar</code>åŒ…ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ¥æŒ‡å®š<code>jar</code>çš„åç¼€å</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shade-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- put your configurations here --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">shadedArtifactAttached</span>&gt;</span>true<span class="tag">&lt;/<span class="name">shadedArtifactAttached</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Any name that makes sense --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">shadedClassifierName</span>&gt;</span>jackofall<span class="tag">&lt;/<span class="name">shadedClassifierName</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>shade<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="é€šè¿‡è®¾ç½®-MainClass-åˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œ-Jar-åŒ…"><a href="#é€šè¿‡è®¾ç½®-MainClass-åˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œ-Jar-åŒ…" class="headerlink" title="é€šè¿‡è®¾ç½® MainClass åˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œ Jar åŒ…"></a>é€šè¿‡è®¾ç½® MainClass åˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œ Jar åŒ…</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shade-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- put your configurations here --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transformers</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">transformer</span> <span class="attr">implementation</span>=<span class="string">&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>org.sonatype.haven.HavenCli<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">transformer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transformers</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>shade<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Java å·¥ç¨‹ç»å¸¸ä¼šé‡åˆ°ç¬¬ä¸‰æ–¹ <code>Jar</code> åŒ…å†²çªï¼Œä½¿ç”¨ <code>maven shade plugin</code> è§£å†³ <code>jar</code> æˆ–ç±»çš„å¤šç‰ˆæœ¬å†²çªã€‚ <code>maven-shade-plugin</code> åœ¨æ‰“åŒ…æ—¶ï¼Œå¯ä»¥å°†é¡¹ç›®ä¸­ä¾èµ–çš„ <code>jar</code> åŒ…ä¸­çš„ä¸€äº›ç±»æ–‡ä»¶æ‰“åŒ…åˆ°é¡¹ç›®æ„å»ºç”Ÿæˆçš„ <code>jar</code> åŒ…ä¸­ï¼Œåœ¨æ‰“åŒ…çš„æ—¶å€™æŠŠç±»é‡å‘½åã€‚ä¸‹é¢çš„é…ç½®å°† <code>org.codehaus.plexus.util</code> <code>jar</code>åŒ…é‡å‘½åä¸º <code>org.shaded.plexus.util</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shade-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- put your configurations here --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relocations</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">relocation</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>org.codehaus.plexus.util<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">shadedPattern</span>&gt;</span>org.shaded.plexus.util<span class="tag">&lt;/<span class="name">shadedPattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>org.codehaus.plexus.util.xml.Xpp3Dom<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>org.codehaus.plexus.util.xml.pull.*<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">relocation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">relocations</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>shade<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Maven</tag>
        <tag>JDK</tag>
      </tags>
  </entry>
  <entry>
    <title>Mavenæ‰“åŒ…å¯æ‰§è¡Œjar</title>
    <url>/2024/07/31/Maven%E6%89%93%E5%8C%85%E5%8F%AF%E6%89%A7%E8%A1%8Cjar/</url>
    <content><![CDATA[<p>é»˜è®¤ Maven é¡¹ç›®æ‰“åŒ…åæ— æ³•ä½¿ç”¨<code>java -jar xxx.jar</code>è¿è¡Œï¼Œéœ€è¦ä½¿ç”¨<code>maven-shade-plugin</code>æ’ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shade-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goal</span>&gt;</span>shade<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!--é»˜è®¤ç”Ÿæˆoriginalå’Œshadeçš„jaråŒ…,ä½¿ç”¨æ­¤è¡Œï¼Œä»…ç”Ÿæˆshadeçš„jaråŒ…--&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>$&#123;pom.basedir&#125;/target/$&#123;project.artifactId&#125;<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">transformers</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">transformer</span></span></span><br><span class="line"><span class="tag">                                <span class="attr">implementation</span>=<span class="string">&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>è®¾ç½®ä¸»ç±»<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">transformer</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">transformers</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Maven</tag>
      </tags>
  </entry>
  <entry>
    <title>MyBatisæ‰“å°SQLæ—¥å¿—</title>
    <url>/2024/07/31/MyBatis%E6%89%93%E5%8D%B0SQL%E6%97%A5%E5%BF%97/</url>
    <content><![CDATA[<ol>
<li>ç¼–è¾‘â€œmybatis.config.xmlâ€æˆ–â€œmybatis-config.xmlâ€ï¼Œå†…å®¹ä¸º</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta"><span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD SQL Map Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta"><span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;STDOUT_LOGGING&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>SpringBootçš„â€œapplication.yamlâ€é‡Œå¢åŠ é…ç½®</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLä¹‹GroupBy</title>
    <url>/2024/07/31/MySQL%E4%B9%8BGroupBy/</url>
    <content><![CDATA[<p>SQL æ ‡å‡†ä¸­ä¸å…è®¸ <code>SELECT</code> åˆ—è¡¨ï¼Œ<code>HAVING</code> æ¡ä»¶è¯­å¥ï¼Œæˆ– <code>ORDER BY</code> è¯­å¥ä¸­å‡ºç° <code>GROUP BY</code> ä¸­æœªåˆ—è¡¨çš„å¯èšåˆåˆ—ã€‚è€Œ MySQL ä¸­æœ‰ä¸€ä¸ªçŠ¶æ€ <code>ONLY_FULL_GROUP_BY</code> æ¥æ ‡è¯†æ˜¯å¦éµä»è¿™ä¸€æ ‡å‡†ï¼Œé»˜è®¤ä¸ºå¼€å¯çŠ¶æ€ã€‚</p>
<p>æŸ¥çœ‹å˜æ›´å‰çš„<code>sql_mode</code></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@sql_mode</span>;</span><br></pre></td></tr></table></figure>

<p>ä¼šè¯åœç”¨<code>ONLY_FULL_GROUP_BY</code></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SET</span> SESSION sql_mode<span class="operator">=</span>(<span class="keyword">SELECT</span> REPLACE(@<span class="variable">@sql_mode</span>,<span class="string">&#x27;ONLY_FULL_GROUP_BY,&#x27;</span>,<span class="string">&#x27;&#x27;</span>));</span><br></pre></td></tr></table></figure>

<p>å…¨å±€é…ç½®ï¼Œç¼–è¾‘<code>/etc/my.cnf</code>æ–‡ä»¶</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">sql_mode<span class="operator">=</span>STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLå¿«é€Ÿç”Ÿæˆæ•°æ®å­—å…¸</title>
    <url>/2024/07/31/MySQL%E5%BF%AB%E9%80%9F%E7%94%9F%E6%88%90%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/</url>
    <content><![CDATA[<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line"><span class="comment">--     t.TABLE_SCHEMA AS åº“å,</span></span><br><span class="line"><span class="comment">--     t.TABLE_NAME AS è¡¨å,</span></span><br><span class="line">    t.COLUMN_NAME <span class="keyword">AS</span> <span class="string">&#x27;å­—æ®µå&#x27;</span>,</span><br><span class="line">    t.COLUMN_TYPE <span class="keyword">AS</span> <span class="string">&#x27;æ•°æ®ç±»å‹&#x27;</span>,</span><br><span class="line">    <span class="keyword">CASE</span> t.COLUMN_KEY </span><br><span class="line">		<span class="keyword">WHEN</span> <span class="string">&#x27;PRI&#x27;</span> <span class="keyword">THEN</span> <span class="string">&#x27;æ˜¯&#x27;</span></span><br><span class="line">        <span class="keyword">ELSE</span> <span class="string">&#x27;å¦&#x27;</span> <span class="keyword">END</span> <span class="keyword">AS</span> <span class="string">&#x27;æ˜¯å¦ä¸»é”®&#x27;</span>,</span><br><span class="line">    <span class="keyword">CASE</span> IFNULL(t.COLUMN_DEFAULT,<span class="string">&#x27;Null&#x27;</span>) </span><br><span class="line">        <span class="keyword">WHEN</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">THEN</span> <span class="string">&#x27;ç©ºå­—ç¬¦ä¸²&#x27;</span> </span><br><span class="line">        <span class="keyword">WHEN</span> <span class="string">&#x27;Null&#x27;</span> <span class="keyword">THEN</span> <span class="string">&#x27;NULL&#x27;</span> </span><br><span class="line">        <span class="keyword">ELSE</span> t.COLUMN_DEFAULT <span class="keyword">END</span>  <span class="keyword">AS</span> <span class="string">&#x27;é»˜è®¤å€¼&#x27;</span>,</span><br><span class="line">    <span class="keyword">CASE</span> t.IS_NULLABLE <span class="keyword">WHEN</span> <span class="string">&#x27;YES&#x27;</span> <span class="keyword">THEN</span> <span class="string">&#x27;æ˜¯&#x27;</span> <span class="keyword">ELSE</span> <span class="string">&#x27;å¦&#x27;</span> <span class="keyword">END</span> <span class="keyword">AS</span> <span class="string">&#x27;æ˜¯å¦å…è®¸ä¸ºç©º&#x27;</span>,</span><br><span class="line">    t.COLUMN_COMMENT <span class="keyword">AS</span> <span class="string">&#x27;å­—æ®µè¯´æ˜&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> information_schema.COLUMNS t </span><br><span class="line"><span class="keyword">WHERE</span> t.TABLE_SCHEMA<span class="operator">=</span><span class="string">&#x27;substation-platform&#x27;</span> <span class="keyword">AND</span> t.TABLE_NAME<span class="operator">=</span><span class="string">&#x27;biz_audio_device&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>SELECTåçš„å‡ ä¸ªå±æ€§åº“åã€è¡¨åä¹Ÿå¯ä»¥çµæ´»é€‰æ‹©ã€‚</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLæ‰¾å›rootå¯†ç </title>
    <url>/2024/07/31/MySQL%E6%89%BE%E5%9B%9Eroot%E5%AF%86%E7%A0%81/</url>
    <content><![CDATA[<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">service mysql-server stop</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mysqld_safe --skip-grant-tables  &amp;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mysql -u root</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">use mysql;</span></span><br><span class="line">â€‹mysql&gt; update user set authentication_string=password(&#x27;NEWPASSWORD&#x27;) where user=&#x27;root&#x27;; # åœ¨MySQL 5.7ä¸­ä¸º&quot;authentication_string&quot;å­—æ®µï¼Œæ²¡æœ‰Passwordå­—æ®µ</span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">alter user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified with mysql_native_password by <span class="string">&#x27;frank&#x27;</span>; <span class="comment"># mysql 8.0ä¿®æ”¹å¯†ç çš„æ–¹æ³•</span></span></span><br><span class="line">â€‹mysql&gt; flush privileges;</span><br><span class="line">â€‹mysql&gt; quit</span><br></pre></td></tr></table></figure>

<h3 id="é‡ç½®MySQLå¯†ç "><a href="#é‡ç½®MySQLå¯†ç " class="headerlink" title="é‡ç½®MySQLå¯†ç "></a>é‡ç½®MySQLå¯†ç </h3><h4 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h4><ol>
<li><p>é¦–å…ˆç¡®è®¤æœåŠ¡å™¨å‡ºäºå®‰å…¨çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰äººèƒ½å¤Ÿä»»æ„åœ°è¿æ¥MySQLæ•°æ®åº“ã€‚ å› ä¸ºåœ¨é‡æ–°è®¾ç½®MySQLçš„rootå¯†ç çš„æœŸé—´ï¼ŒMySQLæ•°æ®åº“å®Œå…¨å‡ºäºæ²¡æœ‰å¯†ç ä¿æŠ¤çš„ çŠ¶æ€ä¸‹ï¼Œå…¶ä»–çš„ç”¨æˆ·ä¹Ÿå¯ä»¥ä»»æ„åœ°ç™»å½•å’Œä¿®æ”¹MySQLçš„ä¿¡æ¯ã€‚å¯ä»¥é‡‡ç”¨å°†MySQLå¯¹å¤–çš„ç«¯å£å°é—­ï¼Œå¹¶ä¸”åœæ­¢Apacheä»¥åŠæ‰€æœ‰çš„ç”¨æˆ·è¿›ç¨‹çš„æ–¹æ³•å®ç°æœåŠ¡å™¨çš„å‡†å®‰å…¨çŠ¶æ€ã€‚æœ€å®‰å…¨çš„çŠ¶æ€æ˜¯åˆ°æœåŠ¡å™¨çš„Consoleä¸Šé¢æ“ä½œï¼Œå¹¶ä¸”æ‹”æ‰ç½‘çº¿ã€‚</p>
</li>
<li><p>ä¿®æ”¹MySQLçš„ç™»å½•è®¾ç½®ï¼š</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vi /etc/my.cnf</span></span><br><span class="line">[mysqld]</span><br><span class="line">skip-grant-tables</span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡æ–°å¯åŠ¨mysqld</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/etc/init.d/mysqld restart  <span class="comment">#æˆ–service mysqld restart</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç™»å½•å¹¶ä¿®æ”¹MySQLçš„rootå¯†ç </p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">USE mysql ;</span> </span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">UPDATE user SET Password = password ( <span class="string">&#x27;new-password&#x27;</span> ) WHERE User = <span class="string">&#x27;root&#x27;</span> ; <span class="comment"># åœ¨MySQL 5.7ä¸­   ä¸º&quot;authentication_string&quot;å­—æ®µï¼Œæ²¡æœ‰Passwordå­—æ®µ</span></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">alter user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified with mysql_native_password by <span class="string">&#x27;frank&#x27;</span>; <span class="comment"># mysql 8.0ä¿®æ”¹å¯†ç çš„    æ–¹æ³•</span></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">flush privileges ;</span> </span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">quit</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†MySQLçš„ç™»å½•è®¾ç½®ä¿®æ”¹å›æ¥</p>
</li>
<li><p>é‡æ–°å¯åŠ¨mysqld</p>
</li>
<li><p>æ¢å¤æœåŠ¡å™¨çš„æ­£å¸¸å·¥ä½œçŠ¶æ€ï¼Œå³å°†æ­¥éª¤ä¸€ä¸­çš„æ“ä½œé€†å‘æ“ä½œã€‚æ¢å¤æœåŠ¡å™¨çš„å·¥ä½œçŠ¶æ€ã€‚</p>
</li>
</ol>
<h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><ol>
<li><p>KILLæ‰ç³»ç»Ÿé‡Œçš„MySQLè¿›ç¨‹ï¼›</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">killall -TERM mysqld</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨MySQLï¼Œä»¥ä¸æ£€æŸ¥æƒé™çš„æ–¹å¼å¯åŠ¨ï¼›</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">safe_mysqld --skip-grant-tables &amp;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åç”¨ç©ºå¯†ç æ–¹å¼ä½¿ç”¨rootç”¨æˆ·ç™»å½• MySQLï¼›</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysql -u root</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹rootç”¨æˆ·çš„å¯†ç ï¼›</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">update mysql.user <span class="built_in">set</span> password=PASSWORD(<span class="string">&#x27;æ–°å¯†ç &#x27;</span>) <span class="built_in">where</span> User=<span class="string">&#x27;root&#x27;</span>;  <span class="comment"># åœ¨MySQL 5.7ä¸­ä¸º    &quot;authentication_string&quot;å­—æ®µï¼Œæ²¡æœ‰Passwordå­—æ®µ</span></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">alter user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified with mysql_native_password by <span class="string">&#x27;frank&#x27;</span>; <span class="comment"># mysql 8.0ä¿®æ”¹å¯†ç çš„    æ–¹æ³•</span></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">flush privileges;</span> </span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">quit</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡æ–°å¯åŠ¨MySQLï¼Œå°±å¯ä»¥ä½¿ç”¨æ–°å¯†ç ç™»å½•äº†</p>
</li>
</ol>
<h3 id="æ–¹æ³•ä¸‰"><a href="#æ–¹æ³•ä¸‰" class="headerlink" title="æ–¹æ³•ä¸‰"></a>æ–¹æ³•ä¸‰</h3><p>å¦‚æœç³»ç»Ÿæ²¡æœ‰ safe_mysqld ç¨‹åº(æ¯”å¦‚Ubuntu, apt-getå®‰è£…çš„mysql) , å¯ä½¿ç”¨æ­¤æ³•</p>
<ol>
<li><p>åœæ­¢mysqldï¼›</p>
</li>
<li><p>ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨MySQLï¼Œä»¥ä¸æ£€æŸ¥æƒé™çš„æ–¹å¼å¯åŠ¨ï¼›</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysqld --skip-grant-tables &amp;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åç”¨ç©ºå¯†ç æ–¹å¼ä½¿ç”¨rootç”¨æˆ·ç™»å½• MySQL</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysql -u root</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹rootç”¨æˆ·çš„å¯†ç </p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">update mysql.user <span class="built_in">set</span> password=PASSWORD(<span class="string">&#x27;newpassword&#x27;</span>) <span class="built_in">where</span> User=<span class="string">&#x27;root&#x27;</span>;  <span class="comment"># åœ¨MySQL 5.7ä¸­ä¸º   &quot;authentication_string&quot;å­—æ®µï¼Œæ²¡æœ‰Passwordå­—æ®µ</span></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">alter user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified with mysql_native_password by <span class="string">&#x27;frank&#x27;</span>; <span class="comment"># mysql 8.0ä¿®æ”¹å¯†ç çš„    æ–¹æ³•</span></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">flush privileges;</span> </span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">quit</span> </span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡æ–°å¯åŠ¨MySQL</p>
</li>
</ol>
<h3 id="æƒ…å†µå››"><a href="#æƒ…å†µå››" class="headerlink" title="æƒ…å†µå››"></a>æƒ…å†µå››</h3><p>åœ¨å®‰è£…å®Œmysqlè¿‡ç¨‹ä¸­æ²¡æœ‰åˆ›å»ºç”¨æˆ·åï¼Œç„¶åæ— æ³•ç™»å½•çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥æŸ¥çœ‹<code>/etc/mysql/debian.cnf</code>ï¼Œç”¨é‡Œé¢çš„ <code>username</code>å’Œ<code>password</code>ç™»å½•<br>å¦‚æœè®¾ç½®å®Œ<code>root</code>çš„å¯†ç è¿˜å‘ç”Ÿé”™è¯¯</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ERROR 1698 (28000): Access denied for user &#x27;root&#x27;@&#x27;localhost&#x27;</span><br></pre></td></tr></table></figure>

<p>ç”¨ä¸Šé¢çš„è´¦æˆ·æŸ¥çœ‹mysqlçš„å¯†ç ç­–ç•¥</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">user</span>,host,plugin,authentication_string <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> plugin<span class="operator">=</span><span class="string">&#x27;mysql_native_password&#x27;</span> <span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span>; # é»˜è®¤`auth_socket`,ç³»ç»Ÿè´¦æˆ·å¯†ç ï¼›ä¿®æ”¹ä¸º`mysql_native_password`,ä½¿ç”¨mysqlè‡ªå·±çš„è´¦æˆ·ç³»ç»Ÿ</span><br></pre></td></tr></table></figure>

<p>å®é™…ä¸Šï¼Œæ–¹æ³•ä¸€ã€æ–¹æ³•äºŒã€æ–¹æ³•ä¸‰åŸç†ç›¸åŒ</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLæ—¥å¿—æŸ¥è¯¢</title>
    <url>/2024/07/31/MySQL%E6%97%A5%E5%BF%97%E6%9F%A5%E8%AF%A2/</url>
    <content><![CDATA[<p>â€“ æŸ¥çœ‹mysql æ‰§è¡Œè¯­å¥è®°å½•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT * FROM mysql.general_log ORDER BY event_time desc LIMIT 20;</span><br><span class="line"></span><br><span class="line">SELECT *, CONVERT(argument USING utf8) FROM mysql.general_log where command_type = &#x27;Query&#x27; and user_host like &#x27;%[192.168.1.110]&#x27; ORDER BY event_time desc</span><br></pre></td></tr></table></figure>
<p>â€“ æ¸…ç©ºMysql æ‰§è¡Œè¯­å¥è®°å½•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TRUNCATE TABLE mysql.general_log;</span><br></pre></td></tr></table></figure>

<p>â€“ æŸ¥çœ‹mysql æ…¢æ—¥å¿—è®°å½•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT * FROM mysql.slow_log;</span><br></pre></td></tr></table></figure>
<p>â€“ æ¸…ç©º MySqlæ…¢æŸ¥è¯¢æ—¥å¿—è®°å½•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TRUNCATE TABLE mysql.slow_log;</span><br></pre></td></tr></table></figure>

<p>â€“ æŸ¥çœ‹ç¯å¢ƒå˜é‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW variables LIKE &#x27;%genera%&#x27;ï¼›</span><br></pre></td></tr></table></figure>

<p>â€“ è®¾ç½®ç¯å¢ƒå˜é‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set GLOBAL general_log=1;</span><br></pre></td></tr></table></figure>

<p>â€“ æŸ¥è¯¢æ˜¯å¦é”è¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW OPEN TABLES WHERE in_use&gt;0 ;</span><br><span class="line"></span><br><span class="line">SHOW OPEN TABLES </span><br></pre></td></tr></table></figure>

<p>â€“ æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­æ‰§è¡Œçš„æƒ…å†µ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW PROCESSLIST;</span><br><span class="line"></span><br><span class="line">SELECT * FROM information_schema.`PROCESSLIST` WHERE info	is NOT  NULL and time&gt;100;</span><br></pre></td></tr></table></figure>
<p>â€“ æ‰“å¼€æ—¥å¿—</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SET GLOBAL general_log=1;</span><br></pre></td></tr></table></figure>

<p>â€“ è®¾ç½®æ—¥å¿—å­˜æ”¾åœ¨è¡¨é‡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SET GLOBAL log_output=&#x27;TABLE&#x27;;</span><br></pre></td></tr></table></figure>
<p>â€“ è®¾ç½®æ—¥å¿—å­˜æ”¾åœ¨è¡¨é‡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SET GLOBAL log_output=&#x27;FILE&#x27;;</span><br><span class="line"></span><br><span class="line">-- </span><br><span class="line">SHOW VARIABLES LIKE &#x27;%log_output%&#x27;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLæ—¶é—´å…¨0é”™è¯¯</title>
    <url>/2024/07/31/MySQL%E6%97%B6%E9%97%B4%E5%85%A80%E9%94%99%E8%AF%AF/</url>
    <content><![CDATA[<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> @<span class="variable">@sql_mode</span>;</span><br><span class="line"><span class="comment">-- STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</span></span><br><span class="line"><span class="comment">-- å»æ‰ &quot;NO_ZERO_IN_DATE&quot;å’Œ&quot;NO_ZERO_DATE&quot;</span></span><br><span class="line"><span class="keyword">set</span> @<span class="variable">@sql_mode</span> <span class="operator">=</span> <span class="string">&#x27;STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&#x27;</span>;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLæ„é€ è¿ç»­æ—¥æœŸ</title>
    <url>/2024/07/31/MySQL%E6%9E%84%E9%80%A0%E8%BF%9E%E7%BB%AD%E6%97%A5%E6%9C%9F/</url>
    <content><![CDATA[<p>æ–¹å¼ä¸€ï¼šå€ŸåŠ©è‡ªå¸¦è¡¨<code>mysql.help_topic</code></p>
<p>mysqlè‡ªå¸¦è¡¨<code>mysql.help_topic</code>çš„<code>help_topic_id</code>æ˜¯ä¸€ä¸ªä» 0-657 çš„é¡ºåºidåºåˆ—ã€‚ä¸€äº›è¿ç»­æ€§ä¸é•¿çš„æ“ä½œå¯ä»¥å€ŸåŠ©è¯¥è¡¨ã€‚</p>
<p>è·å–è‡ªæŸå¤©å¼€å§‹çš„å‰10å¤©</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	DATE_FORMAT(DATE_ADD(<span class="string">&#x27;2022-07-15&#x27;</span>, <span class="type">INTERVAL</span> <span class="operator">-</span>t.help_topic_id <span class="keyword">DAY</span> ), <span class="string">&#x27;%Y-%m-%d&#x27;</span> ) <span class="keyword">AS</span> <span class="string">&#x27;date&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	mysql.help_topic t </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	t.help_topic_id <span class="operator">&lt;</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<p>æ•°æ®è¡¨æ ¹æ®æ—¶é—´ å¹´-æœˆ-æ—¥ æ ¼å¼åˆ†ç»„ç»Ÿè®¡è¡Œæ•°</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	DATE_FORMAT(<span class="type">date</span>, <span class="string">&#x27;%Y-%m-%d&#x27;</span>) <span class="keyword">AS</span> <span class="type">date</span>,</span><br><span class="line">	<span class="built_in">COUNT</span>(<span class="number">1</span>) <span class="keyword">AS</span> <span class="string">&#x27;count&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	test</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">	DATE_FORMAT(<span class="type">date</span>, <span class="string">&#x27;%Y-%m-%d&#x27;</span> )</span><br></pre></td></tr></table></figure>

<p>èšåˆ</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> t1.date,IFNULL(t2.count,<span class="number">0</span>) <span class="keyword">AS</span> <span class="string">&#x27;count&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	DATE_FORMAT(DATE_ADD(<span class="string">&#x27;2019-08-20&#x27;</span>, <span class="type">INTERVAL</span> <span class="operator">-</span>t.help_topic_id <span class="keyword">DAY</span> ), <span class="string">&#x27;%Y-%m-%d&#x27;</span> ) <span class="keyword">AS</span> <span class="type">date</span> </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	mysql.help_topic t </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	t.help_topic_id <span class="operator">&lt;</span> <span class="number">10</span></span><br><span class="line"></span><br><span class="line">) t1</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> (</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	DATE_FORMAT(<span class="type">date</span>, <span class="string">&#x27;%Y-%m-%d&#x27;</span>) <span class="keyword">AS</span> <span class="type">date</span>,</span><br><span class="line">	<span class="built_in">COUNT</span>(<span class="number">1</span>) <span class="keyword">AS</span> <span class="string">&#x27;count&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	test</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">	DATE_FORMAT(<span class="type">date</span>, <span class="string">&#x27;%Y-%m-%d&#x27;</span> )</span><br><span class="line">) t2 <span class="keyword">ON</span> t1.date<span class="operator">=</span>t2.date</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> t1.date</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼äºŒ: æ„é€ ä¸€ä¸ªè¶³å¤Ÿå¤§çš„idé¡ºåºåºåˆ—çš„ä¸´æ—¶è¡¨</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    <span class="variable">@xi</span>:<span class="operator">=</span><span class="variable">@xi</span><span class="operator">+</span><span class="number">1</span> <span class="keyword">as</span> xc </span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">    (<span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">2</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">3</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">4</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">5</span>) xc1, </span><br><span class="line">    (<span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">2</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">3</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">4</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">5</span>) xc2,  </span><br><span class="line">    (<span class="keyword">SELECT</span> <span class="variable">@xi</span>:<span class="operator">=</span><span class="number">0</span>) xc0</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š</p>
<ol>
<li><code>FROM</code>åè¾¹çš„ <code>(SELECT @xi:=0) xc0</code> æ˜¯å®šä¹‰<code>@xi</code>çš„åˆå§‹å€¼ä¸º<code>0</code>ï¼Œå½“ç„¶ä¹Ÿå¯æ ¹æ®éœ€è¦å®šä¹‰ä¸ºå…¶ä»–å€¼ã€‚è¿˜å¯ä»¥é€šè¿‡<code>ORDER BY xc LIMIT 3,5</code>ä¹‹ç±»æ§åˆ¶éœ€è¦çš„åºåˆ—ã€‚</li>
<li>ä¸¤ä¸ª<code>UNION</code>æ˜¯ä¸ºäº†è®¡ç®—å…·ä½“å¤šå°‘ä¸ªæ•°æ®ã€‚ä¸Šé¢çš„ç¤ºä¾‹è¡¨ç¤ºè®¡ç®— 5*5&#x3D;25ä¸ªæ•°æ®ã€‚</li>
</ol>
<p>è®¡ç®—ä¸ŠæœˆåŠä¹‹å‰çš„24ä¸ªæœˆï¼ˆå…±25ä¸ªï¼‰çš„æ—¶é—´</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	DATE_FORMAT(DATE_SUB( NOW(), <span class="type">INTERVAL</span> xc <span class="keyword">MONTH</span> ), <span class="string">&#x27;%Y-%m&#x27;</span> ) <span class="keyword">AS</span> <span class="type">date</span> </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	(</span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		<span class="variable">@xi</span> :<span class="operator">=</span> <span class="variable">@xi</span> <span class="operator">+</span> <span class="number">1</span> <span class="keyword">AS</span> xc </span><br><span class="line">	<span class="keyword">FROM</span></span><br><span class="line">		( <span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">2</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">3</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">4</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">5</span> ) xc1,</span><br><span class="line">		( <span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">2</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">3</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">4</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">5</span> ) xc2,</span><br><span class="line">		( <span class="keyword">SELECT</span> <span class="variable">@xi</span> :<span class="operator">=</span> <span class="number">0</span> ) xc0 </span><br><span class="line">	) xcxc</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>DATE_SUB</code>å‡½æ•°ï¼Œåˆ‡æ¢<code>MONTH</code>ä¸º<code>DAY</code>æˆ–<code>WEEK</code>å¯è®¡ç®—å¯¹åº”çš„è¿ç»­å‘¨æœŸ</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>MySqlå­—ç¬¦ä¸²æ‹†åˆ†å®ç°splitåŠŸèƒ½</title>
    <url>/2024/07/31/MySql%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%86%E5%88%86%E5%AE%9E%E7%8E%B0split%E5%8A%9F%E8%83%BD/</url>
    <content><![CDATA[<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line"><span class="comment">-- å› ä¸ºè¡¨è¿æ¥ï¼Œæ‰€ä»¥æœ‰å‡ ä¸ªé€—å·å°±ä¼šå‡ºç°å‡ è¡Œç›¸åŒçš„è¡Œï¼Œåªæ˜¯help_topic_idä¸ä¸€æ ·ï¼›</span></span><br><span class="line"><span class="comment">-- å½“help_topic_id=0 æ—¶ï¼Œè·å–ç¬¬1ä¸ªé€—å·å·¦è¾¹çš„å€¼ï¼›ä¸º1æ—¶è·å–ç¬¬2ä¸ªé€—å·ä¸ç¬¬1ä¸ªé€—å·ä¹‹é—´çš„å€¼ï¼Œä¸º2æ—¶è·å–ç¬¬3ä¸ªé€—å·ä¸ç¬¬2ä¸ªé€—å·ä¹‹é—´çš„å€¼ï¼Œä»¥æ­¤ç±»æ¨</span></span><br><span class="line">SUBSTRING_INDEX(SUBSTRING_INDEX(<span class="string">&#x27;7654,7698,7782,7788&#x27;</span>,<span class="string">&#x27;,&#x27;</span>,help_topic_id<span class="operator">+</span><span class="number">1</span>),<span class="string">&#x27;,&#x27;</span>,<span class="number">-1</span>) <span class="keyword">AS</span> num  </span><br><span class="line"><span class="keyword">FROM</span> mysql.help_topic </span><br><span class="line"><span class="comment">-- åˆ¤æ–­æœ‰å‡ ä¸ªé€—å·ï¼Œå°±ç”Ÿæˆå‡ ä¸ªç›¸åŒçš„ä½†help_topic_idçš„è¡Œ</span></span><br><span class="line"><span class="keyword">WHERE</span> help_topic_id <span class="operator">&lt;</span> LENGTH(<span class="string">&#x27;7654,7698,7782,7788&#x27;</span>)<span class="operator">-</span>LENGTH(  REPLACE(<span class="string">&#x27;7654,7698,7782,7788&#x27;</span>,<span class="string">&#x27;,&#x27;</span>,<span class="string">&#x27;&#x27;</span>)  )<span class="operator">+</span><span class="number">1</span> </span><br></pre></td></tr></table></figure>

<p><a href="https://www.cnblogs.com/gered/p/10797012.html">mysqlå­—ç¬¦ä¸²æ‹†åˆ†å®ç°splitåŠŸèƒ½</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Node.jså¼€å‘ç¯å¢ƒ</title>
    <url>/2024/07/31/Node-js%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<h2 id="Windows-ä½¿ç”¨-scoop"><a href="#Windows-ä½¿ç”¨-scoop" class="headerlink" title="Windows ä½¿ç”¨ scoop"></a>Windows ä½¿ç”¨ scoop</h2><ol>
<li><p>å¸è½½æ‰€æœ‰Node.jså®‰è£…,å¹¶åˆ é™¤è·¯å¾„<code>C:\Program Files (x86)\nodejs</code>å’Œ<code>C:\Program Files\nodejs</code></p>
</li>
<li><p>ä¸‹è½½<a href="https://github.com/coreybutler/nvm-windows">nvm-noinstall</a></p>
</li>
<li><p>è§£å‹åˆ°å¸Œæœ›å®‰è£…çš„ç›®å½•<code>D:\ProgramFiles\nvm-noinstall</code></p>
</li>
<li><p>è®¾ç½®ç¯å¢ƒå˜é‡<code>NVM_HOME</code>ä¸º<code>D:\ProgramFiles\nvm-noinstall</code>ï¼Œ<code>NVM_SYMLINK</code>ä¸º<code>D:\ProgramFiles\nvm-noinstall\Node.js</code>(Node.jsåº”è¯¥æ˜¯ä¸å­˜åœ¨çš„ç›®å½•)</p>
</li>
<li><p>å°†ç¯å¢ƒå˜é‡<code>%NVM_HOME%</code>å’Œ<code>%NVM_SYMLINK%</code>åŠ åˆ°<code>Path</code>ä¸­</p>
</li>
<li><p>æ·»åŠ é…ç½®æ–‡ä»¶<code>D:\ProgramFiles\nvm-noinstall\settings.txt</code></p>
 <figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">root: D:\ProgramFiles\nvm-noinstall</span><br><span class="line">path: D:\ProgramFiles\nvm-noinstall\Node.js</span><br><span class="line">arch: 64</span><br><span class="line">proxy: none</span><br><span class="line">node_mirrorï¼š https://mirrors.aliyun.com/nodejs-release/</span><br><span class="line">npm_mirror: http://registry.npmmirror.com</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>nvm</code>åŸºæœ¬ä½¿ç”¨</p>
 <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">nvm install lts</span><br><span class="line">nvm current</span><br><span class="line">nvm list</span><br><span class="line">nvm list available</span><br><span class="line">nvm install <span class="number">14</span> <span class="literal">--lts</span></span><br><span class="line">nvm use version   <span class="comment"># éœ€è¦ç®¡ç†å‘˜æƒé™</span></span><br><span class="line">nvm uninstall</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ‡æ¢åˆ°å…·ä½“<code>Node.js</code>ç‰ˆæœ¬å</p>
 <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">node <span class="literal">--version</span></span><br><span class="line">npm <span class="literal">--version</span></span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmmirror.com</span><br><span class="line">npm install <span class="literal">-g</span> yarn yrm </span><br><span class="line">yrm add ali https://registry.npmmirror.com <span class="comment"># ä½¿ç”¨é˜¿é‡Œé•œåƒ,åŸæ¥çš„taobaoé•œåƒ</span></span><br><span class="line">yrm use ali</span><br></pre></td></tr></table></figure>
</li>
<li><p>Linuxå®‰è£…å¦‚ä¸‹ï¼Œä½¿ç”¨åŸºæœ¬åŒä¸Š</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash</span><br></pre></td></tr></table></figure>

<p> æˆ–è€…</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash</span><br></pre></td></tr></table></figure>

<p> <a href="https://github.com/nvm-sh/nvm">Node Version Manager</a></p>
</li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>Node.js</tag>
      </tags>
  </entry>
  <entry>
    <title>NuGetç›¸å…³</title>
    <url>/2024/07/31/NuGet%E7%9B%B8%E5%85%B3/</url>
    <content><![CDATA[<h2 id="ä¸€ã€-NuGetå¸¸è§„è®¾ç½®"><a href="#ä¸€ã€-NuGetå¸¸è§„è®¾ç½®" class="headerlink" title="ä¸€ã€ NuGetå¸¸è§„è®¾ç½®"></a>ä¸€ã€ NuGetå¸¸è§„è®¾ç½®</h2><table>
<thead>
<tr>
<th>Scope</th>
<th>NuGet.Config file location</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>Solution</td>
<td>Current folder (aka Solution folder) or any folder up to the drive root.</td>
<td>In a solution folder, settings apply to all projects in subfolders. Note that if a config file is placed in a project folder, it has no effect on that project.</td>
</tr>
<tr>
<td>User</td>
<td>Windows:<br> <code>%appdata%\NuGet\NuGet.Config</code><br> Mac&#x2F;Linux:<br> <code>~/.config/NuGet/NuGet.Config</code> or<br> <code>~/.nuget/NuGet/NuGet.Config</code> (varies by OS distribution)</td>
<td>Settings apply to all operations, but are overridden by any project-level settings.</td>
</tr>
<tr>
<td>Computer</td>
<td>Windows: <code>%ProgramFiles(x86)%\NuGet\Config</code><br>Mac&#x2F;Linux: <code>$XDG_DATA_HOME</code>.<br> If <code>$XDG_DATA_HOME</code> is <code>null</code> or <code>empty</code>, <code>~/.local/share</code> or <code>/usr/local/share</code> will be used (varies by OS distribution)</td>
<td>Settings apply to all operations on the computer, but are overridden by any user- or project-level settings.</td>
</tr>
</tbody></table>
<br>

<blockquote>
<p>Notes for earlier versions of NuGet:</p>
<ul>
<li>NuGet 3.3 and earlier used a <code>.nuget</code> folder for solution-wide settings. This folder is not used in NuGet 3.4+.</li>
<li>For NuGet 2.6 to 3.x, the computer-level config file on Windows was located in <code>%ProgramData%\NuGet\Config[\&#123;IDE&#125;[\&#123;Version&#125;[\&#123;SKU&#125;]]]\NuGet.Config</code>, where <code>&#123;IDE&#125;</code> can be VisualStudio, <code>&#123;Version&#125;</code> was the Visual Studio version such as 14.0, and <code>&#123;SKU&#125;</code> is either Community, Pro, or Enterprise. To migrate settings to NuGet 4.0+, simply copy the config file to <code>%ProgramFiles(x86)%\NuGet\Config</code>. On Linux, this previous location was <code>/etc/opt</code>, and on Mac, <code>/Library/Application Support</code>.</li>
</ul>
</blockquote>
<br>

<h3 id="Changing-config-settings"><a href="#Changing-config-settings" class="headerlink" title="Changing config settings"></a>Changing config settings</h3><p>A NuGet.Config file is a simple XML text file containing key&#x2F;value pairs as described in the <a href="https://docs.microsoft.com/en-us/nuget/reference/nuget-config-file">NuGet Configuration Settings</a> topic.</p>
<p>Settings are managed using the NuGet CLI config command:</p>
<ul>
<li>By default, changes are made to the user-level config file.</li>
<li>To change settings in a different file, use the -configFile switch. In this case files can use any filename.</li>
<li><em>Keys are always case sensitive</em>.</li>
<li>Elevation is required to change settings in the computer-level settings file.</li>
</ul>
<h2 id="äºŒã€-NuGetä¿å­˜ä½ç½®è®¾ç½®"><a href="#äºŒã€-NuGetä¿å­˜ä½ç½®è®¾ç½®" class="headerlink" title="äºŒã€ NuGetä¿å­˜ä½ç½®è®¾ç½®"></a>äºŒã€ NuGetä¿å­˜ä½ç½®è®¾ç½®</h2><h3 id="1-è®¾å®šglobalâ€‘packages"><a href="#1-è®¾å®šglobalâ€‘packages" class="headerlink" title="1. è®¾å®šglobalâ€‘packages"></a>1. è®¾å®š<code>globalâ€‘packages</code></h3><p>ç¯å¢ƒå˜é‡<code>NUGET_PACKAGES</code>è®¾ä¸º<code>D:\PackagesRepository\CSharp\NuGet</code></p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼š</p>
<ul>
<li>Windows: <code>%userprofile%\.nuget\packages</code></li>
<li>Mac&#x2F;Linux: <code>~/.nuget/packages</code></li>
</ul>
<h3 id="2-è®¾å®šhttpâ€‘cache"><a href="#2-è®¾å®šhttpâ€‘cache" class="headerlink" title="2. è®¾å®šhttpâ€‘cache"></a>2. è®¾å®š<code>httpâ€‘cache</code></h3><p>ç¯å¢ƒå˜é‡<code>NUGET_HTTP_CACHE_PATH </code>è®¾ä¸º<code>D:\PackagesRepository\CSharp\NuGetHttpCache</code></p>
<p>é»˜è®¤æƒ…å†µä¸‹:</p>
<ul>
<li>Windows: <code>%localappdata%\NuGet\v3-cache</code></li>
<li>Mac&#x2F;Linux: <code>~/.local/share/NuGet/v3-cache</code></li>
</ul>
<h3 id="3-è®¾å®štemp-NuGetæ“ä½œä¸´æ—¶æ–‡ä»¶å¤¹"><a href="#3-è®¾å®štemp-NuGetæ“ä½œä¸´æ—¶æ–‡ä»¶å¤¹" class="headerlink" title="3. è®¾å®štemp,NuGetæ“ä½œä¸´æ—¶æ–‡ä»¶å¤¹"></a>3. è®¾å®š<code>temp</code>,NuGetæ“ä½œä¸´æ—¶æ–‡ä»¶å¤¹</h3><ul>
<li>Windows: <code>%temp%\NuGetScratch</code></li>
<li>Mac&#x2F;Linux: <code>/tmp/NuGetScratch</code></li>
</ul>
<h3 id="4-è®¾å®šplugins-cache-4-8-NuGetæ“ä½œç»“æœç¼“å­˜"><a href="#4-è®¾å®šplugins-cache-4-8-NuGetæ“ä½œç»“æœç¼“å­˜" class="headerlink" title="4. è®¾å®šplugins-cache(4.8+),NuGetæ“ä½œç»“æœç¼“å­˜"></a>4. è®¾å®š<code>plugins-cache</code>(4.8+),NuGetæ“ä½œç»“æœç¼“å­˜</h3><p><code>NUGET_PLUGINS_CACHE_PATH</code>è®¾å®šä¸º<code>D:\PackagesRepository\CSharp\NuGetPluginsCache</code></p>
<p>é»˜è®¤æƒ…å†µä¸‹:</p>
<ul>
<li>Windows: <code>%localappdata%\NuGet\plugins-cache</code></li>
<li>Mac&#x2F;Linux: <code>~/.local/share/NuGet/plugins-cache</code></li>
</ul>
<blockquote>
<p>Note<br>NuGet 3.5 and earlier uses <code>packages-cache</code> instead of the <code>http-cache</code>, which is located in <code>%localappdata%\NuGet\Cache</code>.</p>
</blockquote>
<p>By using the cache and global-packages folders, NuGet generally avoids downloading packages that already exist on the computer, improving the performance of install, update, and restore operations. When using PackageReference, the global-packages folder also avoids keeping downloaded packages inside project folders, where they might be inadvertently added to source control, and reduces NuGetâ€™s overall impact on computer storage.</p>
<p>When asked to retrieve a package, NuGet first looks in the global-packages folder. If the exact version of package is not there, then NuGet checks all non-HTTP package sources. If the package is still not found, NuGet looks for the package in the http-cache unless you specify â€“no-cache with dotnet.exe commands or -NoCache with nuget.exe commands. If the package is not in the cache, or the cache isnâ€™t used, NuGet then retrieves the package over HTTP .</p>
<p>For more information, see <a href="https://docs.microsoft.com/en-us/nuget/concepts/package-installation-process">What happens when a package is installed?</a>.</p>
<h3 id="5-å‘½ä»¤"><a href="#5-å‘½ä»¤" class="headerlink" title="5. å‘½ä»¤"></a>5. å‘½ä»¤</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nuget locals all -list</span><br><span class="line">dotnet nuget locals all --list</span><br><span class="line">nuget local -h</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonä¹‹jsonåºåˆ—åŒ–</title>
    <url>/2024/07/31/Python%E4%B9%8Bjson%E5%BA%8F%E5%88%97%E5%8C%96/</url>
    <content><![CDATA[<p>ä¸€èˆ¬Pythonå…ƒç´ ,</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">l=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">json.dumps(l)</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬<code>class</code>å¯¹è±¡,åˆ©ç”¨å¯¹è±¡çš„<code>__dict__</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,score</span>):</span><br><span class="line">        <span class="variable language_">self</span>.name=name</span><br><span class="line">        <span class="variable language_">self</span>.score=score</span><br><span class="line"></span><br><span class="line">a=Animal(<span class="string">&#x27;cat&#x27;</span>,<span class="number">80</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;animal&#x27;</span>,json.dumps(a.__dict__))</span><br></pre></td></tr></table></figure>

<p>SQLALchemyè¡¨æ˜ å°„å¯¹è±¡ï¼Œéœ€è¦æ·»åŠ è‡ªå·±çš„æ–¹æ³•<code>to_json</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    __tablename__=<span class="string">&#x27;sys_user&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">id</span> = Column(String,primary_key=<span class="literal">True</span>)</span><br><span class="line">    username= Column(String)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">to_json</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="keyword">return</span> &#123;c.name: <span class="built_in">getattr</span>(<span class="variable language_">self</span>, c.name) <span class="keyword">for</span> c <span class="keyword">in</span> <span class="variable language_">self</span>.__table__.columns&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;user&#x27;</span>,user.to_json())</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>SQLProfilerå·¥å…·ç®€ä»‹</title>
    <url>/2024/07/31/SQLProfiler%E5%B7%A5%E5%85%B7%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<p>è½¬è‡ª<a href="https://www.cnblogs.com/kissdodog/p/3398523.html">SQL Server Profilerå·¥å…·</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>SQL Server</tag>
      </tags>
  </entry>
  <entry>
    <title>Node.jsç¼–è¯‘æ— æ³•ä½¿ç”¨vs2022</title>
    <url>/2024/07/31/Node-js%E7%BC%96%E8%AF%91%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8vs2022/</url>
    <content><![CDATA[<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd &quot;C:\Program Files\nodejs&quot;</span><br><span class="line">cd node_modules\npm\node_modules\@npmcli\run-script</span><br><span class="line">npm install node-gyp@latest</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm cache clean --force</span><br><span class="line">rmrf.ps1 node_modules</span><br><span class="line">rmrf.ps1 package-lock.json yarn.lock</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒ</p>
<ol>
<li><a href="https://github.com/nodejs/node-gyp/blob/master/docs/Updating-npm-bundled-node-gyp.md">Updating the npm-bundled version of node-gyp</a></li>
<li><a href="https://stackoverflow.com/questions/54532854/error-c-program-files-x86-microsoft-visual-studio-2017-buildtools-msbuild-1">Error: <code>C:\Program Files (x86)\Microsoft Visual Studio\2017\BuildTools\MSBuild\15.0\Bin\MSBuild.exe</code> failed with exit code: 1</a></li>
</ol>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>Node.js</tag>
      </tags>
  </entry>
  <entry>
    <title>SQLServer WMIé”™è¯¯</title>
    <url>/2024/07/31/SQLServer-WMI%E9%94%99%E8%AF%AF/</url>
    <content><![CDATA[<p>ä»¥ç®¡ç†å‘˜èº«ä»½åœ¨CMDä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ã€‚</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">mofcomp <span class="string">&quot;sqlmgmprovider.mof&quot;</span></span><br></pre></td></tr></table></figure>
<p><a href="https://support.microsoft.com/zh-cn/help/956013/error-message-when-you-open-sql-server-configuration-manager-in-sql-se">åœ¨ SQL Server ä¸­æ‰“å¼€ SQL Server é…ç½®ç®¡ç†å™¨æ—¶å‡ºç°é”™è¯¯æ¶ˆæ¯:â€æ— æ³•è¿æ¥åˆ° WMI æä¾›ç¨‹åºã€‚æ‚¨æ²¡æœ‰æƒé™æˆ–è¯¥æœåŠ¡å™¨ä¸å¯ç”¨â€</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>SQL Server</tag>
      </tags>
  </entry>
  <entry>
    <title>SQLServeræ•°æ®ç±»å‹æ˜ å°„</title>
    <url>/2024/07/31/SQLServer%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%98%A0%E5%B0%84/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th></th>
<th>SQL Server ç±»å‹</th>
<th>.NET ç±»å‹</th>
<th>C# Primitive</th>
</tr>
</thead>
<tbody><tr>
<td>å‡†ç¡®æ•°å­—ç±»å‹</td>
<td>bit</td>
<td>System.Boolean</td>
<td>bool</td>
</tr>
<tr>
<td></td>
<td>tinyint</td>
<td>System.Byte</td>
<td>byte</td>
</tr>
<tr>
<td></td>
<td>smallint</td>
<td>System.Int16</td>
<td>short</td>
</tr>
<tr>
<td></td>
<td>int</td>
<td>System.Int32</td>
<td>int</td>
</tr>
<tr>
<td></td>
<td>bigint</td>
<td>System.Int64</td>
<td>long</td>
</tr>
<tr>
<td></td>
<td>smallmoneyã€moneyã€decimalã€numeric</td>
<td>System.Decimal</td>
<td>decimal</td>
</tr>
<tr>
<td>è¿‘ä¼¼æ•°å­—ç±»å‹</td>
<td>real</td>
<td>System.Single</td>
<td>float</td>
</tr>
<tr>
<td></td>
<td>float</td>
<td>System.Double</td>
<td>double</td>
</tr>
<tr>
<td>å­—ç¬¦ä¸²ç±»å‹</td>
<td>charã€varcharã€text</td>
<td>System.String</td>
<td>string</td>
</tr>
<tr>
<td></td>
<td>ncharã€nvarhcarã€ntext</td>
<td>System.String</td>
<td>string</td>
</tr>
<tr>
<td>äºŒè¿›åˆ¶å­—ç¬¦ä¸²ç±»å‹</td>
<td>binaryã€varbinary</td>
<td>System.Byte[]</td>
<td>byte[]</td>
</tr>
<tr>
<td></td>
<td>image</td>
<td>System.Byte[]</td>
<td>byte[]</td>
</tr>
<tr>
<td></td>
<td>rowversion(timestamp)</td>
<td>System.Byte[]</td>
<td>byte[]</td>
</tr>
<tr>
<td>æ—¥æœŸç±»å‹</td>
<td>date</td>
<td>System.DateTime</td>
<td></td>
</tr>
<tr>
<td></td>
<td>time</td>
<td>Ststem.TimeSpan</td>
<td></td>
</tr>
<tr>
<td></td>
<td>smalldatetimeã€datetimeã€datetime2</td>
<td>System.DateTime</td>
<td></td>
</tr>
<tr>
<td></td>
<td>datetimeoffset</td>
<td>System.DateTimeOffset</td>
<td></td>
</tr>
<tr>
<td>å…¶ä»–ç±»å‹</td>
<td>hierarchyid</td>
<td>No built-in mapping or support</td>
<td></td>
</tr>
<tr>
<td></td>
<td>xml</td>
<td>System.String</td>
<td>string</td>
</tr>
<tr>
<td></td>
<td>uniqueidtentifier</td>
<td>System.Guid</td>
<td></td>
</tr>
<tr>
<td></td>
<td>sql_variant</td>
<td>No built-in mappting or support</td>
<td></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>SQLServerçš„CommandTextçš„æœ€å¤§é•¿åº¦</title>
    <url>/2024/07/31/SQLServer%E7%9A%84CommandText%E7%9A%84%E6%9C%80%E5%A4%A7%E9%95%BF%E5%BA%A6/</url>
    <content><![CDATA[<p>SQLCommandçš„CommandTextçš„æœ€å¤§é•¿åº¦,å–å†³äºSQL Serverç‰ˆæœ¬</p>
<p>SQL Server 2012ã€2016ã€2017çš„é»˜è®¤æœ€å¤§å€¼ä¸º65,536*ç½‘ç»œæ•°æ®åŒ…å¤§å°ï¼Œè€Œç½‘ç»œæ•°æ®åŒ…å¤§å°é»˜è®¤æ˜¯4Kï¼Œå¯ç”±â€œç½‘ç»œæ•°æ®åŒ…å¤§å°â€é…ç½®é€‰é¡¹æ§åˆ¶</p>
<p>å‚è€ƒ:<br><a href="https://stackoverflow.com/questions/21390537/sqlcommand-executenonquery-maximum-commandtext-length">SQLCommand ExecuteNonQuery Maximum CommandText Length?</a><br><a href="https://docs.microsoft.com/zh-cn/sql/sql-server/maximum-capacity-specifications-for-sql-server?view=sql-server-2017">SQL Server çš„æœ€å¤§å®¹é‡è§„èŒƒ</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>SQL Server</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringBootTestæ¿€æ´»é…ç½®è®¾ç½®</title>
    <url>/2024/07/31/SpringBootTest%E6%BF%80%E6%B4%BB%E9%85%8D%E7%BD%AE%E8%AE%BE%E7%BD%AE/</url>
    <content><![CDATA[<p>ä¸€èˆ¬ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ActiveProfiles(&quot;dev&quot;)</span></span><br><span class="line"><span class="meta">@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UnitTest</span>&#123;</span><br><span class="line">  <span class="meta">@Test</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†è¿™ä¸ªæ–¹æ³•æ— æ³•è¯»å–â€spring.profiles.activeâ€çš„å€¼<br>å¯é€šè¿‡å¦‚ä¸‹æ–¹æ³•è®¾ç½®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest(properties = &quot;spring.profiles.active:dev-txs&quot;, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UnitTest</span>&#123;</span><br><span class="line">  <span class="meta">@Test</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Springé¡¹ç›®Redisä¹±ç </title>
    <url>/2024/07/31/Spring%E9%A1%B9%E7%9B%AERedis%E4%B9%B1%E7%A0%81/</url>
    <content><![CDATA[<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRedisConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span>&#123;</span><br><span class="line"></span><br><span class="line">        RedisTemplate&lt;String,Object&gt; redisTemplate=<span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line">        redisTemplate.setConnectionFactory(redisConnectionFactory);</span><br><span class="line"></span><br><span class="line">        redisTemplate.setKeySerializer(RedisSerializer.string());</span><br><span class="line">        redisTemplate.setValueSerializer(jacksonSerializer());</span><br><span class="line"></span><br><span class="line">        redisTemplate.setHashKeySerializer(RedisSerializer.string());</span><br><span class="line">        redisTemplate.setHashValueSerializer(jacksonSerializer());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span>  redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisSerializer <span class="title function_">jacksonSerializer</span><span class="params">()</span>&#123;</span><br><span class="line">        Jackson2JsonRedisSerializer&lt;Object&gt; jackson2JsonRedisSerializer = <span class="keyword">new</span> <span class="title class_">Jackson2JsonRedisSerializer</span>&lt;&gt;(Object.class);</span><br><span class="line">        <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">        objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);</span><br><span class="line">        <span class="comment">//è®¾ç½®ç±»åçš„å­˜å‚¨æ–¹å¼</span></span><br><span class="line">        <span class="comment">// objectMapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);</span></span><br><span class="line">        jackson2JsonRedisSerializer.setObjectMapper(objectMapper);</span><br><span class="line">        <span class="keyword">return</span> jackson2JsonRedisSerializer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨ `redis-cli` ç»ˆç«¯ä¸­</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; scan 0</span><br><span class="line">1) <span class="string">&quot;0&quot;</span></span><br><span class="line">2) 1) <span class="string">&quot;\xac\xed\x00\x05t\x00\x05yunai&quot;</span></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; get <span class="string">&quot;\xac\xed\x00\x05t\x00\x05yunai&quot;</span></span><br><span class="line"><span class="string">&quot;\xac\xed\x00\x05t\x00\x05shuai&quot;</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ Redis SCAN å‘½ä»¤ï¼Œæˆ‘ä»¬æ‰«æå‡ºäº†ä¸€ä¸ªå¥‡æ€ªçš„ â€œyunaiâ€ KEY ï¼Œå‰é¢å¸¦ç€å¥‡æ€ªçš„ 16 è¿›åˆ¶å­—ç¬¦ã€‚è€Œåï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªå¥‡æ€ªçš„ KEY å»è·å–å¯¹åº”çš„ VALUE ï¼Œç»“æœå‰é¢ä¹Ÿæ˜¯ä¸€ä¸²å¥‡æ€ªçš„ 16 è¿›åˆ¶å­—ç¬¦ã€‚</p>
<p>å…·ä½“ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ä¸€ä¸²å¥‡æ€ªçš„ 16 è¿›åˆ¶ï¼Œèƒ–å‹å¯ä»¥çœ‹çœ‹ ObjectOutputStream#writeString(String str, boolean unshared) çš„ä»£ç ï¼Œå®é™…å°±æ˜¯æ ‡å¿—ä½ + å­—ç¬¦ä¸²é•¿åº¦ + å­—ç¬¦ä¸²å†…å®¹ã€‚</p>
<p>å‚è€ƒ</p>
<ol>
<li><a href="https://my.oschina.net/u/4394698/blog/4339964">Spring Boot ç»“åˆ Redis åºåˆ—åŒ–é…ç½®çš„ä¸€äº›é—®é¢˜</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/92492295">èŠ‹é“ Spring Boot Redis å…¥é—¨ï¼ˆä¸Šï¼‰</a></li>
</ol>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>SpringBoot</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>SqlServeråˆ é™¤é‡å¤è®°å½•</title>
    <url>/2024/07/31/SqlServer%E5%88%A0%E9%99%A4%E9%87%8D%E5%A4%8D%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h3 id="æœ‰ä¸¤ä¸ªæ„ä¹‰ä¸Šçš„é‡å¤è®°å½•"><a href="#æœ‰ä¸¤ä¸ªæ„ä¹‰ä¸Šçš„é‡å¤è®°å½•" class="headerlink" title="æœ‰ä¸¤ä¸ªæ„ä¹‰ä¸Šçš„é‡å¤è®°å½•:"></a>æœ‰ä¸¤ä¸ªæ„ä¹‰ä¸Šçš„é‡å¤è®°å½•:</h3><ul>
<li>å®Œå…¨é‡å¤çš„è®°å½•ï¼Œä¹Ÿå³æ‰€æœ‰å­—æ®µå‡é‡å¤çš„è®°å½•ï¼›</li>
<li>éƒ¨åˆ†å…³é”®å­—æ®µé‡å¤çš„è®°å½•ï¼Œæ¯”å¦‚Nameå­—æ®µé‡å¤ï¼Œè€Œå…¶ä»–å­—æ®µä¸ä¸€å®šé‡å¤æˆ–éƒ½é‡å¤å¯ä»¥å¿½ç•¥ã€‚</li>
</ul>
<h4 id="1ã€å¯¹äºç¬¬ä¸€ç§é‡å¤ï¼Œæ¯”è¾ƒå®¹æ˜“è§£å†³ï¼Œä½¿ç”¨"><a href="#1ã€å¯¹äºç¬¬ä¸€ç§é‡å¤ï¼Œæ¯”è¾ƒå®¹æ˜“è§£å†³ï¼Œä½¿ç”¨" class="headerlink" title="1ã€å¯¹äºç¬¬ä¸€ç§é‡å¤ï¼Œæ¯”è¾ƒå®¹æ˜“è§£å†³ï¼Œä½¿ç”¨"></a>1ã€å¯¹äºç¬¬ä¸€ç§é‡å¤ï¼Œæ¯”è¾ƒå®¹æ˜“è§£å†³ï¼Œä½¿ç”¨</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT DISTINCT * INTO #TMP FROM TableName</span><br></pre></td></tr></table></figure>
<p>å°±å¯ä»¥å¾—åˆ°æ— é‡å¤è®°å½•çš„ç»“æœé›†ã€‚<br>å¦‚æœè¯¥è¡¨éœ€è¦åˆ é™¤é‡å¤çš„è®°å½•ï¼ˆé‡å¤è®°å½•ä¿ç•™1æ¡ï¼‰ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ–¹æ³•åˆ é™¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT DISTINCT * INTO #TMP FROM TableName </span><br><span class="line">DROP TABLE TableName</span><br><span class="line">SELECT * INTO TableName FROM #TMP</span><br><span class="line">DROP TABLE #TMP</span><br></pre></td></tr></table></figure>
<p>å‘ç”Ÿè¿™ç§é‡å¤çš„åŸå› æ˜¯è¡¨è®¾è®¡ä¸å‘¨äº§ç”Ÿçš„ï¼Œå¢åŠ å”¯ä¸€ç´¢å¼•åˆ—å³å¯è§£å†³ã€‚</p>
<h4 id="2ã€è¿™ç±»é‡å¤é—®é¢˜é€šå¸¸è¦æ±‚ä¿ç•™é‡å¤è®°å½•ä¸­çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œæ“ä½œæ–¹æ³•å¦‚ä¸‹"><a href="#2ã€è¿™ç±»é‡å¤é—®é¢˜é€šå¸¸è¦æ±‚ä¿ç•™é‡å¤è®°å½•ä¸­çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œæ“ä½œæ–¹æ³•å¦‚ä¸‹" class="headerlink" title="2ã€è¿™ç±»é‡å¤é—®é¢˜é€šå¸¸è¦æ±‚ä¿ç•™é‡å¤è®°å½•ä¸­çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œæ“ä½œæ–¹æ³•å¦‚ä¸‹"></a>2ã€è¿™ç±»é‡å¤é—®é¢˜é€šå¸¸è¦æ±‚ä¿ç•™é‡å¤è®°å½•ä¸­çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œæ“ä½œæ–¹æ³•å¦‚ä¸‹</h4><p>å‡è®¾æœ‰é‡å¤çš„å­—æ®µä¸ºName,Addressï¼Œè¦æ±‚å¾—åˆ°è¿™ä¸¤ä¸ªå­—æ®µå”¯ä¸€çš„ç»“æœé›†ï¼Œ<br>åˆ™å…ˆåˆ©ç”¨<code>IDENTITY</code>å¢åŠ èƒ½æ ‡è¯†å‡ºå”¯ä¸€è¡Œçš„<code>AutoId</code>å­—æ®µï¼Œå†åˆ©ç”¨<code>GROUP BY</code>è¿‡æ»¤é‡å¤åŠ<code>MIN</code>å‡½æ•°é€‰å‡ºæœ€å°çš„<code>AutoID</code>å€¼ï¼ˆç›¸åŒå€¼å³å»é™¤äº†ï¼Œå¾—åˆ°äº†å”¯ä¸€æ€§ï¼‰ï¼Œæœ€ååˆ©ç”¨è¿™ä¸ª<code>AutoId</code>é‡å»ºTableNameï¼Œå³å¯å»é‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT IDENTITY(int,1,1) AS AutoId,* INTO #Tmp FROM TableName</span><br><span class="line">SELECT MIN(AutoId) as AutoId INTO #Tmp2 FROM #Tmp GROUP BY Name,Address</span><br><span class="line">DROP TABLE TableName</span><br><span class="line">SELECT [åŸTableNameè¡¨æ‰€æœ‰åˆ—å] INTO TableName  FROM #Tmp WHERE autoID IN (SELECT autoID FROM #Tmp2)</span><br><span class="line">DROP TABLE #Tmp,#Tmp2</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„:å€’æ•°ç¬¬äºŒè¡Œçš„SQLè¯­å¥ï¼Œè‹¥<code>SELECT</code>åé¢è·Ÿ<code>*</code>åˆ™ä¼šåœ¨åŸTabeNameè¡¨å¤šå‡º<code>AutoId</code>å­—æ®µ</p>
<h4 id="3ã€éƒ¨åˆ†å…³é”®å­—æ®µé‡å¤ï¼Œä¸”è®°å½•ä¸­æœ‰ID"><a href="#3ã€éƒ¨åˆ†å…³é”®å­—æ®µé‡å¤ï¼Œä¸”è®°å½•ä¸­æœ‰ID" class="headerlink" title="3ã€éƒ¨åˆ†å…³é”®å­—æ®µé‡å¤ï¼Œä¸”è®°å½•ä¸­æœ‰ID"></a>3ã€éƒ¨åˆ†å…³é”®å­—æ®µé‡å¤ï¼Œä¸”è®°å½•ä¸­æœ‰ID</h4><p>Aã€ç¬¬ä¸€ç§æ–¹æ³•å¯ä¸€æ¬¡åˆ é™¤æ‰€æœ‰é‡å¤çš„..(åªä¿ç•™é‡å¤ä¸­IDæœ€å°çš„è®°å½•)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELETE FROM TableName WHERE Id NOT IN (SELECT MIN(ID) FROM TableName GROUP BY Name)</span><br></pre></td></tr></table></figure>
<p>Bã€æ¯æ¬¡åªåˆ é™¤é‡å¤ä¸­IDæœ€å¤§çš„ä¸€æ¡è®°å½•(å¦‚æœå«æœ‰å…³é”®å­—æ®µçš„è¡Œå¤§äºä¸€è¡Œï¼Œåˆ™åˆ é™¤åˆ é™¤ä¸€è¡Œ;ç›¸åï¼Œå¦‚æœå«æœ‰å…³é”®å­—æ®µçš„è¡Œæ²¡æœ‰å¤§äºä¸€è¡Œï¼Œåˆ™ä¸è¿›è¡Œåˆ é™¤æ“ä½œ)ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELETE FROM TableName WHERE Id IN (SELECT MAX(ID) FROM TableName GROUP BY Name HAVING COUNT(*)&gt;1)</span><br></pre></td></tr></table></figure>

<h4 id="4ã€å…¶ä»–æ–¹æ³•"><a href="#4ã€å…¶ä»–æ–¹æ³•" class="headerlink" title="4ã€å…¶ä»–æ–¹æ³•"></a>4ã€å…¶ä»–æ–¹æ³•</h4><p>å‚è§<a href="http://www.cnblogs.com/luohoufu/archive/2008/06/05/1214286.html">Sql server åˆ é™¤é‡å¤è®°å½•çš„SQLè¯­å¥</a>ï¼Œæ„Ÿè°¢åšä¸»çš„åˆ†äº«ï¼</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>SQL Server</tag>
      </tags>
  </entry>
  <entry>
    <title>Swaggeræ˜¾ç¤ºé»˜è®¤å€¼</title>
    <url>/2024/07/31/Swagger%E6%98%BE%E7%A4%BA%E9%BB%98%E8%AE%A4%E5%80%BC/</url>
    <content><![CDATA[<ol>
<li>å¢åŠ <code>SchemaFilter.cs</code></li>
</ol>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SchemaFilter</span> : <span class="title">ISchemaFilter</span></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Apply</span>(<span class="params">Schema schema, SchemaFilterContext context</span>)</span></span><br><span class="line">      &#123;</span><br><span class="line">          <span class="keyword">if</span> (schema.Properties == <span class="literal">null</span>)</span><br><span class="line">          &#123;</span><br><span class="line">              <span class="keyword">return</span>;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">foreach</span> (PropertyInfo propertyInfo <span class="keyword">in</span> context.SystemType.GetProperties())</span><br><span class="line">          &#123;</span><br><span class="line"></span><br><span class="line">              <span class="comment">// Look for class attributes that have been decorated with &quot;[DefaultAttribute(...)]&quot;.</span></span><br><span class="line">              DefaultValueAttribute defaultAttribute = propertyInfo.GetCustomAttribute&lt;DefaultValueAttribute&gt;();</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (defaultAttribute != <span class="literal">null</span>)</span><br><span class="line">              &#123;</span><br><span class="line">                  <span class="keyword">foreach</span> (KeyValuePair&lt;<span class="built_in">string</span>, Schema&gt; property <span class="keyword">in</span> schema.Properties)</span><br><span class="line">                  &#123;</span><br><span class="line"></span><br><span class="line">                      <span class="comment">// Only assign default value to the proper element.</span></span><br><span class="line">                      <span class="keyword">if</span> (propertyInfo.Name.ToLower() == property.Key.Replace(<span class="string">&quot;_&quot;</span>, <span class="string">&quot;&quot;</span>).ToLower())</span><br><span class="line">                      &#123;</span><br><span class="line">                          property.Value.Example = defaultAttribute.Value;</span><br><span class="line">                          <span class="keyword">break</span>;</span><br><span class="line">                      &#125;</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åœ¨Startup.csé‡Œæ³¨å…¥</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">services.AddSwaggerGen(c =&gt; &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    c.SchemaFilter&lt;SchemaFilter&gt;();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒ<a href="https://github.com/domaindrivendev/Swashbuckle.AspNetCore/issues/575">[Feature] DefaultValue for operation parameters defined by class</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>TDDä¹‹ç¨‹åºå‘˜ç»ƒåŠŸæˆ¿</title>
    <url>/2024/07/31/TDD%E4%B9%8B%E7%A8%8B%E5%BA%8F%E5%91%98%E7%BB%83%E5%8A%9F%E6%88%BF/</url>
    <content><![CDATA[<h3 id="ç¬¬ä¸€å¤©ï¼šç»ƒåŠŸå‰çš„çƒ­èº«"><a href="#ç¬¬ä¸€å¤©ï¼šç»ƒåŠŸå‰çš„çƒ­èº«" class="headerlink" title="ç¬¬ä¸€å¤©ï¼šç»ƒåŠŸå‰çš„çƒ­èº«"></a>ç¬¬ä¸€å¤©ï¼šç»ƒåŠŸå‰çš„çƒ­èº«</h3><p>ç¬¬ä¸€å¤©çš„ä»»åŠ¡å¾ˆç®€å•ï¼šåšä¸€é<a href="http://codingdojo.org/kata/FizzBuzz/">FizzBuzz</a>è¿™é“é¢˜ã€‚</p>
<p>åšé¢˜è¦æ±‚ï¼š</p>
<ol>
<li>çœ‹æ‡‚é¢˜ç›®ï¼Œå¼€å§‹ç¼–ç ä¹‹å‰å…ˆèŠ±ååˆ†é’Ÿæ‹†è§£ä»»åŠ¡ï¼ŒæŠŠä»»åŠ¡æ¸…å•å†™ä¸‹æ¥ã€‚</li>
<li>è®¡æ—¶ï¼Œå¼€å§‹ç¼–ç ã€‚</li>
<li>è¦æ±‚ç”¨TDDçš„æ–¹å¼å®ç°ï¼šå…ˆå†™æµ‹è¯•ï¼Œåå†™ä»£ç </li>
<li>æ³¨æ„è¿™ä¸ªé¢˜ç›®æœ‰ä¸¤ä¸ªé˜¶æ®µéœ€æ±‚ã€‚ç¬¬ä¸€é˜¶æ®µå’Œç¬¬äºŒé˜¶æ®µå®Œæˆæ—¶ï¼Œåˆ†åˆ«çœ‹ä¸€ä¸‹æ—¶é—´ã€‚</li>
</ol>
<p>è¿™é“é¢˜ï¼Œè¡Œä¸šé‡Œå¹³å‡æ°´å¹³çš„ç¨‹åºå‘˜å¤§æ¦‚1-2å°æ—¶å®Œæˆã€‚ä¸€äº›æ°´å¹³è¾ƒé«˜çš„ç¨‹åºå‘˜èƒ½åœ¨15åˆ†é’Ÿå†…å®Œæˆã€‚</p>
<p>ç»ƒåŠŸæˆ¿çš„å­¦å‘˜ï¼Œå¾ˆå¤šäººèƒ½åœ¨5åˆ†é’Ÿå†…å®Œæˆã€‚ç›®å‰çš„æœ€å¿«é€Ÿåº¦æ˜¯1åˆ†10ç§’</p>
<p>è·Ÿç€æˆ‘ä»¬æŠŠè¿™14å¤©ç»ƒä¸‹å»ï¼Œä½ ä¹Ÿèƒ½åšåˆ°ã€‚</p>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰</p>
<ul>
<li>åšå®Œæ•´é“é¢˜ç”¨äº†å¤šå°‘æ—¶é—´ï¼Ÿ</li>
<li>ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ</li>
<li>TDDçš„æ–¹å¼é¡ºç•…å—ï¼Ÿ</li>
<li>å®é™…åšçš„æ­¥éª¤ï¼Œå’Œä¸€å¼€å§‹æ‹†åˆ†çš„ä»»åŠ¡æ˜¯å¦ç›¸åŒï¼Ÿ</li>
</ul>
<h3 id="ç¬¬äºŒå¤©ï¼šæ•´ç†å·¥ä½œç¯å¢ƒ"><a href="#ç¬¬äºŒå¤©ï¼šæ•´ç†å·¥ä½œç¯å¢ƒ" class="headerlink" title="ç¬¬äºŒå¤©ï¼šæ•´ç†å·¥ä½œç¯å¢ƒ"></a>ç¬¬äºŒå¤©ï¼šæ•´ç†å·¥ä½œç¯å¢ƒ</h3><p>ç¬¬1å¤©çš„ä»»åŠ¡å®Œæˆå¾—æ€ä¹ˆæ ·ï¼Ÿå®ç°ä¸€éFizzBuzzç”¨äº†ä½ å¤šé•¿æ—¶é—´ï¼Ÿ</p>
<p>å¦‚æœæ²¡èƒ½åœ¨15åˆ†é’Ÿå†…å®Œæˆçš„è¯ï¼Œä¸å¥½æ„æ€ï¼Œä¸åˆæ ¼çš„ç¨‹åºå‘˜è¯´çš„å°±æ˜¯ä½ äº†â€¦â€¦</p>
<p>å¾ˆæœ‰å¯èƒ½ä½ çš„å·¥ä½œç¯å¢ƒå°±æ²¡æœ‰è¿›å…¥æœ€ä½³çŠ¶æ€ï¼Œæ‹–æ…¢äº†ä½ ç¼–ç¨‹çš„é€Ÿåº¦ã€‚</p>
<p>ä»Šå¤©çš„ä»»åŠ¡æ˜¯ï¼Œæ•´ç†ä¸€ä¸‹ä½ çš„å·¥ä½œç¯å¢ƒã€‚</p>
<p>åšé¢˜çš„è¦æ±‚ï¼š</p>
<ol>
<li>æ‰“å¼€IntelliJ IDEAï¼ˆå¦‚æœæ²¡æœ‰çš„è¯ï¼Œç°åœ¨å»è£…ä¸€ä¸ªï¼Œç¤¾åŒºç‰ˆæ˜¯å…è´¹çš„ï¼‰</li>
<li>æŠŠIDEAçš„å¿«æ·é”®æç¤ºè¡¨æ‰“å°å‡ºæ¥ï¼ˆæˆ‘æ”¾åœ¨é™„ä»¶é‡Œäº†ï¼‰</li>
<li>å†åšä¸€éFizzBuzzï¼Œä¸ä¸€å®šè¦åšå®Œï¼Œå®ç°ç¬¬ä¸€éƒ¨åˆ†çš„åŠŸèƒ½å³å¯</li>
<li>ä½†æ˜¯ï¼æ³¨æ„ï¼è¿™æ¬¡åšFizzBuzzçš„æ—¶å€™ä¸å‡†åŠ¨é¼ æ ‡</li>
</ol>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li><p>ä»Šå¤©å­¦åˆ°äº†ä»€ä¹ˆæ–°çš„å¿«æ·é”®æ“ä½œï¼Ÿ</p>
</li>
<li><p>ä¸å‡†åŠ¨é¼ æ ‡çš„è§„å®šåœ¨ä»€ä¹ˆæ—¶å€™æ„Ÿåˆ°æœ€éš¾éµå®ˆï¼Ÿ</p>
</li>
<li><p>ç¬¬äºŒéåšè¿™é“é¢˜ç›®ï¼Œæ˜¯å¦è¿˜æœ‰å¡å£³çš„æƒ…å†µï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<p><a href="https://files-cdn.cnblogs.com/files/frankbsd/IntelliJIDEA_ReferenceCard.7z">IntelliJIDEA_ReferenceCard</a></p>
</li>
</ul>
<h3 id="ç¬¬3å¤©-FizzBuzzå†æ’¸ä¸€é"><a href="#ç¬¬3å¤©-FizzBuzzå†æ’¸ä¸€é" class="headerlink" title="ç¬¬3å¤©:FizzBuzzå†æ’¸ä¸€é"></a>ç¬¬3å¤©:FizzBuzzå†æ’¸ä¸€é</h3><p>FizzBuzzå†æ’¸ä¸€é<del>ï¼ˆå¦‚æœè¿˜åˆ°ä¸äº†15åˆ†é’Ÿä»¥å†…ï¼Œé‚£å°±å†æ¥ä¸€é</del>ï¼‰</p>
<p>åšé¢˜è¦æ±‚ï¼š</p>
<ol>
<li>é‡æ–°åšä»»åŠ¡æ‹†è§£ï¼ŒæŠŠä»»åŠ¡æ¸…å•å†™ä¸‹æ¥</li>
<li>è®¡æ—¶ï¼Œå¼€å§‹ç¼–ç </li>
<li>ä¸¥æ ¼æŒ‰ç…§TDDçš„æ­¥éª¤ï¼šå…ˆå†™æµ‹è¯•ï¼Œå†å†™å®ç°ï¼Œæµ‹è¯•é€šè¿‡æ—¶é‡æ„</li>
<li>éšæ—¶ç•™æ„è‡ªå·±åœ¨ä»€ä¹ˆæ—¶å€™å¡å£³ã€ä¸æµç•…</li>
<li>ï¼ˆå¦‚æœä½ æ„¿æ„çš„è¯ï¼‰å†æ¬¡è°ƒæ•´ä»»åŠ¡æ¸…å•ï¼Œå†æ¥ä¸€é~</li>
</ol>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li>åšå®Œæ•´é“é¢˜ç”¨å¤šé•¿æ—¶é—´ï¼Ÿ</li>
<li>é€Ÿåº¦æé«˜çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>ä»£ç è´¨é‡å¦‚ä½•ï¼Ÿ</li>
<li>ä»Šå¤©æœ‰ä»€ä¹ˆæ”¶è·ï¼Ÿ</li>
</ul>
<h3 id="ç¬¬4å¤©-ç»ˆäºå¼€å§‹æ­£å¼çš„Kataç»ƒä¹ ï¼Œå…´ä¸å…´å¥‹ï¼Ÿ"><a href="#ç¬¬4å¤©-ç»ˆäºå¼€å§‹æ­£å¼çš„Kataç»ƒä¹ ï¼Œå…´ä¸å…´å¥‹ï¼Ÿ" class="headerlink" title="ç¬¬4å¤©:ç»ˆäºå¼€å§‹æ­£å¼çš„Kataç»ƒä¹ ï¼Œå…´ä¸å…´å¥‹ï¼Ÿ"></a>ç¬¬4å¤©:ç»ˆäºå¼€å§‹æ­£å¼çš„Kataç»ƒä¹ ï¼Œå…´ä¸å…´å¥‹ï¼Ÿ</h3><p>ä»Šå¤©ç»ƒ<a href="http://codingdojo.org/kata/Args/">Args</a>è¿™é“é¢˜ï¼š<a href="http://codingdojo.org/kata/Args/">http://codingdojo.org/kata/Args/</a></p>
<p>Uncle Bobåœ¨ã€ŠClean Codeã€‹ç¬¬14ç« ä¸“é—¨è®¨è®ºäº†è¿™é“é¢˜ã€‚æ®è¯´å¾ˆå¤šå¤§å…¬å¸åœ¨æå€¡å­¦ã€ŠClean Codeã€‹ï¼Œä¹¦é‡Œçš„é¢˜ç›®è¿˜ä¸ç»ƒèµ·æ¥ï¼Ÿ</p>
<p>åšé¢˜çš„è¦æ±‚ï¼š</p>
<ol>
<li>çœ‹æ‡‚é¢˜ç›®ï¼Œå¼€å§‹ç¼–ç ä¹‹å‰å…ˆèŠ±10åˆ†é’Ÿæ‹†è§£ä»»åŠ¡ï¼ŒæŠŠä»»åŠ¡æ¸…å•å†™ä¸‹æ¥</li>
<li>è®¡æ—¶ï¼Œå¼€å§‹ç¼–ç </li>
<li>è¦æ±‚ç”¨TDDçš„æ–¹å¼å®ç°ï¼šå…ˆå†™æµ‹è¯•ï¼Œåå†™ä»£ç </li>
</ol>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li>åšå®Œæ•´é“é¢˜ç”¨äº†å¤šé•¿æ—¶é—´ï¼Ÿ</li>
<li>ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ</li>
<li>TDDçš„æ–¹å¼é¡ºç•…å—ï¼Ÿ</li>
<li>å®é™…åšçš„æ­¥éª¤ï¼Œå’Œä¸€å¼€å§‹æ‹†åˆ†çš„ä»»åŠ¡æ˜¯å¦ç›¸åŒï¼Ÿ</li>
</ul>
<h3 id="ç¬¬äº”å¤©ï¼šåˆ«ç€æ€¥ï¼Œæ…¢æ…¢æ¥"><a href="#ç¬¬äº”å¤©ï¼šåˆ«ç€æ€¥ï¼Œæ…¢æ…¢æ¥" class="headerlink" title="ç¬¬äº”å¤©ï¼šåˆ«ç€æ€¥ï¼Œæ…¢æ…¢æ¥"></a>ç¬¬äº”å¤©ï¼šåˆ«ç€æ€¥ï¼Œæ…¢æ…¢æ¥</h3><p>æ€ä¹ˆæ ·ï¼Œæ˜¨å¤©åš<a href="http://codingdojo.org/kata/Args/">Args</a>è¿™é“é¢˜ï¼Œå¾ˆå—æŒ«å§ï¼Ÿ</p>
<p>å¦‚æœä½ æ˜¯åˆšå¼€å§‹ç»ƒTDDï¼Œå¾ˆå¯èƒ½æ˜¨å¤©ä½ èŠ±äº†ä¸¤ä¸‰ä¸ªå°æ—¶ï¼Œè¿˜æ²¡æŠŠè¿™é“é¢˜åšå‡ºæ¥å§ã€‚</p>
<p>æ²¡å…³ç³»ï¼Œå¤§å®¶éƒ½æœ‰è¿™ä¹ˆä¸€ä¸ªè‰°éš¾çš„è¿‡ç¨‹ã€‚</p>
<p>ä»Šå¤©ç»§ç»­ç»ƒè¿™é“é¢˜ã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªå°å»ºè®®ï¼šè¿™é“é¢˜ç›®é‡Œï¼Œè§£æå­—ç¬¦ä¸²çš„éƒ¨åˆ†ç›¸å½“å¤æ‚è€Œä¸”éº»çƒ¦ã€‚å¯ä»¥è€ƒè™‘é™ä½ä¸€ç‚¹ç»ƒä¹ çš„éš¾åº¦ï¼Œå‡è®¾å­—ç¬¦ä¸²å·²ç»åˆæ­¥è§£æå¥½äº†ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ èµ·å§‹çš„è¾“å…¥ä¸ä¸€å®šæ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="literal">-l</span> <span class="literal">-p</span> <span class="number">8080</span> <span class="literal">-d</span> /usr/log</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">[[<span class="string">&quot;l&quot;</span>, <span class="string">&quot;&quot;</span>], [<span class="string">&quot;p&quot;</span>, <span class="string">&quot;8080&quot;</span>], [<span class="string">&quot;d&quot;</span>, <span class="string">&quot;/usr/log&quot;</span>]]</span><br></pre></td></tr></table></figure>

<p>å¥½äº†ï¼Œæç¤ºå°±åˆ°è¿™å„¿ï¼Œç»§ç»­ç»ƒå§ã€‚</p>
<p>åšé¢˜çš„è¦æ±‚ï¼š</p>
<ol>
<li>çœ‹æ‡‚é¢˜ç›®ï¼Œå¼€å§‹ç¼–ç ä¹‹å‰å…ˆèŠ±10åˆ†é’Ÿæ‹†è§£ä»»åŠ¡ï¼ŒæŠŠä»»åŠ¡æ¸…å•å†™ä¸‹æ¥</li>
<li>è®¡æ—¶ï¼Œå¼€å§‹ç¼–ç </li>
<li>è¦æ±‚ç”¨TDDçš„æ–¹å¼å®ç°ï¼šå…ˆå†™æµ‹è¯•ï¼Œåå†™ä»£ç </li>
</ol>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li>åšå®Œæ•´é“é¢˜ç”¨äº†å¤šé•¿æ—¶é—´ï¼Ÿ</li>
<li>ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ</li>
<li>TDDçš„æ–¹å¼é¡ºç•…å—ï¼Ÿ</li>
<li>å®é™…åšçš„æ­¥éª¤ï¼Œå’Œä¸€å¼€å§‹æ‹†åˆ†çš„ä»»åŠ¡æ˜¯å¦ç›¸åŒï¼Ÿ</li>
</ul>
<h3 id="ç¬¬å…­å¤©ï¼šåæ€ä»»åŠ¡åˆ’åˆ†"><a href="#ç¬¬å…­å¤©ï¼šåæ€ä»»åŠ¡åˆ’åˆ†" class="headerlink" title="ç¬¬å…­å¤©ï¼šåæ€ä»»åŠ¡åˆ’åˆ†"></a>ç¬¬å…­å¤©ï¼šåæ€ä»»åŠ¡åˆ’åˆ†</h3><p>å¦‚æœä½ æŒ‰ç…§å‰å‡ å¤©çš„ä»»åŠ¡ä¸€æ­¥æ­¥åšï¼Œç°åœ¨åº”è¯¥åšå®Œäº†ä¸€é<a href="http://codingdojo.org/kata/Args/">Args</a>ã€‚</p>
<p>ç°åœ¨å›å¤´çœ‹çœ‹ï¼Œå®é™…åšçš„æ­¥éª¤ï¼Œå’Œä¸€å¼€å§‹æ‹†åˆ†çš„ä»»åŠ¡æ˜¯å¦ç›¸åŒï¼Ÿ</p>
<p>æ‹†åˆ†ä»»åŠ¡ï¼Œæ˜¯ç¼–ç¨‹æ•ˆç‡çš„å…³é”®ç¯èŠ‚ã€‚ä»»åŠ¡æ‹†å¾—ä¸åˆç†ã€ä»»åŠ¡çš„éªŒæ”¶æ¡ä»¶ä¸æ¸…æ™°ï¼Œéƒ½ä¼šä¸¥é‡æ‹–æ…¢ç¼–ç¨‹é€Ÿåº¦ã€‚</p>
<p>å¦‚æœä½ å‘ç°è‡ªå·±æ‹†åˆ†çš„ä»»åŠ¡ä¸èƒ½å¾ˆæµç•…åœ°è½¬åŒ–æˆä»£ç å®ç°ï¼Œè¿™å„¿æœ‰ä¸€ç¯‡ç‰¹åˆ«å¥½çš„æ–‡ç« ï¼Œåº”è¯¥å¥½å¥½å­¦ä¹ ï¼š<a href="http://insights.thoughtworkers.org/think-as-a-machine/">ã€Šåƒæœºå™¨ä¸€æ ·æ€è€ƒã€‹</a></p>
<p><a href="http://insights.thoughtworkers.org/think-as-a-machine/">http://insights.thoughtworkers.org/think-as-a-machine/</a></p>
<p>ä»Šå¤©å…ˆçœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œå†ç»ƒä¸€éArgså§ã€‚</p>
<p>åšé¢˜çš„è¦æ±‚ï¼š</p>
<ol>
<li>çœ‹æ‡‚é¢˜ç›®ï¼Œå¼€å§‹ç¼–ç ä¹‹å‰å…ˆèŠ±10åˆ†é’Ÿæ‹†è§£ä»»åŠ¡ï¼ŒæŠŠä»»åŠ¡æ¸…å•å†™ä¸‹æ¥</li>
<li>è®¡æ—¶ï¼Œå¼€å§‹ç¼–ç </li>
<li>è¦æ±‚ç”¨TDDçš„æ–¹å¼å®ç°ï¼šå…ˆå†™æµ‹è¯•ï¼Œåå†™ä»£ç </li>
</ol>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li>åšå®Œæ•´é“é¢˜ç”¨äº†å¤šé•¿æ—¶é—´ï¼Ÿ</li>
<li>ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ</li>
<li>TDDçš„æ–¹å¼é¡ºç•…å—ï¼Ÿ</li>
<li>å®é™…åšçš„æ­¥éª¤ï¼Œå’Œä¸€å¼€å§‹æ‹†åˆ†çš„ä»»åŠ¡æ˜¯å¦ç›¸åŒï¼Ÿ</li>
</ul>
<h3 id="ç¬¬ä¸ƒå¤©ï¼šçœ‹çœ‹é—²ä¹¦"><a href="#ç¬¬ä¸ƒå¤©ï¼šçœ‹çœ‹é—²ä¹¦" class="headerlink" title="ç¬¬ä¸ƒå¤©ï¼šçœ‹çœ‹é—²ä¹¦"></a>ç¬¬ä¸ƒå¤©ï¼šçœ‹çœ‹é—²ä¹¦</h3><p>ä¸Šå¸åˆ›ä¸–ï¼Œå¹²äº†å…­å¤©è¿˜å¾—æ­‡ä¸€å¤©å‘¢ã€‚</p>
<p>996ä¹Ÿè¿˜å¾—ä¼‘æ¯ä¸ªæ˜ŸæœŸå¤©å‘¢ã€‚</p>
<p>æ‰€ä»¥ä»Šå¤©å°±ä¼‘æ¯å§~</p>
<p>å¦‚æœå®åœ¨é—²ä¸ä½ï¼Œè¿™å„¿æœ‰æœ¬é—²ä¹¦å¯ä»¥çœ‹çœ‹ã€‚</p>
<p>æˆ‘çš„<a href="https://gitbook.cn/gitchat/column/5c1a1c431e59245d4d2aede1">ã€Šæ•æ·ä¸­å›½å²ã€‹</a></p>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li>ä»Šå¤©ä¼‘æ¯å¾—æ€ä¹ˆæ ·ï¼Ÿ</li>
<li>ã€Šæ•æ·ä¸­å›½å²ã€‹é‡Œè®²ä¸­å›½è½¯ä»¶ä¸šéœ€è¦å“ªå››ç§åŸºæœ¬èƒ½åŠ›ï¼Ÿ</li>
</ul>
<h3 id="ç¬¬å…«å¤©ï¼šç†Ÿèƒ½ç”Ÿå·§"><a href="#ç¬¬å…«å¤©ï¼šç†Ÿèƒ½ç”Ÿå·§" class="headerlink" title="ç¬¬å…«å¤©ï¼šç†Ÿèƒ½ç”Ÿå·§"></a>ç¬¬å…«å¤©ï¼šç†Ÿèƒ½ç”Ÿå·§</h3><p>è¿˜æ˜¯<a href="http://codingdojo.org/kata/Args/">Args</a>è¿™é“é¢˜ï¼Œæˆ‘ä»¬ç»§ç»­ç»ƒã€‚</p>
<p>ã€Šå“ªå„¿æ¥çš„å¤©æ‰ã€‹è¿™æœ¬ä¹¦é‡Œè¯´ï¼Œä¸€åˆ‡çš„èƒ½åŠ›ï¼Œéƒ½æ¥è‡ªåˆ»æ„ç»ƒä¹ ã€‚</p>
<p>å…‰æ˜¯â€œçŸ¥é“â€è¿™äº‹å„¿æ€ä¹ˆåšï¼Œæ˜¯ä¸å¤Ÿçš„ã€‚</p>
<p>éå¾—åå¤ç»ƒä¹ ã€åå¤è§‚å¯Ÿè‡ªå·±ç»ƒä¹ ä¸­çš„é—®é¢˜ï¼Œæ‰ä¼šæœ‰æé«˜ï¼Œæ‰ä¼šç§¯ç´¯çœŸæ­£çš„èƒ½åŠ›ã€‚</p>
<p>ç»ƒåˆ°ä»€ä¹ˆç¨‹åº¦å‘¢ï¼ŸArgsè¿™é“é¢˜ï¼Œç»ƒåŠŸæˆ¿é‡Œçš„åŒå­¦å·²ç»æœ‰ç»ƒåˆ°27åˆ†é’Ÿå®Œæˆäº†ã€‚è€Œä¸”æ˜¯åŒ…å«äº†å­—ç¬¦ä¸²è§£æçš„éƒ¨åˆ†ã€‚</p>
<p>æ‰€ä»¥â€¦â€¦ç»§ç»­åŠ æ²¹å§ã€‚</p>
<p>ä»Šå¤©ç»ƒä¹ çš„æ—¶å€™ï¼Œé‡ç‚¹è§‚å¯Ÿä¸€ä»¶äº‹ï¼š</p>
<p>ä½ çš„æ¯è¡Œä»£ç ï¼Œéƒ½æ˜¯ç”±æµ‹è¯•é©±åŠ¨å‡ºæ¥çš„å—ï¼Ÿ</p>
<p>åšé¢˜çš„è¦æ±‚ï¼š</p>
<ol>
<li>çœ‹æ‡‚é¢˜ç›®ï¼Œå¼€å§‹ç¼–ç ä¹‹å‰å…ˆèŠ±10åˆ†é’Ÿæ‹†è§£ä»»åŠ¡ï¼ŒæŠŠä»»åŠ¡æ¸…å•å†™ä¸‹æ¥</li>
<li>è®¡æ—¶ï¼Œå¼€å§‹ç¼–ç </li>
<li>è¦æ±‚ç”¨TDDçš„æ–¹å¼å®ç°ï¼šå…ˆå†™æµ‹è¯•ï¼Œåå†™ä»£ç </li>
</ol>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li>åšå®Œæ•´é“é¢˜ç”¨äº†å¤šé•¿æ—¶é—´ï¼Ÿ</li>
<li>ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ</li>
<li>TDDçš„æ–¹å¼é¡ºç•…å—ï¼Ÿæ¯è¡Œä»£ç éƒ½æ˜¯ç”±æµ‹è¯•é©±åŠ¨å‡ºæ¥çš„å—ï¼Ÿ</li>
<li>å®é™…åšçš„æ­¥éª¤ï¼Œå’Œä¸€å¼€å§‹æ‹†åˆ†çš„ä»»åŠ¡æ˜¯å¦ç›¸åŒï¼Ÿ</li>
</ul>
<h3 id="ç¬¬ä¹å¤©ï¼šé‡æ¸©TDDåŸºç¡€"><a href="#ç¬¬ä¹å¤©ï¼šé‡æ¸©TDDåŸºç¡€" class="headerlink" title="ç¬¬ä¹å¤©ï¼šé‡æ¸©TDDåŸºç¡€"></a>ç¬¬ä¹å¤©ï¼šé‡æ¸©TDDåŸºç¡€</h3><p>åœ¨ç»ƒä¹ TDDçš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ²¡æœ‰æ„Ÿè§‰åˆ°ä¸å¤ªæµç•…ï¼Ÿæ˜¯å¦ä¼šè§‰å¾—ï¼Œæœ‰äº›ä»£ç å…¶å®ä¸æ˜¯è¢«æµ‹è¯•é©±åŠ¨å‡ºæ¥çš„ï¼Œåè€Œåƒæ˜¯å…ˆæƒ³å¥½äº†ä»£ç æ€ä¹ˆå†™ï¼Œå†™å®Œå†è¡¥æµ‹è¯•ï¼Ÿ</p>
<p>TDDçš„åŸºæœ¬åŠŸï¼Œå¦‚æœè¿˜ä¸å¤ªç†Ÿçš„è¯ï¼Œæ˜¯éœ€è¦æ¸©æ•…è€ŒçŸ¥æ–°çš„ã€‚</p>
<p>å»ºè®®èŠ±ä¸€ç‚¹æ—¶é—´ï¼ŒæŠŠKent Beckçš„ã€Šæµ‹è¯•é©±åŠ¨å¼€å‘ã€‹ç¿»å‡ºæ¥ï¼Œçœ‹ç¬¬ä¸€éƒ¨åˆ†â€œè´§å¸å®ä¾‹â€ï¼Œç…§ç€ä¹¦é‡Œçš„æ­¥å­ï¼Œä¸€æ­¥æ­¥åšä¸€éã€‚</p>
<p>ç„¶åå›å¤´å†æƒ³æƒ³Argsè¿™é“é¢˜ï¼Œä½ å†™æµ‹è¯•çš„æ–¹å¼ï¼Œæ˜¯å¦éœ€è¦è°ƒæ•´ï¼Ÿ</p>
<p>è¦ä¸ï¼Œç…§ç€Beckå¤§å¸ˆçš„åšæ³•ï¼Œå†æ’¸ä¸€éï¼Ÿ</p>
<p>åšé¢˜çš„è¦æ±‚ï¼š</p>
<ol>
<li>çœ‹æ‡‚é¢˜ç›®ï¼Œå¼€å§‹ç¼–ç ä¹‹å‰å…ˆèŠ±10åˆ†é’Ÿæ‹†è§£ä»»åŠ¡ï¼ŒæŠŠä»»åŠ¡æ¸…å•å†™ä¸‹æ¥</li>
<li>è®¡æ—¶ï¼Œå¼€å§‹ç¼–ç </li>
<li>è¦æ±‚ç”¨TDDçš„æ–¹å¼å®ç°ï¼šå…ˆå†™æµ‹è¯•ï¼Œåå†™ä»£ç </li>
</ol>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li>åšå®Œæ•´é“é¢˜ç”¨äº†å¤šé•¿æ—¶é—´ï¼Ÿ</li>
<li>ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ</li>
<li>TDDçš„æ–¹å¼é¡ºç•…å—ï¼Ÿæ¯è¡Œä»£ç éƒ½æ˜¯ç”±æµ‹è¯•é©±åŠ¨å‡ºæ¥çš„å—ï¼Ÿ</li>
<li>å®é™…åšçš„æ­¥éª¤ï¼Œå’Œä¸€å¼€å§‹æ‹†åˆ†çš„ä»»åŠ¡æ˜¯å¦ç›¸åŒï¼Ÿ</li>
</ul>
<h3 id="ç¬¬åå¤©ï¼šä»£ç è‡­ä¸è‡­ï¼Ÿ"><a href="#ç¬¬åå¤©ï¼šä»£ç è‡­ä¸è‡­ï¼Ÿ" class="headerlink" title="ç¬¬åå¤©ï¼šä»£ç è‡­ä¸è‡­ï¼Ÿ"></a>ç¬¬åå¤©ï¼šä»£ç è‡­ä¸è‡­ï¼Ÿ</h3><p>åš<a href="http://codingdojo.org/kata/Args/">Args</a>ä¹Ÿåšäº†å¥½å‡ éäº†ï¼Œç°åœ¨åº”è¯¥åšå¾—å¾ˆç†Ÿäº†å§ï¼Ÿ</p>
<p>ä»Šå¤©æˆ‘ä»¬ç€é‡çœ‹ä»£ç è´¨é‡ã€‚</p>
<p>ä»£ç è´¨é‡ä¸æ˜¯ä¸»è§‚çš„å®¡ç¾åˆ¤æ–­ã€‚å®ƒæ˜¯æœ‰ç›¸å½“å®¢è§‚çš„åˆ¤æ–­ä¾æ®çš„ã€‚è¿™ä¸ªåˆ¤æ–­ä¾æ®å°±æ˜¯Martin Fowleråœ¨ã€Šé‡æ„ã€‹é‡Œè¯´çš„â€œåå‘³é“â€ï¼ˆbad smellï¼‰ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬ç¿»å¼€ã€Šé‡æ„ã€‹ï¼ˆç¬¬äºŒç‰ˆï¼‰ï¼Œç¿»åˆ°ç¬¬ä¸‰ç« â€œä»£ç çš„åå‘³é“â€ã€‚è¿™é‡Œé¢åˆ—ä¸¾äº†24ç§åå‘³é“ï¼Œå¯ä»¥å¿«é€Ÿçœ‹ä¸€éï¼Œçœ‹çœ‹ä½ çš„ä»£ç é‡Œæ˜¯å¦å‡ºç°äº†è¿™äº›åå‘³é“ã€‚</p>
<p>å¦‚æœå‘ç°äº†åå‘³é“ï¼Œä¹¦é‡Œå·²ç»ç»™ä½ æŒ‡å‡ºäº†å¯¹åº”çš„é‡æ„æ‰‹æ³•ï¼Œè¯•ç€ç…§ä¹¦é‡Œå†™çš„é‡æ„æ‰‹æ³•ï¼Œé‡æ„ä¸€ä¸‹çœ‹çœ‹å§ã€‚</p>
<p>ç»ƒä¹ çš„è¦æ±‚ï¼š</p>
<ol>
<li>ä»æ˜¨å¤©çš„æœ€åä¸€ç‰ˆä»£ç å¼€å§‹ï¼ŒæŸ¥çœ‹æœ‰æ²¡æœ‰åå‘³é“</li>
<li>å¦‚æœå‘ç°äº†åå‘³é“ï¼Œçœ‹çœ‹å¯¹åº”çš„é‡æ„æ‰‹æ³•æ˜¯ä»€ä¹ˆ</li>
<li>é‡æ„ï¼Œç›´åˆ°åå‘³é“æ¶ˆå¤±</li>
</ol>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li>é‡æ„çš„æ„Ÿè§‰æ€ä¹ˆæ ·ï¼Ÿæ˜¯å¦æœ‰ä¿¡å¿ƒï¼Ÿ</li>
<li>é‡æ„ä¹‹åçš„ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ</li>
</ul>
<h3 id="ç¬¬åä¸€å¤©ï¼šé€Ÿåº¦é€Ÿåº¦"><a href="#ç¬¬åä¸€å¤©ï¼šé€Ÿåº¦é€Ÿåº¦" class="headerlink" title="ç¬¬åä¸€å¤©ï¼šé€Ÿåº¦é€Ÿåº¦"></a>ç¬¬åä¸€å¤©ï¼šé€Ÿåº¦é€Ÿåº¦</h3><p>æˆ‘ä»¬æ¥ç€ç»ƒ<a href="http://codingdojo.org/kata/Args/">Args</a>è¿™é“é¢˜ã€‚</p>
<p>åœ¨å‰é¢å‡ å¤©ï¼Œå¦¨ç¢ä½ æé«˜ç¼–ç¨‹é€Ÿåº¦çš„å‡ ä¸ªæ‹¦è·¯è™åº”è¯¥éƒ½è§£å†³äº†ã€‚</p>
<p>ä½ å‡†å¤‡å¥½äº†å·¥ä½œç¯å¢ƒï¼Œç†Ÿæ‚‰äº†IntelliJçš„å¿«æ·é”®ã€‚</p>
<p>ä½ é‡æ–°å®¡è§†äº†ä»»åŠ¡æ‹†è§£çš„æ–¹å¼ã€‚</p>
<p>ä½ é‡æ¸©äº†TDDçš„æ­¥éª¤ã€‚</p>
<p>ä½ ä»ä»£ç ä¸­å¯»æ‰¾å¹¶æ¶ˆé™¤äº†åå‘³é“ã€‚</p>
<p>ç°åœ¨ï¼Œå†æ¥ç»ƒä¸€éï¼Œçœ‹çœ‹ä½ çš„é€Ÿåº¦æœ‰å¤šå¤§æå‡ã€‚</p>
<p>ï¼ˆç»ƒåŠŸæˆ¿é‡Œçš„å°ä¼™ä¼´ä»¬åˆ°è¿™ä¸ªæ—¶å€™å¤§å¤šèƒ½è¿›åˆ°1å°æ—¶ä»¥å†…äº†ã€‚ï¼‰</p>
<p>åšé¢˜çš„è¦æ±‚ï¼š</p>
<ol>
<li>å¼€å§‹ç¼–ç ä¹‹å‰å…ˆèŠ±10åˆ†é’Ÿæ‹†è§£ä»»åŠ¡ï¼ŒæŠŠä»»åŠ¡æ¸…å•å†™ä¸‹æ¥</li>
<li>è®¡æ—¶ï¼Œå¼€å§‹ç¼–ç </li>
<li>è¦æ±‚ç”¨TDDçš„æ–¹å¼å®ç°ï¼šå…ˆå†™æµ‹è¯•ï¼Œåå†™ä»£ç </li>
</ol>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li>åšå®Œæ•´é“é¢˜ç”¨äº†å¤šé•¿æ—¶é—´ï¼Ÿ</li>
<li>ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ</li>
<li>TDDçš„æ„Ÿè§‰æ€ä¹ˆæ ·ï¼Ÿ</li>
</ul>
<h3 id="ç¬¬åäºŒå¤©ï¼šå¼€ä¸€é“æ–°é¢˜"><a href="#ç¬¬åäºŒå¤©ï¼šå¼€ä¸€é“æ–°é¢˜" class="headerlink" title="ç¬¬åäºŒå¤©ï¼šå¼€ä¸€é“æ–°é¢˜"></a>ç¬¬åäºŒå¤©ï¼šå¼€ä¸€é“æ–°é¢˜</h3><p>ä»Šå¤©ç»ˆäºå¯ä»¥å’Œ<a href="http://codingdojo.org/kata/Args/">Args</a>é“åˆ«äº†~</p>
<p>æˆ‘ä»¬å¼€å§‹ä¸€é“æ–°çš„é¢˜ç›®ï¼š<a href="http://codekata.com/kata/kata06-anagrams/">Anagrams</a></p>
<p>è¿™é“é¢˜ä¸ç®€å•ï¼Œå› ä¸ºä¸€æ—¦ä½ åœ¨ä¸€ä¸ªå¾ˆå¤§çš„æ•°æ®é›†ä¸Šè¿è¡Œæµ‹è¯•ï¼Œå¾ˆå¯èƒ½ä¼šæ…¢å¾—éš¾ä»¥å¿å—ã€‚</p>
<p>æ‰€ä»¥å…ˆç»™ä½ ä¸€ä¸ªæç¤ºï¼šæˆ–è®¸å¯ä»¥è€ƒè™‘å…ˆåšä¸€ä¸ªæ¯”è¾ƒå°çš„æ•°æ®é›†ï¼Œåœ¨è¿™ä¸Šé¢æŠŠé€»è¾‘å†™å¯¹ï¼Œç„¶åå†å»å¤§æ•°æ®é›†ä¸Šè¿è¡Œã€‚</p>
<p>åšé¢˜çš„è¦æ±‚ï¼š</p>
<ol>
<li>çœ‹æ‡‚é¢˜ç›®ï¼Œå¼€å§‹ç¼–ç ä¹‹å‰å…ˆèŠ±10åˆ†é’Ÿæ‹†è§£ä»»åŠ¡ï¼ŒæŠŠä»»åŠ¡æ¸…å•å†™ä¸‹æ¥</li>
<li>è®¡æ—¶ï¼Œå¼€å§‹ç¼–ç </li>
<li>è¦æ±‚ç”¨TDDçš„æ–¹å¼å®ç°ï¼šå…ˆå†™æµ‹è¯•ï¼Œåå†™ä»£ç </li>
</ol>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li>åšå®Œæ•´é“é¢˜ç”¨äº†å¤šé•¿æ—¶é—´ï¼Ÿ</li>
<li>ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ</li>
<li>TDDçš„æ–¹å¼é¡ºç•…å—ï¼Ÿæ¯è¡Œä»£ç éƒ½æ˜¯ç”±æµ‹è¯•é©±åŠ¨å‡ºæ¥çš„å—ï¼Ÿ</li>
<li>å®é™…åšçš„æ­¥éª¤ï¼Œå’Œä¸€å¼€å§‹æ‹†åˆ†çš„ä»»åŠ¡æ˜¯å¦ç›¸åŒï¼Ÿ</li>
</ul>
<h3 id="ç¬¬åä¸‰å¤©ï¼šå†æ¥ä¸€é"><a href="#ç¬¬åä¸‰å¤©ï¼šå†æ¥ä¸€é" class="headerlink" title="ç¬¬åä¸‰å¤©ï¼šå†æ¥ä¸€é"></a>ç¬¬åä¸‰å¤©ï¼šå†æ¥ä¸€é</h3><p>ä¼°è®¡ä½ æ˜¨å¤©åš<a href="http://codekata.com/kata/kata06-anagrams/">Anagrams</a>åšå¾—ä¸å¤Ÿçˆ½å§ï¼Ÿ</p>
<p>æˆ‘ä¹Ÿä¸ç”¨å¤šåºŸè¯äº†ï¼Œä½ åº”è¯¥çŸ¥é“è¦çœ‹å“ªäº›æ–¹é¢ã€‚</p>
<p>åŠ¨æ‰‹ï¼Œç»ƒå§ã€‚</p>
<p>åšé¢˜çš„è¦æ±‚ï¼š</p>
<ol>
<li>çœ‹æ‡‚é¢˜ç›®ï¼Œå¼€å§‹ç¼–ç ä¹‹å‰å…ˆèŠ±10åˆ†é’Ÿæ‹†è§£ä»»åŠ¡ï¼ŒæŠŠä»»åŠ¡æ¸…å•å†™ä¸‹æ¥</li>
<li>è®¡æ—¶ï¼Œå¼€å§‹ç¼–ç </li>
<li>è¦æ±‚ç”¨TDDçš„æ–¹å¼å®ç°ï¼šå…ˆå†™æµ‹è¯•ï¼Œåå†™ä»£ç </li>
</ol>
<p>æ‰“å¡å†…å®¹ï¼ˆå¯é€‰ï¼Œéå¿…é¡»ï¼‰ï¼š</p>
<ul>
<li>åšå®Œæ•´é“é¢˜ç”¨äº†å¤šé•¿æ—¶é—´ï¼Ÿä»€ä¹ˆåœ°æ–¹æµªè´¹äº†æ—¶é—´ï¼Ÿ</li>
<li>ä»£ç è´¨é‡æ€ä¹ˆæ ·ï¼Ÿ</li>
<li>TDDçš„æ–¹å¼é¡ºç•…å—ï¼Ÿæ¯è¡Œä»£ç éƒ½æ˜¯ç”±æµ‹è¯•é©±åŠ¨å‡ºæ¥çš„å—ï¼Ÿ</li>
<li>å®é™…åšçš„æ­¥éª¤ï¼Œå’Œä¸€å¼€å§‹æ‹†åˆ†çš„ä»»åŠ¡æ˜¯å¦ç›¸åŒï¼Ÿ</li>
</ul>
<h3 id="ç¬¬åå››å¤©ï¼šæ€»ç»“"><a href="#ç¬¬åå››å¤©ï¼šæ€»ç»“" class="headerlink" title="ç¬¬åå››å¤©ï¼šæ€»ç»“"></a>ç¬¬åå››å¤©ï¼šæ€»ç»“</h3><p>æ­å–œä½ ï¼Œä½ å®Œæˆäº†ç¬¬ä¸€ä¸ªç¼–ç¨‹è®­ç»ƒè¥ã€‚</p>
<p>æ„Ÿè§‰æ€ä¹ˆæ ·ï¼Ÿ</p>
<p>æœ‰æ²¡æœ‰æ‰¾åˆ°TDDçš„èŠ‚å¥ï¼Ÿ</p>
<p>æœ‰æ²¡æœ‰æ‰¾åˆ°é‡æ„çš„æ„Ÿè§‰ï¼Ÿ</p>
<p>ç¼–ç¨‹çš„é€Ÿåº¦æœ‰æ²¡æœ‰æé«˜ï¼Ÿ</p>
<p>æˆ‘å»ºè®®ä½ å¯ä»¥å†™ä¸€ç¯‡åšå®¢ï¼Œæ€»ç»“ä¸€ä¸‹è¿™ä¸¤å‘¨çš„æ”¶è·ã€‚</p>
<p>åšå®¢çš„é“¾æ¥å°±æ‰“å¡å‘ç»™æˆ‘å§ã€‚</p>
<p>æœ€åçš„æœ€åï¼Œè®°å¾—å…³æ³¨æˆ‘ä»¬çš„å¾®ä¿¡å…¬ä¼—å·ï¼šç¨‹åºå‘˜ç»ƒåŠŸæˆ¿ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ€æƒ³</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>TDDåŠå•å…ƒæµ‹è¯•</title>
    <url>/2024/07/31/TDD%E5%8F%8A%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/</url>
    <content><![CDATA[<p>å•å…ƒæµ‹è¯•éµå¾ªäº†å«åšâ€œ<code>å‡†å¤‡/åŠ¨ä½œ/æ–­è¨€(A/A/A)</code>â€çš„æ¨¡å¼ã€‚</p>
<ul>
<li>å‡†å¤‡ï¼ˆArrangeï¼‰ï¼šå»ºç«‹æµ‹è¯•ç¯å¢ƒ</li>
<li>åŠ¨ä½œï¼ˆActï¼‰ï¼šæ‰§è¡Œæµ‹è¯•</li>
<li>æ–­è¨€ï¼ˆAssertï¼‰ï¼šåˆ¤æ–­èƒ½å¦å¾—åˆ°æ‰€éœ€è¦çš„æŸä¸ªç»“æœ</li>
</ul>
<p>è®©å•å…ƒæµ‹è¯•æœ‰ä¸€è‡´çš„ç»“æ„ï¼Œä¼šä½¿å®ƒä»¬æ˜“äºé˜…è¯»ã€‚å½“é¡¹ç›®å«æœ‰æ•°ç™¾ä¸ªå•å…ƒæµ‹è¯•æ—¶ï¼Œæ›´ä¼šä½“ä¼šåˆ°è¿™ä¹ˆåšçš„å¥½å¤„ï¼</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">[<span class="meta">TestClass</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AdminControllerTests</span> &#123;</span><br><span class="line"></span><br><span class="line">      [<span class="meta">TestMethod</span>]</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">CanChangeLoginName</span>()</span> &#123;</span><br><span class="line"></span><br><span class="line">          <span class="comment">// Arrange (set up a scenario) </span></span><br><span class="line">          User user = <span class="keyword">new</span> User() &#123; LoginName = <span class="string">&quot;Bob&quot;</span> &#125;;</span><br><span class="line">          FakeRepository repositoryParam = <span class="keyword">new</span> FakeRepository();</span><br><span class="line">          repositoryParam.Add(user);</span><br><span class="line">          AdminController target = <span class="keyword">new</span> AdminController(repositoryParam);</span><br><span class="line">          <span class="built_in">string</span> oldLoginParam = user.LoginName;</span><br><span class="line">          <span class="built_in">string</span> newLoginParam = <span class="string">&quot;Joe&quot;</span>;</span><br><span class="line"></span><br><span class="line">          <span class="comment">// Act (attempt the operation) </span></span><br><span class="line">          target.ChangeLoginName(oldLoginParam, newLoginParam);</span><br><span class="line"></span><br><span class="line">          <span class="comment">// Assert (verify the result) </span></span><br><span class="line">          Assert.AreEqual(newLoginParam, user.LoginName);</span><br><span class="line">          Assert.IsTrue(repositoryParam.DidSubmitChanges);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>TDD</code>åŠâ€œ<code>çº¢-ç»¿-é‡æ„</code>â€å·¥ä½œæµç¨‹</p>
<p>å®ƒæ˜¯è¿™æ ·å·¥ä½œçš„ï¼š</p>
<ul>
<li>ç¡®å®šéœ€è¦ç»™åº”ç”¨ç¨‹åºæ·»åŠ çš„ä¸€ä¸ªæ–°ç‰¹æ€§æˆ–æ–¹æ³•</li>
<li>ç¼–å†™æµ‹è¯•ï¼Œå°†ç”¨ä»¥æ£€éªŒæ–°ç‰¹æ€§çš„è¡Œä¸ºï¼ˆå…ˆæµ‹è¯•ï¼‰</li>
<li>è¿è¡Œè¯¥æµ‹è¯•ï¼Œå¹¶å¾—åˆ°ä¸€ä¸ªçº¢è‰²ä¿¡å·</li>
<li>ç¼–å†™å®ç°æ–°ç‰¹æ€§çš„ä»£ç ï¼ˆåç¼–ç ï¼‰</li>
<li>å†æ¬¡è¿è¡Œæµ‹è¯•ï¼Œå¹¶ä¿®æ­£å…¶ä»£ç ï¼Œç›´è‡³å¾—åˆ°ä¸€ä¸ªç»¿è‰²ä¿¡å·</li>
<li>å¿…è¦æ—¶é‡æ„æ”¹ä»£ç ã€‚ä¾‹å¦‚ï¼šé‡ç»„è¯­å¥ã€é‡å‘½åå˜é‡ç­‰ï¼ˆé‡æ„ï¼‰</li>
<li>è¿è¡Œè¯¥æµ‹è¯•ï¼Œä»¥ç¡®è®¤ä¿®æ”¹ä¸ä¼šæ”¹å˜è¿™ä¸ªæ–°å¢ç‰¹æ•ˆæˆ–æ–¹æ³•çš„è¡Œä¸º<br>ç„¶åï¼Œå¯¹æ·»åŠ çš„æ¯ä¸ªç‰¹æ€§æˆ–æ–¹æ³•é‡å¤è¿™ä¸ªå·¥ä½œæµç¨‹ã€‚</li>
</ul>
<p><code>TDD</code>é¢ å€’äº†ä¼ ç»Ÿçš„å¼€å‘æµç¨‹ï¼šé¦–å…ˆä¸ºä¸€ä¸ªæ–°ç‰¹æ€§çš„å®Œç¾å®ç°ç¼–å†™ä¸€äº›æµ‹è¯•ï¼Œå°½ç®¡çŸ¥é“è¿™äº›æµ‹è¯•è‚¯å®šä¼šå¤±è´¥ã€‚ç„¶åå®ç°è¯¥ç‰¹æ€§ï¼Œè¿™åŒ…æ‹¬åˆ›å»ºè¯¥ç‰¹æ€§è¡Œä¸ºçš„å„ä¸ªæ–¹é¢ï¼Œå¹¶è®©å®ƒä»¬é€šè¿‡ä¸€ä¸ªæˆ–å¤šä¸ªæµ‹è¯•ã€‚</p>
<p>è¿™ç§<strong>å¾ªç¯</strong>æ˜¯<code>TDD</code>çš„ç²¾é«“ã€‚</p>
<ul>
<li>ä½¿æˆ‘ä»¬åœ¨å¼€å§‹ç¼–ç ä¹‹å‰ï¼Œå°±æ€è€ƒåº”è¯¥å¦‚ä½•è¿›è¡Œä¿®æ”¹å’Œå¢å¼ºï¼›</li>
<li>ä½¿æˆ‘ä»¬äº‹å…ˆå°±æœ‰è®¡åˆ’å¥½çš„ã€æ˜ç¡®çš„æœ€ç»ˆç›®æ ‡ï¼Œå¹¶ä¸”æœ‰ä¸€ç§æ£€æŸ¥æ˜¯å¦è¾¾åˆ°è¿™ä¸ªç›®æ ‡çš„æ–¹æ³•ï¼›</li>
<li>å¦‚æœæœ‰äº†æ¶‰åŠåº”ç”¨ç¨‹åºå…¶ä½™éƒ¨åˆ†çš„å•å…ƒæµ‹è¯•ï¼Œå°±å¯ä»¥ç¡®ä¿¡æˆ‘ä»¬çš„æ‰©å……ä¸ä¼šæ›´æ”¹å…¶ä»–åœ°æ–¹çš„è¡Œä¸ºï¼›</li>
<li>èƒ½å¤Ÿè®©æˆ‘ä»¬äº‹å…ˆè€ƒè™‘ä»€ä¹ˆæ‰æ˜¯å®Œç¾çš„å®ç°ï¼Œä¸è‡³äºå› ç¼–ç æŠ€æœ¯è€Œæœ‰æ‰€åè§ã€‚</li>
</ul>
<p>ç¼ºç‚¹æ˜¯éœ€è¦è®­ç»ƒã€‚éšç€äº¤ä»˜æœŸçš„ä¸´è¿‘ï¼Œæ€»æ˜¯æœ‰äººæƒ³æ”¾å¼ƒ<code>TDD</code>ï¼Œè€Œç›´æ¥ç¼–å†™ä»£ç ï¼Œæˆ–è€…æ”¾å¼ƒæœ‰é—®é¢˜çš„æµ‹è¯•ï¼Œä½¿å¾—ä»£ç çœ‹èµ·æ¥æ¯”å®é™…æ›´å¥½ã€‚<br>åŸºäºè¿™äº›åŸå› ï¼š</p>
<ul>
<li>TDDåªèƒ½åœ¨æœ‰åŸºç¡€ä¸”æˆç†Ÿçš„å¼€å‘å›¢é˜Ÿä¸­ä½¿ç”¨ï¼Œè¿™ç§å›¢é˜Ÿä¸€èˆ¬å…·æœ‰è¾ƒé«˜çš„æŠ€æœ¯æ°´å¹³å’Œçºªå¾‹çº¦æŸ</li>
<li>ä¸€äº›ç‰¹æ®Šå›¢é˜Ÿï¼Œè¿™äº›å›¢é˜Ÿçš„é¢†å¯¼èƒ½å¤Ÿåœ¨å³ä½¿é¢ä¸´æ—¶é—´é™åˆ¶çš„æƒ…å†µä¸‹ä¹Ÿèƒ½å¼ºåˆ¶æ‰§è¡Œ<code>TDD</code></li>
</ul>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ€æƒ³</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>ThinkPadNEO14åˆç›–åé£æ‰‡ä»ç„¶é«˜é€Ÿè½¬åŠ¨</title>
    <url>/2024/07/31/ThinkPadNEO14%E5%90%88%E7%9B%96%E5%90%8E%E9%A3%8E%E6%89%87%E4%BB%8D%E7%84%B6%E9%AB%98%E9%80%9F%E8%BD%AC%E5%8A%A8/</url>
    <content><![CDATA[<p><code>æ§åˆ¶é¢æ¿</code>â€”â€”ã€‹<code>ç³»ç»Ÿå’Œå®‰å…¨</code>â€”â€”ã€‹<code>ç”µæºé€‰é¡¹</code>â€”â€”ã€‹<code>é€‰æ‹©ç”µæºæŒ‰é’®çš„åŠŸèƒ½</code>â€”â€”ã€‹<code>æ›´æ”¹å½“å‰ä¸å¯ç”¨çš„è®¾ç½®</code>â€”â€”ã€‹å–æ¶ˆå‹¾é€‰<code>å¯ç”¨å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰</code>â€”â€”ã€‹<code>ä¿å­˜ä¿®æ”¹</code></p>
]]></content>
      <categories>
        <category>ç¡¬ä»¶</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntuä½¿ç”¨</title>
    <url>/2024/07/31/Ubuntu%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h3 id="è§£å†³â€œA-start-job-is-running-for-Wait-for-Network-to-be-Configuredâ€"><a href="#è§£å†³â€œA-start-job-is-running-for-Wait-for-Network-to-be-Configuredâ€" class="headerlink" title="è§£å†³â€œA start job is running for Wait for Network to be Configuredâ€"></a>è§£å†³â€œA start job is running for Wait for Network to be Configuredâ€</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl show -p WantedBy network-online.target</span><br><span class="line">sudo apt purge cloud-config</span><br><span class="line">sudo systemctl disable iscsid.service</span><br><span class="line">sudo systemctl disable open-iscsi.service</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘<code>/etc/netplan/xx-installer-config.yaml</code>æ–‡ä»¶ï¼Œæ¯ä¸€ä¸ªç½‘å¡éƒ½æ·»åŠ <code>optional: true</code>ï¼Œ</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># This is the network config written by &#x27;subiquity&#x27;</span></span><br><span class="line"><span class="attr">network:</span></span><br><span class="line">  <span class="attr">ethernets:</span></span><br><span class="line">    <span class="attr">eth0:</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">optional:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">eth1:</span></span><br><span class="line">      <span class="attr">addresses:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">192.168</span><span class="number">.18</span><span class="number">.3</span><span class="string">/24</span></span><br><span class="line">      <span class="attr">gateway4:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span></span><br><span class="line">      <span class="attr">nameservers:</span></span><br><span class="line">        <span class="attr">addresses:</span> []</span><br><span class="line">        <span class="attr">search:</span> []</span><br><span class="line">      <span class="attr">optional:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">version:</span> <span class="number">2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¹¶è¿è¡Œå‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo netplan apply</span><br></pre></td></tr></table></figure>

<h3 id="sudoå–æ¶ˆå¯†ç è¾“å…¥"><a href="#sudoå–æ¶ˆå¯†ç è¾“å…¥" class="headerlink" title="sudoå–æ¶ˆå¯†ç è¾“å…¥"></a>sudoå–æ¶ˆå¯†ç è¾“å…¥</h3><p>ç¼–è¾‘<code>/etc/sudoers</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">%</span><span class="language-bash">admin ALL=(ALL) ALL</span></span><br><span class="line"><span class="meta prompt_">%</span><span class="language-bash"><span class="built_in">sudo</span> ALL=(ALL:ALL) ALL</span></span><br></pre></td></tr></table></figure>

<p>å˜æ›´ä¸º:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">%</span><span class="language-bash">admin ALL=(ALL) NOPASSWD: ALL</span></span><br><span class="line"><span class="meta prompt_">%</span><span class="language-bash"><span class="built_in">sudo</span> ALL=(ALL:ALL) NOPASSWD: ALL</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¼–è¾‘-etc-pam-d-common-passwordè®¾ç½®å¯†ç ç›¸å…³"><a href="#ç¼–è¾‘-etc-pam-d-common-passwordè®¾ç½®å¯†ç ç›¸å…³" class="headerlink" title="ç¼–è¾‘/etc/pam.d/common-passwordè®¾ç½®å¯†ç ç›¸å…³"></a>ç¼–è¾‘<code>/etc/pam.d/common-password</code>è®¾ç½®å¯†ç ç›¸å…³</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">password    [success=1 default=ignore]    pam_unix.so obscure sha512</span><br></pre></td></tr></table></figure>
<p>è®¾ç½®å¯†ç å…è®¸çš„æœ€å°é•¿åº¦</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">password    [success=1 default=ignore]    pam_unix.so obscure sha512 minlen=0</span><br></pre></td></tr></table></figure>
<p>å–æ¶ˆå¯†ç å¤æ‚åº¦é™åˆ¶ï¼Œåˆ é™¤<code>obscure</code>å¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">password    [success=1 default=ignore]    pam_unix.so sha512 minlen=0</span><br></pre></td></tr></table></figure>

<h3 id="æ·»åŠ å›½å†…æº"><a href="#æ·»åŠ å›½å†…æº" class="headerlink" title="æ·»åŠ å›½å†…æº"></a>æ·»åŠ å›½å†…æº</h3><ul>
<li>å¤‡ä»½<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp /etc/apt/sources.list /etc/apt/sources.list.bak</span><br></pre></td></tr></table></figure></li>
<li>åœ¨<code>/etc/apt/sources.list</code>æ–‡ä»¶å‰é¢æ·»åŠ å¦‚ä¸‹æ¡ç›® ï¼ˆæ³¨æ„:â€focalâ€æ˜¯ç‰ˆæœ¬ä»£å·ï¼Œéœ€è¦æ›´æ¢æˆå¯¹åº”çš„ç‰ˆæœ¬ä»£å·ï¼‰</li>
</ul>
<ol>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">æ¸…å</a><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="ç»ˆç«¯ä½¿ç”¨ä¸­æ–‡"><a href="#ç»ˆç«¯ä½¿ç”¨ä¸­æ–‡" class="headerlink" title="ç»ˆç«¯ä½¿ç”¨ä¸­æ–‡"></a>ç»ˆç«¯ä½¿ç”¨ä¸­æ–‡</h3><p>å®‰è£…ä¸­æ–‡åŒ…</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install language-pack-zh-hans</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ <code>/etc/environment</code>ï¼Œå¢åŠ :</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LANG=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">LANGUAGE=&quot;zh_CN:zh:en_US:en&quot;</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ <code>/var/lib/locales/supported.d/local</code>,å¢åŠ </p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">en_US.UTF-8 UTF-8</span><br><span class="line">zh_CN.UTF-8 UTF-8</span><br><span class="line">zh_CN.GBK GBK</span><br><span class="line">zh_CN GB2312</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo locale-gen</span><br></pre></td></tr></table></figure>

<p>å®‰è£…ä¸­æ–‡å­—ä½“ï¼Œè§£å†³ä¸­æ–‡ä¹±ç æ˜¯ç©ºæ ¼</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install fonts-droid-fallback ttf-wqy-zenhei ttf-wqy-microhei fonts-arphic-ukai fonts-arphic-uming</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´æ˜¾ç¤ºä»ç„¶ä¸ºè‹±æ–‡,ç¼–è¾‘ <code>/etc/default/locale</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">LANG=zh_CN.UTF-8</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">timedatectl  # æ˜¾ç¤ºæ—¶åŒºä¿¡æ¯</span><br><span class="line">ls -l /etc/localtime  # é“¾æ¥æ–‡ä»¶/etc/localtimeé…ç½®ç³»ç»Ÿæ—¶åŒº</span><br><span class="line">cat /etc/timezone  # /etc/timezoneæ–‡ä»¶ä¹Ÿå†™å…¥äº†ç³»ç»Ÿçš„æ—¶åŒº</span><br><span class="line">timedatectl list-timezones #åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„æ—¶åŒº</span><br><span class="line">sudo timedatectl set-timezone your_time_zone # è®¾ç½®ç³»ç»Ÿæ—¶åŒº</span><br><span class="line">timedatectl  # éªŒè¯</span><br><span class="line"></span><br><span class="line">sudo date -s MM/DD/YY # ä¿®æ”¹æ—¥æœŸ</span><br><span class="line">sudo date -s hh:mm:ss # ä¿®æ”¹æ—¶é—´</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘<code>/etc/default/locale</code>è®¾ç½® <code>date</code> æ˜¾ç¤ºæ—¶é—´ä¸º24å°æ—¶æ–¹å¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LC_TIME=en_DK.UTF-8</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Unicodeä¸­æ–‡è½¬æ¢ä¸ºæ±‰å­—</title>
    <url>/2024/07/31/Unicode%E4%B8%AD%E6%96%87%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%B1%89%E5%AD%97/</url>
    <content><![CDATA[<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Unicodeè½¬ æ±‰å­—å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> str \u6728</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#x27;æœ¨&#x27; 26408</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">convertUnicodeToZhString</span><span class="params">(String str)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">Pattern</span> <span class="variable">pattern</span> <span class="operator">=</span> Pattern.compile(<span class="string">&quot;(\\\\u(\\p&#123;XDigit&#125;&#123;4&#125;))&quot;</span>);</span><br><span class="line">    <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> pattern.matcher(str);</span><br><span class="line">    <span class="type">char</span> ch;</span><br><span class="line">    <span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">        <span class="comment">//group 6728</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">group</span> <span class="operator">=</span> matcher.group(<span class="number">2</span>);</span><br><span class="line">        <span class="comment">//ch:&#x27;æœ¨&#x27; 26408</span></span><br><span class="line">        ch = (<span class="type">char</span>) Integer.parseInt(group, <span class="number">16</span>);</span><br><span class="line">        <span class="comment">//group1 \u6728</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">group1</span> <span class="operator">=</span> matcher.group(<span class="number">1</span>);</span><br><span class="line">        str = str.replace(group1, ch + <span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>VSCodeè®¾ç½®</title>
    <url>/2024/07/31/VSCode%E8%AE%BE%E7%BD%AE/</url>
    <content><![CDATA[<h2 id="å…³è”é…ç½®æ–‡ä»¶å¤¹"><a href="#å…³è”é…ç½®æ–‡ä»¶å¤¹" class="headerlink" title="å…³è”é…ç½®æ–‡ä»¶å¤¹"></a>å…³è”é…ç½®æ–‡ä»¶å¤¹</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># VSCode</span></span><br><span class="line">mklink /D <span class="string">&quot;%USERPROFILE%\.vscode\&quot;</span> <span class="string">&quot;D:\pathto\VSCodeConfig&quot;</span></span><br></pre></td></tr></table></figure>

<p>ç›®çš„æ˜¯å…³è”æ‰©å±• <code>extensions</code> ç›®å½•<br>åœ¨å¿«æ·æ–¹å¼æŒ‡å®šå‚æ•° <code>--extensions-dir [path]</code> çš„æ–¹å¼æœ‰ä¸€äº›é—®é¢˜</p>
<ul>
<li>ä½¿ç”¨å³é”® &#x3D;&gt; é€šè¿‡codeæ‰“å¼€(ä¹Ÿå°±æ˜¯è·³è¿‡å¿«æ·æ–¹å¼), æ’ä»¶å°±ä¸èƒ½ç”¨äº†</li>
</ul>
<p>æ‰€ä»¥ç”¨Windowsé“¾æ¥æ¥è§£å†³<br>ç®¡ç†å‘˜æƒé™æ‰“å¼€<code>cmd</code>ï¼Œåˆ©ç”¨<code>mklink</code>æ¥åˆ›å»ºç›®å½•ç¬¦å·é“¾æ¥ã€‚<br>æŠŠ<code>%USERPROFILE%\.vscode\</code>(é»˜è®¤æ’ä»¶ä½ç½®)çš„<code>extensions</code>æ–‡ä»¶å¤¹æ•´ä¸ªå‰ªåˆ‡åˆ°ä½ æƒ³æ¢çš„ä½ç½®<br>åœ¨<code>cmd</code>ä¸­è¾“å…¥<code>mklink /D &quot;%USERPROFILE%\.vscode\extensions&quot; &quot;å‰ªåˆ‡åçš„è·¯å¾„&quot;</code></p>
<h2 id="æ³¨å†Œå³é”®æ‰“å¼€"><a href="#æ³¨å†Œå³é”®æ‰“å¼€" class="headerlink" title="æ³¨å†Œå³é”®æ‰“å¼€"></a>æ³¨å†Œå³é”®æ‰“å¼€</h2><figure class="highlight plaintext"><figcaption><span>code.reg</span></figcaption><table><tr><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\shell\VSCode]</span><br><span class="line">@=&quot;Open With VSCode&quot;</span><br><span class="line">&quot;Icon&quot;=&quot;D:\\Scoop\\apps\\vscode\\current\\Code.exe&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\shell\VSCode\command]</span><br><span class="line">@=&quot;\&quot;D:\\Scoop\\apps\\vscode\\current\\Code.exe\&quot; \&quot;%1\&quot;&quot;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒ</p>
<figure class="highlight plaintext"><figcaption><span>common.reg</span></figcaption><table><tr><td class="code"><pre><span class="line">;Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">;[HKEY_CLASSES_ROOT\*\shell\VSCode]</span><br><span class="line">;@=&quot;Open With Code&quot;</span><br><span class="line">;&quot;Icon&quot;=&quot;D:\\ProgramFiles\\VSCode\\Code.exe,0&quot;</span><br><span class="line"></span><br><span class="line">;[HKEY_CLASSES_ROOT\*\shell\VSCode\command]</span><br><span class="line">;@=&quot;\&quot;D:\\ProgramFiles\\VSCode\\Code.exe&quot; \&quot;%1\&quot;&quot;</span><br><span class="line"></span><br><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\shell\VSCode]</span><br><span class="line">@=&quot;Open With Code&quot;</span><br><span class="line">&quot;Icon&quot;=&quot;D:\\ProgramFiles\\VSCode\\Code.exe,0&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\shell\VSCode\command]</span><br><span class="line">@=&quot;\&quot;D:\\ProgramFiles\\VSCode\\Code.exe\&quot; \&quot;%1\&quot;&quot;</span><br><span class="line"></span><br><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\VSCode]</span><br><span class="line">@=&quot;Open With Code&quot;</span><br><span class="line">&quot;Icon&quot;=&quot;D:\ProgramFiles\VSCode\Code.exe,0&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\VSCode\command]</span><br><span class="line">@=&quot;\&quot;D:\ProgramFiles\VSCode\Code.exe\&quot; \&quot;%V\&quot;&quot;</span><br></pre></td></tr></table></figure>

<h2 id="å¸¸è§„è®¾ç½®"><a href="#å¸¸è§„è®¾ç½®" class="headerlink" title="å¸¸è§„è®¾ç½®"></a>å¸¸è§„è®¾ç½®</h2><figure class="highlight json"><figcaption><span>settings.json</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">//####</span></span><br><span class="line">    <span class="comment">// === VS Code è®¾ç½®===</span></span><br><span class="line">    <span class="comment">//####</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//## ç¦ç”¨ç¡¬ä»¶åŠ é€Ÿï¼ŒåŒ chrome æµè§ˆå™¨</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="attr">&quot;disable-hardware-acceleration&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//## === Github Copilot ç›¸å…³è®¾ç½® ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// å…¨å±€ç¦ç”¨ Github Copilot (ä»£ç è¡¥å…¨å¾ˆè®¨åŒ)</span></span><br><span class="line">    <span class="attr">&quot;github.copilot.enable&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;*&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// ç¦ç”¨ GitHub Copilot çš„è‡ªåŠ¨è§¦å‘</span></span><br><span class="line">    <span class="attr">&quot;github.copilot.chat.agent.autoFix&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;github.copilot.nextEditSuggestions.fixes&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;github.copilot.renameSuggestions.triggerAutomatically&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;github.copilot.chat.agent.currentEditorContext.enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;timeline.enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//## === Workbench å…¨å±€è®¾ç½® ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="attr">&quot;workbench.startupEditor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;workbench.editor.enablePreview&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;workbench.secondarySideBar.defaultVisibility&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hidden&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//## === Notebook å…¨å±€è®¾ç½® ===</span></span><br><span class="line">    <span class="comment">// Notebook é€šå¸¸æŒ‡çš„æ˜¯ä¸ Jupyter Notebooks é›†æˆçš„åŠŸèƒ½ã€‚å®ƒä½¿å¾— VSCode èƒ½å¤Ÿæ”¯æŒç±»ä¼¼ Jupyter æˆ– Colab çš„äº¤äº’å¼ç¼–ç¨‹ç¯å¢ƒï¼Œé€‚ç”¨äºæ•°æ®ç§‘å­¦ã€æœºå™¨å­¦ä¹ ã€å¯è§†åŒ–ç­‰é¢†åŸŸ</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="attr">&quot;notebook.inlineValues&quot;</span><span class="punctuation">:</span> <span class="string">&quot;auto&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//## === VS Code æ›´æ–°è®¾ç½® ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="attr">&quot;update.mode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;manual&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;update.showReleaseNotes&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// ## === Editorç›¸å…³ ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="attr">&quot;editor.tabCompletion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;on&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// === Ctrl+é¼ æ ‡ ç¼©æ”¾å­—ä½“ ===</span></span><br><span class="line">    <span class="attr">&quot;editor.mouseWheelZoom&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//## === æ–‡ä»¶æ ¼å¼åŒ–è®¾ç½® ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// å…ˆå»æ‰è¡Œå°¾ç©ºæ ¼</span></span><br><span class="line">    <span class="attr">&quot;files.trimTrailingWhitespace&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// ä¿è¯æ–‡ä»¶æœ€åæœ‰ä¸€ä¸ªæ¢è¡Œç¬¦ï¼ˆPOSIX è§„èŒƒè¦æ±‚ï¼Œå¤§å¤šæ•°ä»£ç é£æ ¼ä¹Ÿæ¨èï¼‰</span></span><br><span class="line">    <span class="attr">&quot;files.trimFinalNewlines&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;files.insertFinalNewline&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// ä¿å­˜å»¶è¿Ÿï¼Œå¢åŠ å»¶è¿Ÿé¿å…é¢‘ç¹ä¿å­˜</span></span><br><span class="line">    <span class="attr">&quot;files.autoSaveDelay&quot;</span><span class="punctuation">:</span> <span class="number">1000</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// ===  ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç  ===</span></span><br><span class="line">    <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// eslinté…ç½®é¡¹ï¼Œä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤é”™è¯¯</span></span><br><span class="line">    <span class="attr">&quot;editor.codeActionsOnSave&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;source.fixAll&quot;</span><span class="punctuation">:</span> <span class="string">&quot;explicit&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//####</span></span><br><span class="line">    <span class="comment">// === VS å…¨å±€æ‰©å±• ===</span></span><br><span class="line">    <span class="comment">//####</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// === ç»ˆç«¯/PowerShell è®¾ç½® ===</span></span><br><span class="line">    <span class="attr">&quot;powershell.powerShellDefaultVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PwshLTS&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;terminal.integrated.defaultProfile.windows&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PwshLTS&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;terminal.integrated.profiles.windows&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;PwshLTS&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;source&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PowerShell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:/Scoop/apps/pwshlts/current/pwsh.exe&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// PowerShell æ‰©å±•éœ€è¦è®¾ç½® PwshLTS è·¯å¾„ï¼Œå¦åˆ™æ‰¾ä¸åˆ°ï¼Œä¼šæ‰“å¼€é»˜è®¤çš„ 5.1</span></span><br><span class="line">    <span class="attr">&quot;powershell.powerShellAdditionalExePaths&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;PwshLTS&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:/Scoop/apps/pwshlts/current/pwsh.exe&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;terminal.external.windowsExec&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:/Scoop/apps/pwshlts/current/pwsh.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;terminal.integrated.fontSize&quot;</span><span class="punctuation">:</span> <span class="number">18</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;powershell.startAsLoginShell.linux&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;powershell.developer.traceDap&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;powershell.trace.server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;verbose&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// === Power Shll ä»£ç æ ¼å¼åŒ–===</span></span><br><span class="line">    <span class="attr">&quot;powershell.codeFormatting.avoidSemicolonsAsLineTerminators&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;powershell.codeFormatting.trimWhitespaceAroundPipe&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;powershell.debugging.createTemporaryIntegratedConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// === remote.SSH è®¾ç½® ===</span></span><br><span class="line">    <span class="attr">&quot;remote.SSH.remotePlatform&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;debian&quot;</span><span class="punctuation">:</span> <span class="string">&quot;linux&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;remote.SSH.showLoginTerminal&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//####</span></span><br><span class="line">    <span class="comment">// === Git ç›¸å…³ ====</span></span><br><span class="line">    <span class="comment">//####</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//## === å†…ç½® Git  æ’ä»¶==</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// VS Code çŠ¶æ€æ æ˜¾ç¤º git blame ä¿¡æ¯</span></span><br><span class="line">    <span class="attr">&quot;git.blame.statusBarItem.enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// VS Code ä»£ç è¡Œå³è¾¹æ˜¾ç¤º git blame ä¿¡æ¯</span></span><br><span class="line">    <span class="attr">&quot;git.blame.editorDecoration.enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;git.blame.statusBarItem.template&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;authorDateAgo&#125; $&#123;authorName&#125;: $&#123;subject&#125; &quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;[json]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//## === Git æ–‡ä»¶å¯¹æ¯” ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// ç¦ç”¨è¶…æ—¶ï¼Œä¿è¯ diff ç®—å®Œ</span></span><br><span class="line">    <span class="attr">&quot;diffEditor.maxComputationTime&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// === Git å¤–éƒ¨ Diff å·¥å…·è®¾ç½® ===</span></span><br><span class="line">    <span class="comment">// &quot;git.externalDiff&quot;: &quot;D:/Scoop/apps/meld/current/Meld.exe&quot;,</span></span><br><span class="line">    <span class="attr">&quot;git.externalDiff&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:/Scoop/apps/winmerge/current/WinMergeU.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// åˆå¹¶å†²çªæ—¶ï¼Œå·¦å³/ä¸Šä¸‹å¯¹æ¯”</span></span><br><span class="line">    <span class="comment">//&quot;merge-conflict.diffViewPosition&quot;: &quot;Below&quot;,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// === æ‰“å¼€æ–‡ä»¶æ—¶çš„ Git é»˜è®¤è¡Œä¸º ===</span></span><br><span class="line">    <span class="comment">// åœ¨ Git ä¾§è¾¹æ ç‚¹å‡»æ–‡ä»¶é»˜è®¤æ‰“å¼€ diff</span></span><br><span class="line">    <span class="attr">&quot;git.openDiffOnClick&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// æŸ¥çœ‹ä»£ç çš„æ—¶å€™ï¼Œå·¦å³/ä¸Šä¸‹å¯¹æ¯”</span></span><br><span class="line">    <span class="comment">//&quot;diffEditor.renderSideBySide&quot;: true,</span></span><br><span class="line">    <span class="comment">// å¿½ç•¥ç©ºæ ¼æ”¹åŠ¨</span></span><br><span class="line">    <span class="attr">&quot;diffEditor.ignoreTrimWhitespace&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;diffEditor.wordWrap&quot;</span><span class="punctuation">:</span> <span class="string">&quot;on&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//####</span></span><br><span class="line">    <span class="comment">// === è¯­è¨€ ===</span></span><br><span class="line">    <span class="comment">//####</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//### === HTML ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//### === CSS ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//### === JavaScript ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// ç§»é™¤jsè¯­å¥çš„åˆ†å·</span></span><br><span class="line">    <span class="attr">&quot;javascript.format.semicolons&quot;</span><span class="punctuation">:</span> <span class="string">&quot;remove&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// åœ¨å‡½æ•°ååé¢åŠ ä¸Šæ‹¬å·ï¼Œç±»ä¼¼è¿™ç§å½¢å¼ foo () &#123;&#125;</span></span><br><span class="line">    <span class="attr">&quot;javascript.format.insertSpaceBeforeFunctionParenthesis&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// æŒ‡å®š *.js æ–‡ä»¶çš„æ ¼å¼åŒ–å·¥å…·ä¸ºvscodeè‡ªå¸¦</span></span><br><span class="line">    <span class="attr">&quot;[javascript]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vscode.typescript-language-features&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//### === Vue ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// æŒ‡å®š *.vue æ–‡ä»¶çš„æ ¼å¼åŒ–å·¥å…·ä¸ºvetur</span></span><br><span class="line">    <span class="attr">&quot;[vue]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vscode.typescript-language-features&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// è®©veturä½¿ç”¨vsè‡ªå¸¦çš„jsæ ¼å¼åŒ–å·¥å…·ï¼Œä»¥ä¾¿åœ¨å‡½æ•°å‰é¢åŠ ä¸ªç©ºæ ¼</span></span><br><span class="line">    <span class="attr">&quot;vetur.format.defaultFormatter.js&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vscode-typescript&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;explorer.confirmDelete&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;security.allowedUNCHosts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;wsl.localhost&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//### === TypeScript ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//### === MarkDown ===</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="attr">&quot;markdown.extension.completion.enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;markdown.extension.orderedList.marker&quot;</span><span class="punctuation">:</span> <span class="string">&quot;one&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æ›´å¤šè®¾ç½®<a href="https://github.com/viatsko/awesome-vscode">awesome-vscode</a></p>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>VSCode</tag>
      </tags>
  </entry>
  <entry>
    <title>VisualStudioå¸¸ç”¨å¿«æ·é”®</title>
    <url>/2024/07/31/VisualStudio%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
    <content><![CDATA[<h3 id="é¡¹ç›®ç›¸å…³çš„å¿«æ·é”®"><a href="#é¡¹ç›®ç›¸å…³çš„å¿«æ·é”®" class="headerlink" title="é¡¹ç›®ç›¸å…³çš„å¿«æ·é”®"></a>é¡¹ç›®ç›¸å…³çš„å¿«æ·é”®</h3><p><code>Ctrl + Shift + B</code> &#x3D;  ç”Ÿæˆé¡¹ç›®(å¯èƒ½ä¸Sougouæ‹¼éŸ³å†²çª)</p>
<p><code>Ctrl + Shift + N</code> &#x3D; æ–°å»ºè§£å†³æ–¹æ¡ˆ&#x2F;é¡¹ç›®</p>
<p><code>Ctrl + Shift + O</code> &#x3D; æ‰“å¼€è§£å†³æ–¹æ¡ˆ&#x2F;é¡¹ç›®</p>
<p><code>Ctrl + Shift + A</code> &#x2F; <code>Shift + Alt+ C</code> &#x3D; æ·»åŠ æ–°é¡¹</p>
<p><code>Ctrl + N</code> &#x3D; æ–°å»ºæ–‡ä»¶ï¼ˆå¦‚xmlã€txtã€ä½å›¾ç­‰ï¼‰</p>
<p><code>Ctrl + Alt + L</code> &#x3D; æ˜¾ç¤º<code>Solution Explorer</code> å¯èƒ½ä¸<code>TIM</code>å¿«æ·é”®å†²çª</p>
<p><code>Shift + Alt + A</code> &#x3D; æ·»åŠ ç°æœ‰é¡¹</p>
<h3 id="ç¼–è¾‘ç›¸å…³çš„é”®ç›˜å¿«æ·é”®"><a href="#ç¼–è¾‘ç›¸å…³çš„é”®ç›˜å¿«æ·é”®" class="headerlink" title="ç¼–è¾‘ç›¸å…³çš„é”®ç›˜å¿«æ·é”®"></a>ç¼–è¾‘ç›¸å…³çš„é”®ç›˜å¿«æ·é”®</h3><p><code>Ctrl + Enter</code> &#x3D; åœ¨å½“å‰è¡Œæ’å…¥ç©ºè¡Œ</p>
<p><code>Ctrl + Shift + Enter</code> &#x3D; åœ¨å½“å‰è¡Œä¸‹æ–¹æ’å…¥ç©ºè¡Œ</p>
<p><code>Ctrl + Delete</code> &#x3D; åˆ é™¤è‡³è¯å°¾</p>
<p><code>Ctrl + Backspace</code> &#x3D; åˆ é™¤è‡³è¯å¤´</p>
<p><code>Shift + Delete</code> &#x2F; <code>Ctrl + L</code> &#x3D; åˆ é™¤å½“å‰è¡Œ</p>
<p><code>Ctrl + X</code> &#x3D; å‰ªåˆ‡å½“å‰è¡Œ</p>
<p><code>Ctrl + C, Ctrl + V</code> &#x3D; åœ¨å½“å‰è¡Œçš„ä¸‹ä¸€è¡Œå¤åˆ¶å½“å‰è¡Œå†…å®¹ï¼ˆä¸ç”¨é€‰ä¸­å½“å‰è¡Œï¼‰ï¼Œå³å¤åˆ¶å½“å‰è¡Œå¹¶ç²˜è´´åˆ°ä¸‹ä¸€è¡Œï¼Œåœ¨ä¸¤è¡Œå†…å®¹å·®ä¸å¤šæ—¶å¾ˆæœ‰ç”¨ï¼Œå¯ä»¥å…ˆå¤åˆ¶å†æ”¹</p>
<p><code>Ctrl + U</code> &#x3D; è½¬å°å†™</p>
<p><code>CTRL + SHIFT + U</code> &#x3D; è½¬å¤§å†™</p>
<p><code>Ctrl + Z</code> &#x3D; æ’¤é”€æ“ä½œ</p>
<p><code>Ctrl + Y</code> &#x3D; åæ’¤é”€æ“ä½œ</p>
<p><code>Tab + Tab</code> &#x3D; è‡ªåŠ¨è¡¥å…¨</p>
<p><code>Ctrl + K + S</code> &#x3D; æ’å…¥å¤–ä¾§ä»£ç </p>
<p><code>Ctrl + K + X</code> &#x3D; æ’å…¥ä»£ç æ®µ</p>
<p><code>Ctrl + Space</code> &#x2F; <code>Ctrl + J</code> &#x2F; <code>Alt + â†’</code> &#x3D; ä½¿ç”¨<code>IntelliSense</code>è‡ªåŠ¨å®Œæˆ</p>
<p><code>Ctrl + Kï¼ŒCtrl + C</code> &#x3D; æ³¨é‡Šé€‰å®šè¡Œ è®°å¿†æ–¹æ³•ï¼šCtrl + C &#x3D; Comment selected text</p>
<p><code>Ctrl + Kï¼ŒCtrl + U</code> &#x3D; å–æ¶ˆé€‰å®šè¡Œçš„æ³¨é‡Š è®°å¿†æ–¹æ³•ï¼šCtrl + U &#x3D; Uncomment selected text</p>
<p><code>Ctrl + Kï¼ŒCtrl + D</code> &#x3D; æ ¼å¼åŒ–å…¨éƒ¨æ–‡æ¡£</p>
<p><code>Ctrl + Kï¼ŒCtrl + F</code> &#x3D; åªæ ¼å¼åŒ–ä½ é€‰ä¸­çš„éƒ¨åˆ†</p>
<p><code>Ctrl + Shift + S</code> &#x3D; ä¿å­˜æ‰€æœ‰æ–‡ä»¶å’Œé¡¹ç›®</p>
<p><code>Ctrl + .[dot]</code> &#x2F; <code>Ctrl + Shift + F10</code> &#x3D; è‡ªåŠ¨æ·»åŠ Usingå‘½åç©ºé—´(å®é™…<code>Shift + F10</code>å¯è°ƒå‡ºå³é”®å±æ€§)</p>
<p><code>Shift + End</code> &#x3D; é€‰ä¸­ä»å…‰æ ‡èµ·åˆ°è¡Œå°¾é—´çš„ä»£ç </p>
<p><code>Shift + Home</code> &#x3D; é€‰ä¸­ä»å…‰æ ‡èµ·åˆ°è¡Œé¦–é—´çš„ä»£ç </p>
<p><code>Shift + Alt + æ–¹å‘é”®(æˆ–é¼ æ ‡)</code> &#x2F; <code>Alt + é¼ æ ‡</code> &#x3D; æ¡†å¼é€‰æ‹© æ‰¹é‡åˆ é™¤æŸäº›ä»£ç å¾ˆæ–¹ä¾¿</p>
<p><code>Ctrl + Shift + &#125;</code> &#x3D; é€‰æ‹©åœ¨åŒ¹é…çš„å¤§æ‹¬å·ã€æ‹¬å·å†…æ–‡æœ¬</p>
<p><code>Shift + Alt + Enter</code> &#x3D; å…¨å±æ˜¾ç¤º&#x2F;é€€å‡ºå…¨å±æ˜¾ç¤º</p>
<h3 id="å¯¼èˆªç›¸å…³çš„é”®ç›˜å¿«æ·é”®"><a href="#å¯¼èˆªç›¸å…³çš„é”®ç›˜å¿«æ·é”®" class="headerlink" title="å¯¼èˆªç›¸å…³çš„é”®ç›˜å¿«æ·é”®"></a>å¯¼èˆªç›¸å…³çš„é”®ç›˜å¿«æ·é”®</h3><p><code>Ctrl + Up/Down</code> &#x3D; æ»šåŠ¨çª—å£ä½†ä¸ç§»åŠ¨å…‰æ ‡</p>
<p><code>Ctrl + -</code> &#x3D; è®©å…‰æ ‡ç§»åŠ¨åˆ°å®ƒå…ˆå‰çš„ä½ç½®</p>
<p><code>Ctrl + +</code> &#x3D; è®©å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®</p>
<p><code>Ctrl + G</code> &#x2F; <code>åŒå‡»çŠ¶æ€æ ä¸­çš„è¡Œå·/åˆ—/å­—ç¬¦</code> &#x3D; è·³è½¬åˆ°æŒ‡å®šçš„æŸä¸€è¡Œ</p>
<p><code>Home</code> &#x3D; å®šä½åˆ°å½“å‰è¡Œçš„è¡Œé¦–</p>
<p><code>End</code> &#x3D; å®šä½åˆ°å½“å‰è¡Œçš„è¡Œå°¾</p>
<p><code>Ctrl + Home</code> &#x3D; æ–‡æ¡£é¦–</p>
<p><code>Ctrl + End</code> &#x3D; æ–‡æ¡£å°¾</p>
<p><code>Ctrl + Tab</code> &#x3D; å¿«é€Ÿåˆ‡æ¢çª—å£</p>
<p><code>Ctrl + ]</code> &#x3D; åŒ¹é…å¤§æ‹¬å·ã€æ‹¬å·</p>
<p><code>Ctrl + M, Ctrl + O</code> &#x3D; æŠ˜å æ‰€æœ‰æ–¹æ³•</p>
<p><code>Ctro + M, Ctrl + L</code> &#x3D; å±•å¼€æ‰€æœ‰æ–¹æ³•</p>
<p><code>Ctro + M, Ctrl + L</code> &#x3D; æŠ˜å æˆ–è€…å±•å¼€å½“å‰æ–‡ä»¶</p>
<p><code>Ctrl + M, M</code> &#x3D; å¿«é€Ÿéšè—æˆ–æ˜¾ç¤ºå½“å‰ä»£ç æ®µ</p>
<p><code>Ctrl + M, L</code> &#x3D; å¿«é€Ÿéšè—æˆ–æ˜¾ç¤ºå…¨éƒ¨ä»£ç æ®µ</p>
<p><code>CTRL + F4</code> &#x3D; å…³é—­å½“å‰æ–‡æ¡£çª—å£</p>
<h3 id="è°ƒè¯•ç›¸å…³çš„é”®ç›˜å¿«æ·é”®"><a href="#è°ƒè¯•ç›¸å…³çš„é”®ç›˜å¿«æ·é”®" class="headerlink" title="è°ƒè¯•ç›¸å…³çš„é”®ç›˜å¿«æ·é”®"></a>è°ƒè¯•ç›¸å…³çš„é”®ç›˜å¿«æ·é”®</h3><p><code>F5</code> &#x3D; å¼€å§‹è°ƒè¯•</p>
<p><code>Shift + F5</code> &#x3D; åœæ­¢è°ƒè¯•</p>
<p><code>Ctrl + F5</code> &#x3D; è°ƒè¯•(å¼€å§‹æ‰§è¡Œä¸è°ƒè¯•)</p>
<p><code>Ctrl + Shift + F5</code>  &#x3D;è°ƒè¯•(é‡æ–°å¯åŠ¨)</p>
<p><code>F9</code> &#x3D; è®¾ç½®æˆ–åˆ é™¤æ–­ç‚¹</p>
<p><code>Ctrl + Shift + F9</code>  &#x3D; å–æ¶ˆæ‰€æœ‰æ–­ç‚¹</p>
<p><code>F10</code> &#x3D; è°ƒè¯•(é€è¿‡ç¨‹)</p>
<p><code>F11</code> &#x3D; è°ƒè¯•(é€è¯­å¥)</p>
<p><code>F12</code> &#x3D; è½¬åˆ°å®šä¹‰</p>
<p><code>Shift + F12</code> &#x3D; æŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨</p>
<p><code>Ctrl+K, Ctrl+P</code> &#x3D; æŸ¥çœ‹å‡½æ•°å‚æ•°  è®°å¿†æ–¹æ³•ï¼š  Ctrl+P   &#x3D;  Parameter</p>
<p><code>Ctrl + Alt + P</code> &#x3D; é™„åŠ åˆ°è¿›ç¨‹</p>
<p><code>Ctrl + Alt + Q</code> &#x3D; æ·»åŠ å¿«æ·åŒ¹é…</p>
<h3 id="æœç´¢ç›¸å…³çš„é”®ç›˜å¿«æ·é”®"><a href="#æœç´¢ç›¸å…³çš„é”®ç›˜å¿«æ·é”®" class="headerlink" title="æœç´¢ç›¸å…³çš„é”®ç›˜å¿«æ·é”®"></a>æœç´¢ç›¸å…³çš„é”®ç›˜å¿«æ·é”®</h3><p><code>F3</code> &#x3D; æŸ¥æ‰¾ä¸‹ä¸€ä¸ª</p>
<p><code>Shift+F3</code> &#x3D; æŸ¥æ‰¾ä¸Šä¸€ä¸ª</p>
<p><code>Ctrl + F3</code> &#x3D; ä¸ºå½“å‰é€‰ä¸­çš„éƒ¨åˆ†è¿›è¡Œæœç´¢ï¼ˆä¸éœ€è¦å†è¾“å…¥è¦æœç´¢çš„å†…å®¹ï¼‰</p>
<p><code>Ctrl + Shift + F</code> &#x3D; æŸ¥æ‰¾æ‰€é€‰æ¡ç›®åœ¨æ•´ä¸ªè§£å†³æ–¹æ¡ˆä¸­çš„å¼•ç”¨</p>
<p><code>Ctrl + F</code> &#x3D; æ˜¾ç¤ºæŸ¥æ‰¾å¯¹è¯æ¡†</p>
<p><code>Ctrl + H</code> &#x3D; æ˜¾ç¤ºæ›¿æ¢å¯¹è¯æ¡†</p>
<p><code>Ctrl + I</code> &#x3D; é€’å¢æœç´¢ï¼Œä¸ <code>Ctrl + F</code> ä¸åŒçš„æ˜¯æœç´¢æœŸé—´ä¸æ˜¾ç¤ºæœç´¢å¯¹è¯æ¡†ï¼Œä¸” <code>Ctrl + F</code> æœç´¢ä¸‹ä¸€ä¸ªç›´æ¥æŒ‰ <code>Enter</code> å³å¯ï¼Œè€Œ <code>Ctrl + I</code> æœç´¢ä¸‹ä¸€ä¸ªæŒ‰ <code>Ctrl + I</code> æˆ– <code>F3</code> ï¼Œ<code>Escape</code> é€€å‡ºï¼Œè¿ç»­æŒ‰ä¸¤æ¬¡ <code>Ctrl  + I</code> é‡å¤ä¸Šæ¬¡æœç´¢</p>
<p><code>Ctrl + K, Ctrl + K</code> &#x3D; å°†å½“å‰è¡Œæ·»åŠ ä¹¦ç­¾</p>
<p><code>Ctrl + K, Ctrl + N</code> &#x3D; å¯¼èˆªè‡³ä¸‹ä¸€ä¸ªä¹¦ç­¾</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>VisualStudio</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows Socketé”™è¯¯</title>
    <url>/2024/07/31/Windows-Socket%E9%94%99%E8%AF%AF/</url>
    <content><![CDATA[<p><a href="http://help.socketlabs.com/docs/how-to-fix-error-only-one-usage-of-each-socket-address-protocolnetwork-addressport-is-normally-permitted">How To Fix Error â€œOnly one usage of each socket address (protocol&#x2F;network address&#x2F;port) is normally permittedâ€</a></p>
<p>é”™è¯¯ä¿¡æ¯</p>
<blockquote>
<p>Only one usage of each socket address (protocol&#x2F;network address&#x2F;port) is normally permitted</p>
</blockquote>
<p>æ­¤é”™è¯¯æ„å‘³ç€æœºå™¨ä¸Šæ‰€æœ‰å¯ç”¨çš„ç«¯å£éƒ½å·²è€—å°½ã€‚ </p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ“ä½œç³»ç»Ÿåªæœ‰å¤§çº¦ 4000 ä¸ªæœªè¢«ç³»ç»Ÿä¿ç•™çš„å¯ç”¨ç«¯å£ã€‚å½“ä»»ä½•ç½‘ç»œè¿æ¥å…³é—­æ—¶ï¼Œå®ƒä¼šè¿›å…¥ TIME_WAIT çŠ¶æ€ 240 ç§’ï¼Œå¹¶ä¸”åœ¨æ­¤ç­‰å¾…çŠ¶æ€ç»“æŸä¹‹å‰æ— æ³•é‡æ–°ä½¿ç”¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœ 4 åˆ†é’Ÿå†…æ¯ç§’æœ‰ 16 ä¸ªè¿æ¥ï¼ˆ16<em>4</em>60&#x3D;3840ï¼‰ï¼Œé‚£ä¹ˆä¸ä¹…ä¹‹åæ‰€æœ‰ç«¯å£å°±ä¼šè€—å°½ã€‚å¦‚æœ HAS å’Œ MTA ä½äºåŒä¸€å°æœºå™¨ä¸Šï¼Œåˆ™è€—å°½ç«¯å£ä¼šæ›´å¿«å‘ç”Ÿã€‚è¿™æ˜¯å› ä¸ºé™¤äº†å®ƒä»¬ç›¸äº’é€šä¿¡å¹¶å ç”¨ä¸¤ä¸ªç«¯å£ä¹‹å¤–ï¼ŒMTA è¿˜ä½¿ç”¨å¤§é‡ç«¯å£æ¥å‘é€é‚®ä»¶ã€‚ </p>
<p>è¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé”™è¯¯ï¼Ÿ<br>æ‚¨å¯ä»¥é€šè¿‡ä¿®æ”¹ä»¥ä¸‹å€¼æ¥è§£å†³æ­¤é—®é¢˜ã€‚</p>
<p>å¢åŠ åŠ¨æ€ç«¯å£èŒƒå›´ã€‚é»˜è®¤æƒ…å†µä¸‹æœ€å¤§å€¼ä¸º 5000ã€‚æ‚¨å¯ä»¥å°†å…¶è®¾ç½®ä¸º 65534ã€‚HKLMSystemCurrentControlSetServicesTcpipParametersMaxUserPort æ˜¯<br>ä½¿ç”¨çš„å…³é”®ã€‚</p>
<p>å‡å°‘ TIME_WAIT çŠ¶æ€ã€‚é»˜è®¤è®¾ç½®ä¸º 4 åˆ†é’Ÿï¼Œä½†æ‚¨å¯ä»¥å°†å…¶è®¾ç½®ä¸º 30 ç§’ã€‚HKLMSystemCurrentControlSetServicesTcpipParametersTCPTimedWaitDelay æ˜¯ä½¿ç”¨çš„å…³é”®ã€‚</p>
<p>å®Œæˆè¿™äº›æ›´æ”¹åï¼Œå¿…é¡»é‡æ–°å¯åŠ¨ç³»ç»Ÿã€‚</p>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windowsåˆ ä¸æ‰çš„æ–‡ä»¶å¤„ç†</title>
    <url>/2024/07/31/Windows%E5%88%A0%E4%B8%8D%E6%8E%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\ProgramFiles\UltraEdit.<span class="number">26.0</span>.<span class="number">0.72</span>.x32&gt; tasklist /m ue64ctmn.dll</span><br><span class="line"><span class="built_in">PS</span> D:\ProgramFiles\UltraEdit.<span class="number">26.0</span>.<span class="number">0.72</span>.x32&gt; taskkill /f  /pid <span class="number">6664</span></span><br><span class="line"><span class="built_in">PS</span> D:\ProgramFiles\UltraEdit.<span class="number">26.0</span>.<span class="number">0.72</span>.x32&gt; <span class="built_in">del</span> .\ue64ctmn.dll</span><br></pre></td></tr></table></figure>

<p><img src="/2024/07/31/Windows%E5%88%A0%E4%B8%8D%E6%8E%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/1.png" alt="1"></p>
<p>è¿™åªæ˜¯ç®€å•çš„å¤„ç†æ–¹æ³•ï¼Œå¦‚æœ<code>ue64ctmn.dll</code>æ’å…¥åˆ°å¤šä¸ªè¿›ç¨‹ä¸­ï¼Œå°±è¦ä¸€ä¸ªä¸€ä¸ªåœ°ç»“æŸè¿™äº›è¿›ç¨‹ã€‚è¿˜æœ‰ï¼Œå¦‚æœç—…æ¯’ç¨‹åºéšæ—¶ç›‘æ§å„ä¸ªè¿›ç¨‹ï¼Œä¸€æ—¦å‘ç°æŸä¸ªè¿›ç¨‹è¢«ç»“æŸå°±ç«‹åˆ»å†æ¬¡å¯åŠ¨è¯¥è¿›ç¨‹æˆ–è¢«æ’å…¥çš„æ˜¯ç³»ç»Ÿå¿…éœ€è¿›ç¨‹ï¼Œæ— æ³•è¢«ç»“æŸï¼Œè¿™æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>åˆ«æ‹…å¿ƒï¼Œæˆ‘ä»¬ç»§ç»­è¯·å‡ºWindowsè‡ªå¸¦çš„åŠ©æ‰‹ï¼Œå°±æ˜¯åˆ©ç”¨NTFSåˆ†åŒºæ ¼å¼çš„æ–‡ä»¶é™åˆ¶åŠŸèƒ½ï¼Œå¯ä»¥è®¾ç½®æŸä¸ªæ–‡ä»¶æ˜¯å¦å¯ä»¥è¢«ç¨‹åºè°ƒç”¨ã€è®¿é—®ã€‚é€šè¿‡è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬ä¸€æ ·å¯ä»¥é˜»æ­¢ç—…æ¯’DLLæ–‡ä»¶è¢«è°ƒç”¨ï¼Œä»è€Œå½»åº•åœ°æ¸…é™¤é¡½å›ºçš„DLLæ–‡ä»¶ã€‚ä½¿ç”¨æ–‡ä»¶é™åˆ¶åŠŸèƒ½çš„å¿…è¦æ¡ä»¶æ˜¯å¿…é¡»ç¦ç”¨ç®€å•æ–‡ä»¶å…±äº«ã€‚</p>
<p>åŒå‡»æ‰“å¼€ã€æˆ‘çš„ç”µè„‘ã€‘ï¼Œç‚¹å‡»èœå•å‘½ä»¤ã€æŸ¥çœ‹ã€‘â†’ã€é€‰é¡¹ã€‘â†’ã€æŸ¥çœ‹ã€‘ï¼Œåœ¨é«˜çº§è®¾ç½®çš„é€‰é¡¹å¡ä¸‹å»æ‰ã€ç®€å•æ–‡ä»¶å…±äº«ã€‘çš„é€‰æ‹©ã€‚</p>
<p>ç„¶åæ‰¾åˆ°æ— æ³•åˆ é™¤çš„DLLæ–‡ä»¶ï¼Œå³å‡»å®ƒï¼Œåœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©ã€å±æ€§ã€‘â†’ã€å®‰å…¨ã€‘ï¼Œå†å•å‡»ã€é«˜çº§ã€‘æŒ‰é’®ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­å»æ‰ã€ä»çˆ¶é¡¹ç»§æ‰¿é‚£äº›å¯ä»¥åº”ç”¨çš„åˆ°å­å¯¹è±¡çš„æƒé™é¡¹ç›®ï¼ŒåŒ…æ‹¬é‚£äº›åœ¨æ­¤æ˜ç¡®å®šä¹‰çš„é¡¹ç›®ã€‘å‰é¢çš„é’©ã€‚å†åœ¨å¼¹å‡ºçš„çª—å£ä¸­å•å‡»ã€åˆ é™¤ã€‘ã€‚æœ€åå•å‡»ã€ç¡®å®šã€‘ã€‚</p>
<p>è¿™æ ·å°±æ²¡æœ‰ä»»ä½•ç”¨æˆ·å’Œæ–‡ä»¶å¯ä»¥è®¿é—®å’Œè°ƒç”¨è¿™ä¸ªDLLæ–‡ä»¶äº†ã€‚é‡æ–°å¯åŠ¨ç³»ç»Ÿå°±å¯ä»¥åˆ é™¤è¯¥DLLæ–‡ä»¶äº†ã€‚</p>
<p>è¯¥æ–¹æ³•è™½å¥½ä½†ä¹Ÿæœ‰ä¸ªæ¡ä»¶ï¼Œå°±æ˜¯é¡½å›ºDLLæ–‡ä»¶æ‰€åœ¨çš„ç£ç›˜åˆ†åŒºå¿…é¡»æ˜¯NTFSæ ¼å¼çš„ã€‚</p>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windowsåˆ é™¤å³é”®</title>
    <url>/2024/07/31/Windows%E5%88%A0%E9%99%A4%E5%8F%B3%E9%94%AE/</url>
    <content><![CDATA[<p>ä¿å­˜ä¸ºdel_yun_shell.bat</p>
<figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">reg delete HKEY_CLASSES_ROOT\Directory\shellex\ContextMenuHandlers\YunShellExt /f</span><br><span class="line">reg delete HKEY_CLASSES_ROOT\*\shellex\ContextMenuHandlers\YunShellExt /f</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>æ³¨å†Œè¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>Windowsæ–‡ä»¶ååŒºåˆ†å¤§å°å†™</title>
    <url>/2024/07/31/Windows%E6%96%87%E4%BB%B6%E5%90%8D%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99/</url>
    <content><![CDATA[<p>è½¬è‡ª<a href="https://www.howtogeek.com/354220/how-to-enable-case-sensitive-folders-on-windows-10/">How to Enable Case Sensitive File and Folder Names on Windows 10</a></p>
<p>Windows 10 ç°åœ¨æä¾›å¯é€‰çš„åŒºåˆ†å¤§å°å†™çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå°±åƒ Linux å’Œå…¶ä»–ç±» UNIX æ“ä½œç³»ç»Ÿä¸€æ ·ã€‚å¦‚æœå¯ç”¨æ­¤åŠŸèƒ½ï¼Œæ‰€æœ‰ Windows è¿›ç¨‹éƒ½å°†æ­£ç¡®å¤„ç†åŒºåˆ†å¤§å°å†™çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚æ¢å¥è¯è¯´ï¼Œä»–ä»¬ä¼šå°†â€œfileâ€å’Œâ€œFileâ€è§†ä¸ºä¸¤ä¸ªå•ç‹¬çš„æ–‡ä»¶ã€‚</p>
<p>å·¥ä½œåŸç†<br>è¿™æ˜¯NTFSæ–‡ä»¶ç³»ç»ŸåŠŸèƒ½ï¼Œæ‚¨å¯ä»¥é’ˆå¯¹æ¯ä¸ªç›®å½•å¯ç”¨æ­¤åŠŸèƒ½ã€‚æ­¤åŠŸèƒ½ä¸é€‚ç”¨äºæ‚¨çš„æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤æ‚¨åªéœ€é’ˆå¯¹ç”¨äºå¼€å‘ç›®çš„çš„ç‰¹å®šæ–‡ä»¶å¤¹å¯ç”¨åŒºåˆ†å¤§å°å†™å³å¯ã€‚</p>
<p>åŒºåˆ†å¤§å°å†™åŠŸèƒ½æ˜¯åœ¨Windows 10 çš„ 2018 å¹´ 4 æœˆæ›´æ–°ä¸­æ·»åŠ çš„ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œå¯ä»¥åœ¨Windows ä¸Šçš„ Bash ç¯å¢ƒï¼ˆä¹Ÿç§°ä¸ºé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿï¼‰ä¸­å°† Windows æ–‡ä»¶å¤¹æŒ‚è½½ä¸ºåŒºåˆ†å¤§å°å†™ã€‚è¿™åœ¨ Linux ç¯å¢ƒä¸­è¿è¡Œè‰¯å¥½ï¼Œä½†å®ƒä¼šä½¿æ™®é€šçš„ Windows åº”ç”¨ç¨‹åºæ„Ÿåˆ°å›°æƒ‘ã€‚è¿™ç°åœ¨æ˜¯ä¸€é¡¹æ–‡ä»¶ç³»ç»Ÿçº§åŠŸèƒ½ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰ Windows åº”ç”¨ç¨‹åºä¹Ÿå°†åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­çœ‹åˆ°åŒºåˆ†å¤§å°å†™çš„æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<p>æ­¤åŠŸèƒ½å¯é€šè¿‡</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">fsutil.exe</span><br></pre></td></tr></table></figure>

<p>å‘½ä»¤ï¼Œæ‚¨å¿…é¡»ä»å‘½ä»¤è¡Œè¿è¡Œè¯¥å‘½ä»¤ã€‚æ‚¨å¯ä»¥ä»å‘½ä»¤æç¤ºç¬¦æˆ– PowerShell çª—å£æ‰§è¡Œæ­¤æ“ä½œã€‚ä½¿ç”¨é»˜è®¤è®¾ç½®ï¼Œæ‚¨åœ¨ Linux ç¯å¢ƒä¸­åˆ›å»ºçš„æ–‡ä»¶å¤¹ä¹Ÿä¼šè‡ªåŠ¨é…ç½®ä¸ºåŒºåˆ†å¤§å°å†™ã€‚</p>
<p>å¦‚ä½•å°†ç›®å½•è®¾ç½®ä¸ºåŒºåˆ†å¤§å°å†™<br>é¦–å…ˆï¼Œå³é”®å•å‡»â€œå¼€å§‹â€æŒ‰é’®ï¼Œç„¶åé€‰æ‹©â€œPowerShellï¼ˆç®¡ç†å‘˜ï¼‰â€å‘½ä»¤ã€‚å¦‚æœæ‚¨æ›´å–œæ¬¢ä½¿ç”¨å‘½ä»¤æç¤ºç¬¦ï¼Œåˆ™å¯ä»¥åœ¨â€œå¼€å§‹â€èœå•ä¸­æœç´¢â€œå‘½ä»¤æç¤ºç¬¦â€ï¼Œå³é”®å•å‡»å®ƒï¼Œç„¶åé€‰æ‹©â€œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œâ€å‘½ä»¤ã€‚æ— è®ºæ‚¨é€‰æ‹©å“ªç§å‘½ä»¤è¡Œç¯å¢ƒï¼Œè¯¥å‘½ä»¤çš„å·¥ä½œåŸç†éƒ½ç›¸åŒã€‚</p>
<p>æ‚¨å¯èƒ½å®é™…ä¸Šä¸éœ€è¦ç®¡ç†å‘˜æƒé™æ¥è¿è¡Œæ­¤å‘½ä»¤ï¼Œè¿™å–å†³äºæ‚¨çš„æƒé™ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œæ‚¨éœ€è¦å¯¹è¦ä¿®æ”¹çš„ç›®å½•å…·æœ‰â€œå†™å…¥å±æ€§â€æƒé™ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€å¦‚æœæ‚¨æƒ³ç¼–è¾‘ç”¨æˆ·æ–‡ä»¶å¤¹ä¹‹å¤–çš„æŸä¸ªæ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ c:\projectï¼‰ï¼Œåˆ™éœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œè€Œå¦‚æœæ‚¨æƒ³ä¿®æ”¹ç”¨æˆ·æ–‡ä»¶å¤¹å†…çš„æŸä¸ªæ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ c:\users\NAME\projectï¼‰ï¼Œåˆ™ä¸éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚</p>
<p>åœ¨ç»§ç»­ä¹‹å‰ï¼Œè¯·ç¡®ä¿å½“å‰æ²¡æœ‰æ­£åœ¨è¿è¡Œçš„ Linux è½¯ä»¶å¼•ç”¨æ‚¨è¦ä¿®æ”¹çš„ç›®å½•ã€‚å½“ Linux è½¯ä»¶æ­£åœ¨è®¿é—®æ–‡ä»¶å¤¹æ—¶ï¼Œæ‚¨ä¸åº”æ›´æ”¹æ–‡ä»¶å¤¹ä¸Šçš„åŒºåˆ†å¤§å°å†™æ ‡å¿—ã€‚å¦‚æœä»»ä½•æ­£åœ¨è¿è¡Œçš„ Linux è¿›ç¨‹å½“å‰æ‰“å¼€äº†è¯¥ç›®å½•æˆ–ç›®å½•ä¸­çš„ä»»ä½•å†…å®¹ï¼Œå³ä½¿å°†å…¶ä½œä¸ºå½“å‰å·¥ä½œç›®å½•ï¼ŒLinux åº”ç”¨ç¨‹åºä¹Ÿä¸ä¼šè¯†åˆ«è¯¥æ›´æ”¹ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚</p>
<p>è¦ä½¿æ–‡ä»¶å¤¹åŒºåˆ†å¤§å°å†™ï¼Œè¯·é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå°†â€œC:\folderâ€æ›¿æ¢ä¸ºæ–‡ä»¶å¤¹çš„è·¯å¾„ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">fsutil.exe file setCaseSensitiveInfo C:\folder enable</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ–‡ä»¶å¤¹è·¯å¾„ä¸­æœ‰ç©ºæ ¼ï¼Œè¯·å°†æ•´ä¸ªè·¯å¾„æ‹¬åœ¨å¼•å·ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p>fsutil.exe file setCaseSensitiveInfo â€œC:\my folderâ€ enable</p>
<p>è¿™ä¸ä¼šå½±å“å­æ–‡ä»¶å¤¹<br>åŒºåˆ†å¤§å°å†™æ ‡å¿—ä»…å½±å“æ‚¨åº”ç”¨å®ƒçš„ç‰¹å®šæ–‡ä»¶å¤¹ã€‚å®ƒä¸ä¼šè¢«è¯¥æ–‡ä»¶å¤¹çš„å­æ–‡ä»¶å¤¹è‡ªåŠ¨ç»§æ‰¿ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªåä¸º C:\folder çš„æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”å…¶ä¸­åŒ…å« C:\folder\test å’Œ C:\folder\stuff å­æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆä»…å°† C:\folder æ–‡ä»¶å¤¹è®¾ç½®ä¸ºåŒºåˆ†å¤§å°å†™å¹¶ä¸èƒ½åŒæ—¶ä½¿å…¶ä¸­çš„â€œtestâ€å’Œâ€œstuffâ€å­æ–‡ä»¶å¤¹åŒºåˆ†å¤§å°å†™ã€‚æ‚¨éœ€è¦fsutilå•ç‹¬è¿è¡Œç›¸åº”çš„å‘½ä»¤æ‰èƒ½ä½¿æ‰€æœ‰ä¸‰ä¸ªæ–‡ä»¶å¤¹éƒ½åŒºåˆ†å¤§å°å†™ã€‚</p>
<p>Linux å·¥å…·é»˜è®¤åˆ›å»ºåŒºåˆ†å¤§å°å†™çš„æ–‡ä»¶å¤¹<br>æ‚¨åœ¨ Windows Subsystem for Linux (Bash shell) ä¸­è¿è¡Œçš„ Linux å·¥å…·ç°åœ¨å¯ä»¥åˆ›å»ºè®¾ç½®äº†åŒºåˆ†å¤§å°å†™çš„æ ‡å¿—çš„æ–‡ä»¶å¤¹ã€‚å› æ­¤ï¼Œæ— è®ºæ‚¨æ˜¯ä½¿ç”¨å‘½ä»¤mkdiråœ¨ Bash shell ä¸­åˆ›å»ºç›®å½•è¿˜æ˜¯ä½¿ç”¨å¼€å‘å·¥å…·ä¸ºæ‚¨åˆ›å»ºç›®å½•ï¼Œåˆ›å»ºçš„ç›®å½•éƒ½ä¼šè‡ªåŠ¨è®¾ç½®ä¸ºåŒºåˆ†å¤§å°å†™ - å³ä½¿æ‚¨åœ¨å·²å®‰è£…çš„ Windows æ–‡ä»¶ç³»ç»Ÿä¸Šåˆ›å»ºå®ƒä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<p>ä»æŠ€æœ¯ä¸Šè®²ï¼Œå‘ç”Ÿè¿™ç§æƒ…å†µæ˜¯å› ä¸º Linux ç¯å¢ƒçš„ DrvFs æ–‡ä»¶ç³»ç»Ÿé»˜è®¤case&#x3D;dirä½¿ç”¨è¯¥æ ‡å¿—ã€‚è¯¥é€‰é¡¹å°† Linux ç¯å¢ƒè®¾ç½®ä¸ºå°Šé‡æ¯ä¸ªç›®å½•çš„ NTFS æ ‡å¿—ï¼Œå¹¶åœ¨ä» Linux ç¯å¢ƒå†…åˆ›å»ºçš„ç›®å½•ä¸Šè‡ªåŠ¨è®¾ç½®åŒºåˆ†å¤§å°å†™çš„æ ‡å¿—ã€‚å¦‚æœæ„¿æ„ï¼Œæ‚¨å¯ä»¥åœ¨wsl.conf æ–‡ä»¶ä¸­æ›´æ”¹æ­¤é€‰é¡¹ã€‚case&#x3D;dir</p>
<p>åªè¦æ‚¨åœ¨ Linux ç¯å¢ƒä¸­åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œå®ƒä»¬å°±ä¼šä½¿ç”¨æ­£ç¡®çš„åŒºåˆ†å¤§å°å†™è®¾ç½®åˆ›å»ºï¼Œå¹¶ä¸”æ‚¨æ— éœ€è§¦ç¢° fsutil.exe å‘½ä»¤ã€‚</p>
<p>å¦‚ä½•æ£€æŸ¥ç›®å½•æ˜¯å¦åŒºåˆ†å¤§å°å†™<br>è¦æ£€æŸ¥ç›®å½•å½“å‰æ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†â€œC:\folderâ€æ›¿æ¢ä¸ºæ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚</p>
<p>fsutil.exe file queryCaseSensitiveInfo C:\folder</p>
<p>å¦‚æœç›®å½•å¯ç”¨äº†åŒºåˆ†å¤§å°å†™ï¼Œæ‚¨å°†çœ‹åˆ°â€œç›®å½• [è·¯å¾„] ä¸Šçš„åŒºåˆ†å¤§å°å†™å±æ€§å·²å¯ç”¨ã€‚â€å¦‚æœç›®å½•ä½¿ç”¨æ ‡å‡† Windows ä¸åŒºåˆ†å¤§å°å†™ï¼Œæ‚¨å°†çœ‹åˆ°â€œç›®å½• [è·¯å¾„] ä¸Šçš„åŒºåˆ†å¤§å°å†™å±æ€§å·²ç¦ç”¨ã€‚â€</p>
<p>å¦‚ä½•ä½¿ç›®å½•ä¸åŒºåˆ†å¤§å°å†™<br>è¦æ’¤æ¶ˆæ›´æ”¹å¹¶å†æ¬¡ä½¿ç›®å½•ä¸åŒºåˆ†å¤§å°å†™ï¼ˆæ­£å¦‚æ¯”å°”ç›–èŒ¨æ‰€å¸Œæœ›çš„é‚£æ ·ï¼‰ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†â€œC:\folderâ€æ›¿æ¢ä¸ºæ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚</p>
<p>fsutil.exe file setCaseSensitiveInfo C:\folder disable</p>
<p>å¦‚æœæ‚¨å°è¯•å¯¹åŒ…å«åç§°å†²çªçš„æ–‡ä»¶çš„æ–‡ä»¶å¤¹ç¦ç”¨åŒºåˆ†å¤§å°å†™ï¼Œæ‚¨å°†çœ‹åˆ°â€œé”™è¯¯ï¼šç›®å½•ä¸ä¸ºç©ºâ€æ¶ˆæ¯ã€‚æ‚¨éœ€è¦å…ˆåˆ é™¤æˆ–é‡å‘½åå†²çªçš„æ–‡ä»¶ï¼Œç„¶åæ‰èƒ½ç»§ç»­ã€‚</p>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windowsæ³¨å†Œè¡¨å‚æ•°å«ä¹‰</title>
    <url>/2024/07/31/Windows%E6%B3%A8%E5%86%8C%E8%A1%A8%E5%8F%82%E6%95%B0%E5%90%AB%E4%B9%89/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>%1</td>
<td>æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>%2</td>
<td>ç³»ç»Ÿé»˜è®¤çš„æ‰“å°æœº</td>
</tr>
<tr>
<td>%3</td>
<td>æ–‡ä»¶æ‰‡åŒº</td>
</tr>
<tr>
<td>%4</td>
<td>ç«¯å£</td>
</tr>
<tr>
<td>%D</td>
<td>æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>%L</td>
<td>æ–‡ä»¶é•¿è·¯å¾„</td>
</tr>
<tr>
<td>%V</td>
<td>æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>%W</td>
<td>å½“å‰æ–‡ä»¶çš„çˆ¶ç›®å½•çš„è·¯å¾„</td>
</tr>
</tbody></table>
<p>Windowsæ³¨å†Œè¡¨æ˜¯ä¸åŒºåˆ†å¤§å°å†™</p>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windowsè°ƒæ•´ç³»ç»ŸMTUå€¼</title>
    <url>/2024/07/31/Windows%E8%B0%83%E6%95%B4%E7%B3%BB%E7%BB%9FMTU%E5%80%BC/</url>
    <content><![CDATA[<p>é¦–å…ˆéœ€è¦ä»¥ã€ç®¡ç†å‘˜ã€‘æ¨¡å¼è¿è¡Œ<code>cmd.exe</code>æˆ–<code>PowerShell</code></p>
<p>ä»¥å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ç›®å‰ç½‘å¡MTUè®¾ç½®</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">netsh interface ipv4 show interfaces</span><br></pre></td></tr></table></figure>

<p>ä»¥å¦‚ä¸‹å‘½ä»¤ç¡®è®¤æœ€ä½³MTUçš„æ•°æ®åŒ…å¤§å°</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">ping <span class="literal">-l</span> <span class="number">1464</span> <span class="operator">-f</span> www.microsoft.com</span><br></pre></td></tr></table></figure>

<p>åœ¨æµ‹è¯•æˆåŠŸçš„æ•°æ®åŒ…å€¼ä¸ŠåŠ ä¸Šç”¨äºæ•°æ®åŒ…åŒ…å¤´28å­—èŠ‚ï¼Œå³1464+28&#x3D;1492ï¼Œè¿™å°±æ˜¯æœ€ä½³MTUå€¼<br>ç„¶åï¼Œä»¥å¦‚ä¸‹å‘½ä»¤è¿›è¡Œè®¾ç½®</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">netsh interface ipv4 <span class="built_in">set</span> subinterface <span class="string">&quot;ä»¥å¤ªç½‘&quot;</span> mtu=<span class="number">1492</span> store=persistent</span><br></pre></td></tr></table></figure>

<p>Wifi6 æ— çº¿å±€åŸŸç½‘ä¼ è¾“é€Ÿåº¦å—é™è§£é™¤</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">netsh int tcp <span class="built_in">set</span> global autotuninglevel=restricted</span><br><span class="line">netsh interface tcp <span class="built_in">set</span> heuristics disabled</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windowsé‡è£…ç³»ç»Ÿå</title>
    <url>/2024/07/31/Windows%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F%E5%90%8E/</url>
    <content><![CDATA[<h2 id="ç»„ç­–ç•¥é…ç½®"><a href="#ç»„ç­–ç•¥é…ç½®" class="headerlink" title="ç»„ç­–ç•¥é…ç½®"></a>ç»„ç­–ç•¥é…ç½®</h2><ol>
<li>è¿è¡Œ<code>gpedit.msc</code><ol>
<li><code>è®¡ç®—æœºé…ç½®</code>â€”â€”ã€‹<code>ç®¡ç†æ¨¡æ¿</code>â€”â€”ã€‹<ol>
<li><code>Windowsç»„ä»¶</code>â€”â€”ã€‹<code>Windowsæ›´æ–°</code>â€”â€”ã€‹<code>ç®¡ç†ä»Windows æ›´æ–°æä¾›çš„æ›´æ–°</code> ã€æ›´æ–°ç®¡ç†ã€‘<ol>
<li>â€”â€”ã€‹<code>Windowsæ›´æ–°ä¸åŒ…æ‹¬é©±åŠ¨ç¨‹åº</code>â€”â€”ã€‹<code>å·²å¯ç”¨</code>  ã€ç¦ç”¨é©±åŠ¨æ›´æ–°ã€‘</li>
<li>â€”â€”ã€‹<code>é€‰æ‹©ä½•æ—¶æ¥æ”¶è´¨é‡æ›´æ–°</code>â€”â€”ã€‹<code>å·²å¯ç”¨</code> â€”â€”ã€‹<code>å»¶æœŸå¤©æ•°ï¼š30</code> ã€é¿å…æ›´æ–°Bugã€‘</li>
<li>â€”â€”ã€‹<code>é€‰æ‹©ä½•æ—¶æ¥æ”¶é¢„è§ˆç‰ˆå’ŒåŠŸèƒ½æ›´æ–°</code>â€”â€”ã€‹<code>å·²å¯ç”¨</code> â€”â€”ã€‹<code>å»¶æœŸå¤©æ•°ï¼š30</code> ã€é¿å…æ›´æ–°Bugã€‘</li>
</ol>
</li>
<li><code>ç³»ç»Ÿ</code> â€“&gt; <code>æ–‡ä»¶ç³»ç»Ÿ</code> â€“&gt; <code>å¯ç”¨ Win32 é•¿è·¯å¾„</code> ã€é•¿è·¯å¾„ã€‘</li>
</ol>
</li>
</ol>
</li>
</ol>
<p><strong>ä»¥ä¸Šè®¾ç½®å¥½åï¼Œå†è¿æ¥ç½‘ç»œ</strong></p>
<h2 id="é©±åŠ¨"><a href="#é©±åŠ¨" class="headerlink" title="é©±åŠ¨"></a>é©±åŠ¨</h2><p>æ˜¾å¡å’Œä¸»æ¿é©±åŠ¨</p>
<h2 id="æƒé™å¤„ç†"><a href="#æƒé™å¤„ç†" class="headerlink" title="æƒé™å¤„ç†"></a>æƒé™å¤„ç†</h2><ul>
<li><code>D:,E:,F:</code> â€“&gt; <code>å®‰å…¨</code>  â€“&gt; <code>ç¼–è¾‘</code> â€“&gt; <code>åªä¿ç•™Administrators</code> â€“&gt; <code>å¹¶æ·»åŠ å½“å‰ç”¨æˆ·</code></li>
</ul>
<h2 id="å¼€å‘äººå‘˜è®¾ç½®"><a href="#å¼€å‘äººå‘˜è®¾ç½®" class="headerlink" title="å¼€å‘äººå‘˜è®¾ç½®"></a>å¼€å‘äººå‘˜è®¾ç½®</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">`å³é”®ä»»åŠ¡æ ` --&gt; `ä»»åŠ¡æ è®¾ç½®[ä»»åŠ¡æ ç›¸å…³è®¾ç½®]`</span><br><span class="line">            --&gt; `ç³»ç»Ÿ` --&gt; `ç³»ç»Ÿä¿¡æ¯` --&gt; `äº§å“å¯†é’¥å’Œæ¿€æ´»` --&gt; `äº§å“å¯†é’¥å’Œæ¿€æ´»`</span><br><span class="line">                           `å¤šä»»åŠ¡å¤„ç†` --&gt; `è´´é çª—å£` --&gt; `å°†çª—å£æ‹–åŠ¨åˆ°å±å¹•é¡¶éƒ¨æ—¶æ˜¾ç¤ºè´´é å¸ƒå±€`</span><br><span class="line">                           `å¼€å‘è€…é€‰é¡¹`</span><br></pre></td></tr></table></figure>

<h2 id="Windows-11-24H2ç‰ˆæœ¬åå…±äº«è®¾ç½®"><a href="#Windows-11-24H2ç‰ˆæœ¬åå…±äº«è®¾ç½®" class="headerlink" title="Windows 11 24H2ç‰ˆæœ¬åå…±äº«è®¾ç½®"></a>Windows 11 24H2ç‰ˆæœ¬åå…±äº«è®¾ç½®</h2><p>Windows 11 24H2ç‰ˆæœ¬æ›´æ”¹äº† SMB å…±äº«é»˜è®¤è®¾ç½®ã€‚æ±‚å¼ºåˆ¶å¼€å¯ SMB ç­¾åï¼ˆä»¥æé«˜å®‰å…¨æ€§ï¼‰</p>
<h3 id="ä¸“ä¸šç‰ˆ"><a href="#ä¸“ä¸šç‰ˆ" class="headerlink" title="ä¸“ä¸šç‰ˆ"></a>ä¸“ä¸šç‰ˆ</h3><p>è®¾ç½®ç»„ç­–ç•¥</p>
<p><code>Win + R</code> â€“&gt; <code>gpedit.msc</code> â€“&gt; <code>è®¡ç®—æœºé…ç½®</code></p>
<ol>
<li>â€“&gt; <code>Windowsè®¾ç½®</code> â€“&gt; <code>å®‰å…¨è®¾ç½®</code> â€“&gt; <code>æœ¬åœ°ç­–ç•¥</code> â€“&gt; <code>å®‰å…¨é€‰é¡¹</code><ol>
<li>â€“&gt; <code>ç¦ç”¨â€œMicrosoftç½‘ç»œå®¢æˆ·ç«¯ï¼šå¯¹é€šè®¯è¿›è¡Œæ•°å­—ç­¾åï¼ˆå§‹ç»ˆï¼‰â€</code>ã€å®¢æˆ·ç«¯:è®¿é—®å…¶ä»–ç”µè„‘çš„å…±äº«ã€‘</li>
<li>â€“&gt; <code>ç¦ç”¨â€œMicrosoftç½‘ç»œæœåŠ¡å™¨ï¼šå¯¹é€šè®¯è¿›è¡Œæ•°å­—ç­¾å(å§‹ç»ˆ)â€</code>ã€æœåŠ¡å™¨:æœ¬æœºè¿˜è¦ä½œä¸ºå…±äº«æœåŠ¡çš„æœåŠ¡å™¨ï¼Œæ¯”å¦‚è¦å°†æ–‡ä»¶å¤¹å…±äº«ç»™åŒºåŸŸç½‘å†…çš„å…¶ä»–è®¾å¤‡ä½¿ç”¨ã€‘</li>
</ol>
</li>
<li>â€“&gt; <code>ç®¡ç†æ¨¡æ¿</code> â€“&gt; <code>ç½‘ç»œ</code> â€“&gt; <code>Lanmanå·¥ä½œç«™</code> â€“&gt; <code>å¯ç”¨&quot;å¯ç”¨ä¸å®‰å…¨çš„æ¥å®¾ç”¨æˆ·&quot;</code>ã€æœåŠ¡å™¨:å¼€å¯åŒ¿åç™»å½•,å¦åˆ™åŒ¿åç™»å½•ä¸å¯ç”¨ï¼Œå³ä½¿æœåŠ¡å™¨å…è®¸ä¹Ÿä¸å¯ç”¨ã€‘</li>
</ol>
<p><strong>é‡å¯ç”µè„‘ï¼Œå¹¶é‡è®¾æ–‡ä»¶å¤¹å…±äº«(ä¸é‡è®¾å°±ä¸€ç›´æŠ¥é”™)</strong></p>
<h3 id="å®¶åº­ç‰ˆ"><a href="#å®¶åº­ç‰ˆ" class="headerlink" title="å®¶åº­ç‰ˆ"></a>å®¶åº­ç‰ˆ</h3><figure class="highlight bat"><figcaption><span>update-reg.bat</span></figcaption><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">pushd</span> &quot;%~dp0&quot;</span><br><span class="line"><span class="built_in">dir</span> /b C:\Windows\servicing\Packages\Microsoft-Windows-GroupPolicy-ClientExtensions-Package~<span class="number">3</span>*.mum &gt;List.txt</span><br><span class="line"><span class="built_in">dir</span> /b C:\Windows\servicing\Packages\Microsoft-Windows-GroupPolicy-ClientTools-Package~<span class="number">3</span>*.mum &gt;&gt;List.txt</span><br><span class="line"><span class="keyword">for</span> /f <span class="variable">%%i</span> <span class="keyword">in</span> (&#x27;<span class="built_in">findstr</span> /i . List.txt <span class="number">2</span>^&gt;<span class="built_in">nul</span>&#x27;) <span class="keyword">do</span> dism /online /norestart /add-package:&quot;C:\Windows\servicing\Packages\<span class="variable">%%i</span>&quot;</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure>

<h2 id="Windows-Defenderé…ç½®"><a href="#Windows-Defenderé…ç½®" class="headerlink" title="Windows Defenderé…ç½®"></a>Windows Defenderé…ç½®</h2><p><code>å®‰å…¨ä¸­å¿ƒ</code> â€“&gt; <code>ç—…æ¯’å’Œå¨èƒé˜²æŠ¤</code> â€“&gt; <code>ç®¡ç†è®¾ç½®</code> â€“&gt; <code>æ’é™¤é¡¹</code> â€“&gt; <code>å¼€å‘ç¨‹åºçš„è¿›ç¨‹å¦‚&quot;Code.exe,devenv.exe,idea64.exe&quot;ç­‰</code></p>
<h2 id="å…¶ä»–è½¯ä»¶"><a href="#å…¶ä»–è½¯ä»¶" class="headerlink" title="å…¶ä»–è½¯ä»¶"></a>å…¶ä»–è½¯ä»¶</h2><h3 id="Create-Shortcut-ps1-è„šæœ¬"><a href="#Create-Shortcut-ps1-è„šæœ¬" class="headerlink" title="Create-Shortcut.ps1 è„šæœ¬"></a><code>Create-Shortcut.ps1</code> è„šæœ¬</h3><figure class="highlight pwsh"><figcaption><span>Create-Shortcut.ps1</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment">##  ä½¿ç”¨æ–¹å¼</span></span><br><span class="line"><span class="comment">##  1. æ¡Œé¢åˆ›å»ºè®°äº‹æœ¬å¿«æ·æ–¹å¼</span></span><br><span class="line"><span class="comment">##     Create-Shortcut.ps1 -TargetPath &quot;C:\Windows\System32\notepad.exe&quot; -ShortcutName &quot;Notepad&quot;</span></span><br><span class="line"><span class="comment">##  2. ç»™æŸä¸ªç¨‹åºè®¾ç½®å›¾æ ‡</span></span><br><span class="line"><span class="comment">##     Create-Shortcut.ps1 -TargetPath &quot;D:\Tools\myapp.exe&quot; -ShortcutName &quot;MyApp&quot; -IconPath &quot;D:\Tools\myicon.ico&quot;</span></span><br><span class="line"><span class="comment">##  3. ç»™å‘½ä»¤è¡ŒåŠ å¯åŠ¨å‚æ•°</span></span><br><span class="line"><span class="comment">##     Create-Shortcut.ps1 -TargetPath &quot;C:\Windows\System32\cmd.exe&quot; -ShortcutName &quot;CMD Here&quot; -Arguments &quot;/k cd D:\Projects&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">param</span> (</span><br><span class="line">    [<span class="built_in">string</span>]<span class="variable">$TargetPath</span>,          <span class="comment"># è¦æŒ‡å‘çš„ç¨‹åº/æ–‡ä»¶</span></span><br><span class="line">    [<span class="built_in">string</span>]<span class="variable">$ShortcutName</span>,        <span class="comment"># å¿«æ·æ–¹å¼åç§°ï¼ˆä¸ç”¨å¸¦ .lnkï¼‰</span></span><br><span class="line">    [<span class="built_in">string</span>]<span class="variable">$Arguments</span> = <span class="string">&quot;&quot;</span>,      <span class="comment"># å¯é€‰å‚æ•°</span></span><br><span class="line">    [<span class="built_in">string</span>]<span class="variable">$WorkingDirectory</span> = <span class="string">&quot;&quot;</span>, <span class="comment"># å·¥ä½œç›®å½•</span></span><br><span class="line">    [<span class="built_in">string</span>]<span class="variable">$IconPath</span> = <span class="string">&quot;&quot;</span>        <span class="comment"># å›¾æ ‡è·¯å¾„ï¼Œå¯é€‰</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¡Œé¢è·¯å¾„</span></span><br><span class="line"><span class="variable">$Desktop</span> = [<span class="type">Environment</span>]::GetFolderPath(<span class="string">&quot;Desktop&quot;</span>)</span><br><span class="line"><span class="variable">$ShortcutFile</span> = <span class="built_in">Join-Path</span> <span class="variable">$Desktop</span> <span class="string">&quot;<span class="variable">$ShortcutName</span>.lnk&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå¿«æ·æ–¹å¼</span></span><br><span class="line"><span class="variable">$WshShell</span> = <span class="built_in">New-Object</span> <span class="literal">-ComObject</span> WScript.Shell</span><br><span class="line"><span class="variable">$Shortcut</span> = <span class="variable">$WshShell</span>.CreateShortcut(<span class="variable">$ShortcutFile</span>)</span><br><span class="line"><span class="variable">$Shortcut</span>.TargetPath = <span class="variable">$TargetPath</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$Arguments</span> <span class="operator">-ne</span> <span class="string">&quot;&quot;</span>) &#123; <span class="variable">$Shortcut</span>.Arguments = <span class="variable">$Arguments</span> &#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$WorkingDirectory</span> <span class="operator">-ne</span> <span class="string">&quot;&quot;</span>) &#123; <span class="variable">$Shortcut</span>.WorkingDirectory = <span class="variable">$WorkingDirectory</span> &#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$IconPath</span> <span class="operator">-ne</span> <span class="string">&quot;&quot;</span>) &#123; <span class="variable">$Shortcut</span>.IconLocation = <span class="variable">$IconPath</span> &#125;</span><br><span class="line"><span class="variable">$Shortcut</span>.Save()</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Output</span> <span class="string">&quot;å·²åˆ›å»ºå¿«æ·æ–¹å¼: <span class="variable">$ShortcutFile</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Recover-ENV-After-Reinstall-ps1-è„šæœ¬"><a href="#Recover-ENV-After-Reinstall-ps1-è„šæœ¬" class="headerlink" title=" Recover-ENV-After-Reinstall.ps1 è„šæœ¬"></a><code> Recover-ENV-After-Reinstall.ps1</code> è„šæœ¬</h3><figure class="highlight pwsh"><figcaption><span>Recover-ENV-After-Reinstall.ps1</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ  D:\ProgramFiles\Utils åˆ°ç¯å¢ƒå˜é‡</span></span><br><span class="line">[<span class="type">System.Environment</span>]::SetEnvironmentVariable(</span><br><span class="line">    <span class="string">&quot;Path&quot;</span>,</span><br><span class="line">    <span class="variable">$env:Path</span> + <span class="string">&quot;;D:\ProgramFiles\Utils&quot;</span>,</span><br><span class="line">    [<span class="type">System.EnvironmentVariableTarget</span>]::User</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® Scoop</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ  Scoop ç¯å¢ƒå˜é‡</span></span><br><span class="line">[<span class="type">System.Environment</span>]::SetEnvironmentVariable(</span><br><span class="line">    <span class="string">&quot;Scoop&quot;</span>,</span><br><span class="line">    <span class="string">&quot;D:\Scoop&quot;</span>,</span><br><span class="line">    [<span class="type">System.EnvironmentVariableTarget</span>]::User</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® Scoop Path ç¯å¢ƒå˜é‡</span></span><br><span class="line">[<span class="type">System.Environment</span>]::SetEnvironmentVariable(</span><br><span class="line">    <span class="string">&quot;Path&quot;</span>,</span><br><span class="line">    <span class="variable">$env:Path</span> + <span class="string">&quot;;D:\Scoop\shims&quot;</span>,</span><br><span class="line">    [<span class="type">System.EnvironmentVariableTarget</span>]::User</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® Gradle çš„ GRADLE_USER_HOME ç¯å¢ƒå˜é‡</span></span><br><span class="line">[<span class="type">System.Environment</span>]::SetEnvironmentVariable(</span><br><span class="line">    <span class="string">&quot;GRADLE_USER_HOME&quot;</span>,</span><br><span class="line">    <span class="string">&quot;<span class="variable">$env:USERPROFILE</span>\.gradle&quot;</span>,</span><br><span class="line">    [<span class="type">System.EnvironmentVariableTarget</span>]::User</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">################</span></span><br><span class="line"><span class="comment">## Scoop è®¾ç½® ##</span></span><br><span class="line"><span class="comment">################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡ç½®æ‰€æœ‰å·²ç»å®‰è£…çš„è½¯ä»¶</span></span><br><span class="line">scoop.cmd reset *</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® å½“å‰ lts-jdk ä¸ºå½“å‰ç¯å¢ƒ</span></span><br><span class="line"><span class="comment"># scoop reset &lt;java&gt;[@&lt;version&gt;]</span></span><br><span class="line">scoop reset liberica<span class="literal">-lts-jdk</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® aria2</span></span><br><span class="line">scoop config aria2<span class="literal">-enabled</span> true</span><br><span class="line">scoop config aria2<span class="literal">-options</span> <span class="string">&#x27;--all-proxy=http://127.0.0.1:10808&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###########################</span></span><br><span class="line"><span class="comment">## Scoop è½¯ä»¶åˆ›å»ºå¿«æ·æ–¹å¼ ##</span></span><br><span class="line"><span class="comment">###########################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># scoop-completion è¦æ‰§è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤æ‰ç”Ÿæ•ˆï¼Œå¦åˆ™è¦ä¸€ç›´æŠ¥é”™</span></span><br><span class="line">D:\Scoop\apps\scoop<span class="literal">-completion</span>\current\<span class="built_in">add-profile</span><span class="literal">-content</span>.ps1</span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º æºä»£ç ç›®å½• å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Sources&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;Sources&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º åšå®¢ç›®å½• å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;E:\Blog\source\_posts&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;Blog&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º ä¸ªäººæ–‡ä»¶ç›®å½• å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;E:\Desktop&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;Desktop&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º ä¸‹è½½ç›®å½• å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;F:\Downloads&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;Downloads&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º MemoryAnalyzer å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\eclipse-mat\current\MemoryAnalyzer.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;MemoryAnalyzer&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º firefox å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\firefox-esr\current\firefox.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;Firefox&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º chrome å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\googlechrome\current\chrome.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;chrome&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º foobar2000 å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\foobar2000\current\foobar2000.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;foobar2000&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º idea64 å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\idea-ultimate\current\IDE\bin\idea64.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;idea64&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º ILSpy å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\ilspy\current\ILSpy.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;ILSpy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º KeePass å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\keepass\current\KeePass.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;KeePass&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º PotPlayer å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\potplayer\current\PotPlayerMini64.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;PotPlayer&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º rapidee å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\rapidee\current\rapidee.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;rapidee&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º SwitchHosts å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\switchhosts\current\SwitchHosts.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;SwitchHosts&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º VisualVM å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\visualvm\current\bin\visualvm.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;VisualVM&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º Code å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\vscode\current\Code.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;Code&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º å¾®ä¿¡ å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\wechat\current\Weixin.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;å¾®ä¿¡&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º Wireshark å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\Scoop\apps\wireshark\current\Wireshark.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;Wireshark&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">############################</span></span><br><span class="line"><span class="comment">## ç³»ç»Ÿå…¶ä»–è½¯ä»¶åˆ›å»ºå¿«æ·æ–¹å¼ ##</span></span><br><span class="line"><span class="comment">############################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º v2rayN å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\ProgramFiles\v2rayN\v2rayN.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;v2rayN&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º JMeter å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\ProgramFiles\apache-jmeter\bin\jmeter.bat&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;JMeter&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º BitComet å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\ProgramFiles\BitComet\BitComet_x64.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;BitComet&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º JITWatch å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\ProgramFiles\JITWatch\launchUI.bat&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;JITWatch&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º PDManer å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\ProgramFiles\PDManer\PDManer.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;PDManer&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º PerfView å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\ProgramFiles\PerfView\PerfView.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;PerfView&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º Procmon å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\ProgramFiles\ProcessMonitor\Procmon.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;Procmon&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º å›½æ³°æµ·é€š å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\ProgramFiles\TradingSoftware\zd_haitong\TdxW.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;å›½æ³°æµ·é€š&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º ä¸œæ–¹è´¢å¯Œ å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\ProgramFiles\TradingSoftware\eastmoney\mainfree.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;ä¸œæ–¹è´¢å¯Œ&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º é€šè¾¾ä¿¡æœŸè´§é€š å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\ProgramFiles\TradingSoftware\new_tdxqh\tdxw.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;é€šè¾¾ä¿¡æœŸè´§é€š&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## åˆ›å»º FutureClock å¿«æ·é”®</span></span><br><span class="line">Create<span class="literal">-Shortcut</span>.ps1 <span class="literal">-TargetPath</span> <span class="string">&quot;D:\ProgramFiles\TradingSoftware\FutureClock\FutureClock.exe&quot;</span> <span class="literal">-ShortcutName</span> <span class="string">&quot;FutureClock&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="ç®¡ç†å‘˜-cmd-æ‰§è¡Œ"><a href="#ç®¡ç†å‘˜-cmd-æ‰§è¡Œ" class="headerlink" title="ç®¡ç†å‘˜ cmd æ‰§è¡Œ"></a>ç®¡ç†å‘˜ cmd æ‰§è¡Œ</h3><figure class="highlight pwsh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯ç”¨ ç®¡ç†å‘˜ cmd</span></span><br><span class="line">sudo cmd</span><br></pre></td></tr></table></figure>

<figure class="highlight bat"><figcaption><span>link.bat</span></figcaption><table><tr><td class="code"><pre><span class="line">:: ç¬¬ä¸€æ¬¡éœ€è¦æ‰§è¡Œï¼Œå³ä¾¿é‡è£…ç³»ç»Ÿåï¼Œä¾ç„¶æœ‰æ•ˆ</span><br><span class="line">mklink  &quot;D:\Sources\.editorconfig&quot;  &quot;D:\SystemConfig\.editorconfig&quot;</span><br><span class="line"></span><br><span class="line">::::::::::::::::::::::::::::::::::::::::::::::</span><br><span class="line">:: ä¸‹é¢çš„å› ä¸ºæ¶‰åŠåˆ°ç³»ç»Ÿç›˜ï¼Œé‡è£…ç³»ç»Ÿåè¦é‡æ–°æ‰§è¡Œ ::</span><br><span class="line">::::::::::::::::::::::::::::::::::::::::::::::</span><br><span class="line"></span><br><span class="line">:: PowerShell LTS é…ç½®</span><br><span class="line">mklink /D &quot;<span class="variable">%USERPROFILE%</span>\Documents\PowerShell&quot;  &quot;D:\SystemConfig\PowerShell&quot;</span><br><span class="line"></span><br><span class="line">:: python pip é…ç½®</span><br><span class="line">mklink /D &quot;<span class="variable">%USERPROFILE%</span>\pip&quot;  &quot;D:\SystemConfig\pip&quot;</span><br><span class="line"></span><br><span class="line">:: SSH é…ç½®</span><br><span class="line">mklink /D &quot;<span class="variable">%USERPROFILE%</span>\.ssh&quot;  &quot;D:\SystemConfig\ssh&quot;</span><br><span class="line"></span><br><span class="line">:: WSL é…ç½®</span><br><span class="line">mklink  &quot;<span class="variable">%USERPROFILE%</span>\.wslconfig&quot;  &quot;D:\SystemConfig\wsl\.wslconfig&quot;</span><br><span class="line"></span><br><span class="line">:: éœ€è¦å…ˆç¡®è®¤è·¯å¾„å’Œ settings.jsonæ˜¯å¦å­˜åœ¨</span><br><span class="line">mklink  &quot;C:\Users\FRANK\AppData\Local\Packages\Microsoft.WindowsTerminal_8wekyb3d8bbwe\LocalState\settings.json&quot;  &quot;D:\SystemConfig\wsl\settings.json&quot;</span><br><span class="line"></span><br><span class="line">:: Git é…ç½®</span><br><span class="line">mklink  &quot;<span class="variable">%USERPROFILE%</span>\.gitconfig&quot;  &quot;D:\SystemConfig\.gitconfig&quot;</span><br><span class="line"></span><br><span class="line">:: .editorconfig é…ç½®ï¼Œå‡ ä¹é€‚ç”¨äºæ‰€æœ‰ç¼–è¾‘å™¨ï¼Œå°¤å…¶ Visual Studio</span><br><span class="line">mklink  &quot;<span class="variable">%USERPROFILE%</span>\.editorconfig&quot;  &quot;D:\SystemConfig\.editorconfig&quot;</span><br><span class="line"></span><br><span class="line">:: Maven é…ç½®</span><br><span class="line"><span class="built_in">mkdir</span>   &quot;<span class="variable">%USERPROFILE%</span>\.m2&quot;</span><br><span class="line">mklink  &quot;<span class="variable">%USERPROFILE%</span>\.m2\settings.xml&quot;  &quot;D:\SystemConfig\Maven\settings.xml&quot;</span><br><span class="line"></span><br><span class="line">:: Gradle é…ç½®</span><br><span class="line"><span class="built_in">mkdir</span>   &quot;<span class="variable">%USERPROFILE%</span>\.gradle&quot;</span><br><span class="line">mklink  &quot;<span class="variable">%USERPROFILE%</span>\.gradle\gradle.properties&quot;  &quot;D:\SystemConfig\Gradle\gradle.properties&quot;</span><br><span class="line">mklink  &quot;<span class="variable">%USERPROFILE%</span>\.gradle\init.gradle&quot;  &quot;D:\SystemConfig\Gradle\init.gradle&quot;</span><br><span class="line"></span><br><span class="line">:: IntelliJIdea è®¾ç½®, è¦å…ˆè¿è¡Œ idea64.exe, ä»¥ç”Ÿæˆ &quot;<span class="variable">%APPDATA%</span>\JetBrains ç›®å½•ï¼Œå†ç¡®è®¤ç‰ˆæœ¬å·ç›®å½•æ˜¯å¦å­˜åœ¨</span><br><span class="line">:: &quot;<span class="variable">%APPDATA%</span>\JetBrains\IntelliJIdea2025.<span class="number">2</span>&quot; ä¸­çš„ IntelliJIdea2025.<span class="number">2</span> è¦ä¸ç‰ˆæœ¬å·å¯¹åº”</span><br><span class="line">mklink /D &quot;<span class="variable">%APPDATA%</span>\JetBrains\IntelliJIdea2025.<span class="number">2</span>&quot; &quot;D:\SystemConfig\IdeaIUConfig\IntelliJIdea2025.<span class="number">2</span>&quot;</span><br><span class="line"></span><br><span class="line">:: Node.js é…ç½®</span><br><span class="line">:: NPM é…ç½®</span><br><span class="line">mklink  &quot;<span class="variable">%USERPROFILE%</span>\.npmrc&quot;  &quot;D:\SystemConfig\.npmrc&quot;</span><br><span class="line">:: yarn é…ç½®</span><br><span class="line">mklink  &quot;<span class="variable">%USERPROFILE%</span>\.yarnrc&quot;  &quot;D:\SystemConfig\.yarnrc&quot;</span><br><span class="line">:: yrm é…ç½®</span><br><span class="line">mklink  &quot;<span class="variable">%USERPROFILE%</span>\.yrmrc&quot;  &quot;D:\SystemConfig\.yrmrc&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight bat"><figcaption><span>reg.bat</span></figcaption><table><tr><td class="code"><pre><span class="line">:: ç®¡ç†å‘˜ <span class="built_in">cmd</span> æ‰§è¡Œ</span><br><span class="line">:: å³é”®æ¢å¤ Windows <span class="number">10</span> æ ·å¼</span><br><span class="line"><span class="function">D:\<span class="title">SystemConfig</span>\<span class="title">reg</span>\<span class="title">right</span>-<span class="title">click.reg</span></span></span><br><span class="line"><span class="function">:: å³é”®æ·»åŠ  <span class="title">VS</span> <span class="title">Code</span> å¿«æ·é”®</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">SystemConfig</span>\<span class="title">reg</span>\<span class="title">code.reg</span></span></span><br><span class="line"><span class="function">:: å³é”®æ·»åŠ  <span class="title">IntelliJ</span> <span class="title">IDEA</span> å¿«æ·é”®</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">SystemConfig</span>\<span class="title">reg</span>\<span class="title">idea64.reg</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight bat"><figcaption><span>D:\SystemConfig\reg\right-click.reg</span></figcaption><table><tr><td class="code"><pre><span class="line">:: ç®¡ç†å‘˜ <span class="built_in">cmd</span> æ‰§è¡Œ,æ‰§è¡Œå®Œåéœ€è¦é‡å¯ç”µè„‘</span><br><span class="line">reg add HKCU\Software\Classes\CLSID\&#123;<span class="number">86</span>ca1aa0-<span class="number">34</span>aa-<span class="number">4</span>e8b-a509-<span class="number">50</span>c905bae2a2&#125;\InprocServer32 /ve /d &quot;&quot; /f</span><br></pre></td></tr></table></figure>

<h3 id="æ¢å¤-WSL"><a href="#æ¢å¤-WSL" class="headerlink" title="æ¢å¤ WSL"></a>æ¢å¤ WSL</h3><figure class="highlight pwsh"><table><tr><td class="code"><pre><span class="line">sudo pwsh</span><br><span class="line"><span class="comment"># update è¦åœ¨ç®¡ç†å‘˜æƒé™ä¸‹æ“ä½œ, æ›´æ–°é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿ</span></span><br><span class="line">wsl <span class="literal">--update</span></span><br><span class="line"><span class="comment"># æ™®é€šæƒé™å³å¯ï¼Œå¯¼å…¥ä¹‹å‰çš„ç³»ç»Ÿ</span></span><br><span class="line">wsl <span class="literal">--import-in-place</span> Debian <span class="string">&quot;D:\VM\WSL\Debian\ext4.vhdx&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><a href="/2024/07/31/VSCode%E8%AE%BE%E7%BD%AE/" title="VSCodeè®¾ç½®">VSCodeè®¾ç½®</a></li>
<li><a href="/2024/07/30/IntelliJ-IDEA%E4%BD%BF%E7%94%A8/" title="IntelliJ IDEAä½¿ç”¨">IntelliJ IDEAä½¿ç”¨</a></li>
<li><a href="/2024/07/31/%E5%BF%AB%E9%80%9F%E5%88%87%E6%8D%A2Java%E7%89%88%E6%9C%AC/" title="å¿«é€Ÿåˆ‡æ¢Javaç‰ˆæœ¬">å¿«é€Ÿåˆ‡æ¢Javaç‰ˆæœ¬</a></li>
<li><a href="/2024/07/30/Git%E4%BD%BF%E7%94%A8/" title="Gitä½¿ç”¨">Gitä½¿ç”¨</a></li>
<li><a href="/2024/08/17/Python%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88%E9%85%8D%E7%BD%AE/" title="Pythonå…å®‰è£…ç‰ˆé…ç½®">Pythonå…å®‰è£…ç‰ˆé…ç½®</a></li>
<li><a href="/2024/07/31/Node-js%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/" title="Node.jså¼€å‘ç¯å¢ƒ">Node.jså¼€å‘ç¯å¢ƒ</a></li>
<li><a href="/2025/02/20/WSL%E4%BD%BF%E7%94%A8/" title="WSLä½¿ç”¨">WSLä½¿ç”¨</a></li>
</ul>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>grepä½¿ç”¨</title>
    <url>/2024/07/30/grep%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ»¡è¶³ä»»æ„æ¡ä»¶ï¼ˆword1ã€word2å’Œword3ä¹‹ä¸€ï¼‰å°†åŒ¹é…ã€‚</span></span><br><span class="line">cat info.log|grep -E &quot;word1|word2|word3&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¿…é¡»åŒæ—¶æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼ˆword1ã€word2å’Œword3ï¼‰æ‰åŒ¹é…ã€‚</span></span><br><span class="line">cat info.log |grep word1 |grep word2|grep word3</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ’é™¤å…³é”®å­—</span></span><br><span class="line">ifconfig |grep inet |grep -v inet6</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ’é™¤å¤šä¸ªå…³é”®å­—</span></span><br><span class="line">ifconfig |grep inet |grep -v &#x27;inet6\|127.0.0.1&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-a å°†äºŒè¿›åˆ¶å½“åšæ–‡æœ¬å¤„ç†,é˜²æ­¢æœ‰æ—¶å€™ç¼–ç ä¹±ç æˆ–è€…å…¶ä»–</span></span><br><span class="line">cat info.log|grep -a &quot;text&quot;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>returnè¯­å¥ä¸å½±å“usingé‡Šæ”¾å¯¹è±¡</title>
    <url>/2024/07/31/return%E8%AF%AD%E5%8F%A5%E4%B8%8D%E5%BD%B1%E5%93%8Dusing%E9%87%8A%E6%94%BE%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (A a = <span class="keyword">new</span> A())</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;ä¸»ç¨‹åºå¼€å§‹æ‰§è¡Œã€‚&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">            <span class="comment">//VSæç¤º&quot;æ£€æµ‹åˆ°æ— æ³•è®¿é—®çš„ä»£ç &quot;</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;usingå†…&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//VSæç¤º&quot;æ£€æµ‹åˆ°æ— æ³•è®¿é—®çš„ä»£ç &quot;,ä»¥ä¸‹è¯­å¥éƒ½ä¸ä¼šæ‰§è¡Œ ???</span></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;usingå¤–&quot;</span>);</span><br><span class="line">        Console.ReadLine();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">A</span> : <span class="title">IDisposable</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Dispose</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ‰§è¡Œäº†Disposeæ–¹æ³•ã€‚&quot;</span>);</span><br><span class="line">        Console.ReadKey();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<blockquote>
<p>ä¸»ç¨‹åºå¼€å§‹æ‰§è¡Œã€‚<br>æ‰§è¡Œäº†Disposeæ–¹æ³•ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>rmå‚æ•°åˆ—è¡¨è¿‡é•¿</title>
    <url>/2024/07/31/rm%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%E8%BF%87%E9%95%BF/</url>
    <content><![CDATA[<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">frank@1_60:# <span class="built_in">rm</span>  -rf *</span><br><span class="line">-bash: /bin/rm: å‚æ•°åˆ—è¡¨è¿‡é•¿</span><br><span class="line">frank@1_60:# find . -name <span class="string">&quot;*&quot;</span>  |xargs <span class="built_in">rm</span>  -rf  <span class="string">&quot;*&quot;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¿æŒforkä¹‹åçš„é¡¹ç›®å’Œä¸Šæ¸¸åŒæ­¥</title>
    <url>/2024/07/31/%E4%BF%9D%E6%8C%81fork%E4%B9%8B%E5%90%8E%E7%9A%84%E9%A1%B9%E7%9B%AE%E5%92%8C%E4%B8%8A%E6%B8%B8%E5%90%8C%E6%AD%A5/</url>
    <content><![CDATA[<ol>
<li><p>åœ¨githubä¸ŠforkåŸé¡¹ç›®</p>
</li>
<li><p>ä»è‡ªå·±ä»“åº“cloneåˆ°æœ¬åœ°</p>
</li>
<li><p>æŸ¥çœ‹å½“å‰ä»“åº“è¿œç¨‹åœ°å€</p>
 <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\Users\FRANK\Desktop\Alipay.AopSdk.Core&gt; git remote <span class="literal">-v</span></span><br><span class="line">origin  https://github.com/frankbsd/Alipay.AopSdk.Core.git (fetch)</span><br><span class="line">origin  https://github.com/frankbsd/Alipay.AopSdk.Core.git (push)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ åˆ«å<code>upstream</code>çš„ä¸Šæ¸¸åœ°å€ï¼ŒæŒ‡å‘ä¹‹å‰forkçš„åŸä»“åº“åœ°å€</p>
 <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\Users\FRANK\Desktop\Alipay.AopSdk.Core&gt; git remote add upstream https://github.com/dotnetcore/Alipay.AopSdk.Core.git</span><br><span class="line"><span class="built_in">PS</span> C:\Users\FRANK\Desktop\Alipay.AopSdk.Core&gt; git remote <span class="literal">-v</span></span><br><span class="line">origin  https://github.com/frankbsd/Alipay.AopSdk.Core.git (fetch)</span><br><span class="line">origin  https://github.com/frankbsd/Alipay.AopSdk.Core.git (push)</span><br><span class="line">upstream        https://github.com/dotnetcore/Alipay.AopSdk.Core.git (fetch)</span><br><span class="line">upstream        https://github.com/dotnetcore/Alipay.AopSdk.Core.git (push)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿è‡ªå·±è¿œç¨‹ä»“åº“ä¸åŸä»“åº“ä¿æŒåŒæ­¥</p>
 <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\Users\FRANK\Desktop\Alipay.AopSdk.Core&gt; git fetch upstream</span><br><span class="line">From https://github.com/dotnetcore/Alipay.AopSdk.Core</span><br><span class="line"> * [<span class="type">new</span> <span class="type">branch</span>]      dev        -&gt; upstream/dev</span><br><span class="line"> * [<span class="type">new</span> <span class="type">branch</span>]      master     -&gt; upstream/master</span><br><span class="line"><span class="built_in">PS</span> C:\Users\FRANK\Desktop\Alipay.AopSdk.Core&gt; git checkout master</span><br><span class="line">Already on <span class="string">&#x27;master&#x27;</span></span><br><span class="line">Your branch is up to date with <span class="string">&#x27;origin/master&#x27;</span>.</span><br><span class="line"><span class="built_in">PS</span> C:\Users\FRANK\Desktop\Alipay.AopSdk.Core&gt; git rebase upstream/master</span><br><span class="line">Already up to date.</span><br><span class="line"><span class="built_in">PS</span> C:\Users\FRANK\Desktop\Alipay.AopSdk.Core&gt; git push origin master</span><br><span class="line">fatal: NotSupportedException encountered.</span><br><span class="line">   ServicePointManager ä¸æ”¯æŒå…·æœ‰ socks5 æ–¹æ¡ˆçš„ä»£ç†ã€‚</span><br><span class="line">fatal: NotSupportedException encountered.</span><br><span class="line">   ServicePointManager ä¸æ”¯æŒå…·æœ‰ socks5 æ–¹æ¡ˆçš„ä»£ç†ã€‚</span><br><span class="line">Username <span class="keyword">for</span> <span class="string">&#x27;https://github.com&#x27;</span>: frankbsd</span><br><span class="line">Password <span class="keyword">for</span> <span class="string">&#x27;https://frankbsd@github.com&#x27;</span>:</span><br><span class="line">Everything up<span class="literal">-to-date</span></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºUEFIå¯åŠ¨é¡¹çš„ä¸€èˆ¬å¤„ç†</title>
    <url>/2024/07/31/%E5%85%B3%E4%BA%8EUEFI%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9A%84%E4%B8%80%E8%88%AC%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<h2 id="åˆ é™¤å¤šä½™å¯åŠ¨èœå•"><a href="#åˆ é™¤å¤šä½™å¯åŠ¨èœå•" class="headerlink" title="åˆ é™¤å¤šä½™å¯åŠ¨èœå•"></a>åˆ é™¤å¤šä½™å¯åŠ¨èœå•</h2><p>ä»¥ç®¡ç†å‘˜è¿è¡Œ</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\Temp\Java&gt; bcdedit.exe /<span class="class"><span class="keyword">enum</span> <span class="title">firmware</span></span></span><br><span class="line"><span class="class"><span class="title">Firmware</span> <span class="title">Boot</span> <span class="title">Manager</span></span></span><br><span class="line"><span class="class">---------------------</span></span><br><span class="line"><span class="class"><span class="title">identifier</span></span>              &#123;fwbootmgr&#125;</span><br><span class="line">displayorder            &#123;bootmgr&#125;</span><br><span class="line">                        &#123;<span class="number">93</span>cee840<span class="literal">-f524-11db-af62-aa767141e6b3</span>&#125;</span><br><span class="line">                        &#123;<span class="number">93</span>cee841<span class="literal">-f524-11db-af62-aa767141e6b3</span>&#125;</span><br><span class="line">                        &#123;<span class="number">93</span>cee842<span class="literal">-f524-11db-af62-aa767141e6b3</span>&#125;</span><br><span class="line">                        &#123;<span class="number">93</span>cee844<span class="literal">-f524-11db-af62-aa767141e6b3</span>&#125;</span><br><span class="line">                        &#123;<span class="number">93</span>cee843<span class="literal">-f524-11db-af62-aa767141e6b3</span>&#125;</span><br><span class="line">timeout                 <span class="number">2</span></span><br><span class="line"></span><br><span class="line">Windows Boot Manager</span><br><span class="line"><span class="literal">--------------------</span></span><br><span class="line">identifier              &#123;bootmgr&#125;</span><br><span class="line">device                  partition=\Device\HarddiskVolume1</span><br><span class="line">path                    \EFI\Microsoft\Boot\bootmgfw.efi</span><br><span class="line">description             Windows Boot Manager</span><br><span class="line">locale                  en<span class="literal">-US</span></span><br><span class="line">inherit                 &#123;globalsettings&#125;</span><br><span class="line">default                 &#123;current&#125;</span><br><span class="line">displayorder            &#123;current&#125;</span><br><span class="line">toolsdisplayorder       &#123;memdiag&#125;</span><br><span class="line">timeout                 <span class="number">30</span></span><br><span class="line"></span><br><span class="line">Firmware Application (<span class="number">101</span>fffff)</span><br><span class="line"><span class="literal">-------------------------------</span></span><br><span class="line">identifier              &#123;<span class="number">93</span>cee840<span class="literal">-f524-11db-af62-aa767141e6b3</span>&#125;</span><br><span class="line">description             Primary Master CDRO</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯<code>path</code>è¿™ä¸ªå‚æ•°ï¼Œå¯ä»¥çœ‹å‡ºæ˜¯å¦æ˜¯ä½ æƒ³è¦åˆ é™¤çš„å¼•å¯¼é¡¹ã€‚ä¾‹å¦‚<code>primeos</code>çš„è·¯å¾„å°±æ˜¯<code>\EFI\android\xxxx</code>ï¼Œ<code>ubuntu</code>çš„è·¯å¾„æ˜¯<code>\EFI\ubuntu\xxx</code>ï¼Œä¸‹è¾¹ä¼šç”¨åˆ°å…¶ä¸­çš„<code>identifier</code>é¡¹ã€‚</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">bcdedit /export savebcd</span><br><span class="line"><span class="built_in">copy</span> savebcd newbcd</span><br></pre></td></tr></table></figure>

<p>æ–°å»º<code>rm.cmd</code>ï¼Œå¹¶å†™å…¥ä»¥ä¸‹ä»£ç ï¼Œæ³¨æ„åé¢çš„<code>&#123;&#125;</code>å†…çš„å†…å®¹æ›¿æ¢ä¸ºæˆ‘ä»¬éœ€è¦åˆ é™¤çš„å¼•å¯¼é¡¹çš„<code>identifier</code>ã€‚</p>
<figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">Bcdedit /store newbcd /delete &#123;<span class="number">93</span>cee841-f524-<span class="number">11</span>db-af62-aa767141e6b3&#125;</span><br><span class="line">Bcdedit /store newbcd /delete &#123;<span class="number">93</span>cee842-f524-<span class="number">11</span>db-af62-aa767141e6b3&#125;</span><br><span class="line">Bcdedit /store newbcd /delete &#123;<span class="number">93</span>cee843-f524-<span class="number">11</span>db-af62-aa767141e6b3&#125;</span><br><span class="line">Bcdedit /store newbcd /delete &#123;<span class="number">93</span>cee844-f524-<span class="number">11</span>db-af62-aa767141e6b3&#125;</span><br><span class="line">Bcdedit /store newbcd /delete &#123;<span class="number">8</span>b87c5a1-f2f2-<span class="number">11</span>db-<span class="number">9717</span>-f87ee6ea6002&#125;</span><br><span class="line">Bcdedit /store newbcd /delete &#123;<span class="number">8</span>b87c5a2-f2f2-<span class="number">11</span>db-<span class="number">9717</span>-f87ee6ea6002&#125;</span><br><span class="line">Bcdedit /store newbcd /delete &#123;<span class="number">8</span>b87c5a3-f2f2-<span class="number">11</span>db-<span class="number">9717</span>-f87ee6ea6002&#125;</span><br><span class="line">Bcdedit /store newbcd /delete &#123;<span class="number">8</span>b87c5a4-f2f2-<span class="number">11</span>db-<span class="number">9717</span>-f87ee6ea6002&#125;</span><br><span class="line">Bcdedit /import newbcd /clean</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œå‘½ä»¤</p>
<figure class="highlight bat"><table><tr><td class="code"><pre><span class="line"><span class="built_in">copy</span> rm.<span class="built_in">cmd</span> C:\WINDOWS\system32\</span><br><span class="line">.\rm.<span class="built_in">cmd</span></span><br><span class="line">Bcdedit /enum firmware</span><br><span class="line"><span class="built_in">del</span> rm.<span class="built_in">cmd</span> newbcd savebcd</span><br></pre></td></tr></table></figure>

<p>å½»åº•åˆ é™¤<code>boot</code>åˆ†åŒºé‡Œçš„å¤šä½™å¼•å¯¼æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">diskpart</span><br><span class="line">list disk  ;æ˜¾ç¤ºæ‰€æœ‰ç£ç›˜</span><br><span class="line">select disk 0 ;bootæ‰€åœ¨ç£ç›˜</span><br><span class="line">list partition ;æ˜¾ç¤ºå½“å‰ç£ç›˜æ‰€æœ‰åˆ†åŒº</span><br><span class="line">select partition 1  ;bootæ‰€åœ¨åˆ†åŒº</span><br><span class="line">assign letter=p  ;è¿™æ ·å°±å¯ä»¥é€šè¿‡å‘½ä»¤è¿›å…¥è¯¥åˆ†åŒºï¼Œè¿›è¡Œå‘½ä»¤åˆ é™¤æ“ä½œäº†</span><br><span class="line">remove letter=p  ;éšè—åˆ†åŒº</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<br>a. <a href="https://blog.csdn.net/fuyangruc/article/details/107455038">å½»åº•åˆ é™¤UEFIå¯åŠ¨é¡¹çš„æ–¹æ³•</a><br>b. <a href="https://blog.csdn.net/JohnsonSmile/article/details/89289469">window10ä¸‹å½»åº•åˆ é™¤å¤šä½™å¼•å¯¼é¡¹çš„ç»ˆææ–¹æ³•</a></p>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºWindows 64ä½ç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿé‡å®šå‘</title>
    <url>/2024/07/31/%E5%85%B3%E4%BA%8EWindows-64%E4%BD%8D%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E9%87%8D%E5%AE%9A%E5%90%91/</url>
    <content><![CDATA[<p>ä¸ºä»€ä¹ˆ32ä½çš„Notepad++é€šè¿‡â€œæ‰“å¼€â€ï¼Œæ— æ³•é€‰æ‹©<code>C:\Windows\System32\</code>ä¸‹çš„æ–‡ä»¶ï¼Ÿ</p>
<p>åŸå› åœ¨äº64ä½Windowsç³»ç»Ÿä¸ºäº†å…¼å®¹åŸæ¥32ä½æ–‡ä»¶ç³»ç»Ÿï¼Œé‡‡ç”¨äº†â€œ<a href="https://docs.microsoft.com/zh-cn/windows/desktop/WinProg64/file-system-redirector">æ–‡ä»¶ç³»ç»Ÿé‡å®šå‘ï¼ˆFile System Redirectorï¼‰</a>â€</p>
<p>å‚è€ƒ<a href="https://superuser.com/questions/617449/why-is-the-system32-drivers-etc-folder-not-displayed-in-notepad-when-opened-as">Why is the system32\drivers\etc folder not displayed in Notepad++ when opened as Administrator in Windows 7</a></p>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>åŒæ­¥æ–¹æ³•è°ƒç”¨å¼‚æ­¥æ–¹æ³•çš„æ–¹å¼</title>
    <url>/2024/07/31/%E5%90%8C%E6%AD%A5%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E5%BC%82%E6%AD%A5%E6%96%B9%E6%B3%95%E7%9A%84%E6%96%B9%E5%BC%8F/</url>
    <content><![CDATA[<h2 id="é—®"><a href="#é—®" class="headerlink" title="é—®"></a>é—®</h2><p>æˆ‘æ­£åœ¨æ›´æ–°ä¸€ä¸ªåº“ï¼Œè¯¥åº“å…·æœ‰åœ¨ .NET 3.5 ä¸­æ„å»ºçš„ API ç•Œé¢ã€‚å› æ­¤ï¼Œæ‰€æœ‰æ–¹æ³•éƒ½æ˜¯åŒæ­¥çš„ã€‚æˆ‘æ— æ³•æ›´æ”¹ APIï¼ˆå³ï¼Œå°†è¿”å›å€¼è½¬æ¢ä¸º Taskï¼‰ï¼Œå› ä¸ºè¿™éœ€è¦æ›´æ”¹æ‰€æœ‰è°ƒç”¨è€…ã€‚æ‰€ä»¥æˆ‘åªå‰©ä¸‹å¦‚ä½•ä»¥åŒæ­¥æ–¹å¼æœ€å¥½åœ°è°ƒç”¨å¼‚æ­¥æ–¹æ³•ã€‚å¼‚æ­¥æ–¹æ³•æ˜¯åœ¨ ASP.NET 4ã€ASP.NET Core å’Œ .NET&#x2F;.NET Core æ§åˆ¶å°åº”ç”¨ç¨‹åºçš„ä¸Šä¸‹æ–‡ä¸­ã€‚  </p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> T <span class="title">taskSyncRunner</span>&lt;<span class="title">T</span>&gt;(<span class="params">Func&lt;Task&lt;T&gt;&gt; task</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        T result;</span><br><span class="line">        <span class="comment">// approach 1</span></span><br><span class="line">        result = Task.Run(<span class="keyword">async</span> () =&gt; <span class="keyword">await</span> task()).ConfigureAwait(<span class="literal">false</span>).GetAwaiter().GetResult();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// approach 2</span></span><br><span class="line">        result = Task.Run(task).ConfigureAwait(<span class="literal">false</span>).GetAwaiter().GetResult();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// approach 3</span></span><br><span class="line">        result = task().ConfigureAwait(<span class="literal">false</span>).GetAwaiter().GetResult();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// approach 4</span></span><br><span class="line">        result = Task.Run(task).Result;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// approach 5</span></span><br><span class="line">        result = Task.Run(task).GetAwaiter().GetResult();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// approach 6</span></span><br><span class="line">        <span class="keyword">var</span> t = task();</span><br><span class="line">        t.RunSynchronously();</span><br><span class="line">        result = t.Result;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// approach 7</span></span><br><span class="line">        <span class="keyword">var</span> t1 = task();</span><br><span class="line">        Task.WaitAll(t1);</span><br><span class="line">        result = t1.Result;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// approach 8?</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç­”"><a href="#ç­”" class="headerlink" title="ç­”"></a>ç­”</h2><blockquote>
<p>æ‰€ä»¥æˆ‘åªå‰©ä¸‹å¦‚ä½•ä»¥åŒæ­¥æ–¹å¼æœ€å¥½åœ°è°ƒç”¨å¼‚æ­¥æ–¹æ³•ã€‚</p>
</blockquote>
<p>é¦–å…ˆï¼Œè¿™æ ·åšæ˜¯å¯ä»¥çš„ã€‚æˆ‘ä¹‹æ‰€ä»¥è¿™ä¹ˆè¯´ï¼Œæ˜¯å› ä¸º Stack Overflow ä¸Šæ™®éæœ‰äººä¸é¡¾å…·ä½“æƒ…å†µï¼Œä¸€æ¦‚è€Œè®ºåœ°æŒ‡å‡ºè¿™æ˜¯é­”é¬¼çš„è¡Œä¸ºã€‚</p>
<p>ä¸ºäº†ä¿è¯æ­£ç¡®æ€§ï¼Œå¹¶ä¸éœ€è¦ä¸€ç›´ä¿æŒå¼‚æ­¥ã€‚é˜»å¡å¼‚æ­¥æ“ä½œä»¥ä½¿å…¶åŒæ­¥ä¼šäº§ç”Ÿæ€§èƒ½æˆæœ¬ï¼Œè¿™å¯èƒ½å¾ˆé‡è¦ï¼Œä¹Ÿå¯èƒ½å®Œå…¨æ— å…³ç´§è¦ã€‚è¿™å–å†³äºå…·ä½“æƒ…å†µã€‚</p>
<p>æ­»é”æ˜¯ç”±äºä¸¤ä¸ªçº¿ç¨‹è¯•å›¾åŒæ—¶è¿›å…¥åŒä¸€ä¸ªå•çº¿ç¨‹åŒæ­¥ä¸Šä¸‹æ–‡è€Œäº§ç”Ÿçš„ã€‚ä»»ä½•å¯ä»¥é¿å…è¿™ç§æƒ…å†µçš„æŠ€æœ¯éƒ½å¯ä»¥å¯é åœ°é¿å…é˜»å¡å¯¼è‡´çš„æ­»é”ã€‚</p>
<p>åœ¨æ‚¨çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæ‰€æœ‰å¯¹çš„<code>.ConfigureAwait(false)</code>è°ƒç”¨éƒ½æ˜¯æ— æ„ä¹‰çš„ï¼Œå› ä¸ºæ²¡æœ‰ç­‰å¾…è¿”å›å€¼ã€‚<code>ConfigureAwait</code>è¿”å›ä¸€ä¸ªç»“æ„ï¼Œå½“ç­‰å¾…æ—¶ï¼Œå®ƒä¼šè¡¨ç°å‡ºæ‚¨è¯·æ±‚çš„è¡Œä¸ºã€‚å¦‚æœåªæ˜¯åˆ é™¤è¯¥ç»“æ„ï¼Œå®ƒä»€ä¹ˆä¹Ÿä¸åšã€‚</p>
<p><code>RunSynchronously</code>æ— æ•ˆï¼Œå› ä¸ºå¹¶éæ‰€æœ‰ä»»åŠ¡éƒ½å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å¤„ç†ã€‚æ­¤æ–¹æ³•é€‚ç”¨äºåŸºäº CPU çš„ä»»åŠ¡ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šå¤±è´¥ã€‚</p>
<p><code>.GetAwaiter().GetResult()</code>ä¸åŒäº<code>Result/Wait()</code>, å®ƒæ¨¡ä»¿<code>await</code>å¼‚å¸¸ä¼ æ’­è¡Œä¸ºã€‚æ‚¨éœ€è¦å†³å®šæ˜¯å¦è¦è¿™æ ·åšã€‚ï¼ˆå› æ­¤ï¼Œè¯·ç ”ç©¶è¯¥è¡Œä¸ºæ˜¯ä»€ä¹ˆï¼›æ— éœ€åœ¨æ­¤é‡å¤ã€‚ï¼‰å¦‚æœæ‚¨çš„ä»»åŠ¡åŒ…å«å•ä¸ªå¼‚å¸¸ï¼Œåˆ™é”™è¯¯<code>await</code>è¡Œä¸ºé€šå¸¸å¾ˆæ–¹ä¾¿ï¼Œå¹¶ä¸”å‡ ä¹æ²¡æœ‰ç¼ºç‚¹ã€‚å¦‚æœæœ‰å¤šä¸ªå¼‚å¸¸ï¼Œä¾‹å¦‚æ¥è‡ª<code>Parallel</code>å¤šä¸ªä»»åŠ¡å¤±è´¥çš„å¤±è´¥å¾ªç¯ï¼Œ<code>await</code>åˆ™ä¼šåˆ é™¤é™¤ç¬¬ä¸€ä¸ªä¹‹å¤–çš„æ‰€æœ‰å¼‚å¸¸ã€‚è¿™ä¼šä½¿è°ƒè¯•æ›´åŠ å›°éš¾ã€‚</p>
<p>æ‰€æœ‰è¿™äº›æ–¹æ³•çš„æ€§èƒ½éƒ½å·®ä¸å¤šã€‚å®ƒä»¬ä¼šä»¥æŸç§æ–¹å¼åˆ†é…ä¸€ä¸ªæ“ä½œç³»ç»Ÿäº‹ä»¶å¹¶é˜»å¡å®ƒã€‚è¿™æ˜¯æœ€æ˜‚è´µçš„éƒ¨åˆ†ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå…¶ä»–æœºåˆ¶ç›¸å½“ä¾¿å®œã€‚æˆ‘ä¸çŸ¥é“å“ªç§æ–¹æ³•ç»å¯¹æœ€ä¾¿å®œã€‚</p>
<p>å¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œé‚£å°†æ˜¯æœ€æ˜‚è´µçš„éƒ¨åˆ†ã€‚åœ¨ .NET 5 ä¸Šï¼Œåœ¨å¿«é€Ÿ CPU ä¸Šï¼Œå¼‚å¸¸çš„å¤„ç†é€Ÿåº¦æœ€å¤šä¸ºæ¯ç§’ 200,000 ä¸ªã€‚æ·±å †æ ˆé€Ÿåº¦è¾ƒæ…¢ï¼Œä»»åŠ¡æœºåˆ¶å¾€å¾€ä¼šé‡æ–°æŠ›å‡ºå¼‚å¸¸ï¼Œä»è€Œä½¿å…¶æˆæœ¬æˆå€å¢åŠ ã€‚ä¾‹å¦‚ï¼Œæœ‰å‡ ç§æ–¹æ³•å¯ä»¥é˜»æ­¢ä»»åŠ¡è€Œä¸é‡æ–°æŠ›å‡ºå¼‚å¸¸.æ¯”å¦‚</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">task.ContinueWith(_ =&gt; &#123; &#125;, TaskContinuationOptions.ExecuteSynchronously).Wait();</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä¸ªäººå–œæ¬¢è¿™ä¸ª<code>Task.Run(() =&gt; DoSomethingAsync()).Wait();</code>æ¨¡å¼(<code>Task.Run(async () =&gt; await DoSomethingAsync());</code>ä¸€æ ·)ï¼Œå› ä¸ºå®ƒå¯ä»¥å½»åº•é¿å…æ­»é”ï¼Œå®ƒå¾ˆç®€å•ï¼Œè€Œä¸”ä¸ä¼šéšè—ä¸€äº›GetResult()å¯èƒ½éšè—çš„å¼‚å¸¸ã€‚ä½†ä½ GetResult()ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒã€‚</p>
<p>åŸæ–‡<a href="https://stackoverflow.com/questions/40324300/calling-async-methods-from-non-async-code">Calling async methods from non-async code</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£… Windows 11 22H2 æ—¶æ–­ç½‘</title>
    <url>/2024/07/31/%E5%AE%89%E8%A3%85-Windows-11-22H2-%E6%97%B6%E6%96%AD%E7%BD%91/</url>
    <content><![CDATA[<p>åœ¨å®‰è£…è¿‡ç¨‹ä¸­è”ç½‘é‚£ä¸ªåœ°æ–¹ <code>Shift + F10</code>ï¼Œè¾“å…¥ <code>oobe\BypassNRO.cmd</code> ï¼Œç„¶åä¼šé‡å¯å°±å¯ä»¥è·³è¿‡äº†ã€‚</p>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>PowerShell</tag>
      </tags>
  </entry>
  <entry>
    <title>å¿«é€Ÿåˆ‡æ¢Javaç‰ˆæœ¬</title>
    <url>/2024/07/31/%E5%BF%AB%E9%80%9F%E5%88%87%E6%8D%A2Java%E7%89%88%E6%9C%AC/</url>
    <content><![CDATA[<h2 id="Windowsç³»ç»Ÿ"><a href="#Windowsç³»ç»Ÿ" class="headerlink" title="Windowsç³»ç»Ÿ"></a>Windowsç³»ç»Ÿ</h2><h3 id="JDKå‡½æ•°"><a href="#JDKå‡½æ•°" class="headerlink" title="JDKå‡½æ•°"></a>JDKå‡½æ•°</h3><ol>
<li><p>ç¼–è¾‘<code>~\Documents\WindowsPowerShell\JDK.Settings.ps1</code></p>
</li>
<li><p><code>PowerShell</code> ä¸­é»˜è®¤ <code>CodePage</code> ä¸º <code>936</code>ï¼Œ <code>UTF-8</code> ä¸­æ–‡ä¼šä¹±ç </p>
</li>
<li><p>ä»¥ <code>UTF-8</code>ä¿å­˜,ä¸è¦ä»¥ <code>GBK</code>&#x2F;<code>GB18030</code>&#x2F;<code>GB2312</code>ä¿å­˜ï¼Œç¼–è¾‘å™¨é»˜è®¤<code>UTF-8</code>ï¼Œå®¹æ˜“é”™è¯¯ä¿å­˜ï¼Œé€ æˆä¹±ç ã€‚</p>
 <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$jdkPaths</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">    <span class="string">&quot;8&quot;</span>  = <span class="string">&quot;D:\Java\JDK\Liberica\jdk8u442&quot;</span></span><br><span class="line">    <span class="string">&quot;11&quot;</span> = <span class="string">&quot;D:\Java\JDK\Liberica\jdk-11.0.26&quot;</span></span><br><span class="line">    <span class="string">&quot;17&quot;</span> = <span class="string">&quot;D:\Java\JDK\Liberica\jdk-17.0.14&quot;</span></span><br><span class="line">    <span class="string">&quot;21&quot;</span> = <span class="string">&quot;D:\Java\JDK\Liberica\jdk-21.0.6&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Set-JavaVersion</span></span> &#123;</span><br><span class="line">    <span class="keyword">param</span> (</span><br><span class="line">        [<span class="type">ValidateSet</span>(<span class="string">&quot;8&quot;</span>, <span class="string">&quot;11&quot;</span>, <span class="string">&quot;17&quot;</span>, <span class="string">&quot;21&quot;</span>)]</span><br><span class="line">        [<span class="built_in">string</span>]<span class="variable">$version</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="operator">-not</span> <span class="variable">$jdkPaths</span>.ContainsKey(<span class="variable">$version</span>)) &#123;</span><br><span class="line">        <span class="built_in">Write-Error</span> <span class="string">&quot;JDK version <span class="variable">$version</span> is not defined&quot;</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$jdkPath</span> = <span class="variable">$jdkPaths</span><span class="function">[<span class="variable">$version</span>]</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="operator">-not</span> (<span class="built_in">Test-Path</span> <span class="variable">$jdkPath</span>)) &#123;</span><br><span class="line">        <span class="built_in">Write-Error</span> <span class="string">&quot;JDK Path: &#x27;<span class="variable">$jdkPath</span>&#x27; does not exist&quot;</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$env:JAVA_HOME</span> = <span class="variable">$jdkPath</span></span><br><span class="line">    <span class="variable">$env:Path</span> = <span class="string">&quot;<span class="variable">$jdkPath</span>\bin;&quot;</span> + ((<span class="variable">$env:Path</span> <span class="operator">-split</span> <span class="string">&#x27;;&#x27;</span> | <span class="built_in">Where-Object</span> &#123; <span class="variable">$_</span> <span class="operator">-notmatch</span> <span class="string">&#x27;jdk&#x27;</span> &#125;) <span class="operator">-join</span> <span class="string">&#x27;;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;JAVA_HOME set to: <span class="variable">$jdkPath</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Get-JavaVersions</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Available JDK`n&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$version</span> <span class="keyword">in</span> <span class="variable">$jdkPaths</span>.Keys | <span class="built_in">Sort-Object</span> &#123;[<span class="built_in">int</span>]<span class="variable">$_</span>&#125;) &#123;</span><br><span class="line">        <span class="variable">$path</span> = <span class="variable">$jdkPaths</span><span class="function">[<span class="variable">$version</span>]</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Test-Path</span> <span class="string">&quot;<span class="variable">$path</span>\bin\java.exe&quot;</span>) &#123;</span><br><span class="line">            <span class="variable">$verOutput</span> = &amp; <span class="string">&quot;<span class="variable">$path</span>\bin\java.exe&quot;</span> <span class="literal">-version</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span> | <span class="built_in">Select-Object</span> <span class="literal">-First</span> <span class="number">1</span></span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;JDK <span class="variable">$version</span> : <span class="variable">$verOutput</span>&quot;</span></span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;     Path: <span class="variable">$path</span>`n&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;JDK <span class="variable">$version</span> : java.exe not found&quot;</span></span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;     Path: <span class="variable">$path</span>`n&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Mavenå‡½æ•°"><a href="#Mavenå‡½æ•°" class="headerlink" title="Mavenå‡½æ•°"></a>Mavenå‡½æ•°</h3><ol>
<li>ç±»ä¼¼çš„,ç¼–è¾‘<code>~\Documents\WindowsPowerShell\Maven.Settings.ps1</code></li>
</ol>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="variable">$mavenPaths</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">    <span class="string">&quot;3.9.9&quot;</span>  = <span class="string">&quot;D:\Java\Maven\LocalMaven\apache-maven-3.9.9&quot;</span></span><br><span class="line">    <span class="string">&quot;3.9.8&quot;</span>  = <span class="string">&quot;D:\Java\Maven\LocalMaven\apache-maven-3.9.8&quot;</span></span><br><span class="line">    <span class="string">&quot;3.8.6&quot;</span> = <span class="string">&quot;D:\Java\Maven\LocalMaven\apache-maven-3.8.6&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Set-MavenVersion</span></span> &#123;</span><br><span class="line">    <span class="keyword">param</span> (</span><br><span class="line">        [<span class="type">ValidateSet</span>(<span class="string">&quot;3.9.9&quot;</span>,<span class="string">&quot;3.9.8&quot;</span>, <span class="string">&quot;3.8.6&quot;</span>)]</span><br><span class="line">        [<span class="built_in">string</span>]<span class="variable">$version</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="operator">-not</span> <span class="variable">$mavenPaths</span>.ContainsKey(<span class="variable">$version</span>)) &#123;</span><br><span class="line">        <span class="built_in">Write-Error</span> <span class="string">&quot;Maven version <span class="variable">$version</span> is not defined&quot;</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$mavenPath</span> = <span class="variable">$mavenPaths</span><span class="function">[<span class="variable">$version</span>]</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="operator">-not</span> (<span class="built_in">Test-Path</span> <span class="variable">$mavenPath</span>)) &#123;</span><br><span class="line">        <span class="built_in">Write-Error</span> <span class="string">&quot;Maven Path : &#x27;<span class="variable">$mavenPath</span>&#x27; does not exist&quot;</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$env:MAVEN_HOME</span> = <span class="variable">$mavenPath</span></span><br><span class="line">    <span class="variable">$env:Path</span> = <span class="string">&quot;<span class="variable">$mavenPath</span>\bin;&quot;</span> + ((<span class="variable">$env:Path</span> <span class="operator">-split</span> <span class="string">&#x27;;&#x27;</span> | <span class="built_in">Where-Object</span> &#123; <span class="variable">$_</span> <span class="operator">-notmatch</span> <span class="string">&#x27;apache-maven&#x27;</span> &#125;) <span class="operator">-join</span> <span class="string">&#x27;;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;MAVEN_HOME set to: <span class="variable">$mavenPath</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Get-MavenVersions</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Available Maven`n&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$version</span> <span class="keyword">in</span> <span class="variable">$mavenPaths</span>.Keys | <span class="built_in">Sort-Object</span> <span class="literal">-Descending</span>) &#123;</span><br><span class="line">        <span class="variable">$path</span> = <span class="variable">$mavenPaths</span><span class="function">[<span class="variable">$version</span>]</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Test-Path</span> <span class="string">&quot;<span class="variable">$path</span>\bin\mvn.cmd&quot;</span>) &#123;</span><br><span class="line">            <span class="variable">$verOutput</span> = &amp; <span class="string">&quot;<span class="variable">$path</span>\bin\mvn.cmd&quot;</span> <span class="literal">-version</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span> | <span class="built_in">Select-Object</span> <span class="literal">-First</span> <span class="number">1</span></span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;Maven <span class="variable">$version</span> : <span class="variable">$verOutput</span>&quot;</span></span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;     Path: <span class="variable">$path</span>`n&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;Maven <span class="variable">$version</span> : mvn.cmd not found&quot;</span></span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;     Path: <span class="variable">$path</span>`n&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Gradleå‡½æ•°"><a href="#Gradleå‡½æ•°" class="headerlink" title="Gradleå‡½æ•°"></a>Gradleå‡½æ•°</h3><ol>
<li>ç±»ä¼¼çš„,ç¼–è¾‘<code>~\Documents\WindowsPowerShell\Gradle.Settings.ps1</code></li>
</ol>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$gradlePaths</span> = <span class="selector-tag">@</span>&#123;</span><br><span class="line">    <span class="string">&quot;8.13&quot;</span> = <span class="string">&quot;D:\Java\Gradle\LocalGradle\gradle-8.13&quot;</span></span><br><span class="line">    <span class="string">&quot;7.6&quot;</span> = <span class="string">&quot;D:\Java\Gradle\LocalGradle\gradle-7.6.4&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Set-GradleVersion</span></span> &#123;</span><br><span class="line">    <span class="keyword">param</span> (</span><br><span class="line">        [<span class="type">ValidateSet</span>(<span class="string">&quot;8.13&quot;</span>, <span class="string">&quot;7.6&quot;</span>)]</span><br><span class="line">        [<span class="built_in">string</span>]<span class="variable">$version</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="operator">-not</span> <span class="variable">$gradlePaths</span>.ContainsKey(<span class="variable">$version</span>)) &#123;</span><br><span class="line">        <span class="built_in">Write-Error</span> <span class="string">&quot;Gradle version <span class="variable">$version</span> is not defined&quot;</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$gradlePath</span> = <span class="variable">$gradlePaths</span><span class="function">[<span class="variable">$version</span>]</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="operator">-not</span> (<span class="built_in">Test-Path</span> <span class="variable">$gradlePath</span>)) &#123;</span><br><span class="line">        <span class="built_in">Write-Error</span> <span class="string">&quot;Gradle Path: &#x27;<span class="variable">$gradlePath</span>&#x27; does not exist&quot;</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$env:GRADLE_HOME</span> = <span class="variable">$gradlePath</span></span><br><span class="line">    <span class="variable">$env:Path</span> = <span class="string">&quot;<span class="variable">$gradlePath</span>\bin;&quot;</span> + ((<span class="variable">$env:Path</span> <span class="operator">-split</span> <span class="string">&#x27;;&#x27;</span> | <span class="built_in">Where-Object</span> &#123; <span class="variable">$_</span> <span class="operator">-notmatch</span> <span class="string">&#x27;gradle&#x27;</span> &#125;) <span class="operator">-join</span> <span class="string">&#x27;;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;GRADLE_HOME set to: <span class="variable">$gradlePath</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Get-GradleVersions</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="string">&quot;Available Gradle`n&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$version</span> <span class="keyword">in</span> <span class="variable">$gradlePaths</span>.Keys | <span class="built_in">Sort-Object</span> &#123;[<span class="built_in">int</span>]<span class="variable">$_</span>&#125;) &#123;</span><br><span class="line">        <span class="variable">$path</span> = <span class="variable">$gradlePaths</span><span class="function">[<span class="variable">$version</span>]</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Test-Path</span> <span class="string">&quot;<span class="variable">$path</span>\bin\gradle.bat&quot;</span>) &#123;</span><br><span class="line">            <span class="variable">$verOutput</span> = &amp; <span class="string">&quot;<span class="variable">$path</span>\bin\gradle.bat&quot;</span> <span class="literal">-version</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span> | <span class="built_in">Select-Object</span>  <span class="literal">-Skip</span> <span class="number">6</span> <span class="literal">-First</span> <span class="number">1</span></span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;Gradle <span class="variable">$version</span> : <span class="variable">$verOutput</span>&quot;</span></span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;     Path: <span class="variable">$path</span>`n&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;Gradle <span class="variable">$version</span> : gradle.bat not found&quot;</span></span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">&quot;     Path: <span class="variable">$path</span>`n&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ·»åŠ åˆ°Microsoft-PowerShell-profile-ps1"><a href="#æ·»åŠ åˆ°Microsoft-PowerShell-profile-ps1" class="headerlink" title="æ·»åŠ åˆ°Microsoft.PowerShell_profile.ps1"></a>æ·»åŠ åˆ°<code>Microsoft.PowerShell_profile.ps1</code></h3><ol>
<li><p>ç¼–è¾‘<code>~\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1</code>,æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œä»¥å¯¼å…¥ <code>JDK.Settings.ps1</code>ã€<code>Maven.Settings.ps1</code> å’Œ <code>Gradle.Settings.ps1</code></p>
 <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">. <span class="string">&quot;<span class="variable">$PSScriptRoot</span>\JDK.Settings.ps1&quot;</span></span><br><span class="line"><span class="built_in">Set-JavaVersion</span> <span class="number">21</span></span><br><span class="line"></span><br><span class="line">. <span class="string">&quot;<span class="variable">$PSScriptRoot</span>\Maven.Settings.ps1&quot;</span></span><br><span class="line"><span class="built_in">Set-MavenVersion</span> <span class="number">3.9</span>.<span class="number">9</span></span><br><span class="line"></span><br><span class="line">. <span class="string">&quot;<span class="variable">$PSScriptRoot</span>\Gradle.Settings.ps1&quot;</span></span><br><span class="line"><span class="built_in">Set-GradleVersion</span> <span class="number">8.13</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>jabbaæä¾›çš„åœ¨çº¿ç‰ˆæœ¬ä¸å…¨ï¼Œä¹Ÿä¸ä¸€å®šæ˜¯è‡ªå·±éœ€è¦çš„</li>
<li>jabbaæ·»åŠ æœ¬åœ°ç‰ˆæœ¬æ˜¯ï¼Œå‘½åå¿…é¡»æ˜¯<code>system@xxxx</code>æ ¼å¼</li>
<li>sdkManä¸æ”¯æŒWindows</li>
<li>jvms æœ‰bug,ä¸èƒ½ä½¿ç”¨</li>
</ul>
<h2 id="Linux-Macç­‰"><a href="#Linux-Macç­‰" class="headerlink" title="Linux&#x2F;Macç­‰"></a>Linux&#x2F;Macç­‰</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install zip unzip curl</span><br><span class="line">curl  <span class="string">&quot;https://get.sdkman.io&quot;</span> | bash</span><br><span class="line"><span class="comment"># å¦‚æœä¸Šé¢çš„å‘½ä»¤å‡ºç°é”™è¯¯`curl: (56) OpenSSL SSL_read: SSL_ERROR_SYSCALL, errno 104` æ·»åŠ é€‰é¡¹` -A &quot;Mozilla Chrome Safari&quot;`</span></span><br><span class="line">curl -A <span class="string">&quot;Mozilla Chrome Safari&quot;</span>  <span class="string">&quot;https://get.sdkman.io&quot;</span> | bash</span><br><span class="line"><span class="built_in">source</span> <span class="string">&quot;<span class="variable">$HOME</span>/.sdkman/bin/sdkman-init.sh&quot;</span></span><br><span class="line">sdk version</span><br></pre></td></tr></table></figure>

<p><a href="https://sdkman.io/">SDKMan</a><br>SDKä½¿ç”¨æ–¹æ³•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Usage:  sdk &lt;<span class="built_in">command</span>&gt;   [candidate] [version]</span><br><span class="line">        sdk offline     &lt;<span class="built_in">enable</span>|<span class="built_in">disable</span>&gt;</span><br><span class="line">    commands</span><br><span class="line">        install     or i    &lt;candidate&gt; [version]   [local-path]</span><br><span class="line">        uninstall   or <span class="built_in">rm</span>   &lt;candidate&gt; &lt;version&gt;</span><br><span class="line">        list        or <span class="built_in">ls</span>   [candidate]</span><br><span class="line">        use         or u    &lt;candidate&gt; &lt;version&gt;</span><br><span class="line">        config</span><br><span class="line">        default     or d    &lt;candidate&gt;[version]</span><br><span class="line">        home        or h    &lt;candidate&gt;&lt;version&gt;</span><br><span class="line">        <span class="built_in">env</span>         or e    [init installclear]</span><br><span class="line">        current     or c    [candidate]</span><br><span class="line">        upgrade     or ug   [candidate]</span><br><span class="line">        version     or v</span><br><span class="line">        broadcast   or b</span><br><span class="line">        <span class="built_in">help</span></span><br><span class="line">        offline     [<span class="built_in">enable</span> | <span class="built_in">disable</span>]</span><br><span class="line">        selfupdate  [force]</span><br><span class="line">        update</span><br><span class="line">        flush       [tmp|broadcast|metadata|version]</span><br><span class="line"></span><br><span class="line">    candidate   :       the SDK to install:groovy,scala,grails,gradle,kotlin,etc.</span><br><span class="line">                        use list <span class="built_in">command</span> <span class="keyword">for</span> comprehensive list of candidates</span><br><span class="line">                        eg:S sdk list</span><br><span class="line">    version     :       <span class="built_in">where</span> optional,defaults to latest stable <span class="keyword">if</span> not provided</span><br><span class="line">                        eg:sdk install groovy</span><br><span class="line">    local-path  :       optional path to an existing <span class="built_in">local</span> installation</span><br><span class="line">                        eg:sdk install groovy 2.4.13-<span class="built_in">local</span> /opt/groovy-2.4.13</span><br></pre></td></tr></table></figure>

<h2 id="JDKä¸‹è½½åœ°å€"><a href="#JDKä¸‹è½½åœ°å€" class="headerlink" title="JDKä¸‹è½½åœ°å€"></a>JDKä¸‹è½½åœ°å€</h2><p><a href="https://adoptium.net/zh-CN/">Temurin JDK</a><br><a href="https://bell-sw.com/pages/downloads">Liberica JDK</a><br><a href="https://www.oracle.com/hk/java/technologies/downloads/">Oracle JDK</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JDK</tag>
      </tags>
  </entry>
  <entry>
    <title>å¿«é€Ÿå½»åº•åˆ é™¤node_modules</title>
    <url>/2024/07/31/%E5%BF%AB%E9%80%9F%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4node-modules/</url>
    <content><![CDATA[<p>ä½¿ç”¨ Node.js ç»„ä»¶ rimraf</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">npm install rimraf <span class="literal">-g</span></span><br><span class="line">rimraf node_modules</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ PowerShell</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Remove-Item</span> <span class="literal">-Recurse</span>  <span class="literal">-Force</span> node_modules</span><br></pre></td></tr></table></figure>

<p>å¢åŠ <code>rmrf.ps1</code>ï¼Œå¹¶æ”¾å…¥ç³»ç»Ÿ<code>PATH</code>ç›®å½•</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Remove-Item</span> <span class="literal">-Recurse</span>  <span class="literal">-Force</span> <span class="literal">-Path</span> <span class="variable">$args</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>PowerShell</tag>
        <tag>Node.js</tag>
      </tags>
  </entry>
  <entry>
    <title>æ€æ ·çœ‹å…¬å¸è´¢åŠ¡æŠ¥è¡¨</title>
    <url>/2024/07/31/%E6%80%8E%E6%A0%B7%E7%9C%8B%E5%85%AC%E5%8F%B8%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8/</url>
    <content><![CDATA[<p>æ‹¿åˆ°ä¸€ä»½è´¢åŠ¡æŠ¥è¡¨ï¼Œå¾ˆå¤šäººä¸çŸ¥é“å¦‚ä½•ä¸‹æ‰‹ï¼Œå…¶å®åˆ†æä¼ä¸šè´¢åŠ¡ä¸€èˆ¬ä»ä¼ä¸šå¿å€ºèƒ½åŠ›ã€è¥è¿èƒ½åŠ›å’Œç›ˆåˆ©èƒ½åŠ›ç­‰æ–¹é¢åˆ†æä»¥ä¸‹ä¸€å¼ å›¾æ¶µç›–äº†è´¢åŠ¡åˆ†æçš„å„ç»´åº¦ï¼Œå„æŒ‡æ ‡ã€‚</p>
<p><img src="/2024/07/31/%E6%80%8E%E6%A0%B7%E7%9C%8B%E5%85%AC%E5%8F%B8%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8/1.jpg" alt="1"></p>
<h3 id="è´¢åŠ¡æŠ¥è¡¨åˆ†æçš„æ€è·¯"><a href="#è´¢åŠ¡æŠ¥è¡¨åˆ†æçš„æ€è·¯" class="headerlink" title="è´¢åŠ¡æŠ¥è¡¨åˆ†æçš„æ€è·¯"></a>è´¢åŠ¡æŠ¥è¡¨åˆ†æçš„æ€è·¯</h3><p><img src="/2024/07/31/%E6%80%8E%E6%A0%B7%E7%9C%8B%E5%85%AC%E5%8F%B8%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8/2.jpg" alt="2"></p>
<h3 id="ä¸€ã€åŸºæœ¬æ€è·¯"><a href="#ä¸€ã€åŸºæœ¬æ€è·¯" class="headerlink" title="ä¸€ã€åŸºæœ¬æ€è·¯"></a>ä¸€ã€åŸºæœ¬æ€è·¯</h3><ul>
<li>æ•æ‰ï¼šæŠ¥è¡¨å„é¡¹ç›®çš„å…·ä½“æ•°æ®åªæ˜¯è¡¨é¢ï¼Œç»“æ„(å„ç§æ¯”ç‡æˆ–æŒ‡æ ‡)æ˜¯éª¨æ¶ï¼Œè¶‹åŠ¿æ˜¯æ ¸å¿ƒã€‚ç»“æ„æ¯”æ•°å€¼é‡è¦ï¼Œè€Œè¶‹åŠ¿æ¯”ç»“æ„é‡è¦</li>
<li>å¯¹æ¯”ï¼šè´¢åŠ¡æŠ¥è¡¨åªæœ‰é€šè¿‡å¯¹æ¯”å¼é˜…è¯»æ‰æœ‰æ„ä¹‰ï¼Œé€šå¸¸æƒ…å†µä¸‹è‡³å°‘è¦æ¨ªæ¯”ä¸‰å®¶çºµæ¯”ä¸‰å¹´æ‰èƒ½å¾—å‡ºç›¸å¯¹ç§‘å­¦çš„ç»“è®ºã€‚</li>
<li>æŒæ¡ï¼šå„ç§ä¼šè®¡åŸåˆ™éƒ½æœ‰å¤©ç„¶çš„å±€é™ï¼Œä¸èƒ½è¿·ä¿¡æˆ–å±€é™äºæŠ¥è¡¨åˆ†æï¼Œä¸å¦„ä¸‹ç»“è®ºã€‚</li>
</ul>
<h3 id="äºŒã€åˆ†ææ–¹æ³•"><a href="#äºŒã€åˆ†ææ–¹æ³•" class="headerlink" title="äºŒã€åˆ†ææ–¹æ³•"></a>äºŒã€åˆ†ææ–¹æ³•</h3><ol>
<li><p>ç»“æ„åˆ†æ</p>
<ol>
<li><p>æ£€æŸ¥æŠ¥è¡¨çš„å„ç§é’©ç¨½å…³ç³»ï¼Œè¿™æ˜¯åŸºæœ¬åŠŸã€‚</p>
</li>
<li><p>åšæŠ¥è¡¨ç»“æ„çš„æ¨ªå‘å¯¹æ¯”ï¼Œæ‰¾å‡ºä¸åŒè¡Œä¹‹é—´çš„é‡å¤§æŒ‡æ ‡å·®å¼‚å¹¶åˆ†æåŸå› ã€‚æ¯”è¾ƒé‡è¦çš„æŒ‡æ ‡æ˜¯æ¯›åˆ©ç‡ã€å‡€åˆ©ç‡ã€âˆ‘ç»è¥æ´»åŠ¨ç°é‡‘æµ&#x2F;âˆ‘é”€å”®æ”¶å…¥ã€é”€å”®æ”¶å…¥&#x2F;å›ºå®šèµ„äº§ã€æµåŠ¨èµ„äº§&#x2F;éæµåŠ¨èµ„äº§ã€å­˜è´§&#x2F;å›ºå®šèµ„äº§ã€è´Ÿå€º&#x2F;æ€»èµ„äº§ï¼Œç­‰ç­‰ã€‚ä¸å¿…æ‹˜æ³¥äºæ•™ç§‘ä¹¦ä¸Šçš„ç»å…¸æŒ‡æ ‡ï¼Œç”šè‡³å¯æ ¹æ®è¡Œä¸šç‰¹æ€§è‡ªåˆ›æ¯”ç‡ï¼Œä¸€åˆ‡å¥¥å¦™å­˜ä¹äºå¿ƒã€‚</p>
</li>
</ol>
<p> ç»“æ„å·®å¼‚åˆ—å‡ºä¹‹åï¼Œè¦ä»ç«äº‰åŠ›ã€äº§å“ç»†åˆ†ã€å•†ä¸šæ¨¡å¼ã€è§„æ¨¡ã€åœ°åŸŸç­‰æ–¹é¢è¿›è¡Œæ¨ç†ï¼Œè‹¥æ‰¾ä¸å‡ºåˆç†åŸå› åˆ™æœ‰ç†ç”±æ€€ç–‘æŠ¥è¡¨çš„çœŸå®æ€§</p>
<p> <img src="/2024/07/31/%E6%80%8E%E6%A0%B7%E7%9C%8B%E5%85%AC%E5%8F%B8%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8/3.jpg" alt="3"></p>
</li>
<li><p>è¶‹åŠ¿åˆ†æ</p>
<p> è¶‹åŠ¿åˆ†æçš„é‡è¦å†…å®¹æ˜¯èµ„äº§ã€æ”¶å…¥å’Œåˆ©æ¶¦ã€‚<br><br> èµ„äº§çš„å¢åŠ ä¸»è¦åˆ†ææ˜¯æ¥æºäºè´Ÿå€ºè¿˜æ˜¯æƒç›Š(ç›ˆåˆ©æˆ–è‚¡ä¸œæŠ•å…¥)ï¼Œæ­¤å¤–è¿˜è¦é‡ç‚¹å…³æ³¨å„èµ„äº§ç§‘ç›®çš„æ¯”ä¾‹å˜åŒ–ï¼Œè¿™å¾€å¾€ä½“ç°äº†ä¼ä¸šçš„æ¨¡å¼å˜åŒ–ã€‚<br><br> æ”¶å…¥çš„å¢åŠ ä¸»è¦åˆ†ææ˜¯æ¥æºäºåˆå¹¶èŒƒå›´æ‰©å¤§è¿˜æ˜¯è‡ªèº«ç»è¥æ‰©å¼ ï¼Œé‡ç‚¹å…³æ³¨æ¯›åˆ©ç‡å’Œå¸‚åœºå æœ‰ç‡çš„å˜åŒ–ã€‚æ€»ä½“æ¥è¯´ï¼Œåœ¨æ¯›åˆ©ç‡è¾ƒå°æ³¢åŠ¨çš„å‰æä¸‹å¸‚åœºå æœ‰ç‡é€æ­¥å¢é•¿æ‰æ˜¯æœ€å¯é æœ€æœ‰æŒç»­æ€§çš„æƒ…å½¢ï¼Œé™¤æ­¤ä¹‹å¤–éƒ½è¦è®¤çœŸåˆ†æã€‚<br><br> åˆ©æ¶¦çš„å¢åŠ è¦ç»¼åˆèµ„äº§ä¸æ”¶å…¥çš„å¢é•¿ä½œé€»è¾‘æ¨ç†ï¼Œä½†åˆ©æ¶¦ç³»ç»è¿‡è‹¥å¹²åŠ å‡ä¹‹åå¤„äºæŠ¥è¡¨æœ«å°¾ï¼Œå®¢è§‚æ€§æœ€å¼±ï¼Œè¦æ·±å…¥ç†è§£æƒè´£å‘ç”Ÿåˆ¶çš„ç¼ºé™·ä¸æ¼æ´ä¹‹åè¾¨è¯çœ‹å¾…ã€‚</p>
</li>
</ol>
<p><img src="/2024/07/31/%E6%80%8E%E6%A0%B7%E7%9C%8B%E5%85%AC%E5%8F%B8%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8/4.jpg"></p>
<p>ä¼ä¸šçš„ä»·å€¼åœ¨äºå‘å±•è¶‹åŠ¿ï¼Œéœ€è¦æ·±å…¥æ£æ‘©ã€ç†Ÿèƒ½ç”Ÿå·§ã€‚è€Œè¿™ä¸æ‰€å¤„è¡Œä¸šç´§å¯†ç›¸å…³ï¼Œä¸èƒ½ä»…å‡­æŠ¥è¡¨åšå‡ºè‰ç‡ç»“è®ºã€‚</p>
<h3 id="è´¢åŠ¡ä¸‰å¤§æŠ¥è¡¨"><a href="#è´¢åŠ¡ä¸‰å¤§æŠ¥è¡¨" class="headerlink" title="è´¢åŠ¡ä¸‰å¤§æŠ¥è¡¨"></a>è´¢åŠ¡ä¸‰å¤§æŠ¥è¡¨</h3><h4 id="ä¸€ã€èµ„äº§è´Ÿå€ºè¡¨"><a href="#ä¸€ã€èµ„äº§è´Ÿå€ºè¡¨" class="headerlink" title="ä¸€ã€èµ„äº§è´Ÿå€ºè¡¨"></a>ä¸€ã€èµ„äº§è´Ÿå€ºè¡¨</h4><p>èµ„äº§è´Ÿå€ºè¡¨ä¸»è¦æ˜¯å‘Šè¯‰æˆ‘ä»¬åœ¨å‡ºæŠ¥è¡¨çš„æ—¶åˆ»å…¬å¸èµ„äº§è´Ÿå€ºæƒ…å†µå¦‚ä½•ï¼Œæ‰€ä»¥ï¼ŒæŠ¥è¡¨å…³é”®æ˜¯çœ‹å‡ºçš„æ—¶é—´ï¼Œæ—¶é—´å¯¹è¿™å¼ æŠ¥è¡¨çš„å½±å“å¾ˆå¤§ã€‚æœ€é‡è¦çš„ä¸€ä¸ªâ€œå‹¾ç¨½å…³ç³»â€å°±æ˜¯èµ„äº§ç­‰äºè´Ÿå€ºåŠ ä¸Šæƒç›Šã€‚å°±æ˜¯ç°åœ¨æ‹¥æœ‰çš„ä¸€åˆ‡ï¼Œä¸å¤–ä¹æ¥æºäºä¸¤ä¸ªæ–¹é¢ï¼Œä¸€ä¸ªæ˜¯æœ¬æ¥å°±æ˜¯è‡ªå·±çš„ï¼Œå¦ä¸€ä¸ªå°±æ˜¯å€Ÿæ¥çš„ï¼Œè‡ªå·±æœ‰çš„ï¼Œå†åŠ ä¸Šå€Ÿæ¥çš„ï¼Œå½“ç„¶å°±æ˜¯ç°åœ¨æ‹¥æœ‰çš„ä¸€åˆ‡ã€‚åœ¨ä¼šè®¡ä¸Šï¼Œç›®å‰æˆ‘æ‹¥æœ‰çš„ä¸€åˆ‡ï¼Œå°±å«èµ„äº§ï¼Œè€Œå€Ÿæ¥çš„é’±ï¼Œå°±æ˜¯è´Ÿå€ºï¼Œè‡ªå·±çš„ï¼Œå°±å«æƒç›Šã€‚è¿™å°±æ˜¯èµ„äº§è´Ÿå€ºè¡¨æœ€é‡è¦çš„å†…éƒ¨â€œå‹¾ç¨½å…³ç³»â€ã€‚</p>
<p><img src="/2024/07/31/%E6%80%8E%E6%A0%B7%E7%9C%8B%E5%85%AC%E5%8F%B8%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8/5.jpg" alt="5"></p>
<h4 id="äºŒã€åˆ©æ¶¦è¡¨"><a href="#äºŒã€åˆ©æ¶¦è¡¨" class="headerlink" title="äºŒã€åˆ©æ¶¦è¡¨"></a>äºŒã€åˆ©æ¶¦è¡¨</h4><p>åˆ©æ¶¦è¡¨æˆ–æŸç›Šè¡¨ï¼Œä¸»è¦æ˜¯å‘Šè¯‰æˆ‘ä»¬åœ¨ä¸€æ®µæ—¶é—´é‡Œï¼Œå…¬å¸çš„æŸç›Šæƒ…å†µï¼ŒæŸç›Šè¡¨å…³é”®ä¸€ç‚¹ï¼Œå°±æ˜¯çœ‹è¿™æ®µæ—¶é—´æœ‰å¤šé•¿ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªæœˆï¼Œä¸€ä¸ªå­£åº¦æˆ–ä¸€å¹´çš„æ—¶é—´ã€‚åœ¨æŸç›Šè¡¨é‡Œï¼Œæœ€é‡è¦çš„ä¸€ä¸ªâ€œå‹¾ç¨½å…³ç³»â€å°±æ˜¯æ”¶å…¥å‡å»æˆæœ¬è´¹ç”¨ï¼Œç­‰äºåˆ©æ¶¦ã€‚</p>
<p><img src="/2024/07/31/%E6%80%8E%E6%A0%B7%E7%9C%8B%E5%85%AC%E5%8F%B8%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8/6.jpg" alt="6"></p>
<h4 id="ä¸‰ã€ç°é‡‘æµé‡è¡¨"><a href="#ä¸‰ã€ç°é‡‘æµé‡è¡¨" class="headerlink" title="ä¸‰ã€ç°é‡‘æµé‡è¡¨"></a>ä¸‰ã€ç°é‡‘æµé‡è¡¨</h4><p>ç°é‡‘æµé‡è¡¨ï¼Œä¸»è¦æ˜¯å‘Šè¯‰æˆ‘ä»¬ï¼Œåœ¨ä¸€æ®µæ—¶é—´é‡Œï¼Œè¿™ä¸ªå…¬å¸æ”¶è¿›äº†å¤šå°‘ç°é‡‘ï¼Œä»˜å‡ºå»äº†å¤šå°‘ç°é‡‘ï¼Œè¿˜ä½™ä¸‹å¤šå°‘ç°é‡‘åœ¨é“¶è¡Œé‡Œã€‚è¿™å¼ æŠ¥è¡¨çš„å…³é”®ä¹Ÿæ˜¯è¦çœ‹è¿™æ®µæ—¶é—´æœ‰å¤šé•¿äº†ï¼Œè¿™ä¸€ç‚¹åŒåˆ©ç›Šè¡¨æˆ–æŸç›Šè¡¨ä¸€æ ·ã€‚åœ¨è¿™å¼ è¡¨é‡Œï¼Œæœ€é‡è¦çš„ä¸€ä¸ªâ€œå‹¾ç¨½å…³ç³»â€å°±æ˜¯æµå…¥çš„ç°é‡‘å‡å»æµå‡ºçš„ç°é‡‘ï¼Œç­‰äºä½™ä¸‹çš„ç°é‡‘ï¼Œè¿™ä¸ªå…³ç³»ä¹Ÿååˆ†ç®€å•ï¼Œå°±ä¸ç”¨å¤šè§£é‡Šäº†ã€‚</p>
<p><img src="/2024/07/31/%E6%80%8E%E6%A0%B7%E7%9C%8B%E5%85%AC%E5%8F%B8%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8/7.jpg" alt="7"></p>
<p>è¿™æ˜¯ä»å¤§çš„å±‚é¢ä¸Šæ¥è¯´ï¼ŒæŠ¥è¡¨åˆ†ææ˜¯å¾ˆç®€å•çš„ï¼Œå› ä¸ºæ¯•ç«Ÿæ˜¯è¡¨å†…çš„å…³ç³»ï¼Œä¸€èˆ¬æ˜¯ä¸€äº›åŠ åŠ å‡å‡ï¼Œç„¶åæ±‡æ€»ï¼Œåªè¦æ˜ç™½å„ä¸ªé¡¹ç›®å†…çš„åŠ å‡å…³ç³»ï¼ŒåŒæ—¶è®¡ç®—æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä¸€èˆ¬ä¸ä¼šå‡ºä»€ä¹ˆé”™ã€‚ä½†ä¹Ÿä¸è¦å°çœ‹è¿™äº›è¡¨å†…â€œå‹¾ç¨½å…³ç³»â€ï¼Œç‰¹åˆ«æ˜¯èµ„äº§è´Ÿå€ºè¡¨é‡Œçš„é‚£ä¸ªâ€œå‹¾ç¨½å…³ç³»â€ï¼Œå°±æ˜¯èµ„äº§ç­‰äºè´Ÿå€ºåŠ æƒç›Šï¼Œè¿™ä¸ªæ˜¯ä¼šè®¡çš„ä¸€ä¸ªæ ¸å¿ƒåŸç†ä¹‹ä¸€ã€‚</p>
<h3 id="æŠ¥è¡¨åˆ†æå·¥å…·"><a href="#æŠ¥è¡¨åˆ†æå·¥å…·" class="headerlink" title="æŠ¥è¡¨åˆ†æå·¥å…·"></a>æŠ¥è¡¨åˆ†æå·¥å…·</h3><p>å¦‚æœæ•°æ®é‡æ²¡æœ‰å¤§åˆ°ç”¨åˆ°æ•°æ®åº“ï¼Œexcelå°±èƒ½èƒœä»»ï¼Œå½“ç„¶å¦‚æœä¼šå†™VBçš„è¯ï¼Œexcelä¹Ÿèƒ½è¿æ•°æ®åº“ã€‚spssã€sasã€stataè¿™äº›ä¸“ä¸šç»Ÿè®¡è½¯ä»¶ï¼Œæçº¿æ€§å›å½’ã€Fç»Ÿè®¡ã€æŠ½æ ·ã€å‡è®¾æ£€éªŒç”¨å¾—ä¸Šã€‚</p>
<p>ä½†å¦‚æœæ¶‰åŠåˆ°æ•°æ®åº“ï¼Œé‚£è¿˜æ˜¯é€‰æ‹©ä¸“ä¸šè½¯ä»¶ã€‚é¦–å…ˆExcelå¯¹æ•°æ®çš„å¤„ç†æ€§èƒ½æ˜¯æœ‰é™çš„ï¼Œè€Œä¸”å¾ˆéš¾å®ç°å®æ—¶æ•°æ®æ›´æ–°ã€‚åœ¨å…·ä½“çš„æŠ¥è¡¨å·¥å…·é€‰å‹ä¸Šï¼Œå›½å¤–è½¯ä»¶å¹¶ä¸æ¨èï¼Œæ°´æ™¶æŠ¥è¡¨è¿™ç§åšä¸­å›½å¼æŠ¥è¡¨æœ‰å·¨å¤§çš„å±€é™ï¼›å›½äº§è½¯ä»¶æ–¹é¢ï¼ŒFinereportç­‰æŠ¥è¡¨å·¥å…·é‡‡ç”¨æ‹–æ‹½å¼æ“ä½œï¼Œç±»excelç•Œé¢ï¼Œå…¶åŠŸèƒ½ã€æ€§èƒ½çš„ç¡®æ›´å¥½åœ°è§£å†³äº†ä¸­å›½ç”¨æˆ·çš„éœ€æ±‚ã€‚</p>
<p>é™¤äº†æŠ¥è¡¨å·¥å…·ï¼Œä»¥ä¸Šè¿˜å¯ä»¥åˆ©ç”¨BIå·¥å…·åˆ¶ä½œdashboardæ¥è§£å†³ï¼Œä¾‹å¦‚FineBIç­‰ï¼Œå½¢æˆä¸€ä¸ªè´¢åŠ¡ç®¡ç†é©¾é©¶èˆ±ï¼Œæ“ä½œä¸Šæ˜¯å°†æ•°æ®å­—æ®µæ‹–æ‹½ç”Ÿæˆä¸€ä¸ªä¸ªåˆ†æå›¾è¡¨ï¼Œå…±åŒç»„åˆæˆä¸€ä¸ªä¸»é¢˜çš„åˆ†æã€‚</p>
<p><img src="/2024/07/31/%E6%80%8E%E6%A0%B7%E7%9C%8B%E5%85%AC%E5%8F%B8%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8/8.jpg" alt="8"></p>
<h3 id="é™„å½•ï¼šè´¢åŠ¡æŠ¥è¡¨åˆ†ææŒ‡æ ‡"><a href="#é™„å½•ï¼šè´¢åŠ¡æŠ¥è¡¨åˆ†ææŒ‡æ ‡" class="headerlink" title="é™„å½•ï¼šè´¢åŠ¡æŠ¥è¡¨åˆ†ææŒ‡æ ‡"></a>é™„å½•ï¼šè´¢åŠ¡æŠ¥è¡¨åˆ†ææŒ‡æ ‡</h3><p>1ã€æµåŠ¨æ¯”ç‡</p>
<p>æµåŠ¨æ¯”ç‡&#x3D;æµåŠ¨èµ„äº§&#x2F;æµåŠ¨è´Ÿå€º</p>
<p>ä¸€èˆ¬è®¤ä¸ºï¼ŒæµåŠ¨æ¯”ç‡è‹¥è¾¾åˆ°2å€æ—¶ï¼Œæ˜¯æœ€ä»¤äººæ»¡æ„çš„ã€‚è‹¥æµåŠ¨æ¯”ç‡è¿‡ä½ï¼Œä¼ä¸šå¯èƒ½é¢ä¸´ç€åˆ°æœŸå¿è¿˜å€ºåŠ¡çš„å›°éš¾ã€‚è‹¥æµåŠ¨æ¯”ç‡è¿‡é«˜ï¼Œè¿™åˆæ„å‘³ç€ä¼ä¸šæŒæœ‰è¾ƒå¤šçš„ä¸èƒ½èµ¢åˆ©çš„é—²ç½®æµåŠ¨èµ„äº§ã€‚ä½¿ç”¨è¿™ä¸€æŒ‡æ ‡è¯„ä»·ä¼ä¸šæµåŠ¨æŒ‡æ ‡æ—¶ï¼Œåº”åŒæ—¶ç»“åˆä¼ä¸šçš„å…·ä½“æƒ…å†µã€‚</p>
<p>2ã€é€ŸåŠ¨æ¯”ç‡</p>
<p>é€ŸåŠ¨æ¯”ç‡åˆç§°é…¸æ€§å®éªŒæ¯”ä¾‹ï¼Œæ˜¯æŒ‡é€ŸåŠ¨èµ„äº§å æµåŠ¨è´Ÿå€ºçš„æ¯”ç‡ï¼Œå®ƒåæ˜ ä¼ä¸šçŸ­æœŸå†…å¯å˜ç°èµ„äº§å¿è¿˜çŸ­æœŸå†…åˆ°æœŸå€ºåŠ¡çš„èƒ½åŠ›ã€‚é€ŸåŠ¨æ¯”ç‡æ˜¯å¯¹æµåŠ¨æ¯”ç‡çš„è¡¥å……ã€‚è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p>
<p>é€ŸåŠ¨æ¯”ä¾‹&#x3D;é€ŸåŠ¨èµ„äº§&#x2F;æµåŠ¨è´Ÿå€º</p>
<p>é€ŸåŠ¨èµ„äº§æ˜¯ä¼ä¸šåœ¨çŸ­æœŸå†…å¯å˜ç°çš„èµ„äº§ï¼Œç­‰äºæµåŠ¨èµ„äº§å‡å»æµåŠ¨é€Ÿåº¦è¾ƒæ…¢çš„å­˜è´§çš„ä½™é¢ï¼ŒåŒ…æ‹¬è´§å¸èµ„é‡‘ã€çŸ­æœŸæŠ•èµ„å’Œåº”æ”¶è´¦æ¬¾ç­‰ã€‚ä¸€èˆ¬è®¤ä¸ºé€ŸåŠ¨æ¯”ç‡1ï¼š1æ˜¯åˆç†çš„ï¼Œé€ŸåŠ¨æ¯”ç‡è‹¥å¤§äº1ï¼Œä¼ä¸šçŸ­æœŸå¿å€ºèƒ½åŠ›å¼ºï¼Œä½†è·åˆ©èƒ½åŠ›å°†ä¸‹é™ã€‚é€ŸåŠ¨æ¯”ç‡è‹¥å°äº1ï¼Œä¼ä¸šå°†éœ€è¦ä¾èµ–å‡ºå”®å­˜è´§æˆ–ä¸¾å€Ÿæ–°å€ºæ¥å¿è¿˜åˆ°æœŸå€ºåŠ¡ã€‚</p>
<p>3ã€ç°é‡‘æ¯”ç‡</p>
<p>ç°é‡‘æ¯”ç‡æ˜¯ä¼ä¸šç°é‡‘åŒæµåŠ¨è´Ÿå€ºçš„æ¯”ç‡ã€‚è¿™é‡Œè¯´çš„ç°é‡‘ï¼ŒåŒ…æ‹¬ç°é‡‘å’Œç°é‡‘ç­‰ä»·ç‰©ã€‚è¿™é¡¹æ¯”ç‡å¯æ˜¾ç¤ºä¼ä¸šç«‹å³å¿è¿˜åˆ°æœŸå€ºåŠ¡çš„èƒ½åŠ›ï¼Œå…¶è®¡ç®—å…¬å¼ä¸ºï¼šç°é‡‘æ¯”ç‡&#x3D;ç°é‡‘&#x2F;æµåŠ¨è´Ÿå€ºã€‚</p>
<p>4ã€ èµ„äº§è´Ÿå€ºç‡</p>
<p>èµ„äº§è´Ÿå€ºç‡ï¼Œäº¦ç§°è´Ÿå€ºæ¯”ç‡ã€ä¸¾å€ºç»è¥æ¯”ç‡ï¼Œæ˜¯æŒ‡è´Ÿå€ºæ€»é¢å¯¹å…¨éƒ¨èµ„äº§æ€»é¢ä¹‹æ¯”ï¼Œç”¨æ¥è¡¡é‡ä¼ä¸šåˆ©ç”¨å€ºæƒäººæä¾›èµ„é‡‘è¿›è¡Œç»è¥æ´»åŠ¨çš„èƒ½åŠ›ï¼Œåæ˜ å€ºæƒäººå‘æ”¾è´·æ¬¾çš„å®‰å…¨ç¨‹åº¦ã€‚è®¡ç®—å…¬å¼ä¸ºï¼š</p>
<p>èµ„äº§è´Ÿå€ºç‡&#x3D;ï¼ˆè´Ÿå€ºæ€»é¢&#x2F;èµ„äº§æ€»é¢ï¼‰X100%</p>
<p>ä¸€èˆ¬è®¤ä¸ºï¼Œèµ„äº§è´Ÿå€ºç‡åº”ä¿æŒåœ¨50%å·¦å³ï¼Œè¿™è¯´æ˜ä¼ä¸šæœ‰è¾ƒå¥½çš„å¿å€ºèƒ½åŠ›ï¼Œåˆå……åˆ†åˆ©ç”¨äº†è´Ÿå€ºç»è¥èƒ½åŠ›ã€‚</p>
<p>ä½œè€…ï¼šå¸†è½¯<br>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/20324128/answer/684131335">https://www.zhihu.com/question/20324128/answer/684131335</a></p>
]]></content>
      <categories>
        <category>æŠ•æœº</category>
      </categories>
      <tags>
        <tag>æŠ•æœº</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­å»ºGitæœåŠ¡å™¨</title>
    <url>/2024/07/31/%E6%90%AD%E5%BB%BAGit%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<p>è¯´æ˜ï¼šæ­¤æ–‡æ˜¯åœ¨FreeBSDç³»ç»Ÿä¸‹çš„å¤„ç†è¿‡ç¨‹ï¼Œæœªæ¥å¾—åŠä¿®æ”¹</p>
<h3 id="å®‰è£…-Git-å¹¶åˆ›å»ºGitä»“å‚¨ç›®å½•"><a href="#å®‰è£…-Git-å¹¶åˆ›å»ºGitä»“å‚¨ç›®å½•" class="headerlink" title="å®‰è£… Git å¹¶åˆ›å»ºGitä»“å‚¨ç›®å½•"></a>å®‰è£… Git å¹¶åˆ›å»ºGitä»“å‚¨ç›®å½•</h3><pre><code><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">pkg install git</span></span><br></pre></td></tr></table></figure>
</code></pre>
<h3 id="æ·»åŠ -git-ç”¨æˆ·"><a href="#æ·»åŠ -git-ç”¨æˆ·" class="headerlink" title="æ·»åŠ  git ç”¨æˆ·"></a>æ·»åŠ  git ç”¨æˆ·</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pw groupadd -n git -g 9418</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pw useradd -n git -u 9418 -g git -c git -d /home/git -s /usr/local/libexec/git-core/git-shell -h -</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">passwd git</span></span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºä»“åº“æ ¹ç›®å½•ï¼Œå¹¶ç¡®è®¤æƒé™æ­£ç¡®"><a href="#åˆ›å»ºä»“åº“æ ¹ç›®å½•ï¼Œå¹¶ç¡®è®¤æƒé™æ­£ç¡®" class="headerlink" title="åˆ›å»ºä»“åº“æ ¹ç›®å½•ï¼Œå¹¶ç¡®è®¤æƒé™æ­£ç¡®"></a>åˆ›å»ºä»“åº“æ ¹ç›®å½•ï¼Œå¹¶ç¡®è®¤æƒé™æ­£ç¡®</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir /home/git</span><br><span class="line">chown git:git /home/git</span><br><span class="line">mkdir /home/git/base</span><br><span class="line">chown git:git /home/git/base</span><br><span class="line">chmode 775 /home/git/base</span><br></pre></td></tr></table></figure>

<h3 id="æ·»åŠ èƒ½å¤Ÿè®¿é—®-home-git-baseå»ºç«‹ä»“åº“çš„ç”¨æˆ·åˆ°gitç”¨æˆ·ç»„"><a href="#æ·»åŠ èƒ½å¤Ÿè®¿é—®-home-git-baseå»ºç«‹ä»“åº“çš„ç”¨æˆ·åˆ°gitç”¨æˆ·ç»„" class="headerlink" title="æ·»åŠ èƒ½å¤Ÿè®¿é—®&#x2F;home&#x2F;git&#x2F;baseå»ºç«‹ä»“åº“çš„ç”¨æˆ·åˆ°gitç”¨æˆ·ç»„"></a>æ·»åŠ èƒ½å¤Ÿè®¿é—®&#x2F;home&#x2F;git&#x2F;baseå»ºç«‹ä»“åº“çš„ç”¨æˆ·åˆ°gitç”¨æˆ·ç»„</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vi /etc/group</span></span><br><span class="line">git:*:9418:user1,user2</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨SSH-keysè®¤è¯"><a href="#ä½¿ç”¨SSH-keysè®¤è¯" class="headerlink" title="ä½¿ç”¨SSH keysè®¤è¯"></a>ä½¿ç”¨SSH keysè®¤è¯</h3><p>  é¦–å…ˆï¼Œæ”¶é›†æ‰€æœ‰éœ€è¦æœ‰æäº¤æƒé™çš„ç”¨æˆ·çš„public keysã€‚ç„¶åæŠŠè¿™äº›public keysæ·»åŠ åˆ°<code>/home/git/.ssh/</code>ç›®å½•ä¸‹é¢ã€‚å¯¹åº”çš„å®¢æˆ·ç«¯æ¯”å¦‚Windows10ï¼Œåœ¨<code>C:\Users\Frank\.ssh\</code>ä¸‹é¢åº”åŒ…å«æ­¤å…¬çº¦å’Œå¯¹åº”çš„ç§é’¥ï¼Œå¦‚æœåªåŒ…å«ç§é’¥ï¼Œåœ¨pushæˆ–pullæ—¶ä¼šä¸€ç›´æç¤ºè¾“å…¥å¯†ç ï¼Œå³sshé…ç½®å¤±è´¥ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">mkdir</span> /home/git/.ssh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">chmod</span> 700 /git/.ssh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">touch</span> /git/.ssh/authorized_keys</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">chmod</span> 600 /home/git/.ssh/authorized_keys</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Put the public keys into authorized_keys,one per line)</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">chown</span> -R git:git /home/git/.ssh/</span></span><br></pre></td></tr></table></figure>

<p>ç°åœ¨åˆ›å»ºä¸€ä¸ªä»“åº“æ¥æµ‹è¯•</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">mkdir</span> /git/base/test.git</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> /git/base/test.git &amp;&amp; git init --bare</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">chown</span> -R git:git /home/git/</span></span><br></pre></td></tr></table></figure>

<p>åœ¨å®¢æˆ·æœºåˆ›å»ºæœ¬åœ°ä»“åº“ï¼Œå¹¶æäº¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">mkdir</span> ~/test</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> ~/test &amp;&amp; git init</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&#x27;123456&#x27;</span> &gt; foo</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add .</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit</span></span><br></pre></td></tr></table></figure>

<p>pushåˆ°è¿œç¨‹ä»“åº“</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote add origin git@git.example.com:base/test.git</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push -u origin master</span></span><br></pre></td></tr></table></figure>

<p>å…³äºGitä½¿ç”¨sshåè®®å…å¯†</p>
<p>é™„ï¼š<br><a href="https://git-scm.com/book/zh/v2">Gitä½¿ç”¨æ‰‹å†Œ</a></p>
]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>æŸ¥çœ‹ç«¯å£å ç”¨</title>
    <url>/2024/07/31/%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8/</url>
    <content><![CDATA[<h2 id="æŸ¥çœ‹æœ¬åœ°ç«¯å£"><a href="#æŸ¥çœ‹æœ¬åœ°ç«¯å£" class="headerlink" title="æŸ¥çœ‹æœ¬åœ°ç«¯å£"></a>æŸ¥çœ‹æœ¬åœ°ç«¯å£</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‰¾åˆ°ä½¿ç”¨8080ç«¯å£çš„PID</span></span><br><span class="line">netstat <span class="literal">-ano</span> | findstr <span class="string">&quot;8080&quot;</span></span><br><span class="line"><span class="comment"># æ‰¾åˆ°PID 4å¯¹åº”çš„è¿›ç¨‹ï¼Œå‡å¦‚ä¸Šä¸€æ­¥æ‰¾å‡ºçš„PIDä¸º4</span></span><br><span class="line">tasklist | findstr <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥çœ‹è¿œç¨‹ç«¯å£"><a href="#æŸ¥çœ‹è¿œç¨‹ç«¯å£" class="headerlink" title="æŸ¥çœ‹è¿œç¨‹ç«¯å£"></a>æŸ¥çœ‹è¿œç¨‹ç«¯å£</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">PS</span> D:\Temp\Java&gt; telnet <span class="number">192.168</span>.<span class="number">1.200</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">PS</span> D:\Temp\Java&gt; nmap <span class="number">192.168</span>.<span class="number">1.200</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> www.test.org (<span class="number">192.168</span>.<span class="number">1.200</span>)</span><br><span class="line">Host is up (<span class="number">0.0016</span>s latency).</span><br><span class="line">Not shown: <span class="number">995</span> filtered tcp ports (no<span class="literal">-response</span>)</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line"><span class="number">80</span>/tcp   open  http</span><br><span class="line"><span class="number">81</span>/tcp   open  hosts2<span class="literal">-ns</span></span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line"><span class="number">8080</span>/tcp open  http<span class="literal">-proxy</span></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned <span class="keyword">in</span> <span class="number">5.17</span> seconds</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">PS</span> D:\Temp\Java&gt; nmap <span class="number">192.168</span>.<span class="number">1.200</span> <span class="literal">-p</span> <span class="number">80</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> www.test.org (<span class="number">192.168</span>.<span class="number">1.200</span>)</span><br><span class="line">Host is up (<span class="number">0.00</span>s latency).</span><br><span class="line"></span><br><span class="line">PORT   STATE SERVICE</span><br><span class="line"><span class="number">80</span>/tcp open  http</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned <span class="keyword">in</span> <span class="number">0.05</span> seconds</span><br></pre></td></tr></table></figure>

<p>Linuxä¸“æœ‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">frank@debian:~$ nc -v 192.168.1.200 8080</span><br><span class="line">192.168.1.200: inverse host lookup failed: Unknown host</span><br><span class="line">(UNKNOWN) [192.168.1.200] 8080 (http-alt) open</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>æ··æ·†è½¯ä»¶Allatoriä½¿ç”¨</title>
    <url>/2024/07/30/%E6%B7%B7%E6%B7%86%E8%BD%AF%E4%BB%B6Allatori%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="1-æ··æ·†ç±»åº“"><a href="#1-æ··æ·†ç±»åº“" class="headerlink" title="1. æ··æ·†ç±»åº“"></a>1. æ··æ·†ç±»åº“</h2><p>æ‰€æœ‰å…¬å…± API ä¸åº”è¯¥é‡å‘½åï¼Œè¿™æ ·æ‰èƒ½ä¿è¯å…¶ä»–åº“è°ƒç”¨èƒ½æ­£å¸¸ä½¿ç”¨ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;test.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-test.jar&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;mousegestures-1.2.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-mousegestures-1.2.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">keep-names</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class</span> <span class="attr">access</span>=<span class="string">&quot;protected+&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">field</span> <span class="attr">access</span>=<span class="string">&quot;protected+&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">method</span> <span class="attr">access</span>=<span class="string">&quot;protected+&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">keep-names</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;log-file&quot;</span> <span class="attr">value</span>=<span class="string">&quot;log.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>jars</code> é…ç½®è¾“å‡ºçš„ <code>jar</code>æ–‡ä»¶åã€‚å¦‚æœ<code>in</code>å’Œ<code>out</code>ä¸€æ ·ï¼Œé‚£ä¹ˆæ··æ·†åçš„ç‰ˆæœ¬(<code>out</code>)ä¼šè¦†ç›–åŸæ¥çš„ç‰ˆæœ¬</p>
<p><code>keep-names</code> é…ç½®ä¸åº”è¯¥é‡å‘½åçš„ç±»ã€æ–¹æ³•ã€å­—æ®µã€‚æ­¤å¤„é…ç½®<code>protected+</code>,æ„å‘³ç€æ‰€æœ‰<code>protected+</code>çš„å¯è§æ€§å­—æ®µä¸ä¼šè¢«é‡å‘½åã€‚</p>
<p><code>log-file</code> é…ç½®<code>log</code>æ–‡ä»¶ï¼Œå¯çœç•¥</p>
<p>å‘½ä»¤</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">java <span class="literal">-Xms128m</span> <span class="literal">-Xmx512m</span> <span class="literal">-jar</span> ..\..\..\lib\allatori.jar config.xml</span><br></pre></td></tr></table></figure>

<h2 id="2-ç‹¬ç«‹åº”ç”¨ç¨‹åº"><a href="#2-ç‹¬ç«‹åº”ç”¨ç¨‹åº" class="headerlink" title="2. ç‹¬ç«‹åº”ç”¨ç¨‹åº"></a>2. ç‹¬ç«‹åº”ç”¨ç¨‹åº</h2><p>ç‹¬ç«‹åº”ç”¨ç¨‹åºï¼Œå¯ä»¥è®©æ‰€æœ‰å…¬å…±çš„ API éƒ½ä¸å¯è§ï¼Œè¶Šå¤šçš„ç±»&#x2F;æ–¹æ³•&#x2F;å­—æ®µè¢«é‡å‘½åï¼Œè¶Šå¥½ã€‚äº‹å®ä¸Šï¼Œå¯ä»¥ä»…ä¿ç•™ Main ç±»ä¸ºåŸæ¥çš„åå­—ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;test.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-test.jar&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;mousegestures-1.2.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-mousegestures-1.2.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">keep-names</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class</span> <span class="attr">template</span>=<span class="string">&quot;class *.TestFrame&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">keep-names</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;log-file&quot;</span> <span class="attr">value</span>=<span class="string">&quot;log.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="3-é€šè¿‡-Classpathé…ç½®æ··æ·†"><a href="#3-é€šè¿‡-Classpathé…ç½®æ··æ·†" class="headerlink" title="3. é€šè¿‡ Classpathé…ç½®æ··æ·†"></a>3. é€šè¿‡ <code>Classpath</code>é…ç½®æ··æ·†</h2><p>test.jar æ˜¯ç‹¬ç«‹åº”ç”¨ç¨‹åº<br>mousegestures-1.2.jar æ˜¯ test.jar è°ƒç”¨çš„ä¸‰æ–¹åº“</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;test.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-test.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">classpath</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">name</span>=<span class="string">&quot;mousegestures-1.2.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">classpath</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">keep-names</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class</span> <span class="attr">template</span>=<span class="string">&quot;class *.TestFrame&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">keep-names</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;log-file&quot;</span> <span class="attr">value</span>=<span class="string">&quot;log.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨<code>classpath</code>ä¸­ä¸å¿…å¡«å†™ç¨‹åºå¼•ç”¨çš„æ‰€æœ‰<code>jar</code>ã€‚ä½†æ˜¯ï¼Œä¸å¡«å†™ï¼Œå¯èƒ½å¯¼è‡´æ··æ·†æ•ˆæœè¾ƒå·®ã€‚å¦‚æœåˆ é™¤<code>classpath</code>ï¼Œ<code>Allatori</code>åœ¨æ··æ·†æ—¶ï¼Œä¼šäº§ç”Ÿè­¦å‘Š<code>missing classes</code></p>
<h2 id="4-ä¸€ä¸ªJaråŒ…"><a href="#4-ä¸€ä¸ªJaråŒ…" class="headerlink" title="4. ä¸€ä¸ªJaråŒ…"></a>4. ä¸€ä¸ª<code>Jar</code>åŒ…</h2><p>æ‰“åŒ…æ‰€æœ‰çš„åº”ç”¨ç¨‹åºç±»åˆ°ä¸€ä¸ª<code>Jar</code><br>æ­¤æµ‹è¯•æ˜¯åŸºäºæ­¥éª¤ 2ã€‚ä¼šæŠŠ<code>obf-test.jar</code>å’Œ<code>obf-mousegestures-1.2.jar</code>æ•´åˆåˆ°<code>single.jar</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">single-jar</span>=<span class="string">&quot;single.jar&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;test.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-test.jar&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;mousegestures-1.2.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-mousegestures-1.2.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">keep-names</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class</span> <span class="attr">template</span>=<span class="string">&quot;class *.TestFrame&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">keep-names</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;log-file&quot;</span> <span class="attr">value</span>=<span class="string">&quot;log.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-æ°´å°"><a href="#5-æ°´å°" class="headerlink" title="5. æ°´å°"></a>5. æ°´å°</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">single-jar</span>=<span class="string">&quot;single.jar&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;test.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-test.jar&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;mousegestures-1.2.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-mousegestures-1.2.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">keep-names</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class</span> <span class="attr">template</span>=<span class="string">&quot;class *.TestFrame&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">keep-names</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;log-file&quot;</span> <span class="attr">value</span>=<span class="string">&quot;log.xml&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">watermark</span> <span class="attr">key</span>=<span class="string">&quot;secure-key-to-extract-watermark&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Customer: John Smith; Date: xx.yy.zzzz&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>watermark</code></p>
<ul>
<li><code>key</code>,æŠŠæ°´å°åµŒå…¥åˆ°åº”ç”¨ç¨‹åº</li>
<li><code>value</code>, è¦åµŒå…¥åˆ°åº”ç”¨ç¨‹åºçš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥æ˜¯ç‰ˆæƒã€å®¢æˆ·åå­—ã€å…¬å¸åå­—ã€æˆ–è€…å…¶ä»–ä»»ä½•ä¿¡æ¯</li>
</ul>
<p>æ¶ˆé™¤æ°´å°</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;single.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">watermark</span> <span class="attr">key</span>=<span class="string">&quot;secure-key-to-extract-watermark&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>key</code> è¦ä¸æ·»åŠ æ°´å°æ—¶ä½¿ç”¨çš„<code>key</code>ä¸€è‡´ï¼Œæ‰èƒ½æ¶ˆé™¤ï¼›å¦‚æœä¸ä¸€è‡´ï¼Œæ°´å°ä¸ä¼šæ¶ˆé™¤ã€‚<br>å‘½ä»¤</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">java <span class="literal">-Xms128m</span> <span class="literal">-Xmx512m</span> <span class="literal">-cp</span> ..\..\..\lib\allatori.jar com.allatori.Watermark <span class="literal">-extract</span> ExtractWatermark.xml</span><br></pre></td></tr></table></figure>

<h2 id="6-ä¸æ··æ·†æ°´å°"><a href="#6-ä¸æ··æ·†æ°´å°" class="headerlink" title="6. ä¸æ··æ·†æ°´å°"></a>6. ä¸æ··æ·†æ°´å°</h2><p>å­˜åœ¨å¦‚ä¸‹æƒ…å½¢ï¼š1ã€åªéœ€è¦æ·»åŠ æ°´å°è€Œä¸éœ€è¦æ··æ·†æ°´å°ï¼›æˆ–è€…åº”ç”¨ç¨‹åºå·²ç»æ··æ·†è¿‡ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰æ·»åŠ æ°´å°ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;mousegestures-1.2.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;marked-mousegestures-1.2.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">watermark</span> <span class="attr">key</span>=<span class="string">&quot;secure-key-to-extract-watermark&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Customer: John Smith; Date: xx.yy.zzzz&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‘½ä»¤</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">java <span class="literal">-Xms128m</span> <span class="literal">-Xmx512m</span> <span class="literal">-cp</span> ..\..\..\lib\allatori.jar com.allatori.Watermark <span class="literal">-add</span> AddWatermark.xml</span><br></pre></td></tr></table></figure>

<p>å»é™¤æ°´å°</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;marked-mousegestures-1.2.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">watermark</span> <span class="attr">key</span>=<span class="string">&quot;secure-key-to-extract-watermark&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‘½ä»¤</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">java <span class="literal">-Xms128m</span> <span class="literal">-Xmx512m</span> <span class="literal">-cp</span> ..\..\..\lib\allatori.jar com.allatori.Watermark <span class="literal">-extract</span> ExtractWatermark.xml</span><br></pre></td></tr></table></figure>

<h2 id="7-ç»™å¤šä¸ªæ²¡æœ‰æ··æ·†çš„-jar-æ·»åŠ æ°´å°"><a href="#7-ç»™å¤šä¸ªæ²¡æœ‰æ··æ·†çš„-jar-æ·»åŠ æ°´å°" class="headerlink" title="7. ç»™å¤šä¸ªæ²¡æœ‰æ··æ·†çš„ jar æ·»åŠ æ°´å°"></a>7. ç»™å¤šä¸ªæ²¡æœ‰æ··æ·†çš„ jar æ·»åŠ æ°´å°</h2><p>ç±»ä¼¼ 6</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;test.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;marked-test.jar&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;mousegestures-1.2.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;marked-mousegestures-1.2.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">watermark</span> <span class="attr">key</span>=<span class="string">&quot;secure-key-to-extract-watermark&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Customer: John Smith; Date: xx.yy.zzzz&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å»æ°´å°</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;marked-test.jar&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;marked-mousegestures-1.2.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">watermark</span> <span class="attr">key</span>=<span class="string">&quot;secure-key-to-extract-watermark&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>éœ€è¦ 2 ä¸ª<code>jar</code>åŒæ—¶å»æ°´å°ï¼Œä¸èƒ½åªä»ä¸€ä¸ª<code>jar</code>é‡Œé¢å»æ°´å°</p>
<h2 id="8-ä½¿ç”¨StackTraceå·¥å…·"><a href="#8-ä½¿ç”¨StackTraceå·¥å…·" class="headerlink" title="8. ä½¿ç”¨StackTraceå·¥å…·"></a>8. ä½¿ç”¨<code>StackTrace</code>å·¥å…·</h2><p>æ··æ·†åäº§ç”Ÿçš„ <code>log</code> æ–‡ä»¶ï¼Œå¯ä»¥ç”¨äºé‡å»ºåœ¨åŸå§‹çš„<code>jar</code>åŒ…ä¸­çš„ stacktraceã€‚è¿™æ ·æ‰€æœ‰çš„åç§°å’Œè¡Œå·å°±å’Œæ··æ·†å‰çš„åŸå§‹ä»£ç ä¸€æ ·ï¼Œå¯¹äº debug éå¸¸æœ‰ç”¨ã€‚</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">java <span class="literal">-Xms128m</span> <span class="literal">-Xmx512m</span> <span class="literal">-cp</span> ..\..\..\lib\allatori.jar com.allatori.StackTrace2 log.xml input.txt output.txt</span><br></pre></td></tr></table></figure>

<h2 id="10-æ·»åŠ è¿‡æœŸæ—¶é—´"><a href="#10-æ·»åŠ è¿‡æœŸæ—¶é—´" class="headerlink" title="10 æ·»åŠ è¿‡æœŸæ—¶é—´"></a>10 æ·»åŠ è¿‡æœŸæ—¶é—´</h2><p>åŸºäºæ­¥éª¤ 2</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;test.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-test.jar&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;mousegestures-1.2.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-mousegestures-1.2.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">keep-names</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class</span> <span class="attr">template</span>=<span class="string">&quot;class *.TestFrame&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">keep-names</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;log-file&quot;</span> <span class="attr">value</span>=<span class="string">&quot;log.xml&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">expiry</span> <span class="attr">date</span>=<span class="string">&quot;2000/01/01&quot;</span> <span class="attr">string</span>=<span class="string">&quot;EXPIRED!&quot;</span>/&gt;</span> <span class="comment">&lt;!-- è®¾ç½®è¿‡æœŸæ—¶é—´ä¸º2020/01/01ï¼Œæ‰€ä»¥æ··æ·†ç¨‹åºå°±è¿‡æœŸäº†ï¼Œä¸ä¼šè¿è¡Œ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿‡æœŸæ—¶é—´æ£€æŸ¥ä¸ä»…ä»…è¢«æ’å…¥åœ¨ <code>main</code> æ–¹æ³•ï¼Œä¸èƒ½è¢«è½»æ˜“ç§»é™¤ã€‚å³ä½¿æ²¡æœ‰ <code>main</code> æ–¹æ³•çš„åº“ä¸­ã€‚</p>
<h2 id="12-Maven-é¡¹ç›®ä¸­ä½¿ç”¨"><a href="#12-Maven-é¡¹ç›®ä¸­ä½¿ç”¨" class="headerlink" title="12. Maven é¡¹ç›®ä¸­ä½¿ç”¨"></a>12. Maven é¡¹ç›®ä¸­ä½¿ç”¨</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.smardec.mousegestures<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mouse-gestures<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mouse-gestures<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!-- Copying Allatori configuration file to &#x27;target&#x27; directory.</span></span><br><span class="line"><span class="comment">           The destination file will be filtered (Maven properties used in configuration file will be resolved). --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-resources-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>copy-and-filter-allatori-config<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goal</span>&gt;</span>copy-resources<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>$&#123;basedir&#125;/target<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;basedir&#125;/allatori<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>allatori.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!-- Running Allatori --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.codehaus.mojo<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>exec-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>run-allatori<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goal</span>&gt;</span>exec<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">executable</span>&gt;</span>java<span class="tag">&lt;/<span class="name">executable</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">arguments</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">argument</span>&gt;</span>-Xms128m<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">argument</span>&gt;</span>-Xmx512m<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">argument</span>&gt;</span>-jar<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- Copy allatori.jar to &#x27;allatori&#x27; directory to use the commented line --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">argument</span>&gt;</span>$&#123;basedir&#125;/../../../../lib/allatori.jar<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &lt;argument&gt;$&#123;basedir&#125;/allatori/allatori.jar&lt;/argument&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">argument</span>&gt;</span>$&#123;basedir&#125;/target/allatori.xml<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">arguments</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="15-è‡ªå®šä¹‰å­—ç¬¦ä¸²åŠ å¯†"><a href="#15-è‡ªå®šä¹‰å­—ç¬¦ä¸²åŠ å¯†" class="headerlink" title="15 è‡ªå®šä¹‰å­—ç¬¦ä¸²åŠ å¯†"></a>15 è‡ªå®šä¹‰å­—ç¬¦ä¸²åŠ å¯†</h2><p>åŸºäºæ­¥éª¤ 1 æ›´æ”¹ï¼Œä»¥ä½¿ç”¨å­—ç¬¦ä¸²åŠ å¯†</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;test.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-test.jar&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;mousegestures-1.2.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-mousegestures-1.2.jar&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;custom.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;obf-custom.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">keep-names</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class</span> <span class="attr">access</span>=<span class="string">&quot;protected+&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">field</span> <span class="attr">access</span>=<span class="string">&quot;protected+&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">method</span> <span class="attr">access</span>=<span class="string">&quot;protected+&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">keep-names</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- We recommend using the v3 setting if custom string encryption is applied to ALL your classes. --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- This way Allatori would not add any additional (unused) string decryption methods. --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- If you combine custom string encryption and Allatori string encryption, then the default v4 setting is recommended. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;string-encryption-version&quot;</span> <span class="attr">value</span>=<span class="string">&quot;v3&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Disabling string encryption in custom decryption methods, as it could lead to infinite recursive calls. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;string-encryption&quot;</span> <span class="attr">value</span>=<span class="string">&quot;disable&quot;</span> <span class="attr">apply2class</span>=<span class="string">&quot;class com.allatori.custom.EncryptDecryptString&quot;</span> <span class="attr">apply2method</span>=<span class="string">&quot;decrypt*(java.lang.String)&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;string-encryption&quot;</span> <span class="attr">value</span>=<span class="string">&quot;maximum&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;string-encryption-type&quot;</span> <span class="attr">value</span>=<span class="string">&quot;custom(com.allatori.custom.EncryptDecryptString.encryptString, com.allatori.custom.EncryptDecryptString.decryptString)&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;log-file&quot;</span> <span class="attr">value</span>=<span class="string">&quot;log.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç»“åˆ Allatori å­—ç¬¦ä¸²åŠ å¯†å’Œè‡ªå®šä¹‰å­—ç¬¦ä¸²åŠ å¯†ä½¿ç”¨ã€‚å¦‚æœåªæ˜¯åº”ç”¨è‡ªå®šä¹‰å­—ç¬¦ä¸²åŠ å¯†åœ¨ <code>com.some.package</code>:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;string-encryption-type&quot;</span> <span class="attr">value</span>=<span class="string">&quot;custom(package.EncryptClassName.encryptMethodName, package.DecryptClassName.decryptMethodName)&quot;</span> <span class="attr">apply2class</span>=<span class="string">&quot;class com.some.package.*&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ªå­—ç¬¦ä¸²åŠ å¯†&#x2F;è§£å¯†æ–¹æ³•:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;string-encryption-type&quot;</span> <span class="attr">value</span>=<span class="string">&quot;custom(package.EncryptClassName1.encryptMethodName1, package.DecryptClassName1.decryptMethodName1)&quot;</span> <span class="attr">apply2class</span>=<span class="string">&quot;class com.some.package.*&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;string-encryption-type&quot;</span> <span class="attr">value</span>=<span class="string">&quot;custom(package.EncryptClassName2.encryptMethodName2, package.DecryptClassName2.decryptMethodName2)&quot;</span> <span class="attr">apply2class</span>=<span class="string">&quot;class com.some.other.package.*&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Methods for classes not matched by the rules above --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;string-encryption-type&quot;</span> <span class="attr">value</span>=<span class="string">&quot;custom(package.EncryptClassName3.encryptMethodName3, package.DecryptClassName3.decryptMethodName3)&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>åŠ å¯†åªæ˜¯åœ¨æ··æ·†çš„æ—¶å€™éœ€è¦ï¼Œè¿è¡Œæ—¶ä¸éœ€è¦ã€‚æ‰€ä»¥ï¼Œå¯ä»¥æŠŠ<code>åŠ å¯†</code>æ”¾åœ¨ä¸å‘å¸ƒçš„ä¸€ä¸ªå•ç‹¬<code>jar</code>åŒ…é‡Œã€‚<br>è§£å¯†åœ¨è¿è¡Œæ—¶éœ€è¦ï¼Œå¯ä»¥æ”¾åœ¨å‘å¸ƒçš„åº”ç”¨ç¨‹åºçš„ä»»ä½•ä¸€ä¸ªç±»é‡Œã€‚</p>
<p>è‡ªå®šä¹‰å­—ç¬¦ä¸²åŠ å¯†ç‰¹æ€§å¯ä»¥åº”ç”¨åœ¨å›½é™…åŒ–ã€‚å› ä¸º Allatori ä¼šç”¨<code>methodCall(&quot;String literal&quot;)</code>åŒ…è£…æ‰€æœ‰å­—ç¬¦ä¸²ã€‚å¯ä»¥åœ¨åŠ å¯†æ–¹æ³•è®°å½•æ—¥å¿—ï¼Œç„¶åç¿»è¯‘ï¼Œåœ¨è¿è¡Œæ—¶ï¼Œè§£å¯†æ–¹æ³•ä¼šä½¿ç”¨å›½é™…åŒ–çš„è¯­è¨€æ›¿æ¢ã€‚</p>
<h2 id="THE-END-ç¤ºä¾‹"><a href="#THE-END-ç¤ºä¾‹" class="headerlink" title="THE END ç¤ºä¾‹"></a>THE END ç¤ºä¾‹</h2><p><code>pom.xml</code>è®¾ç½®</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">exclude</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Copying Allatori configuration file to &#x27;target&#x27; directory.</span></span><br><span class="line"><span class="comment">            The destination file will be filtered (Maven properties used in configuration file will be resolved). --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-resources-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">id</span>&gt;</span>copy-and-filter-allatori-config<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goal</span>&gt;</span>copy-resources<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>$&#123;basedir&#125;/target<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;basedir&#125;/allatori<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>allatori.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Running Allatori --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.codehaus.mojo<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>exec-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">id</span>&gt;</span>run-allatori<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goal</span>&gt;</span>exec<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executable</span>&gt;</span>java<span class="tag">&lt;/<span class="name">executable</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">arguments</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">argument</span>&gt;</span>-Xms128m<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">argument</span>&gt;</span>-Xmx512m<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">argument</span>&gt;</span>-jar<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">&lt;!-- Copy allatori.jar to &#x27;allatori&#x27; directory to use the commented line --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">argument</span>&gt;</span>$&#123;basedir&#125;/allatori/allatori.jar<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- &lt;argument&gt;$&#123;basedir&#125;/allatori/allatori.jar&lt;/argument&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">argument</span>&gt;</span>$&#123;basedir&#125;/target/allatori.xml<span class="tag">&lt;/<span class="name">argument</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">arguments</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>allatori.xml</code> ä»…ä»…å¯ç”¨ï¼ŒSpringBootéæœ€ä½³</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--$&#123;project.build.finalName&#125; æ— æ³•æ­£ç¡®å¤„ç†--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--https://github.com/lyb-geek/springboot-learning/tree/master/springboot-proguard--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.3-Release-Notes#maven-resources-filtering--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jar</span> <span class="attr">in</span>=<span class="string">&quot;@project.build.finalName@.jar&quot;</span> <span class="attr">out</span>=<span class="string">&quot;@project.build.finalName@-obfuscated.jar&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">keep-names</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class</span> <span class="attr">access</span>=<span class="string">&quot;public&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">field</span> <span class="attr">access</span>=<span class="string">&quot;public&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">method</span> <span class="attr">access</span>=<span class="string">&quot;public&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">keep-names</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">ignore-classes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class</span> <span class="attr">template</span>=<span class="string">&quot;class *springframework*&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class</span> <span class="attr">template</span>=<span class="string">&quot;class com.rarelong.proxyserviceinsichuanelectricpower.controller.*&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ignore-classes</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;log-file&quot;</span> <span class="attr">value</span>=<span class="string">&quot;log.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a href="https://allatori.com/">å®˜æ–¹</a><br><a href="https://github.com/lqs1848/AllatoriCrack">AllatoriCrack</a></p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>è¡¨é©±åŠ¨æ³•ç¼–ç¨‹--æ•°æ®é©±åŠ¨</title>
    <url>/2024/07/31/%E8%A1%A8%E9%A9%B1%E5%8A%A8%E6%B3%95%E7%BC%96%E7%A8%8B-%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8/</url>
    <content><![CDATA[<h2 id="What"><a href="#What" class="headerlink" title="What"></a>What</h2><p><strong>è¡¨é©±åŠ¨æ–¹æ³•ï¼ˆTable-Driven Methodsï¼‰</strong>ï¼Œåœ¨ã€ŠUnix ç¼–ç¨‹è‰ºæœ¯ã€‹ä¸­æœ‰æåˆ°ï¼Œã€Šä»£ç å¤§å…¨ã€‹çš„ç¬¬åå…«ç« å¯¹æ­¤è¿›è¡Œäº†è¯¦ç»†åœ°è®²è§£ã€‚</p>
<p>è¡¨é©±åŠ¨æ³•æ˜¯ä¸€ç§ä»è¡¨é‡ŒæŸ¥æ‰¾ä¿¡æ¯è€Œä¸æ˜¯ä½¿ç”¨é€»è¾‘è¯­å¥ï¼ˆ<code>if</code>æˆ–<code>switch</code>ï¼‰çš„ç¼–ç¨‹æ¨¡å‹ã€‚</p>
<h2 id="Why"><a href="#Why" class="headerlink" title="Why"></a>Why</h2><p>å…ˆé€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­ä½“éªŒä¸‹ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœä¸ä½¿ç”¨è¡¨é©±åŠ¨æ–¹æ³•ï¼Œä»£ç ä¼šå¦‚ä½•åœ°éš¾çœ‹ã€‚</p>
<p>å‡è®¾è®©ä½ å®ç°ä¸€ä¸ªè¿”å›æ¯ä¸ªæœˆå¤©æ•°çš„å‡½æ•°ï¼ˆä¸ºç®€å•èµ·è§ä¸è€ƒè™‘é—°å¹´ï¼‰ã€‚</p>
<p>åˆçº§ç å†œçš„ç¬¨æ–¹æ³•æ˜¯é©¬ä¸Šæ‘†å‡º 12 å‰¯å¨æ­¦é›„å£®çš„ <code>if-else</code> ç»„åˆæ‹³ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">iGetMonthDays</span>(<span class="params"><span class="built_in">int</span> iMonth</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> iDays;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(<span class="number">1</span> == iMonth) &#123;iDays = <span class="number">31</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">2</span> == iMonth) &#123;iDays = <span class="number">28</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">3</span> == iMonth) &#123;iDays = <span class="number">31</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">4</span> == iMonth) &#123;iDays = <span class="number">30</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">5</span> == iMonth) &#123;iDays = <span class="number">31</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">6</span> == iMonth) &#123;iDays = <span class="number">30</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">7</span> == iMonth) &#123;iDays = <span class="number">31</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">8</span> == iMonth) &#123;iDays = <span class="number">31</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">9</span> == iMonth) &#123;iDays = <span class="number">30</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">10</span> == iMonth) &#123;iDays = <span class="number">31</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">11</span> == iMonth) &#123;iDays = <span class="number">30</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="number">12</span> == iMonth) &#123;iDays = <span class="number">31</span>;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> iDays;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¨å¾®æœºçµç‚¹çš„ç å†œå‘ç°æ¯æœˆå¤©æ•°æ— å¤–ä¹ 28ã€30ã€31 ä¸‰ç§ï¼Œæˆ–è®¸ä¼šç”¨ <code>switch-case</code> â€œè£å‰ªâ€ä¸‹ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">iGetMonthDays</span>(<span class="params"><span class="built_in">int</span> iMonth</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> iDays;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">switch</span> (iMonth) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">12</span>:&#123;iDays = <span class="number">31</span>;<span class="keyword">break</span>;&#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:&#123;iDays = <span class="number">28</span>;<span class="keyword">break</span>;&#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">11</span>:&#123;iDays = <span class="number">30</span>;<span class="keyword">break</span>;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> iDays;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤ç§æ–¹æ³•å……æ–¥äº†å¤§é‡çš„é€»è¾‘åˆ¤æ–­ï¼Œè¿˜å‡­ç©ºå†’å‡ºäº†ä¸€å¤§å †<code>1ï¼Œ2ï¼Œâ€¦ï¼Œ11ï¼Œ12</code>è¿™æ ·çš„ <code>Magic Number</code>ï¼ˆé­”é¬¼æ•°å­—å…¬ç„¶å‡ºç°åœ¨ç¨‹åºé‡Œæ˜¯å¾ˆ ugly çš„åšæ³•ï¼‰ï¼Œä¸åˆ©äºä»£ç çš„ç»´æŠ¤ä¸æ‰©å±•ã€‚</p>
<p>è¡¨é©±åŠ¨å¤„ç†èµ·æ¥å°±èµå¿ƒæ‚¦ç›®å¾—å¤šäº†ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="built_in">int</span> monthDays[<span class="number">12</span>] = &#123;<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>&#125;;</span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">iGetMonthDays</span>(<span class="params"><span class="built_in">int</span> iMonth</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> monthDays[(iMonth - <span class="number">1</span>)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="How"><a href="#How" class="headerlink" title="How"></a>How</h2><p>è¡¨é©±åŠ¨å¯ä»¥ä½¿ä½ çš„ä»£ç æ›´ç®€æ´ï¼Œç»“æ„æ›´åŠ çµæ´»ï¼Œå¤šç”¨äºé€»è¾‘æ€§ä¸å¼ºä½†æ˜¯åˆ†æ”¯å¤šçš„æƒ…å†µã€‚</p>
<h3 id="å¦‚ä½•ä½¿ç”¨è¡¨é©±åŠ¨æ³•"><a href="#å¦‚ä½•ä½¿ç”¨è¡¨é©±åŠ¨æ³•" class="headerlink" title="å¦‚ä½•ä½¿ç”¨è¡¨é©±åŠ¨æ³•?"></a>å¦‚ä½•ä½¿ç”¨è¡¨é©±åŠ¨æ³•?</h3><p>éœ€è¦æ˜ç¡®ä¸¤ä¸ªå…³é”®é—®é¢˜ï¼šè¡¨çš„å½¢å¼åŠè¡¨ä¸­æ”¾ä»€ä¹ˆå†…å®¹</p>
<ul>
<li>è¡¨å½¢å¼å¯ä»¥ä¸ºä¸€ç»´æ•°ç»„ã€äºŒç»´æ•°ç»„å’Œç»“æ„ä½“æ•°ç»„ã€‚</li>
<li>è¡¨ä¸­å¯ä»¥å­˜æ”¾æ•°å€¼ã€å­—ç¬¦ä¸²æˆ–å‡½æ•°æŒ‡é’ˆç­‰æ•°æ®ã€‚</li>
</ul>
<h3 id="å¦‚ä½•å»è®¿é—®è¡¨"><a href="#å¦‚ä½•å»è®¿é—®è¡¨" class="headerlink" title="å¦‚ä½•å»è®¿é—®è¡¨?"></a>å¦‚ä½•å»è®¿é—®è¡¨?</h3><p>ä¸‹é¢ä»‹ç»è¡¨çš„ä¸‰ç§è®¿é—®æ–¹å¼ï¼š</p>
<ul>
<li><h4 id="ç›´æ¥è®¿é—®"><a href="#ç›´æ¥è®¿é—®" class="headerlink" title="ç›´æ¥è®¿é—®"></a>ç›´æ¥è®¿é—®</h4><p>ç›´æ¥æ ¹æ®â€œé”®â€æ¥è·å¾—â€œå€¼â€ï¼Œç»™å®šä¸‹æ ‡ indexï¼Œç„¶åarray[index]å°±è·å¾—æ•°ç»„åœ¨ç›¸åº”ä¸‹æ ‡å¤„çš„æ•°å€¼ã€‚ä¾‹å¦‚å‰é¢è¿™ä¸ªæ ¹æ®æœˆä»½å–å¤©æ•°çš„ä¾‹å­ã€‚</p>
<p><img src="/2024/07/31/%E8%A1%A8%E9%A9%B1%E5%8A%A8%E6%B3%95%E7%BC%96%E7%A8%8B-%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8/key-value.png" alt="Key-Value"></p>
</li>
<li><h4 id="ç´¢å¼•è®¿é—®"><a href="#ç´¢å¼•è®¿é—®" class="headerlink" title="ç´¢å¼•è®¿é—®"></a>ç´¢å¼•è®¿é—®</h4><p><img src="/2024/07/31/%E8%A1%A8%E9%A9%B1%E5%8A%A8%E6%B3%95%E7%BC%96%E7%A8%8B-%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8/index.png" alt="ç´¢å¼•è®¿é—®"></p>
<p>  å®ƒé€‚ç”¨äºè¿™æ ·çš„æƒ…å†µï¼šå‡è®¾ä½ ç»è¥ä¸€å®¶å•†åº—ï¼Œæœ‰ 100 ç§å•†å“ï¼Œæ¯ç§å•†å“éƒ½æœ‰ä¸€ä¸ª ID å·ï¼Œä½†å¾ˆå¤šå•†å“çš„æè¿°éƒ½å·®ä¸å¤šï¼Œæ‰€ä»¥åªæœ‰ 30 æ¡ä¸åŒçš„æè¿°ï¼Œå¦‚ä½•å»ºç«‹å»ºç«‹å•†å“ä¸å•†å“æè¿°çš„è¡¨ï¼Ÿ<br>  è¿˜æ˜¯åŒä¸Šé¢åšæ³•æ¥ä¸€ä¸€å¯¹åº”å—ï¼Ÿé‚£æ ·æè¿°ä¼šæ‰©å……åˆ° 100 ä¸ªï¼Œä¼šæœ‰ 70 ä¸ªæè¿°æ˜¯é‡å¤çš„ï¼å¤ªæµªè´¹äº†ã€‚<br>  æ–¹æ³•æ˜¯å»ºç«‹ä¸€ä¸ª 100 é•¿çš„ç´¢å¼•å’Œ 30 é•¿çš„æè¿°ï¼Œç„¶åè¿™äº›ç´¢å¼•æŒ‡å‘ç›¸åº”çš„æè¿°ï¼ˆä¸åŒçš„ç´¢å¼•å¯ä»¥æŒ‡å‘ç›¸åŒçš„æè¿°ï¼‰ï¼Œè¿™æ ·å°±è§£å†³äº†è¡¨æ•°æ®å†—ä½™çš„é—®é¢˜å•¦ã€‚</p>
  <figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">product_t</span> &#123;</span><br><span class="line">    <span class="type">char</span> * id;</span><br><span class="line">    <span class="type">int</span> desc_index;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">char</span> * desc[] = &#123;</span><br><span class="line">    <span class="string">&quot;description_1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;description_2&quot;</span>,</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">&quot;description_29&quot;</span>,</span><br><span class="line">    <span class="string">&quot;description_30&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">product_t</span> goods [] = &#123;</span><br><span class="line">    &#123;<span class="string">&quot;id_1&quot;</span>, <span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;id_2&quot;</span>, <span class="number">1</span>&#125;,</span><br><span class="line">    ...</span><br><span class="line">    &#123;<span class="string">&quot;id_99&quot;</span>, <span class="number">12</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;id_100&quot;</span>, <span class="number">5</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span>* <span class="title">desc_product</span> <span class="params">(<span class="type">const</span> <span class="type">char</span>* id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="type">product_t</span> &amp; p : goods) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(p.id, id) == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> desc[p.desc_index - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

  <br>
</li>
<li><h4 id="é˜¶æ¢¯è®¿é—®"><a href="#é˜¶æ¢¯è®¿é—®" class="headerlink" title="é˜¶æ¢¯è®¿é—®"></a>é˜¶æ¢¯è®¿é—®</h4><table>
<thead>
<tr>
<th>èŒƒå›´ä¸Šé™</th>
<th>èŒƒå›´ä¸‹é™</th>
<th>å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>100</td>
<td>90</td>
<td>A</td>
</tr>
<tr>
<td>90</td>
<td>80</td>
<td>B</td>
</tr>
<tr>
<td>80</td>
<td>70</td>
<td>C</td>
</tr>
<tr>
<td>â€¦</td>
<td>â€¦</td>
<td>â€¦</td>
</tr>
</tbody></table>
<p>ä¾‹å­ï¼šå°†ç™¾åˆ†åˆ¶æˆç»©è½¬æˆäº”çº§åˆ†åˆ¶ï¼ˆæˆ‘ä»¬ç”¨çš„ä¼˜ã€è‰¯ã€ä¸­ã€åˆæ ¼ã€ä¸åˆæ ¼ï¼Œè¥¿æ–¹ç”¨çš„ Aã€Bã€Cã€Då’ŒFï¼‰ï¼Œå‡å®šè½¬æ¢å…³ç³»:</p>
<table>
<thead>
<tr>
<th>Score</th>
<th>å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>[90,100]</td>
<td>A</td>
</tr>
<tr>
<td>[80,90)</td>
<td>B</td>
</tr>
<tr>
<td>[70,80)</td>
<td>C</td>
</tr>
<tr>
<td>[60,70)</td>
<td>D</td>
</tr>
<tr>
<td>[0,60)</td>
<td>E</td>
</tr>
</tbody></table>
<p>å¦‚ä½•ç”¨è¡¨æ ¼è¡¨ç¤ºè¿™äº›èŒƒå›´ï¼Ÿ</p>
<p>ä½ å½“ç„¶å¯ä»¥ç”¨ç¬¬ä¸€ç§ç›´æ¥è®¿é—®çš„æ–¹æ³•ï¼šç”³è¯·ä¸€ä¸ª 100 é•¿çš„è¡¨ï¼Œç„¶ååœ¨è¿™ä¸ªè¡¨ä¸­å¡«å……ç›¸åº”çš„ç­‰çº§ã€‚å¾ˆæ˜æ˜¾ï¼Œä¹Ÿä¼šæµªè´¹å¤§é‡ç©ºé—´ï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Ÿ</p>
<p>å¯¹äºè¿™ç§â€œæŸä¸ªèŒƒå›´åŒºé—´å†…ï¼Œå¯¹åº”æŸä¸ªå€¼â€çš„é€»è¾‘è§„åˆ™ï¼Œå¯ç”¨é˜¶æ¢¯è®¿é—®çš„æ–¹å¼ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">char</span> gradeTable[] = &#123;</span><br><span class="line">    <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;F&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> downLimit[] = &#123;</span><br><span class="line">    <span class="number">90</span>, <span class="number">80</span>, <span class="number">70</span>, <span class="number">60</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">degree</span><span class="params">(<span class="type">int</span> score)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> gradeLevel = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> lowestDegree = gradeTable[<span class="built_in">sizeof</span>(gradeTable)/<span class="built_in">sizeof</span>(gradeTable[<span class="number">0</span>]) - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™é‡Œå¯ç”¨äºŒåˆ†æŸ¥æ‰¾ä¼˜åŒ–</span></span><br><span class="line">    <span class="keyword">while</span> (gradeTable[gradeLevel] != lowestDegree) &#123;</span><br><span class="line">        <span class="keyword">if</span>(score &lt; downLimit[gradeLevel]) &#123;</span><br><span class="line">            ++ gradeLevel;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> gradeTable[gradeLevel];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°†æ¥å¦‚æœç­‰çº§è§„åˆ™å˜äº†ï¼ˆæ¯”å¦‚ 85ï½100 åˆ†ä¸ºç­‰çº§ Aï¼Œæˆ–æ·»åŠ  50ï½60 åˆ†ä¸ºç­‰çº§ Eï¼‰ï¼Œåªéœ€è¦ä¿®æ”¹ gradeTable å’Œ downLimit è¡¨å°±è¡Œï¼Œdegree å‡½æ•°å¯ä»¥ä¿æŒä¸€è¡Œéƒ½ä¸æ”¹åŠ¨ã€‚</p>
<p>æ›´è¿›ä¸€æ­¥åœ°ï¼ŒgradeTable å’Œ downLimit è¡¨è¿˜å¯ä»¥é…ç½®æ–‡ä»¶çš„å½¢å¼è¡¨ç¤ºï¼Œä¸»ç¨‹åºä»å¤–éƒ¨æ–‡ä»¶ load è¿›æ¥å°±è¡Œï¼Œç¨‹åºçµæ´»æ€§å¤§å¤§å¢åŠ ã€‚</p>
</li>
</ul>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p>  ä¼Ÿå¤§çš„ C è¯­è¨€å¤§å¸ˆ Rob Pike æœ‰å¥è¯è¯´çš„å¥½ï¼š</p>
<blockquote>
<p>æ•°æ®å‹å€’ä¸€åˆ‡ã€‚<br>å¦‚æœé€‰æ‹©äº†æ­£ç¡®çš„æ•°æ®ç»“æ„å¹¶æŠŠä¸€åˆ‡ç»„ç»‡çš„äº•äº•æœ‰æ¡ï¼Œæ­£ç¡®çš„ç®—æ³•å°±ä¸è¨€è‡ªæ˜ã€‚ç¼–ç¨‹çš„æ ¸å¿ƒæ˜¯æ•°æ®ç»“æ„ï¼Œè€Œä¸æ˜¯ç®—æ³•ã€‚</p>
</blockquote>
<p>  <em><strong>å¯¹äººç±»æ¥è¯´ï¼Œæ•°æ®æ¯”ç¼–ç¨‹é€»è¾‘æ›´å®¹æ˜“é©¾é©­ã€‚åœ¨å¤æ‚æ•°æ®å’Œå¤æ‚ä»£ç ä¸­é€‰æ‹©ï¼Œå®å¯é€‰æ‹©å‰è€…ã€‚</strong></em></p>
<p>  æ›´è¿›ä¸€æ­¥ï¼Œåœ¨è®¾è®¡ä¸­ï¼Œåº”è¯¥ä¸»åŠ¨å°†ä»£ç çš„å¤æ‚åº¦è½¬ç§»åˆ°æ•°æ®ä¸­å»ã€‚</p>
<p>  è¿™é‡Œè°ˆåˆ°äº† Unix å“²å­¦ä¹‹åˆ†ç¦»åŸåˆ™ï¼š<strong>ç­–ç•¥åŒæœºåˆ¶åˆ†ç¦»</strong></p>
<ul>
<li>æœºåˆ¶ï¼Œå³æä¾›çš„åŠŸèƒ½ã€‚</li>
<li>ç­–ç•¥ï¼Œå³å¦‚ä½•ä½¿ç”¨åŠŸèƒ½ã€‚</li>
</ul>
<p>ä»¥ç™¾åˆ†åˆ¶è½¬äº”çº§åˆ†åˆ¶ä¸ºä¾‹ï¼Œæœºåˆ¶å°±æ˜¯ degree å‡½æ•°ï¼šä½ ç»™ä¸€ä¸ªç™¾åˆ†åˆ¶åˆ†æ•°ç»™å®ƒï¼Œå®ƒåå‡ºæ¥ä¸€ä¸ªäº”çº§åˆ†åˆ¶ç»™ä½ ã€‚ç­–ç•¥å°±æ˜¯gradeTable å’Œ downLimit è¿™ä¸¤ä¸ªè¡¨ï¼Œå®ƒè§„å®šäº†å“ªä¸ªåŒºé—´çš„åˆ†æ•°å¯¹åº”å“ªä¸ªç­‰çº§ã€‚<br>ä» degree çš„å®ç°å¯ä»¥çœ‹å‡º:å¯¹æœºåˆ¶è€Œè¨€ï¼Œç­–ç•¥æ˜¯é€æ˜çš„ï¼ˆdegree å®Œå…¨çœ‹ä¸åˆ° gradeTable å’Œ downLimit è¿™ä¸¤ä¸ªè¡¨çš„å†…éƒ¨è§„åˆ™ï¼‰ã€‚<br>å°†ä¸¤è€…åˆ†ç¦»ï¼Œå¯ä»¥ä½¿æœºåˆ¶(degree)ç›¸å¯¹ä¿æŒç¨³å®šï¼Œè€ŒåŒæ—¶æ”¯æŒç­–ç•¥(è¡¨)çš„å˜åŒ–ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ€æƒ³</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>C#</tag>
        <tag>C</tag>
        <tag>CPP</tag>
      </tags>
  </entry>
</search>
